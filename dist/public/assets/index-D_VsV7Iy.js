var BS=e=>{throw TypeError(e)};var ky=(e,t,r)=>t.has(e)||BS("Cannot "+r);var V=(e,t,r)=>(ky(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?BS("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),be=(e,t,r,n)=>(ky(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ke=(e,t,r)=>(ky(e,t,"access private method"),r);var Ph=(e,t,r,n)=>({set _(i){be(e,t,i,r)},get _(){return V(e,t,n)}});function XT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ot(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var QT={exports:{}},Fg={},JT={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=Symbol.for("react.element"),FU=Symbol.for("react.portal"),BU=Symbol.for("react.fragment"),UU=Symbol.for("react.strict_mode"),zU=Symbol.for("react.profiler"),VU=Symbol.for("react.provider"),WU=Symbol.for("react.context"),qU=Symbol.for("react.forward_ref"),HU=Symbol.for("react.suspense"),KU=Symbol.for("react.memo"),GU=Symbol.for("react.lazy"),US=Symbol.iterator;function YU(e){return e===null||typeof e!="object"?null:(e=US&&e[US]||e["@@iterator"],typeof e=="function"?e:null)}var ZT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ek=Object.assign,tk={};function iu(e,t,r){this.props=e,this.context=t,this.refs=tk,this.updater=r||ZT}iu.prototype.isReactComponent={};iu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};iu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function rk(){}rk.prototype=iu.prototype;function P_(e,t,r){this.props=e,this.context=t,this.refs=tk,this.updater=r||ZT}var N_=P_.prototype=new rk;N_.constructor=P_;ek(N_,iu.prototype);N_.isPureReactComponent=!0;var zS=Array.isArray,nk=Object.prototype.hasOwnProperty,A_={current:null},ik={key:!0,ref:!0,__self:!0,__source:!0};function ak(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)nk.call(t,n)&&!ik.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Gf,type:e,key:a,ref:o,props:i,_owner:A_.current}}function XU(e,t){return{$$typeof:Gf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function C_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gf}function QU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var VS=/\/+/g;function $y(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QU(""+e.key):t.toString(36)}function Pp(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gf:case FU:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+$y(o,0):n,zS(i)?(r="",e!=null&&(r=e.replace(VS,"$&/")+"/"),Pp(i,t,r,"",function(u){return u})):i!=null&&(C_(i)&&(i=XU(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(VS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",zS(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+$y(a,s);o+=Pp(a,t,r,c,i)}else if(c=YU(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+$y(a,s++),o+=Pp(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ah(e,t,r){if(e==null)return e;var n=[],i=0;return Pp(e,n,"","",function(a){return t.call(r,a,i++)}),n}function JU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gr={current:null},Np={transition:null},ZU={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:Np,ReactCurrentOwner:A_};function ok(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Ah,forEach:function(e,t,r){Ah(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ah(e,function(){t++}),t},toArray:function(e){return Ah(e,function(t){return t})||[]},only:function(e){if(!C_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ye.Component=iu;Ye.Fragment=BU;Ye.Profiler=zU;Ye.PureComponent=P_;Ye.StrictMode=UU;Ye.Suspense=HU;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZU;Ye.act=ok;Ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ek({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=A_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)nk.call(t,c)&&!ik.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Gf,type:e.type,key:i,ref:a,props:n,_owner:o}};Ye.createContext=function(e){return e={$$typeof:WU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VU,_context:e},e.Consumer=e};Ye.createElement=ak;Ye.createFactory=function(e){var t=ak.bind(null,e);return t.type=e,t};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(e){return{$$typeof:qU,render:e}};Ye.isValidElement=C_;Ye.lazy=function(e){return{$$typeof:GU,_payload:{_status:-1,_result:e},_init:JU}};Ye.memo=function(e,t){return{$$typeof:KU,type:e,compare:t===void 0?null:t}};Ye.startTransition=function(e){var t=Np.transition;Np.transition={};try{e()}finally{Np.transition=t}};Ye.unstable_act=ok;Ye.useCallback=function(e,t){return Gr.current.useCallback(e,t)};Ye.useContext=function(e){return Gr.current.useContext(e)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(e){return Gr.current.useDeferredValue(e)};Ye.useEffect=function(e,t){return Gr.current.useEffect(e,t)};Ye.useId=function(){return Gr.current.useId()};Ye.useImperativeHandle=function(e,t,r){return Gr.current.useImperativeHandle(e,t,r)};Ye.useInsertionEffect=function(e,t){return Gr.current.useInsertionEffect(e,t)};Ye.useLayoutEffect=function(e,t){return Gr.current.useLayoutEffect(e,t)};Ye.useMemo=function(e,t){return Gr.current.useMemo(e,t)};Ye.useReducer=function(e,t,r){return Gr.current.useReducer(e,t,r)};Ye.useRef=function(e){return Gr.current.useRef(e)};Ye.useState=function(e){return Gr.current.useState(e)};Ye.useSyncExternalStore=function(e,t,r){return Gr.current.useSyncExternalStore(e,t,r)};Ye.useTransition=function(){return Gr.current.useTransition()};Ye.version="18.3.1";JT.exports=Ye;var w=JT.exports;const L=ot(w),sk=XT({__proto__:null,default:L},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5=w,t5=Symbol.for("react.element"),r5=Symbol.for("react.fragment"),n5=Object.prototype.hasOwnProperty,i5=e5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a5={key:!0,ref:!0,__self:!0,__source:!0};function lk(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)n5.call(t,n)&&!a5.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:t5,type:e,key:a,ref:o,props:i,_owner:i5.current}}Fg.Fragment=r5;Fg.jsx=lk;Fg.jsxs=lk;QT.exports=Fg;var l=QT.exports,ck={exports:{}},On={},uk={exports:{}},dk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,D){var H=C.length;C.push(D);e:for(;0<H;){var G=H-1>>>1,k=C[G];if(0<i(k,D))C[G]=D,C[H]=k,H=G;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var D=C[0],H=C.pop();if(H!==D){C[0]=H;e:for(var G=0,k=C.length,F=k>>>1;G<F;){var K=2*(G+1)-1,Z=C[K],se=K+1,te=C[se];if(0>i(Z,H))se<k&&0>i(te,Z)?(C[G]=te,C[se]=H,G=se):(C[G]=Z,C[K]=H,G=K);else if(se<k&&0>i(te,H))C[G]=te,C[se]=H,G=se;else break e}}return D}function i(C,D){var H=C.sortIndex-D.sortIndex;return H!==0?H:C.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(C){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=C)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function j(C){if(p=!1,g(C),!y)if(r(c)!==null)y=!0,R(_);else{var D=r(u);D!==null&&B(j,D.startTime-C)}}function _(C,D){y=!1,p&&(p=!1,b(O),O=-1),m=!0;var H=h;try{for(g(D),f=r(c);f!==null&&(!(f.expirationTime>D)||C&&!T());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var k=G(f.expirationTime<=D);D=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(c)&&n(c),g(D)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var K=r(u);K!==null&&B(j,K.startTime-D),F=!1}return F}finally{f=null,h=H,m=!1}}var S=!1,E=null,O=-1,N=5,M=-1;function T(){return!(e.unstable_now()-M<N)}function I(){if(E!==null){var C=e.unstable_now();M=C;var D=!0;try{D=E(!0,C)}finally{D?A():(S=!1,E=null)}}else S=!1}var A;if(typeof v=="function")A=function(){v(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,$=P.port2;P.port1.onmessage=I,A=function(){$.postMessage(null)}}else A=function(){x(I,0)};function R(C){E=C,S||(S=!0,A())}function B(C,D){O=x(function(){C(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,R(_))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return C()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,D){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var H=h;h=C;try{return D()}finally{h=H}},e.unstable_scheduleCallback=function(C,D,H){var G=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,C){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,C={id:d++,callback:D,priorityLevel:C,startTime:H,expirationTime:k,sortIndex:-1},H>G?(C.sortIndex=H,t(u,C),r(c)===null&&C===r(u)&&(p?(b(O),O=-1):p=!0,B(j,H-G))):(C.sortIndex=k,t(c,C),y||m||(y=!0,R(_))),C},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(C){var D=h;return function(){var H=h;h=D;try{return C.apply(this,arguments)}finally{h=H}}}})(dk);uk.exports=dk;var o5=uk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s5=w,En=o5;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fk=new Set,Td={};function Ks(e,t){xc(e,t),xc(e+"Capture",t)}function xc(e,t){for(Td[e]=t,e=0;e<t.length;e++)fk.add(t[e])}var wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cb=Object.prototype.hasOwnProperty,l5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,WS={},qS={};function c5(e){return cb.call(qS,e)?!0:cb.call(WS,e)?!1:l5.test(e)?qS[e]=!0:(WS[e]=!0,!1)}function u5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d5(e,t,r,n){if(t===null||typeof t>"u"||u5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Yr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Sr[e]=new Yr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Sr[t]=new Yr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Sr[e]=new Yr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Sr[e]=new Yr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Sr[e]=new Yr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Sr[e]=new Yr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Sr[e]=new Yr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Sr[e]=new Yr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Sr[e]=new Yr(e,5,!1,e.toLowerCase(),null,!1,!1)});var T_=/[\-:]([a-z])/g;function k_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T_,k_);Sr[t]=new Yr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T_,k_);Sr[t]=new Yr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T_,k_);Sr[t]=new Yr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Sr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!1,!1)});Sr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Sr[e]=new Yr(e,1,!1,e.toLowerCase(),null,!0,!0)});function $_(e,t,r,n){var i=Sr.hasOwnProperty(t)?Sr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d5(t,r,i,n)&&(r=null),n||i===null?c5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ta=s5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),Ol=Symbol.for("react.portal"),Pl=Symbol.for("react.fragment"),R_=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),hk=Symbol.for("react.provider"),pk=Symbol.for("react.context"),I_=Symbol.for("react.forward_ref"),db=Symbol.for("react.suspense"),fb=Symbol.for("react.suspense_list"),M_=Symbol.for("react.memo"),Va=Symbol.for("react.lazy"),mk=Symbol.for("react.offscreen"),HS=Symbol.iterator;function Cu(e){return e===null||typeof e!="object"?null:(e=HS&&e[HS]||e["@@iterator"],typeof e=="function"?e:null)}var Dt=Object.assign,Ry;function Zu(e){if(Ry===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ry=t&&t[1]||""}return`
`+Ry+e}var Iy=!1;function My(e,t){if(!e||Iy)return"";Iy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Iy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zu(e):""}function f5(e){switch(e.tag){case 5:return Zu(e.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 2:case 15:return e=My(e.type,!1),e;case 11:return e=My(e.type.render,!1),e;case 1:return e=My(e.type,!0),e;default:return""}}function hb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pl:return"Fragment";case Ol:return"Portal";case ub:return"Profiler";case R_:return"StrictMode";case db:return"Suspense";case fb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pk:return(e.displayName||"Context")+".Consumer";case hk:return(e._context.displayName||"Context")+".Provider";case I_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case M_:return t=e.displayName||null,t!==null?t:hb(e.type)||"Memo";case Va:t=e._payload,e=e._init;try{return hb(e(t))}catch{}}return null}function h5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hb(t);case 8:return t===R_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p5(e){var t=gk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Th(e){e._valueTracker||(e._valueTracker=p5(e))}function vk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pb(e,t){var r=t.checked;return Dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function KS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function yk(e,t){t=t.checked,t!=null&&$_(e,"checked",t,!1)}function mb(e,t){yk(e,t);var r=wo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gb(e,t.type,r):t.hasOwnProperty("defaultValue")&&gb(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gb(e,t,r){(t!=="number"||Gp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ed=Array.isArray;function Vl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(ed(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wo(r)}}function xk(e,t){var r=wo(t.value),n=wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function XS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kh,wk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kh=kh||document.createElement("div"),kh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m5=["Webkit","ms","Moz","O"];Object.keys(cd).forEach(function(e){m5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cd[t]=cd[e]})});function _k(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cd.hasOwnProperty(e)&&cd[e]?(""+t).trim():t+"px"}function jk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=_k(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var g5=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xb(e,t){if(t){if(g5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function bb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function D_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _b=null,Wl=null,ql=null;function QS(e){if(e=Qf(e)){if(typeof _b!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Wg(t),_b(e.stateNode,e.type,t))}}function Sk(e){Wl?ql?ql.push(e):ql=[e]:Wl=e}function Ek(){if(Wl){var e=Wl,t=ql;if(ql=Wl=null,QS(e),t)for(e=0;e<t.length;e++)QS(t[e])}}function Ok(e,t){return e(t)}function Pk(){}var Dy=!1;function Nk(e,t,r){if(Dy)return e(t,r);Dy=!0;try{return Ok(e,t,r)}finally{Dy=!1,(Wl!==null||ql!==null)&&(Pk(),Ek())}}function $d(e,t){var r=e.stateNode;if(r===null)return null;var n=Wg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var jb=!1;if(wa)try{var Tu={};Object.defineProperty(Tu,"passive",{get:function(){jb=!0}}),window.addEventListener("test",Tu,Tu),window.removeEventListener("test",Tu,Tu)}catch{jb=!1}function v5(e,t,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ud=!1,Yp=null,Xp=!1,Sb=null,y5={onError:function(e){ud=!0,Yp=e}};function x5(e,t,r,n,i,a,o,s,c){ud=!1,Yp=null,v5.apply(y5,arguments)}function b5(e,t,r,n,i,a,o,s,c){if(x5.apply(this,arguments),ud){if(ud){var u=Yp;ud=!1,Yp=null}else throw Error(ce(198));Xp||(Xp=!0,Sb=u)}}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ak(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JS(e){if(Gs(e)!==e)throw Error(ce(188))}function w5(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return JS(i),e;if(a===n)return JS(i),t;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Ck(e){return e=w5(e),e!==null?Tk(e):null}function Tk(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Tk(e);if(t!==null)return t;e=e.sibling}return null}var kk=En.unstable_scheduleCallback,ZS=En.unstable_cancelCallback,_5=En.unstable_shouldYield,j5=En.unstable_requestPaint,Vt=En.unstable_now,S5=En.unstable_getCurrentPriorityLevel,L_=En.unstable_ImmediatePriority,$k=En.unstable_UserBlockingPriority,Qp=En.unstable_NormalPriority,E5=En.unstable_LowPriority,Rk=En.unstable_IdlePriority,Bg=null,Ii=null;function O5(e){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(Bg,e,void 0,(e.current.flags&128)===128)}catch{}}var ui=Math.clz32?Math.clz32:A5,P5=Math.log,N5=Math.LN2;function A5(e){return e>>>=0,e===0?32:31-(P5(e)/N5|0)|0}var $h=64,Rh=4194304;function td(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=td(s):(a&=o,a!==0&&(n=td(a)))}else o=r&~i,o!==0?n=td(o):a!==0&&(n=td(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ui(t),i=1<<r,n|=e[r],t&=~i;return n}function C5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function T5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ui(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=C5(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Eb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ik(){var e=$h;return $h<<=1,!($h&4194240)&&($h=64),e}function Ly(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ui(t),e[t]=r}function k5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ui(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function F_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ui(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var st=0;function Mk(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Dk,B_,Lk,Fk,Bk,Ob=!1,Ih=[],uo=null,fo=null,ho=null,Rd=new Map,Id=new Map,Ha=[],$5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eE(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":Rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Id.delete(t.pointerId)}}function ku(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Qf(t),t!==null&&B_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function R5(e,t,r,n,i){switch(t){case"focusin":return uo=ku(uo,e,t,r,n,i),!0;case"dragenter":return fo=ku(fo,e,t,r,n,i),!0;case"mouseover":return ho=ku(ho,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Rd.set(a,ku(Rd.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Id.set(a,ku(Id.get(a)||null,e,t,r,n,i)),!0}return!1}function Uk(e){var t=as(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=Ak(r),t!==null){e.blockedOn=t,Bk(e.priority,function(){Lk(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ap(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wb=n,r.target.dispatchEvent(n),wb=null}else return t=Qf(r),t!==null&&B_(t),e.blockedOn=r,!1;t.shift()}return!0}function tE(e,t,r){Ap(e)&&r.delete(t)}function I5(){Ob=!1,uo!==null&&Ap(uo)&&(uo=null),fo!==null&&Ap(fo)&&(fo=null),ho!==null&&Ap(ho)&&(ho=null),Rd.forEach(tE),Id.forEach(tE)}function $u(e,t){e.blockedOn===t&&(e.blockedOn=null,Ob||(Ob=!0,En.unstable_scheduleCallback(En.unstable_NormalPriority,I5)))}function Md(e){function t(i){return $u(i,e)}if(0<Ih.length){$u(Ih[0],e);for(var r=1;r<Ih.length;r++){var n=Ih[r];n.blockedOn===e&&(n.blockedOn=null)}}for(uo!==null&&$u(uo,e),fo!==null&&$u(fo,e),ho!==null&&$u(ho,e),Rd.forEach(t),Id.forEach(t),r=0;r<Ha.length;r++)n=Ha[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)Uk(r),r.blockedOn===null&&Ha.shift()}var Hl=Ta.ReactCurrentBatchConfig,Zp=!0;function M5(e,t,r,n){var i=st,a=Hl.transition;Hl.transition=null;try{st=1,U_(e,t,r,n)}finally{st=i,Hl.transition=a}}function D5(e,t,r,n){var i=st,a=Hl.transition;Hl.transition=null;try{st=4,U_(e,t,r,n)}finally{st=i,Hl.transition=a}}function U_(e,t,r,n){if(Zp){var i=Pb(e,t,r,n);if(i===null)Gy(e,t,n,em,r),eE(e,n);else if(R5(i,e,t,r,n))n.stopPropagation();else if(eE(e,n),t&4&&-1<$5.indexOf(e)){for(;i!==null;){var a=Qf(i);if(a!==null&&Dk(a),a=Pb(e,t,r,n),a===null&&Gy(e,t,n,em,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Gy(e,t,n,null,r)}}var em=null;function Pb(e,t,r,n){if(em=null,e=D_(n),e=as(e),e!==null)if(t=Gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ak(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return em=e,null}function zk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(S5()){case L_:return 1;case $k:return 4;case Qp:case E5:return 16;case Rk:return 536870912;default:return 16}default:return 16}}var oo=null,z_=null,Cp=null;function Vk(){if(Cp)return Cp;var e,t=z_,r=t.length,n,i="value"in oo?oo.value:oo.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Cp=i.slice(e,1<n?1-n:void 0)}function Tp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mh(){return!0}function rE(){return!1}function Pn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Mh:rE,this.isPropagationStopped=rE,this}return Dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Mh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Mh)},persist:function(){},isPersistent:Mh}),t}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},V_=Pn(au),Xf=Dt({},au,{view:0,detail:0}),L5=Pn(Xf),Fy,By,Ru,Ug=Dt({},Xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:W_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ru&&(Ru&&e.type==="mousemove"?(Fy=e.screenX-Ru.screenX,By=e.screenY-Ru.screenY):By=Fy=0,Ru=e),Fy)},movementY:function(e){return"movementY"in e?e.movementY:By}}),nE=Pn(Ug),F5=Dt({},Ug,{dataTransfer:0}),B5=Pn(F5),U5=Dt({},Xf,{relatedTarget:0}),Uy=Pn(U5),z5=Dt({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),V5=Pn(z5),W5=Dt({},au,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),q5=Pn(W5),H5=Dt({},au,{data:0}),iE=Pn(H5),K5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Y5[e])?!!t[e]:!1}function W_(){return X5}var Q5=Dt({},Xf,{key:function(e){if(e.key){var t=K5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?G5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:W_,charCode:function(e){return e.type==="keypress"?Tp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),J5=Pn(Q5),Z5=Dt({},Ug,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aE=Pn(Z5),ez=Dt({},Xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:W_}),tz=Pn(ez),rz=Dt({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),nz=Pn(rz),iz=Dt({},Ug,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),az=Pn(iz),oz=[9,13,27,32],q_=wa&&"CompositionEvent"in window,dd=null;wa&&"documentMode"in document&&(dd=document.documentMode);var sz=wa&&"TextEvent"in window&&!dd,Wk=wa&&(!q_||dd&&8<dd&&11>=dd),oE=" ",sE=!1;function qk(e,t){switch(e){case"keyup":return oz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nl=!1;function lz(e,t){switch(e){case"compositionend":return Hk(t);case"keypress":return t.which!==32?null:(sE=!0,oE);case"textInput":return e=t.data,e===oE&&sE?null:e;default:return null}}function cz(e,t){if(Nl)return e==="compositionend"||!q_&&qk(e,t)?(e=Vk(),Cp=z_=oo=null,Nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wk&&t.locale!=="ko"?null:t.data;default:return null}}var uz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uz[e.type]:t==="textarea"}function Kk(e,t,r,n){Sk(n),t=tm(t,"onChange"),0<t.length&&(r=new V_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fd=null,Dd=null;function dz(e){i$(e,0)}function zg(e){var t=Tl(e);if(vk(t))return e}function fz(e,t){if(e==="change")return t}var Gk=!1;if(wa){var zy;if(wa){var Vy="oninput"in document;if(!Vy){var cE=document.createElement("div");cE.setAttribute("oninput","return;"),Vy=typeof cE.oninput=="function"}zy=Vy}else zy=!1;Gk=zy&&(!document.documentMode||9<document.documentMode)}function uE(){fd&&(fd.detachEvent("onpropertychange",Yk),Dd=fd=null)}function Yk(e){if(e.propertyName==="value"&&zg(Dd)){var t=[];Kk(t,Dd,e,D_(e)),Nk(dz,t)}}function hz(e,t,r){e==="focusin"?(uE(),fd=t,Dd=r,fd.attachEvent("onpropertychange",Yk)):e==="focusout"&&uE()}function pz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zg(Dd)}function mz(e,t){if(e==="click")return zg(t)}function gz(e,t){if(e==="input"||e==="change")return zg(t)}function vz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vi=typeof Object.is=="function"?Object.is:vz;function Ld(e,t){if(vi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cb.call(t,i)||!vi(e[i],t[i]))return!1}return!0}function dE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fE(e,t){var r=dE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dE(r)}}function Xk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qk(){for(var e=window,t=Gp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gp(e.document)}return t}function H_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yz(e){var t=Qk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Xk(r.ownerDocument.documentElement,r)){if(n!==null&&H_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=fE(r,a);var o=fE(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xz=wa&&"documentMode"in document&&11>=document.documentMode,Al=null,Nb=null,hd=null,Ab=!1;function hE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ab||Al==null||Al!==Gp(n)||(n=Al,"selectionStart"in n&&H_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hd&&Ld(hd,n)||(hd=n,n=tm(Nb,"onSelect"),0<n.length&&(t=new V_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Al)))}function Dh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Cl={animationend:Dh("Animation","AnimationEnd"),animationiteration:Dh("Animation","AnimationIteration"),animationstart:Dh("Animation","AnimationStart"),transitionend:Dh("Transition","TransitionEnd")},Wy={},Jk={};wa&&(Jk=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Vg(e){if(Wy[e])return Wy[e];if(!Cl[e])return e;var t=Cl[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Jk)return Wy[e]=t[r];return e}var Zk=Vg("animationend"),e$=Vg("animationiteration"),t$=Vg("animationstart"),r$=Vg("transitionend"),n$=new Map,pE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ao(e,t){n$.set(e,t),Ks(t,[e])}for(var qy=0;qy<pE.length;qy++){var Hy=pE[qy],bz=Hy.toLowerCase(),wz=Hy[0].toUpperCase()+Hy.slice(1);Ao(bz,"on"+wz)}Ao(Zk,"onAnimationEnd");Ao(e$,"onAnimationIteration");Ao(t$,"onAnimationStart");Ao("dblclick","onDoubleClick");Ao("focusin","onFocus");Ao("focusout","onBlur");Ao(r$,"onTransitionEnd");xc("onMouseEnter",["mouseout","mouseover"]);xc("onMouseLeave",["mouseout","mouseover"]);xc("onPointerEnter",["pointerout","pointerover"]);xc("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_z=new Set("cancel close invalid load scroll toggle".split(" ").concat(rd));function mE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,b5(n,t,void 0,e),e.currentTarget=null}function i$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;mE(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;mE(i,s,u),a=c}}}if(Xp)throw e=Sb,Xp=!1,Sb=null,e}function xt(e,t){var r=t[Rb];r===void 0&&(r=t[Rb]=new Set);var n=e+"__bubble";r.has(n)||(a$(t,e,2,!1),r.add(n))}function Ky(e,t,r){var n=0;t&&(n|=4),a$(r,e,n,t)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function Fd(e){if(!e[Lh]){e[Lh]=!0,fk.forEach(function(r){r!=="selectionchange"&&(_z.has(r)||Ky(r,!1,e),Ky(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lh]||(t[Lh]=!0,Ky("selectionchange",!1,t))}}function a$(e,t,r,n){switch(zk(t)){case 1:var i=M5;break;case 4:i=D5;break;default:i=U_}r=i.bind(null,t,r,e),i=void 0,!jb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gy(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=as(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Nk(function(){var u=a,d=D_(r),f=[];e:{var h=n$.get(e);if(h!==void 0){var m=V_,y=e;switch(e){case"keypress":if(Tp(r)===0)break e;case"keydown":case"keyup":m=J5;break;case"focusin":y="focus",m=Uy;break;case"focusout":y="blur",m=Uy;break;case"beforeblur":case"afterblur":m=Uy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=B5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=tz;break;case Zk:case e$:case t$:m=V5;break;case r$:m=nz;break;case"scroll":m=L5;break;case"wheel":m=az;break;case"copy":case"cut":case"paste":m=q5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=aE}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,g;v!==null;){g=v;var j=g.stateNode;if(g.tag===5&&j!==null&&(g=j,b!==null&&(j=$d(v,b),j!=null&&p.push(Bd(v,j,g)))),x)break;v=v.return}0<p.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==wb&&(y=r.relatedTarget||r.fromElement)&&(as(y)||y[_a]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?as(y):null,y!==null&&(x=Gs(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(p=nE,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=aE,j="onPointerLeave",b="onPointerEnter",v="pointer"),x=m==null?h:Tl(m),g=y==null?h:Tl(y),h=new p(j,v+"leave",m,r,d),h.target=x,h.relatedTarget=g,j=null,as(d)===u&&(p=new p(b,v+"enter",y,r,d),p.target=g,p.relatedTarget=x,j=p),x=j,m&&y)t:{for(p=m,b=y,v=0,g=p;g;g=ol(g))v++;for(g=0,j=b;j;j=ol(j))g++;for(;0<v-g;)p=ol(p),v--;for(;0<g-v;)b=ol(b),g--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=ol(p),b=ol(b)}p=null}else p=null;m!==null&&gE(f,h,m,p,!1),y!==null&&x!==null&&gE(f,x,y,p,!0)}}e:{if(h=u?Tl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=fz;else if(lE(h))if(Gk)_=gz;else{_=pz;var S=hz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=mz);if(_&&(_=_(e,u))){Kk(f,_,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&gb(h,"number",h.value)}switch(S=u?Tl(u):window,e){case"focusin":(lE(S)||S.contentEditable==="true")&&(Al=S,Nb=u,hd=null);break;case"focusout":hd=Nb=Al=null;break;case"mousedown":Ab=!0;break;case"contextmenu":case"mouseup":case"dragend":Ab=!1,hE(f,r,d);break;case"selectionchange":if(xz)break;case"keydown":case"keyup":hE(f,r,d)}var E;if(q_)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Nl?qk(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Wk&&r.locale!=="ko"&&(Nl||O!=="onCompositionStart"?O==="onCompositionEnd"&&Nl&&(E=Vk()):(oo=d,z_="value"in oo?oo.value:oo.textContent,Nl=!0)),S=tm(u,O),0<S.length&&(O=new iE(O,e,null,r,d),f.push({event:O,listeners:S}),E?O.data=E:(E=Hk(r),E!==null&&(O.data=E)))),(E=sz?lz(e,r):cz(e,r))&&(u=tm(u,"onBeforeInput"),0<u.length&&(d=new iE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}i$(f,t)})}function Bd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function tm(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$d(e,r),a!=null&&n.unshift(Bd(e,a,i)),a=$d(e,t),a!=null&&n.push(Bd(e,a,i))),e=e.return}return n}function ol(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gE(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=$d(r,a),c!=null&&o.unshift(Bd(r,c,s))):i||(c=$d(r,a),c!=null&&o.push(Bd(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var jz=/\r\n?/g,Sz=/\u0000|\uFFFD/g;function vE(e){return(typeof e=="string"?e:""+e).replace(jz,`
`).replace(Sz,"")}function Fh(e,t,r){if(t=vE(t),vE(e)!==t&&r)throw Error(ce(425))}function rm(){}var Cb=null,Tb=null;function kb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $b=typeof setTimeout=="function"?setTimeout:void 0,Ez=typeof clearTimeout=="function"?clearTimeout:void 0,yE=typeof Promise=="function"?Promise:void 0,Oz=typeof queueMicrotask=="function"?queueMicrotask:typeof yE<"u"?function(e){return yE.resolve(null).then(e).catch(Pz)}:$b;function Pz(e){setTimeout(function(){throw e})}function Yy(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Md(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Md(t)}function po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ou=Math.random().toString(36).slice(2),Ti="__reactFiber$"+ou,Ud="__reactProps$"+ou,_a="__reactContainer$"+ou,Rb="__reactEvents$"+ou,Nz="__reactListeners$"+ou,Az="__reactHandles$"+ou;function as(e){var t=e[Ti];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_a]||r[Ti]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=xE(e);e!==null;){if(r=e[Ti])return r;e=xE(e)}return t}e=r,r=e.parentNode}return null}function Qf(e){return e=e[Ti]||e[_a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Wg(e){return e[Ud]||null}var Ib=[],kl=-1;function Co(e){return{current:e}}function St(e){0>kl||(e.current=Ib[kl],Ib[kl]=null,kl--)}function gt(e,t){kl++,Ib[kl]=e.current,e.current=t}var _o={},Mr=Co(_o),rn=Co(!1),Cs=_o;function bc(e,t){var r=e.type.contextTypes;if(!r)return _o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function nn(e){return e=e.childContextTypes,e!=null}function nm(){St(rn),St(Mr)}function bE(e,t,r){if(Mr.current!==_o)throw Error(ce(168));gt(Mr,t),gt(rn,r)}function o$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ce(108,h5(e)||"Unknown",i));return Dt({},r,n)}function im(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,Cs=Mr.current,gt(Mr,e),gt(rn,rn.current),!0}function wE(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=o$(e,t,Cs),n.__reactInternalMemoizedMergedChildContext=e,St(rn),St(Mr),gt(Mr,e)):St(rn),gt(rn,r)}var oa=null,qg=!1,Xy=!1;function s$(e){oa===null?oa=[e]:oa.push(e)}function Cz(e){qg=!0,s$(e)}function To(){if(!Xy&&oa!==null){Xy=!0;var e=0,t=st;try{var r=oa;for(st=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}oa=null,qg=!1}catch(i){throw oa!==null&&(oa=oa.slice(e+1)),kk(L_,To),i}finally{st=t,Xy=!1}}return null}var $l=[],Rl=0,am=null,om=0,$n=[],Rn=0,Ts=null,la=1,ca="";function Yo(e,t){$l[Rl++]=om,$l[Rl++]=am,am=e,om=t}function l$(e,t,r){$n[Rn++]=la,$n[Rn++]=ca,$n[Rn++]=Ts,Ts=e;var n=la;e=ca;var i=32-ui(n)-1;n&=~(1<<i),r+=1;var a=32-ui(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,la=1<<32-ui(t)+i|r<<i|n,ca=a+e}else la=1<<a|r<<i|n,ca=e}function K_(e){e.return!==null&&(Yo(e,1),l$(e,1,0))}function G_(e){for(;e===am;)am=$l[--Rl],$l[Rl]=null,om=$l[--Rl],$l[Rl]=null;for(;e===Ts;)Ts=$n[--Rn],$n[Rn]=null,ca=$n[--Rn],$n[Rn]=null,la=$n[--Rn],$n[Rn]=null}var wn=null,bn=null,Ot=!1,ai=null;function c$(e,t){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _E(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wn=e,bn=po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ts!==null?{id:la,overflow:ca}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wn=e,bn=null,!0):!1;default:return!1}}function Mb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Db(e){if(Ot){var t=bn;if(t){var r=t;if(!_E(e,t)){if(Mb(e))throw Error(ce(418));t=po(r.nextSibling);var n=wn;t&&_E(e,t)?c$(n,r):(e.flags=e.flags&-4097|2,Ot=!1,wn=e)}}else{if(Mb(e))throw Error(ce(418));e.flags=e.flags&-4097|2,Ot=!1,wn=e}}}function jE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wn=e}function Bh(e){if(e!==wn)return!1;if(!Ot)return jE(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kb(e.type,e.memoizedProps)),t&&(t=bn)){if(Mb(e))throw u$(),Error(ce(418));for(;t;)c$(e,t),t=po(t.nextSibling)}if(jE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){bn=po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=wn?po(e.stateNode.nextSibling):null;return!0}function u$(){for(var e=bn;e;)e=po(e.nextSibling)}function wc(){bn=wn=null,Ot=!1}function Y_(e){ai===null?ai=[e]:ai.push(e)}var Tz=Ta.ReactCurrentBatchConfig;function Iu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function Uh(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SE(e){var t=e._init;return t(e._payload)}function d$(e){function t(b,v){if(e){var g=b.deletions;g===null?(b.deletions=[v],b.flags|=16):g.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=yo(b,v),b.index=0,b.sibling=null,b}function a(b,v,g){return b.index=g,e?(g=b.alternate,g!==null?(g=g.index,g<v?(b.flags|=2,v):g):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,v,g,j){return v===null||v.tag!==6?(v=nx(g,b.mode,j),v.return=b,v):(v=i(v,g),v.return=b,v)}function c(b,v,g,j){var _=g.type;return _===Pl?d(b,v,g.props.children,j,g.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Va&&SE(_)===v.type)?(j=i(v,g.props),j.ref=Iu(b,v,g),j.return=b,j):(j=Lp(g.type,g.key,g.props,null,b.mode,j),j.ref=Iu(b,v,g),j.return=b,j)}function u(b,v,g,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=ix(g,b.mode,j),v.return=b,v):(v=i(v,g.children||[]),v.return=b,v)}function d(b,v,g,j,_){return v===null||v.tag!==7?(v=Ss(g,b.mode,j,_),v.return=b,v):(v=i(v,g),v.return=b,v)}function f(b,v,g){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nx(""+v,b.mode,g),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:return g=Lp(v.type,v.key,v.props,null,b.mode,g),g.ref=Iu(b,null,v),g.return=b,g;case Ol:return v=ix(v,b.mode,g),v.return=b,v;case Va:var j=v._init;return f(b,j(v._payload),g)}if(ed(v)||Cu(v))return v=Ss(v,b.mode,g,null),v.return=b,v;Uh(b,v)}return null}function h(b,v,g,j){var _=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return _!==null?null:s(b,v,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ch:return g.key===_?c(b,v,g,j):null;case Ol:return g.key===_?u(b,v,g,j):null;case Va:return _=g._init,h(b,v,_(g._payload),j)}if(ed(g)||Cu(g))return _!==null?null:d(b,v,g,j,null);Uh(b,g)}return null}function m(b,v,g,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(g)||null,s(v,b,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ch:return b=b.get(j.key===null?g:j.key)||null,c(v,b,j,_);case Ol:return b=b.get(j.key===null?g:j.key)||null,u(v,b,j,_);case Va:var S=j._init;return m(b,v,g,S(j._payload),_)}if(ed(j)||Cu(j))return b=b.get(g)||null,d(v,b,j,_,null);Uh(v,j)}return null}function y(b,v,g,j){for(var _=null,S=null,E=v,O=v=0,N=null;E!==null&&O<g.length;O++){E.index>O?(N=E,E=null):N=E.sibling;var M=h(b,E,g[O],j);if(M===null){E===null&&(E=N);break}e&&E&&M.alternate===null&&t(b,E),v=a(M,v,O),S===null?_=M:S.sibling=M,S=M,E=N}if(O===g.length)return r(b,E),Ot&&Yo(b,O),_;if(E===null){for(;O<g.length;O++)E=f(b,g[O],j),E!==null&&(v=a(E,v,O),S===null?_=E:S.sibling=E,S=E);return Ot&&Yo(b,O),_}for(E=n(b,E);O<g.length;O++)N=m(E,b,O,g[O],j),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?O:N.key),v=a(N,v,O),S===null?_=N:S.sibling=N,S=N);return e&&E.forEach(function(T){return t(b,T)}),Ot&&Yo(b,O),_}function p(b,v,g,j){var _=Cu(g);if(typeof _!="function")throw Error(ce(150));if(g=_.call(g),g==null)throw Error(ce(151));for(var S=_=null,E=v,O=v=0,N=null,M=g.next();E!==null&&!M.done;O++,M=g.next()){E.index>O?(N=E,E=null):N=E.sibling;var T=h(b,E,M.value,j);if(T===null){E===null&&(E=N);break}e&&E&&T.alternate===null&&t(b,E),v=a(T,v,O),S===null?_=T:S.sibling=T,S=T,E=N}if(M.done)return r(b,E),Ot&&Yo(b,O),_;if(E===null){for(;!M.done;O++,M=g.next())M=f(b,M.value,j),M!==null&&(v=a(M,v,O),S===null?_=M:S.sibling=M,S=M);return Ot&&Yo(b,O),_}for(E=n(b,E);!M.done;O++,M=g.next())M=m(E,b,O,M.value,j),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?O:M.key),v=a(M,v,O),S===null?_=M:S.sibling=M,S=M);return e&&E.forEach(function(I){return t(b,I)}),Ot&&Yo(b,O),_}function x(b,v,g,j){if(typeof g=="object"&&g!==null&&g.type===Pl&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ch:e:{for(var _=g.key,S=v;S!==null;){if(S.key===_){if(_=g.type,_===Pl){if(S.tag===7){r(b,S.sibling),v=i(S,g.props.children),v.return=b,b=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Va&&SE(_)===S.type){r(b,S.sibling),v=i(S,g.props),v.ref=Iu(b,S,g),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}g.type===Pl?(v=Ss(g.props.children,b.mode,j,g.key),v.return=b,b=v):(j=Lp(g.type,g.key,g.props,null,b.mode,j),j.ref=Iu(b,v,g),j.return=b,b=j)}return o(b);case Ol:e:{for(S=g.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){r(b,v.sibling),v=i(v,g.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=ix(g,b.mode,j),v.return=b,b=v}return o(b);case Va:return S=g._init,x(b,v,S(g._payload),j)}if(ed(g))return y(b,v,g,j);if(Cu(g))return p(b,v,g,j);Uh(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,v!==null&&v.tag===6?(r(b,v.sibling),v=i(v,g),v.return=b,b=v):(r(b,v),v=nx(g,b.mode,j),v.return=b,b=v),o(b)):r(b,v)}return x}var _c=d$(!0),f$=d$(!1),sm=Co(null),lm=null,Il=null,X_=null;function Q_(){X_=Il=lm=null}function J_(e){var t=sm.current;St(sm),e._currentValue=t}function Lb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kl(e,t){lm=e,X_=Il=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(en=!0),e.firstContext=null)}function zn(e){var t=e._currentValue;if(X_!==e)if(e={context:e,memoizedValue:t,next:null},Il===null){if(lm===null)throw Error(ce(308));Il=e,lm.dependencies={lanes:0,firstContext:e}}else Il=Il.next=e;return t}var os=null;function Z_(e){os===null?os=[e]:os.push(e)}function h$(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Z_(t)):(r.next=i.next,i.next=r),t.interleaved=r,ja(e,n)}function ja(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wa=!1;function e1(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ga(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ja(e,r)}return i=n.interleaved,i===null?(t.next=t,Z_(n)):(t.next=i.next,i.next=t),n.interleaved=t,ja(e,r)}function kp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,F_(e,r)}}function EE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function cm(e,t,r,n){var i=e.updateQueue;Wa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,p=s;switch(h=t,m=r,p.tag){case 1:if(y=p.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=p.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Dt({},f,h);break e;case 2:Wa=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);$s|=o,e.lanes=o,e.memoizedState=f}}function OE(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Jf={},Mi=Co(Jf),zd=Co(Jf),Vd=Co(Jf);function ss(e){if(e===Jf)throw Error(ce(174));return e}function t1(e,t){switch(gt(Vd,t),gt(zd,e),gt(Mi,Jf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yb(t,e)}St(Mi),gt(Mi,t)}function jc(){St(Mi),St(zd),St(Vd)}function m$(e){ss(Vd.current);var t=ss(Mi.current),r=yb(t,e.type);t!==r&&(gt(zd,e),gt(Mi,r))}function r1(e){zd.current===e&&(St(Mi),St(zd))}var $t=Co(0);function um(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Qy=[];function n1(){for(var e=0;e<Qy.length;e++)Qy[e]._workInProgressVersionPrimary=null;Qy.length=0}var $p=Ta.ReactCurrentDispatcher,Jy=Ta.ReactCurrentBatchConfig,ks=0,Mt=null,nr=null,dr=null,dm=!1,pd=!1,Wd=0,kz=0;function Or(){throw Error(ce(321))}function i1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vi(e[r],t[r]))return!1;return!0}function a1(e,t,r,n,i,a){if(ks=a,Mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$p.current=e===null||e.memoizedState===null?Mz:Dz,e=r(n,i),pd){a=0;do{if(pd=!1,Wd=0,25<=a)throw Error(ce(301));a+=1,dr=nr=null,t.updateQueue=null,$p.current=Lz,e=r(n,i)}while(pd)}if($p.current=fm,t=nr!==null&&nr.next!==null,ks=0,dr=nr=Mt=null,dm=!1,t)throw Error(ce(300));return e}function o1(){var e=Wd!==0;return Wd=0,e}function Ei(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?Mt.memoizedState=dr=e:dr=dr.next=e,dr}function Vn(){if(nr===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var t=dr===null?Mt.memoizedState:dr.next;if(t!==null)dr=t,nr=e;else{if(e===null)throw Error(ce(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},dr===null?Mt.memoizedState=dr=e:dr=dr.next=e}return dr}function qd(e,t){return typeof t=="function"?t(e):t}function Zy(e){var t=Vn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=nr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var d=u.lane;if((ks&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,o=n):c=c.next=f,Mt.lanes|=d,$s|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,vi(n,t.memoizedState)||(en=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Mt.lanes|=a,$s|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ex(e){var t=Vn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);vi(a,t.memoizedState)||(en=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function g$(){}function v$(e,t){var r=Mt,n=Vn(),i=t(),a=!vi(n.memoizedState,i);if(a&&(n.memoizedState=i,en=!0),n=n.queue,s1(b$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Hd(9,x$.bind(null,r,n,i,t),void 0,null),mr===null)throw Error(ce(349));ks&30||y$(r,t,i)}return i}function y$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function x$(e,t,r,n){t.value=r,t.getSnapshot=n,w$(t)&&_$(e)}function b$(e,t,r){return r(function(){w$(t)&&_$(e)})}function w$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vi(e,r)}catch{return!0}}function _$(e){var t=ja(e,1);t!==null&&di(t,e,1,-1)}function PE(e){var t=Ei();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qd,lastRenderedState:e},t.queue=e,e=e.dispatch=Iz.bind(null,Mt,e),[t.memoizedState,e]}function Hd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Mt.updateQueue,t===null?(t={lastEffect:null,stores:null},Mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function j$(){return Vn().memoizedState}function Rp(e,t,r,n){var i=Ei();Mt.flags|=e,i.memoizedState=Hd(1|t,r,void 0,n===void 0?null:n)}function Hg(e,t,r,n){var i=Vn();n=n===void 0?null:n;var a=void 0;if(nr!==null){var o=nr.memoizedState;if(a=o.destroy,n!==null&&i1(n,o.deps)){i.memoizedState=Hd(t,r,a,n);return}}Mt.flags|=e,i.memoizedState=Hd(1|t,r,a,n)}function NE(e,t){return Rp(8390656,8,e,t)}function s1(e,t){return Hg(2048,8,e,t)}function S$(e,t){return Hg(4,2,e,t)}function E$(e,t){return Hg(4,4,e,t)}function O$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function P$(e,t,r){return r=r!=null?r.concat([e]):null,Hg(4,4,O$.bind(null,t,e),r)}function l1(){}function N$(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&i1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function A$(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&i1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function C$(e,t,r){return ks&21?(vi(r,t)||(r=Ik(),Mt.lanes|=r,$s|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,en=!0),e.memoizedState=r)}function $z(e,t){var r=st;st=r!==0&&4>r?r:4,e(!0);var n=Jy.transition;Jy.transition={};try{e(!1),t()}finally{st=r,Jy.transition=n}}function T$(){return Vn().memoizedState}function Rz(e,t,r){var n=vo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},k$(e))$$(t,r);else if(r=h$(e,t,r,n),r!==null){var i=Kr();di(r,e,n,i),R$(r,t,n)}}function Iz(e,t,r){var n=vo(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(k$(e))$$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,vi(s,o)){var c=t.interleaved;c===null?(i.next=i,Z_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=h$(e,t,i,n),r!==null&&(i=Kr(),di(r,e,n,i),R$(r,t,n))}}function k$(e){var t=e.alternate;return e===Mt||t!==null&&t===Mt}function $$(e,t){pd=dm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function R$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,F_(e,r)}}var fm={readContext:zn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},Mz={readContext:zn,useCallback:function(e,t){return Ei().memoizedState=[e,t===void 0?null:t],e},useContext:zn,useEffect:NE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rp(4194308,4,O$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rp(4,2,e,t)},useMemo:function(e,t){var r=Ei();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ei();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Rz.bind(null,Mt,e),[n.memoizedState,e]},useRef:function(e){var t=Ei();return e={current:e},t.memoizedState=e},useState:PE,useDebugValue:l1,useDeferredValue:function(e){return Ei().memoizedState=e},useTransition:function(){var e=PE(!1),t=e[0];return e=$z.bind(null,e[1]),Ei().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Mt,i=Ei();if(Ot){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),mr===null)throw Error(ce(349));ks&30||y$(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,NE(b$.bind(null,n,a,e),[e]),n.flags|=2048,Hd(9,x$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ei(),t=mr.identifierPrefix;if(Ot){var r=ca,n=la;r=(n&~(1<<32-ui(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=kz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Dz={readContext:zn,useCallback:N$,useContext:zn,useEffect:s1,useImperativeHandle:P$,useInsertionEffect:S$,useLayoutEffect:E$,useMemo:A$,useReducer:Zy,useRef:j$,useState:function(){return Zy(qd)},useDebugValue:l1,useDeferredValue:function(e){var t=Vn();return C$(t,nr.memoizedState,e)},useTransition:function(){var e=Zy(qd)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:g$,useSyncExternalStore:v$,useId:T$,unstable_isNewReconciler:!1},Lz={readContext:zn,useCallback:N$,useContext:zn,useEffect:s1,useImperativeHandle:P$,useInsertionEffect:S$,useLayoutEffect:E$,useMemo:A$,useReducer:ex,useRef:j$,useState:function(){return ex(qd)},useDebugValue:l1,useDeferredValue:function(e){var t=Vn();return nr===null?t.memoizedState=e:C$(t,nr.memoizedState,e)},useTransition:function(){var e=ex(qd)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:g$,useSyncExternalStore:v$,useId:T$,unstable_isNewReconciler:!1};function Jn(e,t){if(e&&e.defaultProps){t=Dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Kg={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kr(),i=vo(e),a=ga(n,i);a.payload=t,r!=null&&(a.callback=r),t=mo(e,a,i),t!==null&&(di(t,e,i,n),kp(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kr(),i=vo(e),a=ga(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=mo(e,a,i),t!==null&&(di(t,e,i,n),kp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kr(),n=vo(e),i=ga(r,n);i.tag=2,t!=null&&(i.callback=t),t=mo(e,i,n),t!==null&&(di(t,e,n,r),kp(t,e,n))}};function AE(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ld(r,n)||!Ld(i,a):!0}function I$(e,t,r){var n=!1,i=_o,a=t.contextType;return typeof a=="object"&&a!==null?a=zn(a):(i=nn(t)?Cs:Mr.current,n=t.contextTypes,a=(n=n!=null)?bc(e,i):_o),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Kg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function CE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Kg.enqueueReplaceState(t,t.state,null)}function Bb(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},e1(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=zn(a):(a=nn(t)?Cs:Mr.current,i.context=bc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fb(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Kg.enqueueReplaceState(i,i.state,null),cm(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sc(e,t){try{var r="",n=t;do r+=f5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function tx(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ub(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Fz=typeof WeakMap=="function"?WeakMap:Map;function M$(e,t,r){r=ga(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){pm||(pm=!0,Qb=n),Ub(e,t)},r}function D$(e,t,r){r=ga(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ub(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ub(e,t),typeof n!="function"&&(go===null?go=new Set([this]):go.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function TE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Fz;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Zz.bind(null,e,t,r),t.then(e,e))}function kE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $E(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ga(-1,1),t.tag=2,mo(r,t,1))),r.lanes|=1),e)}var Bz=Ta.ReactCurrentOwner,en=!1;function Ur(e,t,r,n){t.child=e===null?f$(t,null,r,n):_c(t,e.child,r,n)}function RE(e,t,r,n,i){r=r.render;var a=t.ref;return Kl(t,i),n=a1(e,t,r,n,a,i),r=o1(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sa(e,t,i)):(Ot&&r&&K_(t),t.flags|=1,Ur(e,t,n,i),t.child)}function IE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!g1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,L$(e,t,a,n,i)):(e=Lp(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ld,r(o,n)&&e.ref===t.ref)return Sa(e,t,i)}return t.flags|=1,e=yo(a,n),e.ref=t.ref,e.return=t,t.child=e}function L$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Ld(a,n)&&e.ref===t.ref)if(en=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(en=!0);else return t.lanes=e.lanes,Sa(e,t,i)}return zb(e,t,r,n,i)}function F$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(Dl,pn),pn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(Dl,pn),pn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,gt(Dl,pn),pn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,gt(Dl,pn),pn|=n;return Ur(e,t,i,r),t.child}function B$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zb(e,t,r,n,i){var a=nn(r)?Cs:Mr.current;return a=bc(t,a),Kl(t,i),r=a1(e,t,r,n,a,i),n=o1(),e!==null&&!en?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sa(e,t,i)):(Ot&&n&&K_(t),t.flags|=1,Ur(e,t,r,i),t.child)}function ME(e,t,r,n,i){if(nn(r)){var a=!0;im(t)}else a=!1;if(Kl(t,i),t.stateNode===null)Ip(e,t),I$(t,r,n),Bb(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=zn(u):(u=nn(r)?Cs:Mr.current,u=bc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&CE(t,o,n,u),Wa=!1;var h=t.memoizedState;o.state=h,cm(t,n,o,i),c=t.memoizedState,s!==n||h!==c||rn.current||Wa?(typeof d=="function"&&(Fb(t,r,d,n),c=t.memoizedState),(s=Wa||AE(t,r,s,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,p$(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Jn(t.type,s),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=nn(r)?Cs:Mr.current,c=bc(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&CE(t,o,n,c),Wa=!1,h=t.memoizedState,o.state=h,cm(t,n,o,i);var y=t.memoizedState;s!==f||h!==y||rn.current||Wa?(typeof m=="function"&&(Fb(t,r,m,n),y=t.memoizedState),(u=Wa||AE(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Vb(e,t,r,n,a,i)}function Vb(e,t,r,n,i,a){B$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&wE(t,r,!1),Sa(e,t,a);n=t.stateNode,Bz.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=_c(t,e.child,null,a),t.child=_c(t,null,s,a)):Ur(e,t,s,a),t.memoizedState=n.state,i&&wE(t,r,!0),t.child}function U$(e){var t=e.stateNode;t.pendingContext?bE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bE(e,t.context,!1),t1(e,t.containerInfo)}function DE(e,t,r,n,i){return wc(),Y_(i),t.flags|=256,Ur(e,t,r,n),t.child}var Wb={dehydrated:null,treeContext:null,retryLane:0};function qb(e){return{baseLanes:e,cachePool:null,transitions:null}}function z$(e,t,r){var n=t.pendingProps,i=$t.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),gt($t,i&1),e===null)return Db(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Xg(o,n,0,null),e=Ss(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qb(r),t.memoizedState=Wb,e):c1(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Uz(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=yo(s,a):(a=Ss(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?qb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Wb,n}return a=e.child,e=a.sibling,n=yo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function c1(e,t){return t=Xg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function zh(e,t,r,n){return n!==null&&Y_(n),_c(t,e.child,null,r),e=c1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Uz(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=tx(Error(ce(422))),zh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Xg({mode:"visible",children:n.children},i,0,null),a=Ss(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&_c(t,e.child,null,o),t.child.memoizedState=qb(o),t.memoizedState=Wb,a);if(!(t.mode&1))return zh(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ce(419)),n=tx(a,n,void 0),zh(e,t,o,n)}if(s=(o&e.childLanes)!==0,en||s){if(n=mr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ja(e,i),di(n,e,i,-1))}return m1(),n=tx(Error(ce(421))),zh(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=e6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,bn=po(i.nextSibling),wn=t,Ot=!0,ai=null,e!==null&&($n[Rn++]=la,$n[Rn++]=ca,$n[Rn++]=Ts,la=e.id,ca=e.overflow,Ts=t),t=c1(t,n.children),t.flags|=4096,t)}function LE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lb(e.return,t,r)}function rx(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function V$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ur(e,t,n.children,r),n=$t.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LE(e,r,t);else if(e.tag===19)LE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt($t,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&um(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),rx(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&um(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}rx(t,!0,r,null,a);break;case"together":rx(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ip(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$s|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=yo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zz(e,t,r){switch(t.tag){case 3:U$(t),wc();break;case 5:m$(t);break;case 1:nn(t.type)&&im(t);break;case 4:t1(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;gt(sm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt($t,$t.current&1),t.flags|=128,null):r&t.child.childLanes?z$(e,t,r):(gt($t,$t.current&1),e=Sa(e,t,r),e!==null?e.sibling:null);gt($t,$t.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return V$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt($t,$t.current),n)break;return null;case 22:case 23:return t.lanes=0,F$(e,t,r)}return Sa(e,t,r)}var W$,Hb,q$,H$;W$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hb=function(){};q$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ss(Mi.current);var a=null;switch(r){case"input":i=pb(e,i),n=pb(e,n),a=[];break;case"select":i=Dt({},i,{value:void 0}),n=Dt({},n,{value:void 0}),a=[];break;case"textarea":i=vb(e,i),n=vb(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=rm)}xb(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Td.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Td.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xt("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};H$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mu(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vz(e,t,r){var n=t.pendingProps;switch(G_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(t),null;case 1:return nn(t.type)&&nm(),Pr(t),null;case 3:return n=t.stateNode,jc(),St(rn),St(Mr),n1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ai!==null&&(e0(ai),ai=null))),Hb(e,t),Pr(t),null;case 5:r1(t);var i=ss(Vd.current);if(r=t.type,e!==null&&t.stateNode!=null)q$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return Pr(t),null}if(e=ss(Mi.current),Bh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ti]=t,n[Ud]=a,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(i=0;i<rd.length;i++)xt(rd[i],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":KS(n,a),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xt("invalid",n);break;case"textarea":YS(n,a),xt("invalid",n)}xb(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Fh(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Fh(n.textContent,s,e),i=["children",""+s]):Td.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&xt("scroll",n)}switch(r){case"input":Th(n),GS(n,a,!0);break;case"textarea":Th(n),XS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=rm)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ti]=t,e[Ud]=n,W$(e,t,!1,!1),t.stateNode=e;e:{switch(o=bb(r,n),r){case"dialog":xt("cancel",e),xt("close",e),i=n;break;case"iframe":case"object":case"embed":xt("load",e),i=n;break;case"video":case"audio":for(i=0;i<rd.length;i++)xt(rd[i],e);i=n;break;case"source":xt("error",e),i=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),i=n;break;case"details":xt("toggle",e),i=n;break;case"input":KS(e,n),i=pb(e,n),xt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Dt({},n,{value:void 0}),xt("invalid",e);break;case"textarea":YS(e,n),i=vb(e,n),xt("invalid",e);break;default:i=n}xb(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?jk(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&wk(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&kd(e,c):typeof c=="number"&&kd(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Td.hasOwnProperty(a)?c!=null&&a==="onScroll"&&xt("scroll",e):c!=null&&$_(e,a,c,o))}switch(r){case"input":Th(e),GS(e,n,!1);break;case"textarea":Th(e),XS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wo(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Vl(e,!!n.multiple,a,!1):n.defaultValue!=null&&Vl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=rm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pr(t),null;case 6:if(e&&t.stateNode!=null)H$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=ss(Vd.current),ss(Mi.current),Bh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ti]=t,(a=n.nodeValue!==r)&&(e=wn,e!==null))switch(e.tag){case 3:Fh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fh(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ti]=t,t.stateNode=n}return Pr(t),null;case 13:if(St($t),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&bn!==null&&t.mode&1&&!(t.flags&128))u$(),wc(),t.flags|=98560,a=!1;else if(a=Bh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Ti]=t}else wc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Pr(t),a=!1}else ai!==null&&(e0(ai),ai=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$t.current&1?or===0&&(or=3):m1())),t.updateQueue!==null&&(t.flags|=4),Pr(t),null);case 4:return jc(),Hb(e,t),e===null&&Fd(t.stateNode.containerInfo),Pr(t),null;case 10:return J_(t.type._context),Pr(t),null;case 17:return nn(t.type)&&nm(),Pr(t),null;case 19:if(St($t),a=t.memoizedState,a===null)return Pr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Mu(a,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=um(e),o!==null){for(t.flags|=128,Mu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt($t,$t.current&1|2),t.child}e=e.sibling}a.tail!==null&&Vt()>Ec&&(t.flags|=128,n=!0,Mu(a,!1),t.lanes=4194304)}else{if(!n)if(e=um(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ot)return Pr(t),null}else 2*Vt()-a.renderingStartTime>Ec&&r!==1073741824&&(t.flags|=128,n=!0,Mu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Vt(),t.sibling=null,r=$t.current,gt($t,n?r&1|2:r&1),t):(Pr(t),null);case 22:case 23:return p1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pn&1073741824&&(Pr(t),t.subtreeFlags&6&&(t.flags|=8192)):Pr(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Wz(e,t){switch(G_(t),t.tag){case 1:return nn(t.type)&&nm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jc(),St(rn),St(Mr),n1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return r1(t),null;case 13:if(St($t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));wc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return St($t),null;case 4:return jc(),null;case 10:return J_(t.type._context),null;case 22:case 23:return p1(),null;case 24:return null;default:return null}}var Vh=!1,Rr=!1,qz=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ml(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ft(e,t,n)}else r.current=null}function Kb(e,t,r){try{r()}catch(n){Ft(e,t,n)}}var FE=!1;function Hz(e,t){if(Cb=Zp,e=Qk(),H_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Tb={focusedElem:e,selectionRange:r},Zp=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var p=y.memoizedProps,x=y.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Jn(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(j){Ft(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return y=FE,FE=!1,y}function md(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kb(t,r,a)}i=i.next}while(i!==n)}}function Gg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function K$(e){var t=e.alternate;t!==null&&(e.alternate=null,K$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ti],delete t[Ud],delete t[Rb],delete t[Nz],delete t[Az])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function G$(e){return e.tag===5||e.tag===3||e.tag===4}function BE(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||G$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=rm));else if(n!==4&&(e=e.child,e!==null))for(Yb(e,t,r),e=e.sibling;e!==null;)Yb(e,t,r),e=e.sibling}function Xb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xb(e,t,r),e=e.sibling;e!==null;)Xb(e,t,r),e=e.sibling}var _r=null,ti=!1;function Ma(e,t,r){for(r=r.child;r!==null;)Y$(e,t,r),r=r.sibling}function Y$(e,t,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(Bg,r)}catch{}switch(r.tag){case 5:Rr||Ml(r,t);case 6:var n=_r,i=ti;_r=null,Ma(e,t,r),_r=n,ti=i,_r!==null&&(ti?(e=_r,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_r.removeChild(r.stateNode));break;case 18:_r!==null&&(ti?(e=_r,r=r.stateNode,e.nodeType===8?Yy(e.parentNode,r):e.nodeType===1&&Yy(e,r),Md(e)):Yy(_r,r.stateNode));break;case 4:n=_r,i=ti,_r=r.stateNode.containerInfo,ti=!0,Ma(e,t,r),_r=n,ti=i;break;case 0:case 11:case 14:case 15:if(!Rr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Kb(r,t,o),i=i.next}while(i!==n)}Ma(e,t,r);break;case 1:if(!Rr&&(Ml(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Ft(r,t,s)}Ma(e,t,r);break;case 21:Ma(e,t,r);break;case 22:r.mode&1?(Rr=(n=Rr)||r.memoizedState!==null,Ma(e,t,r),Rr=n):Ma(e,t,r);break;default:Ma(e,t,r)}}function UE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qz),t.forEach(function(n){var i=t6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Gn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:_r=s.stateNode,ti=!1;break e;case 3:_r=s.stateNode.containerInfo,ti=!0;break e;case 4:_r=s.stateNode.containerInfo,ti=!0;break e}s=s.return}if(_r===null)throw Error(ce(160));Y$(a,o,i),_r=null,ti=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ft(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)X$(t,e),t=t.sibling}function X$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),Si(e),n&4){try{md(3,e,e.return),Gg(3,e)}catch(p){Ft(e,e.return,p)}try{md(5,e,e.return)}catch(p){Ft(e,e.return,p)}}break;case 1:Gn(t,e),Si(e),n&512&&r!==null&&Ml(r,r.return);break;case 5:if(Gn(t,e),Si(e),n&512&&r!==null&&Ml(r,r.return),e.flags&32){var i=e.stateNode;try{kd(i,"")}catch(p){Ft(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&yk(i,a),bb(s,o);var u=bb(s,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?jk(i,f):d==="dangerouslySetInnerHTML"?wk(i,f):d==="children"?kd(i,f):$_(i,d,f,u)}switch(s){case"input":mb(i,a);break;case"textarea":xk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Vl(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Vl(i,!!a.multiple,a.defaultValue,!0):Vl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ud]=a}catch(p){Ft(e,e.return,p)}}break;case 6:if(Gn(t,e),Si(e),n&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Ft(e,e.return,p)}}break;case 3:if(Gn(t,e),Si(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Md(t.containerInfo)}catch(p){Ft(e,e.return,p)}break;case 4:Gn(t,e),Si(e);break;case 13:Gn(t,e),Si(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(f1=Vt())),n&4&&UE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rr=(u=Rr)||d,Gn(t,e),Rr=u):Gn(t,e),Si(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:md(4,h,h.return);break;case 1:Ml(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(p){Ft(n,r,p)}}break;case 5:Ml(h,h.return);break;case 22:if(h.memoizedState!==null){VE(f);continue}}m!==null?(m.return=h,we=m):VE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=_k("display",o))}catch(p){Ft(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Ft(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Gn(t,e),Si(e),n&4&&UE(e);break;case 21:break;default:Gn(t,e),Si(e)}}function Si(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(G$(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(kd(i,""),n.flags&=-33);var a=BE(e);Xb(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=BE(e);Yb(e,s,o);break;default:throw Error(ce(161))}}catch(c){Ft(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Kz(e,t,r){we=e,Q$(e)}function Q$(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var i=we,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Vh;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Rr;s=Vh;var u=Rr;if(Vh=o,(Rr=c)&&!u)for(we=i;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?WE(i):c!==null?(c.return=o,we=c):WE(i);for(;a!==null;)we=a,Q$(a),a=a.sibling;we=i,Vh=s,Rr=u}zE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,we=a):zE(e)}}function zE(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rr||Gg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Jn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&OE(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}OE(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Md(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Rr||t.flags&512&&Gb(t)}catch(h){Ft(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function VE(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function WE(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Gg(4,t)}catch(c){Ft(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ft(t,i,c)}}var a=t.return;try{Gb(t)}catch(c){Ft(t,a,c)}break;case 5:var o=t.return;try{Gb(t)}catch(c){Ft(t,o,c)}}}catch(c){Ft(t,t.return,c)}if(t===e){we=null;break}var s=t.sibling;if(s!==null){s.return=t.return,we=s;break}we=t.return}}var Gz=Math.ceil,hm=Ta.ReactCurrentDispatcher,u1=Ta.ReactCurrentOwner,Fn=Ta.ReactCurrentBatchConfig,Ze=0,mr=null,Jt=null,jr=0,pn=0,Dl=Co(0),or=0,Kd=null,$s=0,Yg=0,d1=0,gd=null,Zr=null,f1=0,Ec=1/0,na=null,pm=!1,Qb=null,go=null,Wh=!1,so=null,mm=0,vd=0,Jb=null,Mp=-1,Dp=0;function Kr(){return Ze&6?Vt():Mp!==-1?Mp:Mp=Vt()}function vo(e){return e.mode&1?Ze&2&&jr!==0?jr&-jr:Tz.transition!==null?(Dp===0&&(Dp=Ik()),Dp):(e=st,e!==0||(e=window.event,e=e===void 0?16:zk(e.type)),e):1}function di(e,t,r,n){if(50<vd)throw vd=0,Jb=null,Error(ce(185));Yf(e,r,n),(!(Ze&2)||e!==mr)&&(e===mr&&(!(Ze&2)&&(Yg|=r),or===4&&Ka(e,jr)),an(e,n),r===1&&Ze===0&&!(t.mode&1)&&(Ec=Vt()+500,qg&&To()))}function an(e,t){var r=e.callbackNode;T5(e,t);var n=Jp(e,e===mr?jr:0);if(n===0)r!==null&&ZS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZS(r),t===1)e.tag===0?Cz(qE.bind(null,e)):s$(qE.bind(null,e)),Oz(function(){!(Ze&6)&&To()}),r=null;else{switch(Mk(n)){case 1:r=L_;break;case 4:r=$k;break;case 16:r=Qp;break;case 536870912:r=Rk;break;default:r=Qp}r=a2(r,J$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function J$(e,t){if(Mp=-1,Dp=0,Ze&6)throw Error(ce(327));var r=e.callbackNode;if(Gl()&&e.callbackNode!==r)return null;var n=Jp(e,e===mr?jr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=gm(e,n);else{t=n;var i=Ze;Ze|=2;var a=e2();(mr!==e||jr!==t)&&(na=null,Ec=Vt()+500,js(e,t));do try{Qz();break}catch(s){Z$(e,s)}while(!0);Q_(),hm.current=a,Ze=i,Jt!==null?t=0:(mr=null,jr=0,t=or)}if(t!==0){if(t===2&&(i=Eb(e),i!==0&&(n=i,t=Zb(e,i))),t===1)throw r=Kd,js(e,0),Ka(e,n),an(e,Vt()),r;if(t===6)Ka(e,n);else{if(i=e.current.alternate,!(n&30)&&!Yz(i)&&(t=gm(e,n),t===2&&(a=Eb(e),a!==0&&(n=a,t=Zb(e,a))),t===1))throw r=Kd,js(e,0),Ka(e,n),an(e,Vt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:Xo(e,Zr,na);break;case 3:if(Ka(e,n),(n&130023424)===n&&(t=f1+500-Vt(),10<t)){if(Jp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Kr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$b(Xo.bind(null,e,Zr,na),t);break}Xo(e,Zr,na);break;case 4:if(Ka(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-ui(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gz(n/1960))-n,10<n){e.timeoutHandle=$b(Xo.bind(null,e,Zr,na),n);break}Xo(e,Zr,na);break;case 5:Xo(e,Zr,na);break;default:throw Error(ce(329))}}}return an(e,Vt()),e.callbackNode===r?J$.bind(null,e):null}function Zb(e,t){var r=gd;return e.current.memoizedState.isDehydrated&&(js(e,t).flags|=256),e=gm(e,t),e!==2&&(t=Zr,Zr=r,t!==null&&e0(t)),e}function e0(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function Yz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!vi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t){for(t&=~d1,t&=~Yg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ui(t),n=1<<r;e[r]=-1,t&=~n}}function qE(e){if(Ze&6)throw Error(ce(327));Gl();var t=Jp(e,0);if(!(t&1))return an(e,Vt()),null;var r=gm(e,t);if(e.tag!==0&&r===2){var n=Eb(e);n!==0&&(t=n,r=Zb(e,n))}if(r===1)throw r=Kd,js(e,0),Ka(e,t),an(e,Vt()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,Zr,na),an(e,Vt()),null}function h1(e,t){var r=Ze;Ze|=1;try{return e(t)}finally{Ze=r,Ze===0&&(Ec=Vt()+500,qg&&To())}}function Rs(e){so!==null&&so.tag===0&&!(Ze&6)&&Gl();var t=Ze;Ze|=1;var r=Fn.transition,n=st;try{if(Fn.transition=null,st=1,e)return e()}finally{st=n,Fn.transition=r,Ze=t,!(Ze&6)&&To()}}function p1(){pn=Dl.current,St(Dl)}function js(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ez(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(G_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&nm();break;case 3:jc(),St(rn),St(Mr),n1();break;case 5:r1(n);break;case 4:jc();break;case 13:St($t);break;case 19:St($t);break;case 10:J_(n.type._context);break;case 22:case 23:p1()}r=r.return}if(mr=e,Jt=e=yo(e.current,null),jr=pn=t,or=0,Kd=null,d1=Yg=$s=0,Zr=gd=null,os!==null){for(t=0;t<os.length;t++)if(r=os[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}os=null}return e}function Z$(e,t){do{var r=Jt;try{if(Q_(),$p.current=fm,dm){for(var n=Mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}dm=!1}if(ks=0,dr=nr=Mt=null,pd=!1,Wd=0,u1.current=null,r===null||r.return===null){or=1,Kd=t,Jt=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=jr,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kE(o);if(m!==null){m.flags&=-257,$E(m,o,s,a,t),m.mode&1&&TE(a,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var p=new Set;p.add(c),t.updateQueue=p}else y.add(c);break e}else{if(!(t&1)){TE(a,u,t),m1();break e}c=Error(ce(426))}}else if(Ot&&s.mode&1){var x=kE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$E(x,o,s,a,t),Y_(Sc(c,s));break e}}a=c=Sc(c,s),or!==4&&(or=2),gd===null?gd=[a]:gd.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=M$(a,c,t);EE(a,b);break e;case 1:s=c;var v=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(go===null||!go.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=D$(a,s,t);EE(a,j);break e}}a=a.return}while(a!==null)}r2(r)}catch(_){t=_,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function e2(){var e=hm.current;return hm.current=fm,e===null?fm:e}function m1(){(or===0||or===3||or===2)&&(or=4),mr===null||!($s&268435455)&&!(Yg&268435455)||Ka(mr,jr)}function gm(e,t){var r=Ze;Ze|=2;var n=e2();(mr!==e||jr!==t)&&(na=null,js(e,t));do try{Xz();break}catch(i){Z$(e,i)}while(!0);if(Q_(),Ze=r,hm.current=n,Jt!==null)throw Error(ce(261));return mr=null,jr=0,or}function Xz(){for(;Jt!==null;)t2(Jt)}function Qz(){for(;Jt!==null&&!_5();)t2(Jt)}function t2(e){var t=i2(e.alternate,e,pn);e.memoizedProps=e.pendingProps,t===null?r2(e):Jt=t,u1.current=null}function r2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wz(r,t),r!==null){r.flags&=32767,Jt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Jt=null;return}}else if(r=Vz(r,t,pn),r!==null){Jt=r;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);or===0&&(or=5)}function Xo(e,t,r){var n=st,i=Fn.transition;try{Fn.transition=null,st=1,Jz(e,t,r,n)}finally{Fn.transition=i,st=n}return null}function Jz(e,t,r,n){do Gl();while(so!==null);if(Ze&6)throw Error(ce(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(k5(e,a),e===mr&&(Jt=mr=null,jr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wh||(Wh=!0,a2(Qp,function(){return Gl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Fn.transition,Fn.transition=null;var o=st;st=1;var s=Ze;Ze|=4,u1.current=null,Hz(e,r),X$(r,e),yz(Tb),Zp=!!Cb,Tb=Cb=null,e.current=r,Kz(r),j5(),Ze=s,st=o,Fn.transition=a}else e.current=r;if(Wh&&(Wh=!1,so=e,mm=i),a=e.pendingLanes,a===0&&(go=null),O5(r.stateNode),an(e,Vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(pm)throw pm=!1,e=Qb,Qb=null,e;return mm&1&&e.tag!==0&&Gl(),a=e.pendingLanes,a&1?e===Jb?vd++:(vd=0,Jb=e):vd=0,To(),null}function Gl(){if(so!==null){var e=Mk(mm),t=Fn.transition,r=st;try{if(Fn.transition=null,st=16>e?16:e,so===null)var n=!1;else{if(e=so,so=null,mm=0,Ze&6)throw Error(ce(331));var i=Ze;for(Ze|=4,we=e.current;we!==null;){var a=we,o=a.child;if(we.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:md(8,d,a)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(K$(d),d===u){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var y=a.alternate;if(y!==null){var p=y.child;if(p!==null){y.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}we=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,we=o;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:md(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,we=b;break e}we=a.return}}var v=e.current;for(we=v;we!==null;){o=we;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,we=g;else e:for(o=v;we!==null;){if(s=we,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Gg(9,s)}}catch(_){Ft(s,s.return,_)}if(s===o){we=null;break e}var j=s.sibling;if(j!==null){j.return=s.return,we=j;break e}we=s.return}}if(Ze=i,To(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(Bg,e)}catch{}n=!0}return n}finally{st=r,Fn.transition=t}}return!1}function HE(e,t,r){t=Sc(r,t),t=M$(e,t,1),e=mo(e,t,1),t=Kr(),e!==null&&(Yf(e,1,t),an(e,t))}function Ft(e,t,r){if(e.tag===3)HE(e,e,r);else for(;t!==null;){if(t.tag===3){HE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(go===null||!go.has(n))){e=Sc(r,e),e=D$(t,e,1),t=mo(t,e,1),e=Kr(),t!==null&&(Yf(t,1,e),an(t,e));break}}t=t.return}}function Zz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kr(),e.pingedLanes|=e.suspendedLanes&r,mr===e&&(jr&r)===r&&(or===4||or===3&&(jr&130023424)===jr&&500>Vt()-f1?js(e,0):d1|=r),an(e,t)}function n2(e,t){t===0&&(e.mode&1?(t=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):t=1);var r=Kr();e=ja(e,t),e!==null&&(Yf(e,t,r),an(e,r))}function e6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),n2(e,r)}function t6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),n2(e,r)}var i2;i2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||rn.current)en=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return en=!1,zz(e,t,r);en=!!(e.flags&131072)}else en=!1,Ot&&t.flags&1048576&&l$(t,om,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ip(e,t),e=t.pendingProps;var i=bc(t,Mr.current);Kl(t,r),i=a1(null,t,n,e,i,r);var a=o1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,nn(n)?(a=!0,im(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,e1(t),i.updater=Kg,t.stateNode=i,i._reactInternals=t,Bb(t,n,e,r),t=Vb(null,t,n,!0,a,r)):(t.tag=0,Ot&&a&&K_(t),Ur(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ip(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=n6(n),e=Jn(n,e),i){case 0:t=zb(null,t,n,e,r);break e;case 1:t=ME(null,t,n,e,r);break e;case 11:t=RE(null,t,n,e,r);break e;case 14:t=IE(null,t,n,Jn(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),zb(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),ME(e,t,n,i,r);case 3:e:{if(U$(t),e===null)throw Error(ce(387));n=t.pendingProps,a=t.memoizedState,i=a.element,p$(e,t),cm(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Sc(Error(ce(423)),t),t=DE(e,t,n,r,i);break e}else if(n!==i){i=Sc(Error(ce(424)),t),t=DE(e,t,n,r,i);break e}else for(bn=po(t.stateNode.containerInfo.firstChild),wn=t,Ot=!0,ai=null,r=f$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wc(),n===i){t=Sa(e,t,r);break e}Ur(e,t,n,r)}t=t.child}return t;case 5:return m$(t),e===null&&Db(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,kb(n,i)?o=null:a!==null&&kb(n,a)&&(t.flags|=32),B$(e,t),Ur(e,t,o,r),t.child;case 6:return e===null&&Db(t),null;case 13:return z$(e,t,r);case 4:return t1(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_c(t,null,n,r):Ur(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),RE(e,t,n,i,r);case 7:return Ur(e,t,t.pendingProps,r),t.child;case 8:return Ur(e,t,t.pendingProps.children,r),t.child;case 12:return Ur(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,gt(sm,n._currentValue),n._currentValue=o,a!==null)if(vi(a.value,o)){if(a.children===i.children&&!rn.current){t=Sa(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=ga(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Lb(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ce(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),Lb(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ur(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Kl(t,r),i=zn(i),n=n(i),t.flags|=1,Ur(e,t,n,r),t.child;case 14:return n=t.type,i=Jn(n,t.pendingProps),i=Jn(n.type,i),IE(e,t,n,i,r);case 15:return L$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Jn(n,i),Ip(e,t),t.tag=1,nn(n)?(e=!0,im(t)):e=!1,Kl(t,r),I$(t,n,i),Bb(t,n,i,r),Vb(null,t,n,!0,e,r);case 19:return V$(e,t,r);case 22:return F$(e,t,r)}throw Error(ce(156,t.tag))};function a2(e,t){return kk(e,t)}function r6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(e,t,r,n){return new r6(e,t,r,n)}function g1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function n6(e){if(typeof e=="function")return g1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===I_)return 11;if(e===M_)return 14}return 2}function yo(e,t){var r=e.alternate;return r===null?(r=Dn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Lp(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")g1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Pl:return Ss(r.children,i,a,t);case R_:o=8,i|=8;break;case ub:return e=Dn(12,r,t,i|2),e.elementType=ub,e.lanes=a,e;case db:return e=Dn(13,r,t,i),e.elementType=db,e.lanes=a,e;case fb:return e=Dn(19,r,t,i),e.elementType=fb,e.lanes=a,e;case mk:return Xg(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hk:o=10;break e;case pk:o=9;break e;case I_:o=11;break e;case M_:o=14;break e;case Va:o=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Dn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Ss(e,t,r,n){return e=Dn(7,e,n,t),e.lanes=r,e}function Xg(e,t,r,n){return e=Dn(22,e,n,t),e.elementType=mk,e.lanes=r,e.stateNode={isHidden:!1},e}function nx(e,t,r){return e=Dn(6,e,null,t),e.lanes=r,e}function ix(e,t,r){return t=Dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ly(0),this.expirationTimes=Ly(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ly(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function v1(e,t,r,n,i,a,o,s,c){return e=new i6(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Dn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},e1(a),e}function a6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ol,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function o2(e){if(!e)return _o;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(nn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(nn(r))return o$(e,r,t)}return t}function s2(e,t,r,n,i,a,o,s,c){return e=v1(r,n,!0,e,i,a,o,s,c),e.context=o2(null),r=e.current,n=Kr(),i=vo(r),a=ga(n,i),a.callback=t??null,mo(r,a,i),e.current.lanes=i,Yf(e,i,n),an(e,n),e}function Qg(e,t,r,n){var i=t.current,a=Kr(),o=vo(i);return r=o2(r),t.context===null?t.context=r:t.pendingContext=r,t=ga(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mo(i,t,o),e!==null&&(di(e,i,o,a),kp(e,i,o)),o}function vm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function KE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function y1(e,t){KE(e,t),(e=e.alternate)&&KE(e,t)}function o6(){return null}var l2=typeof reportError=="function"?reportError:function(e){console.error(e)};function x1(e){this._internalRoot=e}Jg.prototype.render=x1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Qg(e,t,null,null)};Jg.prototype.unmount=x1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rs(function(){Qg(null,e,null,null)}),t[_a]=null}};function Jg(e){this._internalRoot=e}Jg.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ha.length&&t!==0&&t<Ha[r].priority;r++);Ha.splice(r,0,e),r===0&&Uk(e)}};function b1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GE(){}function s6(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=vm(o);a.call(u)}}var o=s2(t,n,e,0,null,!1,!1,"",GE);return e._reactRootContainer=o,e[_a]=o.current,Fd(e.nodeType===8?e.parentNode:e),Rs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=vm(c);s.call(u)}}var c=v1(e,0,!1,null,null,!1,!1,"",GE);return e._reactRootContainer=c,e[_a]=c.current,Fd(e.nodeType===8?e.parentNode:e),Rs(function(){Qg(t,c,r,n)}),c}function ev(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=vm(o);s.call(c)}}Qg(t,o,e,i)}else o=s6(r,t,e,i,n);return vm(o)}Dk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=td(t.pendingLanes);r!==0&&(F_(t,r|1),an(t,Vt()),!(Ze&6)&&(Ec=Vt()+500,To()))}break;case 13:Rs(function(){var n=ja(e,1);if(n!==null){var i=Kr();di(n,e,1,i)}}),y1(e,1)}};B_=function(e){if(e.tag===13){var t=ja(e,134217728);if(t!==null){var r=Kr();di(t,e,134217728,r)}y1(e,134217728)}};Lk=function(e){if(e.tag===13){var t=vo(e),r=ja(e,t);if(r!==null){var n=Kr();di(r,e,t,n)}y1(e,t)}};Fk=function(){return st};Bk=function(e,t){var r=st;try{return st=e,t()}finally{st=r}};_b=function(e,t,r){switch(t){case"input":if(mb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Wg(n);if(!i)throw Error(ce(90));vk(n),mb(n,i)}}}break;case"textarea":xk(e,r);break;case"select":t=r.value,t!=null&&Vl(e,!!r.multiple,t,!1)}};Ok=h1;Pk=Rs;var l6={usingClientEntryPoint:!1,Events:[Qf,Tl,Wg,Sk,Ek,h1]},Du={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c6={bundleType:Du.bundleType,version:Du.version,rendererPackageName:Du.rendererPackageName,rendererConfig:Du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ck(e),e===null?null:e.stateNode},findFiberByHostInstance:Du.findFiberByHostInstance||o6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qh.isDisabled&&qh.supportsFiber)try{Bg=qh.inject(c6),Ii=qh}catch{}}On.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6;On.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b1(t))throw Error(ce(200));return a6(e,t,null,r)};On.createRoot=function(e,t){if(!b1(e))throw Error(ce(299));var r=!1,n="",i=l2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=v1(e,1,!1,null,null,r,!1,n,i),e[_a]=t.current,Fd(e.nodeType===8?e.parentNode:e),new x1(t)};On.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Ck(t),e=e===null?null:e.stateNode,e};On.flushSync=function(e){return Rs(e)};On.hydrate=function(e,t,r){if(!Zg(t))throw Error(ce(200));return ev(null,e,t,!0,r)};On.hydrateRoot=function(e,t,r){if(!b1(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=l2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=s2(t,null,e,1,r??null,i,!1,a,o),e[_a]=t.current,Fd(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Jg(t)};On.render=function(e,t,r){if(!Zg(t))throw Error(ce(200));return ev(null,e,t,!1,r)};On.unmountComponentAtNode=function(e){if(!Zg(e))throw Error(ce(40));return e._reactRootContainer?(Rs(function(){ev(null,null,e,!1,function(){e._reactRootContainer=null,e[_a]=null})}),!0):!1};On.unstable_batchedUpdates=h1;On.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zg(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return ev(e,t,r,!1,n)};On.version="18.3.1-next-f1338f8080-20240426";function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(e){console.error(e)}}c2(),ck.exports=On;var Ys=ck.exports;const u6=ot(Ys);var u2,YE=Ys;u2=YE.createRoot,YE.hydrateRoot;function d6(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,a,o=[],s="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),s+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),s+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~n?"?":"")+"\\"+i.substring(a))):s+="/"+i;return{keys:o,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}var d2={exports:{}},f2={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=w;function f6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var h6=typeof Object.is=="function"?Object.is:f6,p6=Oc.useState,m6=Oc.useEffect,g6=Oc.useLayoutEffect,v6=Oc.useDebugValue;function y6(e,t){var r=t(),n=p6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return g6(function(){i.value=r,i.getSnapshot=t,ax(i)&&a({inst:i})},[e,r,t]),m6(function(){return ax(i)&&a({inst:i}),e(function(){ax(i)&&a({inst:i})})},[e]),v6(r),r}function ax(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!h6(e,r)}catch{return!0}}function x6(e,t){return t()}var b6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x6:y6;f2.useSyncExternalStore=Oc.useSyncExternalStore!==void 0?Oc.useSyncExternalStore:b6;d2.exports=f2;var w6=d2.exports;const _6=sk.useInsertionEffect,j6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S6=j6?w.useLayoutEffect:w.useEffect,E6=_6||S6,h2=e=>{const t=w.useRef([e,(...r)=>t[0](...r)]).current;return E6(()=>{t[0]=e}),t[1]},O6="popstate",w1="pushState",_1="replaceState",P6="hashchange",XE=[O6,w1,_1,P6],N6=e=>{for(const t of XE)addEventListener(t,e);return()=>{for(const t of XE)removeEventListener(t,e)}},p2=(e,t)=>w6.useSyncExternalStore(N6,e,t),A6=()=>location.search,C6=({ssrSearch:e=""}={})=>p2(A6,()=>e),QE=()=>location.pathname,T6=({ssrPath:e}={})=>p2(QE,e?()=>e:QE),k6=(e,{replace:t=!1,state:r=null}={})=>history[t?_1:w1](r,"",e),$6=(e={})=>[T6(e),k6],JE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[JE]>"u"){for(const e of[w1,_1]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,JE,{value:!0})}const R6=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",m2=(e="")=>e==="/"?"":e,I6=(e,t)=>e[0]==="~"?e.slice(1):m2(t)+e,M6=(e="",t)=>R6(ZE(m2(e)),ZE(t)),ZE=e=>{try{return decodeURI(e)}catch{return e}},g2={hook:$6,searchHook:C6,parser:d6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},v2=w.createContext(g2),su=()=>w.useContext(v2),y2={},x2=w.createContext(y2),j1=()=>w.useContext(x2),tv=e=>{const[t,r]=e.hook(e);return[M6(e.base,t),h2((n,i)=>r(I6(n,e.base),i))]},wi=()=>tv(su()),S1=(e,t,r,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[s,...c]=o;return s!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[s]:[]]:[!1,null]},b2=e=>S1(su().parser,e,wi()[0]),D6=({children:e,...t})=>{var d,f;const r=su(),n=t.hook?g2:r;let i=n;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let s=w.useRef({}),c=s.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(s.current=u={...u}),u[h]=m,m!==n[h]&&(i=u)}return w.createElement(v2.Provider,{value:i,children:e})},eO=({children:e,component:t},r)=>t?w.createElement(t,{params:r}):typeof e=="function"?e(r):e,L6=e=>{let t=w.useRef(y2),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},xr=({path:e,nest:t,match:r,...n})=>{const i=su(),[a]=tv(i),[o,s,c]=r??S1(i.parser,e,a,t),u=L6({...j1(),...s});if(!o)return null;const d=c?w.createElement(D6,{base:c},eO(n,u)):eO(n,u);return w.createElement(x2.Provider,{value:u,children:d})},Yl=w.forwardRef((e,t)=>{const r=su(),[n,i]=tv(r),{to:a="",href:o=a,onClick:s,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,y=h2(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(s==null||s(x),x.defaultPrevented||(x.preventDefault(),i(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:y,href:p}):w.createElement("a",{...m,onClick:y,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),w2=e=>Array.isArray(e)?e.flatMap(t=>w2(t&&t.type===w.Fragment?t.props.children:t)):[e],F6=({children:e,location:t})=>{const r=su(),[n]=tv(r);for(const i of w2(e)){let a=0;if(w.isValidElement(i)&&(a=S1(r.parser,i.props.path,t||n,i.props.nest))[0])return w.cloneElement(i,{match:a})}return null};var lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Is=typeof window>"u"||"Deno"in globalThis;function kn(){}function B6(e,t){return typeof e=="function"?e(t):e}function t0(e){return typeof e=="number"&&e>=0&&e!==1/0}function _2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xl(e,t){return typeof e=="function"?e(t):e}function oi(e,t){return typeof e=="function"?e(t):e}function tO(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==E1(o,t.options))return!1}else if(!Gd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function rO(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Ms(t.options.mutationKey)!==Ms(a))return!1}else if(!Gd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function E1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ms)(e)}function Ms(e){return JSON.stringify(e,(t,r)=>r0(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Gd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Gd(e[r],t[r])):!1}function j2(e,t){if(e===t)return e;const r=nO(e)&&nO(t);if(r||r0(e)&&r0(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=j2(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function ym(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function nO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function r0(e){if(!iO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!iO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function iO(e){return Object.prototype.toString.call(e)==="[object Object]"}function U6(e){return new Promise(t=>{setTimeout(t,e)})}function n0(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?j2(e,t):t}function z6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function V6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var O1=Symbol();function S2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===O1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var gs,Qa,oc,BT,W6=(BT=class extends lu{constructor(){super();Te(this,gs);Te(this,Qa);Te(this,oc);be(this,oc,t=>{if(!Is&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,Qa)||this.setEventListener(V(this,oc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Qa))==null||t.call(this),be(this,Qa,void 0))}setEventListener(t){var r;be(this,oc,t),(r=V(this,Qa))==null||r.call(this),be(this,Qa,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){V(this,gs)!==t&&(be(this,gs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,gs)=="boolean"?V(this,gs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},gs=new WeakMap,Qa=new WeakMap,oc=new WeakMap,BT),P1=new W6,sc,Ja,lc,UT,q6=(UT=class extends lu{constructor(){super();Te(this,sc,!0);Te(this,Ja);Te(this,lc);be(this,lc,t=>{if(!Is&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,Ja)||this.setEventListener(V(this,lc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ja))==null||t.call(this),be(this,Ja,void 0))}setEventListener(t){var r;be(this,lc,t),(r=V(this,Ja))==null||r.call(this),be(this,Ja,t(this.setOnline.bind(this)))}setOnline(t){V(this,sc)!==t&&(be(this,sc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return V(this,sc)}},sc=new WeakMap,Ja=new WeakMap,lc=new WeakMap,UT),xm=new q6;function i0(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function H6(e){return Math.min(1e3*2**e,3e4)}function E2(e){return(e??"online")==="online"?xm.isOnline():!0}var O2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ox(e){return e instanceof O2}function P2(e){let t=!1,r=0,n=!1,i;const a=i0(),o=p=>{var x;n||(h(new O2(p)),(x=e.abort)==null||x.call(e))},s=()=>{t=!0},c=()=>{t=!1},u=()=>P1.isFocused()&&(e.networkMode==="always"||xm.isOnline())&&e.canRun(),d=()=>E2(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),i==null||i(),a.resolve(p))},h=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),i==null||i(),a.reject(p))},m=()=>new Promise(p=>{var x;i=b=>{(n||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;i=void 0,n||(p=e.onContinue)==null||p.call(e)}),y=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(n)return;const v=e.retry??(Is?0:3),g=e.retryDelay??H6,j=typeof g=="function"?g(r,b):g,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!_){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),U6(j).then(()=>u()?void 0:m()).then(()=>{t?h(b):y()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:d,start:()=>(d()?y():m().then(y),a)}}function K6(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(c=>{r(c)})})})};return{batch:s=>{let c;t++;try{c=s()}finally{t--,t||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var ir=K6(),vs,zT,N2=(zT=class{constructor(){Te(this,vs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t0(this.gcTime)&&be(this,vs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Is?1/0:5*60*1e3))}clearGcTimeout(){V(this,vs)&&(clearTimeout(V(this,vs)),be(this,vs,void 0))}},vs=new WeakMap,zT),cc,uc,Tn,Ar,Wf,ys,ei,ra,VT,G6=(VT=class extends N2{constructor(t){super();Te(this,ei);Te(this,cc);Te(this,uc);Te(this,Tn);Te(this,Ar);Te(this,Wf);Te(this,ys);be(this,ys,!1),be(this,Wf,t.defaultOptions),this.setOptions(t.options),this.observers=[],be(this,Tn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,be(this,cc,Y6(this.options)),this.state=t.state??V(this,cc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Ar))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Wf),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Tn).remove(this)}setData(t,r){const n=n0(this.state.data,t,this.options);return Ke(this,ei,ra).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ke(this,ei,ra).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=V(this,Ar))==null?void 0:n.promise;return(i=V(this,Ar))==null||i.cancel(t),r?r.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,cc))}isActive(){return this.observers.some(t=>oi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===O1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!_2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,Ar))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,Ar))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,Tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,Ar)&&(V(this,ys)?V(this,Ar).cancel({revert:!0}):V(this,Ar).cancelRetry()),this.scheduleGc()),V(this,Tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ke(this,ei,ra).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,Ar))return V(this,Ar).continueRetry(),V(this,Ar).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(be(this,ys,!0),n.signal)})},a=()=>{const f=S2(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),be(this,ys,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),be(this,uc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Ke(this,ei,ra).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=f=>{var h,m,y,p;ox(f)&&f.silent||Ke(this,ei,ra).call(this,{type:"error",error:f}),ox(f)||((m=(h=V(this,Tn).config).onError)==null||m.call(h,f,this),(p=(y=V(this,Tn).config).onSettled)==null||p.call(y,this.state.data,f,this)),this.scheduleGc()};return be(this,Ar,P2({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,y,p;if(f===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){s(x);return}(m=(h=V(this,Tn).config).onSuccess)==null||m.call(h,f,this),(p=(y=V(this,Tn).config).onSettled)==null||p.call(y,f,this.state.error,this),this.scheduleGc()},onError:s,onFail:(f,h)=>{Ke(this,ei,ra).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Ke(this,ei,ra).call(this,{type:"pause"})},onContinue:()=>{Ke(this,ei,ra).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Ar).start()}},cc=new WeakMap,uc=new WeakMap,Tn=new WeakMap,Ar=new WeakMap,Wf=new WeakMap,ys=new WeakMap,ei=new WeakSet,ra=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...A2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return ox(i)&&i.revert&&V(this,uc)?{...V(this,uc),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,Tn).notify({query:this,type:"updated",action:t})})},VT);function A2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:E2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Y6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pi,WT,X6=(WT=class extends lu{constructor(t={}){super();Te(this,Pi);this.config=t,be(this,Pi,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??E1(i,r);let o=this.get(a);return o||(o=new G6({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){V(this,Pi).has(t.queryHash)||(V(this,Pi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,Pi).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,Pi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,Pi).get(t)}getAll(){return[...V(this,Pi).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>tO(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>tO(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Pi=new WeakMap,WT),Ni,Lr,xs,Ai,Ba,qT,Q6=(qT=class extends N2{constructor(t){super();Te(this,Ai);Te(this,Ni);Te(this,Lr);Te(this,xs);this.mutationId=t.mutationId,be(this,Lr,t.mutationCache),be(this,Ni,[]),this.state=t.state||C2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Ni).includes(t)||(V(this,Ni).push(t),this.clearGcTimeout(),V(this,Lr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){be(this,Ni,V(this,Ni).filter(r=>r!==t)),this.scheduleGc(),V(this,Lr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Ni).length||(this.state.status==="pending"?this.scheduleGc():V(this,Lr).remove(this))}continue(){var t;return((t=V(this,xs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,c,u,d,f,h,m,y,p,x,b,v,g,j,_,S,E;be(this,xs,P2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,N)=>{Ke(this,Ai,Ba).call(this,{type:"failed",failureCount:O,error:N})},onPause:()=>{Ke(this,Ai,Ba).call(this,{type:"pause"})},onContinue:()=>{Ke(this,Ai,Ba).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Lr).canRun(this)}));const r=this.state.status==="pending",n=!V(this,xs).canStart();try{if(!r){Ke(this,Ai,Ba).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=V(this,Lr).config).onMutate)==null?void 0:a.call(i,t,this));const N=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));N!==this.state.context&&Ke(this,Ai,Ba).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const O=await V(this,xs).start();return await((u=(c=V(this,Lr).config).onSuccess)==null?void 0:u.call(c,O,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,O,t,this.state.context)),await((m=(h=V(this,Lr).config).onSettled)==null?void 0:m.call(h,O,null,this.state.variables,this.state.context,this)),await((p=(y=this.options).onSettled)==null?void 0:p.call(y,O,null,t,this.state.context)),Ke(this,Ai,Ba).call(this,{type:"success",data:O}),O}catch(O){try{throw await((b=(x=V(this,Lr).config).onError)==null?void 0:b.call(x,O,t,this.state.context,this)),await((g=(v=this.options).onError)==null?void 0:g.call(v,O,t,this.state.context)),await((_=(j=V(this,Lr).config).onSettled)==null?void 0:_.call(j,void 0,O,this.state.variables,this.state.context,this)),await((E=(S=this.options).onSettled)==null?void 0:E.call(S,void 0,O,t,this.state.context)),O}finally{Ke(this,Ai,Ba).call(this,{type:"error",error:O})}}finally{V(this,Lr).runNext(this)}}},Ni=new WeakMap,Lr=new WeakMap,xs=new WeakMap,Ai=new WeakSet,Ba=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{V(this,Ni).forEach(n=>{n.onMutationUpdate(t)}),V(this,Lr).notify({mutation:this,type:"updated",action:t})})},qT);function C2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hn,qf,HT,J6=(HT=class extends lu{constructor(t={}){super();Te(this,hn);Te(this,qf);this.config=t,be(this,hn,new Map),be(this,qf,Date.now())}build(t,r,n){const i=new Q6({mutationCache:this,mutationId:++Ph(this,qf)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Hh(t),n=V(this,hn).get(r)??[];n.push(t),V(this,hn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Hh(t);if(V(this,hn).has(r)){const i=(n=V(this,hn).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?V(this,hn).delete(r):V(this,hn).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=V(this,hn).get(Hh(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=V(this,hn).get(Hh(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,hn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>rO(r,n))}findAll(t={}){return this.getAll().filter(r=>rO(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(kn))))}},hn=new WeakMap,qf=new WeakMap,HT);function Hh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function aO(e){return{onFetch:(t,r)=>{var d,f,h,m,y;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((y=t.state.data)==null?void 0:y.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=S2(t.options,t.fetchOptions),v=async(g,j,_)=>{if(p)return Promise.reject();if(j==null&&g.pages.length)return Promise.resolve(g);const S={queryKey:t.queryKey,pageParam:j,direction:_?"backward":"forward",meta:t.options.meta};x(S);const E=await b(S),{maxPages:O}=t.options,N=_?V6:z6;return{pages:N(g.pages,E,O),pageParams:N(g.pageParams,j,O)}};if(i&&a.length){const g=i==="backward",j=g?Z6:oO,_={pages:a,pageParams:o},S=j(n,_);s=await v(_,S,g)}else{const g=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:oO(n,s);if(c>0&&j==null)break;s=await v(s,j),c++}while(c<g)}return s};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function oO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Z6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Lt,Za,eo,dc,fc,to,hc,pc,KT,e8=(KT=class{constructor(e={}){Te(this,Lt);Te(this,Za);Te(this,eo);Te(this,dc);Te(this,fc);Te(this,to);Te(this,hc);Te(this,pc);be(this,Lt,e.queryCache||new X6),be(this,Za,e.mutationCache||new J6),be(this,eo,e.defaultOptions||{}),be(this,dc,new Map),be(this,fc,new Map),be(this,to,0)}mount(){Ph(this,to)._++,V(this,to)===1&&(be(this,hc,P1.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Lt).onFocus())})),be(this,pc,xm.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Lt).onOnline())})))}unmount(){var e,t;Ph(this,to)._--,V(this,to)===0&&((e=V(this,hc))==null||e.call(this),be(this,hc,void 0),(t=V(this,pc))==null||t.call(this),be(this,pc,void 0))}isFetching(e){return V(this,Lt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Za).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Lt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=V(this,Lt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Xl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,Lt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=V(this,Lt).get(n.queryHash),a=i==null?void 0:i.state.data,o=B6(t,a);if(o!==void 0)return V(this,Lt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>V(this,Lt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Lt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,Lt);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,Lt),n={type:"active",...e};return ir.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ir.batch(()=>V(this,Lt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(kn).catch(kn)}invalidateQueries(e={},t={}){return ir.batch(()=>{if(V(this,Lt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ir.batch(()=>V(this,Lt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(kn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,Lt).build(this,t);return r.isStaleByTime(Xl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kn).catch(kn)}fetchInfiniteQuery(e){return e.behavior=aO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kn).catch(kn)}ensureInfiniteQueryData(e){return e.behavior=aO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xm.isOnline()?V(this,Za).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Lt)}getMutationCache(){return V(this,Za)}getDefaultOptions(){return V(this,eo)}setDefaultOptions(e){be(this,eo,e)}setQueryDefaults(e,t){V(this,dc).set(Ms(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,dc).values()];let r={};return t.forEach(n=>{Gd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){V(this,fc).set(Ms(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,fc).values()];let r={};return t.forEach(n=>{Gd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,eo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=E1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===O1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,eo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Lt).clear(),V(this,Za).clear()}},Lt=new WeakMap,Za=new WeakMap,eo=new WeakMap,dc=new WeakMap,fc=new WeakMap,to=new WeakMap,hc=new WeakMap,pc=new WeakMap,KT),Qr,Qe,Hf,Fr,bs,mc,ro,Ci,Kf,gc,vc,ws,_s,no,yc,at,nd,a0,o0,s0,l0,c0,u0,d0,T2,GT,t8=(GT=class extends lu{constructor(t,r){super();Te(this,at);Te(this,Qr);Te(this,Qe);Te(this,Hf);Te(this,Fr);Te(this,bs);Te(this,mc);Te(this,ro);Te(this,Ci);Te(this,Kf);Te(this,gc);Te(this,vc);Te(this,ws);Te(this,_s);Te(this,no);Te(this,yc,new Set);this.options=r,be(this,Qr,t),be(this,Ci,null),be(this,ro,i0()),this.options.experimental_prefetchInRender||V(this,ro).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Qe).addObserver(this),sO(V(this,Qe),this.options)?Ke(this,at,nd).call(this):this.updateResult(),Ke(this,at,l0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return f0(V(this,Qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return f0(V(this,Qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ke(this,at,c0).call(this),Ke(this,at,u0).call(this),V(this,Qe).removeObserver(this)}setOptions(t,r){const n=this.options,i=V(this,Qe);if(this.options=V(this,Qr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof oi(this.options.enabled,V(this,Qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ke(this,at,d0).call(this),V(this,Qe).setOptions(this.options),n._defaulted&&!ym(this.options,n)&&V(this,Qr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Qe),observer:this});const a=this.hasListeners();a&&lO(V(this,Qe),i,this.options,n)&&Ke(this,at,nd).call(this),this.updateResult(r),a&&(V(this,Qe)!==i||oi(this.options.enabled,V(this,Qe))!==oi(n.enabled,V(this,Qe))||Xl(this.options.staleTime,V(this,Qe))!==Xl(n.staleTime,V(this,Qe)))&&Ke(this,at,a0).call(this);const o=Ke(this,at,o0).call(this);a&&(V(this,Qe)!==i||oi(this.options.enabled,V(this,Qe))!==oi(n.enabled,V(this,Qe))||o!==V(this,no))&&Ke(this,at,s0).call(this,o)}getOptimisticResult(t){const r=V(this,Qr).getQueryCache().build(V(this,Qr),t),n=this.createResult(r,t);return n8(this,n)&&(be(this,Fr,n),be(this,mc,this.options),be(this,bs,V(this,Qe).state)),n}getCurrentResult(){return V(this,Fr)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){V(this,yc).add(t)}getCurrentQuery(){return V(this,Qe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=V(this,Qr).defaultQueryOptions(t),n=V(this,Qr).getQueryCache().build(V(this,Qr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ke(this,at,nd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Fr)))}createResult(t,r){var O;const n=V(this,Qe),i=this.options,a=V(this,Fr),o=V(this,bs),s=V(this,mc),u=t!==n?t.state:V(this,Hf),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const N=this.hasListeners(),M=!N&&sO(t,r),T=N&&lO(t,n,r,i);(M||T)&&(f={...f,...A2(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:y,errorUpdatedAt:p,status:x}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===V(this,Kf))m=V(this,gc);else try{be(this,Kf,r.select),m=r.select(f.data),m=n0(a==null?void 0:a.data,m,r),be(this,gc,m),be(this,Ci,null)}catch(N){be(this,Ci,N)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let N;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))N=a.data;else if(N=typeof r.placeholderData=="function"?r.placeholderData((O=V(this,vc))==null?void 0:O.state.data,V(this,vc)):r.placeholderData,r.select&&N!==void 0)try{N=r.select(N),be(this,Ci,null)}catch(M){be(this,Ci,M)}N!==void 0&&(x="success",m=n0(a==null?void 0:a.data,N,r),h=!0)}V(this,Ci)&&(y=V(this,Ci),m=V(this,gc),p=Date.now(),x="error");const b=f.fetchStatus==="fetching",v=x==="pending",g=x==="error",j=v&&b,_=m!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:v,isSuccess:x==="success",isError:g,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:y,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!v,isLoadingError:g&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&_,isStale:N1(t,r),refetch:this.refetch,promise:V(this,ro)};if(this.options.experimental_prefetchInRender){const N=I=>{E.status==="error"?I.reject(E.error):E.data!==void 0&&I.resolve(E.data)},M=()=>{const I=be(this,ro,E.promise=i0());N(I)},T=V(this,ro);switch(T.status){case"pending":t.queryHash===n.queryHash&&N(T);break;case"fulfilled":(E.status==="error"||E.data!==T.value)&&M();break;case"rejected":(E.status!=="error"||E.error!==T.reason)&&M();break}}return E}updateResult(t){const r=V(this,Fr),n=this.createResult(V(this,Qe),this.options);if(be(this,bs,V(this,Qe).state),be(this,mc,this.options),V(this,bs).data!==void 0&&be(this,vc,V(this,Qe)),ym(n,r))return;be(this,Fr,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!V(this,yc).size)return!0;const c=new Set(s??V(this,yc));return this.options.throwOnError&&c.add("error"),Object.keys(V(this,Fr)).some(u=>{const d=u;return V(this,Fr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Ke(this,at,T2).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ke(this,at,l0).call(this)}},Qr=new WeakMap,Qe=new WeakMap,Hf=new WeakMap,Fr=new WeakMap,bs=new WeakMap,mc=new WeakMap,ro=new WeakMap,Ci=new WeakMap,Kf=new WeakMap,gc=new WeakMap,vc=new WeakMap,ws=new WeakMap,_s=new WeakMap,no=new WeakMap,yc=new WeakMap,at=new WeakSet,nd=function(t){Ke(this,at,d0).call(this);let r=V(this,Qe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(kn)),r},a0=function(){Ke(this,at,c0).call(this);const t=Xl(this.options.staleTime,V(this,Qe));if(Is||V(this,Fr).isStale||!t0(t))return;const n=_2(V(this,Fr).dataUpdatedAt,t)+1;be(this,ws,setTimeout(()=>{V(this,Fr).isStale||this.updateResult()},n))},o0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Qe)):this.options.refetchInterval)??!1},s0=function(t){Ke(this,at,u0).call(this),be(this,no,t),!(Is||oi(this.options.enabled,V(this,Qe))===!1||!t0(V(this,no))||V(this,no)===0)&&be(this,_s,setInterval(()=>{(this.options.refetchIntervalInBackground||P1.isFocused())&&Ke(this,at,nd).call(this)},V(this,no)))},l0=function(){Ke(this,at,a0).call(this),Ke(this,at,s0).call(this,Ke(this,at,o0).call(this))},c0=function(){V(this,ws)&&(clearTimeout(V(this,ws)),be(this,ws,void 0))},u0=function(){V(this,_s)&&(clearInterval(V(this,_s)),be(this,_s,void 0))},d0=function(){const t=V(this,Qr).getQueryCache().build(V(this,Qr),this.options);if(t===V(this,Qe))return;const r=V(this,Qe);be(this,Qe,t),be(this,Hf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},T2=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(V(this,Fr))}),V(this,Qr).getQueryCache().notify({query:V(this,Qe),type:"observerResultsUpdated"})})},GT);function r8(e,t){return oi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function sO(e,t){return r8(e,t)||e.state.data!==void 0&&f0(e,t,t.refetchOnMount)}function f0(e,t,r){if(oi(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&N1(e,t)}return!1}function lO(e,t,r,n){return(e!==t||oi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&N1(e,r)}function N1(e,t){return oi(t.enabled,e)!==!1&&e.isStaleByTime(Xl(t.staleTime,e))}function n8(e,t){return!ym(e.getCurrentResult(),t)}var io,ao,Jr,sa,ba,Fp,h0,YT,i8=(YT=class extends lu{constructor(r,n){super();Te(this,ba);Te(this,io);Te(this,ao);Te(this,Jr);Te(this,sa);be(this,io,r),this.setOptions(n),this.bindMethods(),Ke(this,ba,Fp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=V(this,io).defaultMutationOptions(r),ym(this.options,n)||V(this,io).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Jr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ms(n.mutationKey)!==Ms(this.options.mutationKey)?this.reset():((i=V(this,Jr))==null?void 0:i.state.status)==="pending"&&V(this,Jr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,Jr))==null||r.removeObserver(this)}onMutationUpdate(r){Ke(this,ba,Fp).call(this),Ke(this,ba,h0).call(this,r)}getCurrentResult(){return V(this,ao)}reset(){var r;(r=V(this,Jr))==null||r.removeObserver(this),be(this,Jr,void 0),Ke(this,ba,Fp).call(this),Ke(this,ba,h0).call(this)}mutate(r,n){var i;return be(this,sa,n),(i=V(this,Jr))==null||i.removeObserver(this),be(this,Jr,V(this,io).getMutationCache().build(V(this,io),this.options)),V(this,Jr).addObserver(this),V(this,Jr).execute(r)}},io=new WeakMap,ao=new WeakMap,Jr=new WeakMap,sa=new WeakMap,ba=new WeakSet,Fp=function(){var n;const r=((n=V(this,Jr))==null?void 0:n.state)??C2();be(this,ao,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},h0=function(r){ir.batch(()=>{var n,i,a,o,s,c,u,d;if(V(this,sa)&&this.hasListeners()){const f=V(this,ao).variables,h=V(this,ao).context;(r==null?void 0:r.type)==="success"?((i=(n=V(this,sa)).onSuccess)==null||i.call(n,r.data,f,h),(o=(a=V(this,sa)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(s=V(this,sa)).onError)==null||c.call(s,r.error,f,h),(d=(u=V(this,sa)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(V(this,ao))})})},YT),k2=w.createContext(void 0),Zf=e=>{const t=w.useContext(k2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},a8=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(k2.Provider,{value:e,children:t})),$2=w.createContext(!1),o8=()=>w.useContext($2);$2.Provider;function s8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var l8=w.createContext(s8()),c8=()=>w.useContext(l8);function R2(e,t){return typeof e=="function"?e(...t):!!e}function p0(){}var u8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},d8=e=>{w.useEffect(()=>{e.clearReset()},[e])},f8=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&R2(r,[e.error,n]),h8=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},p8=(e,t)=>e.isLoading&&e.isFetching&&!t,m8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,cO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function g8(e,t,r){var d,f,h,m,y;const n=Zf(),i=o8(),a=c8(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",h8(o),u8(o,a),d8(a);const s=!n.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(p=>{const x=i?p0:c.subscribe(ir.batchCalls(p));return c.updateResult(),x},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),m8(o,u))throw cO(o,c,a);if(f8({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!Is&&p8(u,i)){const p=s?cO(o,c,a):(y=n.getQueryCache().get(o.queryHash))==null?void 0:y.promise;p==null||p.catch(p0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function it(e,t){return g8(e,t8)}function Es(e,t){const r=Zf(),[n]=w.useState(()=>new i8(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const i=w.useSyncExternalStore(w.useCallback(o=>n.subscribe(ir.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((o,s)=>{n.mutate(o,s).catch(p0)},[n]);if(i.error&&R2(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const v8={totalRevenue:15e4,totalClients:45,pendingPayments:12,activeSubscriptions:28,monthlyRecurringRevenue:25e3,overduePayments:3},I2=[{id:"1",name:"Juan Perez",email:"juan@example.com",phone:"9999-9999",projectName:"Website E-commerce",projectDescription:"Tienda en linea de ropa",paymentType:"cuotas",totalAmount:"15000.00",numberOfPayments:3,createdAt:new Date("2024-01-15"),amountPaid:5e3,amountPending:1e4,payments:[]},{id:"2",name:"Maria Garcia",email:"maria@example.com",phone:"8888-8888",projectName:"Sistema de Inventario",projectDescription:"Sistema para ferreteria",paymentType:"unico",totalAmount:"25000.00",numberOfPayments:1,createdAt:new Date("2024-02-01"),amountPaid:25e3,amountPending:0,payments:[]},{id:"3",name:"Carlos Rodriguez",email:"carlos@example.com",phone:"7777-7777",projectName:"Mantenimiento Mensual",projectDescription:"Soporte tecnico",paymentType:"suscripcion",totalAmount:"1000.00",numberOfPayments:1,createdAt:new Date("2024-03-01"),amountPaid:1e3,amountPending:0,payments:[]}],y8=[{payment:{id:"p1",clientId:"1",amount:"5000.00",status:"pagado",dueDate:new Date("2024-03-15"),paidDate:new Date("2024-03-14"),paymentNumber:1,notes:"Primer pago"},clientName:"Juan Perez"},{payment:{id:"p2",clientId:"2",amount:"25000.00",status:"pagado",dueDate:new Date("2024-02-01"),paidDate:new Date("2024-02-01"),paymentNumber:1,notes:"Pago completo"},clientName:"Maria Garcia"}],x8=[{payment:{id:"p3",clientId:"1",amount:"5000.00",status:"pendiente",dueDate:new Date(new Date().setDate(new Date().getDate()+2)),paidDate:null,paymentNumber:2,notes:"Segundo pago"},clientName:"Juan Perez"},{payment:{id:"p4",clientId:"3",amount:"1000.00",status:"pendiente",dueDate:new Date(new Date().setDate(new Date().getDate()+5)),paidDate:null,paymentNumber:1,notes:"Suscripcion Abril"},clientName:"Carlos Rodriguez"}],b8=[{month:"Ene",revenue:12e3,subscriptions:5e3,oneTime:7e3},{month:"Feb",revenue:18e3,subscriptions:6e3,oneTime:12e3},{month:"Mar",revenue:15e3,subscriptions:7e3,oneTime:8e3},{month:"Abr",revenue:22e3,subscriptions:8e3,oneTime:14e3},{month:"May",revenue:25e3,subscriptions:9e3,oneTime:16e3},{month:"Jun",revenue:28e3,subscriptions:1e4,oneTime:18e3}],w8=({on401:e})=>async({queryKey:t})=>{const r=t.join("/");if(r==="/api/stats")return v8;if(r==="/api/clients")return I2;if(r==="/api/payments/recent")return y8;if(r==="/api/payments/upcoming")return x8;if(r==="/api/stats/revenue")return b8;if(r.startsWith("/api/")){const n=await fetch(r,{credentials:"include"});if(n.status===401){if(e==="returnNull")return null;throw new Error("401 Unauthorized")}if(!n.ok){const a=await n.text();throw new Error(`${n.status}: ${a||n.statusText}`)}return(n.headers.get("content-type")||"").includes("application/json")?await n.json():await n.text()}return console.warn(`No mock data found for path: ${r}`),null},jt=new e8({defaultOptions:{queries:{queryFn:w8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),_8=1,j8=1e6;let sx=0;function S8(){return sx=(sx+1)%Number.MAX_SAFE_INTEGER,sx.toString()}const lx=new Map,uO=e=>{if(lx.has(e))return;const t=setTimeout(()=>{lx.delete(e),yd({type:"REMOVE_TOAST",toastId:e})},j8);lx.set(e,t)},E8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,_8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?uO(r):e.toasts.forEach(n=>{uO(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Bp=[];let Up={toasts:[]};function yd(e){Up=E8(Up,e),Bp.forEach(t=>{t(Up)})}function O8({...e}){const t=S8(),r=i=>yd({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>yd({type:"DISMISS_TOAST",toastId:t});return yd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function vr(){const[e,t]=w.useState(Up);return w.useEffect(()=>(Bp.push(t),()=>{const r=Bp.indexOf(t);r>-1&&Bp.splice(r,1)}),[e]),{...e,toast:O8,dismiss:r=>yd({type:"DISMISS_TOAST",toastId:r})}}function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function dO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ea(...e){return t=>{let r=!1;const n=e.map(i=>{const a=dO(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():dO(e[i],null)}}}}function Je(...e){return w.useCallback(Ea(...e),e)}function P8(e,t){const r=w.createContext(t),n=a=>{const{children:o,...s}=a,c=w.useMemo(()=>s,Object.values(s));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function on(e,t=[]){let r=[];function n(a,o){const s=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...y}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||s,x=w.useMemo(()=>y,Object.values(y));return l.jsx(p.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||s,y=w.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(s){const c=(s==null?void 0:s[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return i.scopeName=e,[n,N8(i,...t)]}function N8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...s,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function jo(e){const t=A8(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,s=w.Children.toArray(a),c=s.find(T8);if(c){const u=c.props.children,d=s.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var rv=jo("Slot");function A8(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=$8(i),s=k8(a,i.props);return i.type!==w.Fragment&&(s.ref=n?Ea(n,o):o),w.cloneElement(i,s)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M2=Symbol("radix.slottable");function C8(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=M2,t}function T8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M2}function k8(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function $8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function nv(e){const t=e+"CollectionProvider",[r,n]=on(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,v=L.useRef(null),g=L.useRef(new Map).current;return l.jsx(i,{scope:x,itemMap:g,collectionRef:v,children:b})};o.displayName=t;const s=e+"CollectionSlot",c=jo(s),u=L.forwardRef((p,x)=>{const{scope:b,children:v}=p,g=a(s,b),j=Je(x,g.collectionRef);return l.jsx(c,{ref:j,children:v})});u.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=jo(d),m=L.forwardRef((p,x)=>{const{scope:b,children:v,...g}=p,j=L.useRef(null),_=Je(x,j),S=a(d,b);return L.useEffect(()=>(S.itemMap.set(j,{ref:j,...g}),()=>void S.itemMap.delete(j))),l.jsx(h,{[f]:"",ref:_,children:v})});m.displayName=d;function y(p){const x=a(e+"CollectionConsumer",p);return L.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,E)=>g.indexOf(S.ref.current)-g.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},y,n]}var R8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Se=R8.reduce((e,t)=>{const r=jo(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function A1(e,t){e&&Ys.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function I8(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var M8="DismissableLayer",m0="dismissableLayer.update",D8="dismissableLayer.pointerDownOutside",L8="dismissableLayer.focusOutside",fO,D2=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xs=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,u=w.useContext(D2),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),y=Je(t,E=>f(E)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),v=d?p.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,_=B8(E=>{const O=E.target,N=[...u.branches].some(M=>M.contains(O));!j||N||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},h),S=U8(E=>{const O=E.target;[...u.branches].some(M=>M.contains(O))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},h);return I8(E=>{v===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=fO)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hO())},[d,u]),w.useEffect(()=>{const E=()=>m({});return document.addEventListener(m0,E),()=>document.removeEventListener(m0,E)},[]),l.jsx(Se.div,{...c,ref:y,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,_.onPointerDownCapture)})});Xs.displayName=M8;var F8="DismissableLayerBranch",L2=w.forwardRef((e,t)=>{const r=w.useContext(D2),n=w.useRef(null),i=Je(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(Se.div,{...e,ref:i})});L2.displayName=F8;function B8(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){F2(D8,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function U8(e,t=globalThis==null?void 0:globalThis.document){const r=Er(e),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&F2(L8,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hO(){const e=new CustomEvent(m0);document.dispatchEvent(e)}function F2(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?A1(i,a):i.dispatchEvent(a)}var z8=Xs,V8=L2,lr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},W8="Portal",cu=w.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[i,a]=w.useState(!1);lr(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?u6.createPortal(l.jsx(Se.div,{...n,ref:t}),o):null});cu.displayName=W8;function q8(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var sn=e=>{const{present:t,children:r}=e,n=H8(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Je(n.ref,K8(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};sn.displayName="Presence";function H8(e){const[t,r]=w.useState(),n=w.useRef({}),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[s,c]=q8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Kh(n.current);a.current=s==="mounted"?u:"none"},[s]),lr(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,m=Kh(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Kh(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(a.current=Kh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:w.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Kh(e){return(e==null?void 0:e.animationName)||"none"}function K8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=G8({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=Er(r),c=w.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[a,e,i,s]);return[o,c]}function G8({defaultProp:e,onChange:t}){const r=w.useState(e),[n]=r,i=w.useRef(n),a=Er(t);return w.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var Y8="VisuallyHidden",eh=w.forwardRef((e,t)=>l.jsx(Se.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));eh.displayName=Y8;var X8=eh,C1="ToastProvider",[T1,Q8,J8]=nv("Toast"),[B2,dEe]=on("Toast",[J8]),[Z8,iv]=B2(C1),U2=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${C1}\`. Expected non-empty \`string\`.`),l.jsx(T1.Provider,{scope:t,children:l.jsx(Z8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};U2.displayName=C1;var z2="ToastViewport",eV=["F8"],g0="toast.viewportPause",v0="toast.viewportResume",V2=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=eV,label:i="Notifications ({hotkey})",...a}=e,o=iv(z2,r),s=Q8(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Je(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;w.useEffect(()=>{const x=b=>{var g;n.length!==0&&n.every(j=>b[j]||b.code===j)&&((g=f.current)==null||g.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),w.useEffect(()=>{const x=c.current,b=f.current;if(y&&x&&b){const v=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(g0);b.dispatchEvent(S),o.isClosePausedRef.current=!0}},g=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(v0);b.dispatchEvent(S),o.isClosePausedRef.current=!1}},j=S=>{!x.contains(S.relatedTarget)&&g()},_=()=>{x.contains(document.activeElement)||g()};return x.addEventListener("focusin",v),x.addEventListener("focusout",j),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",_),window.addEventListener("blur",v),window.addEventListener("focus",g),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",j),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",v),window.removeEventListener("focus",g)}}},[y,o.isClosePausedRef]);const p=w.useCallback(({tabbingDirection:x})=>{const v=s().map(g=>{const j=g.ref.current,_=[j,...hV(j)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?v.reverse():v).flat()},[s]);return w.useEffect(()=>{const x=f.current;if(x){const b=v=>{var _,S,E;const g=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!g){const O=document.activeElement,N=v.shiftKey;if(v.target===x&&N){(_=u.current)==null||_.focus();return}const I=p({tabbingDirection:N?"backwards":"forwards"}),A=I.findIndex(P=>P===O);cx(I.slice(A+1))?v.preventDefault():N?(S=u.current)==null||S.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[s,p]),l.jsxs(V8,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(y0,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});cx(x)}}),l.jsx(T1.Slot,{scope:r,children:l.jsx(Se.ol,{tabIndex:-1,...a,ref:h})}),y&&l.jsx(y0,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});cx(x)}})]})});V2.displayName=z2;var W2="ToastFocusProxy",y0=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=iv(W2,r);return l.jsx(eh,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&n()}})});y0.displayName=W2;var av="Toast",tV="toast.swipeStart",rV="toast.swipeMove",nV="toast.swipeCancel",iV="toast.swipeEnd",q2=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s=!0,c]=qi({prop:n,defaultProp:i,onChange:a});return l.jsx(sn,{present:r||s,children:l.jsx(sV,{open:s,...o,ref:t,onClose:()=>c(!1),onPause:Er(e.onPause),onResume:Er(e.onResume),onSwipeStart:pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});q2.displayName=av;var[aV,oV]=B2(av,{onClose(){}}),sV=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...y}=e,p=iv(av,r),[x,b]=w.useState(null),v=Je(t,P=>b(P)),g=w.useRef(null),j=w.useRef(null),_=i||p.duration,S=w.useRef(0),E=w.useRef(_),O=w.useRef(0),{onToastAdd:N,onToastRemove:M}=p,T=Er(()=>{var $;(x==null?void 0:x.contains(document.activeElement))&&(($=p.viewport)==null||$.focus()),o()}),I=w.useCallback(P=>{!P||P===1/0||(window.clearTimeout(O.current),S.current=new Date().getTime(),O.current=window.setTimeout(T,P))},[T]);w.useEffect(()=>{const P=p.viewport;if(P){const $=()=>{I(E.current),u==null||u()},R=()=>{const B=new Date().getTime()-S.current;E.current=E.current-B,window.clearTimeout(O.current),c==null||c()};return P.addEventListener(g0,R),P.addEventListener(v0,$),()=>{P.removeEventListener(g0,R),P.removeEventListener(v0,$)}}},[p.viewport,_,c,u,I]),w.useEffect(()=>{a&&!p.isClosePausedRef.current&&I(_)},[a,_,p.isClosePausedRef,I]),w.useEffect(()=>(N(),()=>M()),[N,M]);const A=w.useMemo(()=>x?J2(x):null,[x]);return p.viewport?l.jsxs(l.Fragment,{children:[A&&l.jsx(lV,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:A}),l.jsx(aV,{scope:r,onClose:T,children:Ys.createPortal(l.jsx(T1.ItemSlot,{scope:r,children:l.jsx(z8,{asChild:!0,onEscapeKeyDown:pe(s,()=>{p.isFocusedToastEscapeKeyDownRef.current||T(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(Se.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,P=>{P.key==="Escape"&&(s==null||s(P.nativeEvent),P.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:pe(e.onPointerDown,P=>{P.button===0&&(g.current={x:P.clientX,y:P.clientY})}),onPointerMove:pe(e.onPointerMove,P=>{if(!g.current)return;const $=P.clientX-g.current.x,R=P.clientY-g.current.y,B=!!j.current,C=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=C?D(0,$):0,G=C?0:D(0,R),k=P.pointerType==="touch"?10:2,F={x:H,y:G},K={originalEvent:P,delta:F};B?(j.current=F,Gh(rV,f,K,{discrete:!1})):pO(F,p.swipeDirection,k)?(j.current=F,Gh(tV,d,K,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs($)>k||Math.abs(R)>k)&&(g.current=null)}),onPointerUp:pe(e.onPointerUp,P=>{const $=j.current,R=P.target;if(R.hasPointerCapture(P.pointerId)&&R.releasePointerCapture(P.pointerId),j.current=null,g.current=null,$){const B=P.currentTarget,C={originalEvent:P,delta:$};pO($,p.swipeDirection,p.swipeThreshold)?Gh(iV,m,C,{discrete:!0}):Gh(nV,h,C,{discrete:!0}),B.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),lV=e=>{const{__scopeToast:t,children:r,...n}=e,i=iv(av,t),[a,o]=w.useState(!1),[s,c]=w.useState(!1);return dV(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:l.jsx(cu,{asChild:!0,children:l.jsx(eh,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},cV="ToastTitle",H2=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Se.div,{...n,ref:t})});H2.displayName=cV;var uV="ToastDescription",K2=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(Se.div,{...n,ref:t})});K2.displayName=uV;var G2="ToastAction",Y2=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(Q2,{altText:r,asChild:!0,children:l.jsx(k1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${G2}\`. Expected non-empty \`string\`.`),null)});Y2.displayName=G2;var X2="ToastClose",k1=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=oV(X2,r);return l.jsx(Q2,{asChild:!0,children:l.jsx(Se.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,i.onClose)})})});k1.displayName=X2;var Q2=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return l.jsx(Se.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function J2(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),fV(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...J2(n))}}),t}function Gh(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?A1(i,a):i.dispatchEvent(a)}var pO=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function dV(e=()=>{}){const t=Er(e);lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function fV(e){return e.nodeType===e.ELEMENT_NODE}function hV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function cx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var pV=U2,Z2=V2,eR=q2,tR=H2,rR=K2,nR=Y2,iR=k1;function aR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=aR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=aR(e))&&(n&&(n+=" "),n+=t);return n}const mO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gO=Be,uu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=mO(d)||mO(f);return i[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(y=>{let[p,x]=y;return Array.isArray(x)?x.includes({...a,...s}[p]):{...a,...s}[p]===x})?[...u,f,h]:u},[]);return gO(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oR=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>w.createElement("svg",{ref:c,...gV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:oR("lucide",i),...s},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(vV,{ref:a,iconNode:t,className:oR(`lucide-${mV(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=De("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=De("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=De("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=De("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=De("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=De("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=De("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=De("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=De("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=De("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=De("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=De("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ov=De("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=De("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=De("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=De("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=De("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),$1="-",zV=e=>{const t=WV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split($1);return s[0]===""&&s.length!==1&&s.shift(),dR(s,t)||VV(o)},getConflictingClassGroupIds:(o,s)=>{const c=r[o]||[];return s&&n[o]?[...c,...n[o]]:c}}},dR=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?dR(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join($1);return(o=t.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},yO=/^\[(.+)\]$/,VV=e=>{if(yO.test(e)){const t=yO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},WV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return HV(Object.entries(e.classGroups),r).forEach(([a,o])=>{b0(o,n,a,t)}),n},b0=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:xO(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(qV(i)){b0(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{b0(o,xO(t,a),r,n)})})},xO=(e,t)=>{let r=e;return t.split($1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qV=e=>e.isThemeGetter,HV=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[t+o,s])):a);return[r,i]}):e,KV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},fR="!",GV=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=s=>{const c=[];let u=0,d=0,f;for(let x=0;x<s.length;x++){let b=s[x];if(u===0){if(b===i&&(n||s.slice(x,x+a)===t)){c.push(s.slice(d,x)),d=x+a;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?s:s.substring(d),m=h.startsWith(fR),y=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:p}};return r?s=>r({className:s,parseClassName:o}):o},YV=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},XV=e=>({cache:KV(e.cacheSize),parseClassName:GV(e),...zV(e)}),QV=/\s+/,JV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(QV);let s="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let y=!!m,p=n(y?h.substring(0,m):h);if(!p){if(!y){s=u+(s.length>0?" "+s:s);continue}if(p=n(h),!p){s=u+(s.length>0?" "+s:s);continue}y=!1}const x=YV(d).join(":"),b=f?x+fR:x,v=b+p;if(a.includes(v))continue;a.push(v);const g=i(p,y);for(let j=0;j<g.length;++j){const _=g[j];a.push(b+_)}s=u+(s.length>0?" "+s:s)}return s};function ZV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=hR(t))&&(n&&(n+=" "),n+=r);return n}const hR=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=hR(e[n]))&&(r&&(r+=" "),r+=t);return r};function eW(e,...t){let r,n,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=XV(u),n=r.cache.get,i=r.cache.set,a=s,s(c)}function s(c){const u=n(c);if(u)return u;const d=JV(c,r);return i(c,d),d}return function(){return a(ZV.apply(null,arguments))}}const yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pR=/^\[(?:([a-z-]+):)?(.+)\]$/i,tW=/^\d+\/\d+$/,rW=new Set(["px","full","screen"]),nW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,iW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,sW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Zi=e=>Ql(e)||rW.has(e)||tW.test(e),Da=e=>du(e,"length",mW),Ql=e=>!!e&&!Number.isNaN(Number(e)),ux=e=>du(e,"number",Ql),Lu=e=>!!e&&Number.isInteger(Number(e)),lW=e=>e.endsWith("%")&&Ql(e.slice(0,-1)),qe=e=>pR.test(e),La=e=>nW.test(e),cW=new Set(["length","size","percentage"]),uW=e=>du(e,cW,mR),dW=e=>du(e,"position",mR),fW=new Set(["image","url"]),hW=e=>du(e,fW,vW),pW=e=>du(e,"",gW),Fu=()=>!0,du=(e,t,r)=>{const n=pR.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},mW=e=>iW.test(e)&&!aW.test(e),mR=()=>!1,gW=e=>oW.test(e),vW=e=>sW.test(e),yW=()=>{const e=yt("colors"),t=yt("spacing"),r=yt("blur"),n=yt("brightness"),i=yt("borderColor"),a=yt("borderRadius"),o=yt("borderSpacing"),s=yt("borderWidth"),c=yt("contrast"),u=yt("grayscale"),d=yt("hueRotate"),f=yt("invert"),h=yt("gap"),m=yt("gradientColorStops"),y=yt("gradientColorStopPositions"),p=yt("inset"),x=yt("margin"),b=yt("opacity"),v=yt("padding"),g=yt("saturate"),j=yt("scale"),_=yt("sepia"),S=yt("skew"),E=yt("space"),O=yt("translate"),N=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",qe,t],I=()=>[qe,t],A=()=>["",Zi,Da],P=()=>["auto",Ql,qe],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",qe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ql,qe];return{cacheSize:500,separator:":",theme:{colors:[Fu],spacing:[Zi,Da],blur:["none","",La,qe],brightness:G(),borderColor:[e],borderRadius:["none","","full",La,qe],borderSpacing:I(),borderWidth:A(),contrast:G(),grayscale:D(),hueRotate:G(),invert:D(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[lW,Da],inset:T(),margin:T(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:D(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",qe]}],container:["container"],columns:[{columns:[La]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),qe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lu,qe]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",qe]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Lu,qe]}],"grid-cols":[{"grid-cols":[Fu]}],"col-start-end":[{col:["auto",{span:["full",Lu,qe]},qe]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[Fu]}],"row-start-end":[{row:["auto",{span:[Lu,qe]},qe]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",qe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",qe,t]}],"min-w":[{"min-w":[qe,t,"min","max","fit"]}],"max-w":[{"max-w":[qe,t,"none","full","min","max","fit","prose",{screen:[La]},La]}],h:[{h:[qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",La,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ux]}],"font-family":[{font:[Fu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",qe]}],"line-clamp":[{"line-clamp":["none",Ql,ux]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Zi,qe]}],"list-image":[{"list-image":["none",qe]}],"list-style-type":[{list:["none","disc","decimal",qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Zi,Da]}],"underline-offset":[{"underline-offset":["auto",Zi,qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),dW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[Zi,qe]}],"outline-w":[{outline:[Zi,Da]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Zi,Da]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",La,pW]}],"shadow-color":[{shadow:[Fu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",La,qe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",qe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",qe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Lu,qe]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Zi,Da,ux]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xW=eW(yW);function he(...e){return xW(Be(e))}function R1(e){if(!e)return new Date().toISOString();const t=e.includes("T")?e:`${e}T00:00:00`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function gR(e){if(!e)return"";const t=`${e}T00:00:00`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function vR(e){if(!e)return"";const t=`${e}T23:59:59`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function Tr(e){if(!e)return null;const t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?null:new Date(t.getTime()-6*60*60*1e3)}function w0(){return new Date().toISOString()}function ye(e){return new Intl.NumberFormat("es-HN",{style:"currency",currency:"HNL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e).replace("HNL","L")}function Ve(e){if(!e)return"-";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"-";const r=Tr(t);return r?new Intl.DateTimeFormat("es-HN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r):"-"}function yR(e){if(!e)return"-";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"-";const r=Tr(t);return r?new Intl.DateTimeFormat("es-HN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r):"-"}function xR(e){switch(e){case"unico":return"Pago Unico";case"cuotas":return"Cuotas";case"suscripcion":return"Suscripcion";default:return e}}function rh(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function Zd(e){const t=typeof e=="string"?new Date(e):e,r=Tr(t);if(!r)return 0;const i=Tr(new Date);if(!i)return 0;i.setHours(0,0,0,0),r.setHours(0,0,0,0);const a=r.getTime()-i.getTime();return Math.ceil(a/(1e3*60*60*24))}const bW=pV,bR=w.forwardRef(({className:e,...t},r)=>l.jsx(Z2,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));bR.displayName=Z2.displayName;const wW=uu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wR=w.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(eR,{ref:n,className:he(wW({variant:t}),e),...r}));wR.displayName=eR.displayName;const _W=w.forwardRef(({className:e,...t},r)=>l.jsx(nR,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));_W.displayName=nR.displayName;const _R=w.forwardRef(({className:e,...t},r)=>l.jsx(iR,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(lv,{className:"h-4 w-4"})}));_R.displayName=iR.displayName;const jR=w.forwardRef(({className:e,...t},r)=>l.jsx(tR,{ref:r,className:he("text-sm font-semibold",e),...t}));jR.displayName=tR.displayName;const SR=w.forwardRef(({className:e,...t},r)=>l.jsx(rR,{ref:r,className:he("text-sm opacity-90",e),...t}));SR.displayName=rR.displayName;function jW(){const{toasts:e}=vr();return l.jsxs(bW,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return l.jsxs(wR,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(jR,{children:r}),n&&l.jsx(SR,{children:n})]}),i,l.jsx(_R,{})]},t)}),l.jsx(bR,{})]})}var SW=sk[" useId ".trim().toString()]||(()=>{}),EW=0;function gr(e){const[t,r]=w.useState(SW());return lr(()=>{e||r(n=>n??String(EW++))},[e]),e||(t?`radix-${t}`:"")}const OW=["top","right","bottom","left"],Eo=Math.min,gn=Math.max,wm=Math.round,Yh=Math.floor,Di=e=>({x:e,y:e}),PW={left:"right",right:"left",bottom:"top",top:"bottom"},NW={start:"end",end:"start"};function _0(e,t,r){return gn(e,Eo(t,r))}function Oa(e,t){return typeof e=="function"?e(t):e}function Pa(e){return e.split("-")[0]}function fu(e){return e.split("-")[1]}function I1(e){return e==="x"?"y":"x"}function M1(e){return e==="y"?"height":"width"}function Oo(e){return["top","bottom"].includes(Pa(e))?"y":"x"}function D1(e){return I1(Oo(e))}function AW(e,t,r){r===void 0&&(r=!1);const n=fu(e),i=D1(e),a=M1(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=_m(o)),[o,_m(o)]}function CW(e){const t=_m(e);return[j0(e),t,j0(t)]}function j0(e){return e.replace(/start|end/g,t=>NW[t])}function TW(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function kW(e,t,r,n){const i=fu(e);let a=TW(Pa(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(j0)))),a}function _m(e){return e.replace(/left|right|bottom|top/g,t=>PW[t])}function $W(e){return{top:0,right:0,bottom:0,left:0,...e}}function ER(e){return typeof e!="number"?$W(e):{top:e,right:e,bottom:e,left:e}}function jm(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function bO(e,t,r){let{reference:n,floating:i}=e;const a=Oo(t),o=D1(t),s=M1(o),c=Pa(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let m;switch(c){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-i.width,y:f};break;default:m={x:n.x,y:n.y}}switch(fu(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const RW=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=bO(u,n,c),h=n,m={},y=0;for(let p=0;p<s.length;p++){const{name:x,fn:b}=s[p],{x:v,y:g,data:j,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=v??d,f=g??f,m={...m,[x]:{...m[x],...j}},_&&y<=50&&(y++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=bO(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function ef(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Oa(t,e),y=ER(m),x=s[h?f==="floating"?"reference":"floating":f],b=jm(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,g=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),j=await(a.isElement==null?void 0:a.isElement(g))?await(a.getScale==null?void 0:a.getScale(g))||{x:1,y:1}:{x:1,y:1},_=jm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:g,strategy:c}):v);return{top:(b.top-_.top+y.top)/j.y,bottom:(_.bottom-b.bottom+y.bottom)/j.y,left:(b.left-_.left+y.left)/j.x,right:(_.right-b.right+y.right)/j.x}}const IW=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:u,padding:d=0}=Oa(e,t)||{};if(u==null)return{};const f=ER(d),h={x:r,y:n},m=D1(i),y=M1(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",v=x?"bottom":"right",g=x?"clientHeight":"clientWidth",j=a.reference[y]+a.reference[m]-h[m]-a.floating[y],_=h[m]-a.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=S?S[g]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=s.floating[g]||a.floating[y]);const O=j/2-_/2,N=E/2-p[y]/2-1,M=Eo(f[b],N),T=Eo(f[v],N),I=M,A=E-p[y]-T,P=E/2-p[y]/2+O,$=_0(I,P,A),R=!c.arrow&&fu(i)!=null&&P!==$&&a.reference[y]/2-(P<I?M:T)-p[y]/2<0,B=R?P<I?P-I:P-A:0;return{[m]:h[m]+B,data:{[m]:$,centerOffset:P-$-B,...R&&{alignmentOffset:B}},reset:R}}}),MW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...x}=Oa(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Pa(i),v=Oo(s),g=Pa(s)===s,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(g||!p?[_m(s)]:CW(s)),S=y!=="none";!h&&S&&_.push(...kW(s,p,y,j));const E=[s,..._],O=await ef(t,x),N=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&N.push(O[b]),f){const P=AW(i,o,j);N.push(O[P[0]],O[P[1]])}if(M=[...M,{placement:i,overflows:N}],!N.every(P=>P<=0)){var T,I;const P=(((T=a.flip)==null?void 0:T.index)||0)+1,$=E[P];if($)return{data:{index:P,overflows:M},reset:{placement:$}};let R=(I=M.filter(B=>B.overflows[0]<=0).sort((B,C)=>B.overflows[1]-C.overflows[1])[0])==null?void 0:I.placement;if(!R)switch(m){case"bestFit":{var A;const B=(A=M.filter(C=>{if(S){const D=Oo(C.placement);return D===v||D==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((C,D)=>C[1]-D[1])[0])==null?void 0:A[0];B&&(R=B);break}case"initialPlacement":R=s;break}if(i!==R)return{reset:{placement:R}}}return{}}}};function wO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _O(e){return OW.some(t=>e[t]>=0)}const DW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Oa(e,t);switch(n){case"referenceHidden":{const a=await ef(t,{...i,elementContext:"reference"}),o=wO(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:_O(o)}}}case"escaped":{const a=await ef(t,{...i,altBoundary:!0}),o=wO(a,r.floating);return{data:{escapedOffsets:o,escaped:_O(o)}}}default:return{}}}}};async function LW(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Pa(r),s=fu(r),c=Oo(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Oa(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof y=="number"&&(m=s==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const FW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,c=await LW(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},BW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:x=>{let{x:b,y:v}=x;return{x:b,y:v}}},...c}=Oa(e,t),u={x:r,y:n},d=await ef(t,c),f=Oo(Pa(i)),h=I1(f);let m=u[h],y=u[f];if(a){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=m+d[x],g=m-d[b];m=_0(v,m,g)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=y+d[x],g=y-d[b];y=_0(v,y,g)}const p=s.fn({...t,[h]:m,[f]:y});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:o}}}}}},UW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=Oa(e,t),d={x:r,y:n},f=Oo(i),h=I1(f);let m=d[h],y=d[f];const p=Oa(s,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const g=h==="y"?"height":"width",j=a.reference[h]-a.floating[g]+x.mainAxis,_=a.reference[h]+a.reference[g]-x.mainAxis;m<j?m=j:m>_&&(m=_)}if(u){var b,v;const g=h==="y"?"width":"height",j=["top","left"].includes(Pa(i)),_=a.reference[f]-a.floating[g]+(j&&((b=o.offset)==null?void 0:b[f])||0)+(j?0:x.crossAxis),S=a.reference[f]+a.reference[g]+(j?0:((v=o.offset)==null?void 0:v[f])||0)-(j?x.crossAxis:0);y<_?y=_:y>S&&(y=S)}return{[h]:m,[f]:y}}}},zW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...u}=Oa(e,t),d=await ef(t,u),f=Pa(i),h=fu(i),m=Oo(i)==="y",{width:y,height:p}=a.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,g=y-d.left-d.right,j=Eo(p-d[x],v),_=Eo(y-d[b],g),S=!t.middlewareData.shift;let E=j,O=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=g),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=v),S&&!h){const M=gn(d.left,0),T=gn(d.right,0),I=gn(d.top,0),A=gn(d.bottom,0);m?O=y-2*(M!==0||T!==0?M+T:gn(d.left,d.right)):E=p-2*(I!==0||A!==0?I+A:gn(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:E});const N=await o.getDimensions(s.floating);return y!==N.width||p!==N.height?{reset:{rects:!0}}:{}}}};function cv(){return typeof window<"u"}function hu(e){return OR(e)?(e.nodeName||"").toLowerCase():"#document"}function _n(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gi(e){var t;return(t=(OR(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OR(e){return cv()?e instanceof Node||e instanceof _n(e).Node:!1}function yi(e){return cv()?e instanceof Element||e instanceof _n(e).Element:!1}function Hi(e){return cv()?e instanceof HTMLElement||e instanceof _n(e).HTMLElement:!1}function jO(e){return!cv()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof _n(e).ShadowRoot}function nh(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=xi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function VW(e){return["table","td","th"].includes(hu(e))}function uv(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function L1(e){const t=F1(),r=yi(e)?xi(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function WW(e){let t=Po(e);for(;Hi(t)&&!Nc(t);){if(L1(t))return t;if(uv(t))return null;t=Po(t)}return null}function F1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nc(e){return["html","body","#document"].includes(hu(e))}function xi(e){return _n(e).getComputedStyle(e)}function dv(e){return yi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(hu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jO(e)&&e.host||Gi(e);return jO(t)?t.host:t}function PR(e){const t=Po(e);return Nc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hi(t)&&nh(t)?t:PR(t)}function tf(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=PR(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=_n(i);if(a){const s=S0(o);return t.concat(o,o.visualViewport||[],nh(i)?i:[],s&&r?tf(s):[])}return t.concat(i,tf(i,[],r))}function S0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function NR(e){const t=xi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Hi(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=wm(r)!==a||wm(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function B1(e){return yi(e)?e:e.contextElement}function Jl(e){const t=B1(e);if(!Hi(t))return Di(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=NR(t);let o=(a?wm(r.width):r.width)/n,s=(a?wm(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const qW=Di(0);function AR(e){const t=_n(e);return!F1()||!t.visualViewport?qW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function HW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==_n(e)?!1:t}function Ds(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=B1(e);let o=Di(1);t&&(n?yi(n)&&(o=Jl(n)):o=Jl(e));const s=HW(a,r,n)?AR(a):Di(0);let c=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=_n(a),m=n&&yi(n)?_n(n):n;let y=h,p=S0(y);for(;p&&n&&m!==y;){const x=Jl(p),b=p.getBoundingClientRect(),v=xi(p),g=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,j=b.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=g,u+=j,y=_n(p),p=S0(y)}}return jm({width:d,height:f,x:c,y:u})}function U1(e,t){const r=dv(e).scrollLeft;return t?t.left+r:Ds(Gi(e)).left+r}function CR(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:U1(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function KW(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Gi(n),s=t?uv(t.floating):!1;if(n===o||s&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Di(1);const d=Di(0),f=Hi(n);if((f||!f&&!a)&&((hu(n)!=="body"||nh(o))&&(c=dv(n)),Hi(n))){const m=Ds(n);u=Jl(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!a?CR(o,c,!0):Di(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function GW(e){return Array.from(e.getClientRects())}function YW(e){const t=Gi(e),r=dv(e),n=e.ownerDocument.body,i=gn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=gn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+U1(e);const s=-r.scrollTop;return xi(n).direction==="rtl"&&(o+=gn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function XW(e,t){const r=_n(e),n=Gi(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const u=F1();(!u||u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}function QW(e,t){const r=Ds(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Hi(e)?Jl(e):Di(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:s,x:c,y:u}}function SO(e,t,r){let n;if(t==="viewport")n=XW(e,r);else if(t==="document")n=YW(Gi(e));else if(yi(t))n=QW(t,r);else{const i=AR(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jm(n)}function TR(e,t){const r=Po(e);return r===t||!yi(r)||Nc(r)?!1:xi(r).position==="fixed"||TR(r,t)}function JW(e,t){const r=t.get(e);if(r)return r;let n=tf(e,[],!1).filter(s=>yi(s)&&hu(s)!=="body"),i=null;const a=xi(e).position==="fixed";let o=a?Po(e):e;for(;yi(o)&&!Nc(o);){const s=xi(o),c=L1(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nh(o)&&!c&&TR(e,o))?n=n.filter(d=>d!==o):i=s,o=Po(o)}return t.set(e,n),n}function ZW(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?uv(t)?[]:JW(t,this._c):[].concat(r),n],s=o[0],c=o.reduce((u,d)=>{const f=SO(t,d,i);return u.top=gn(f.top,u.top),u.right=Eo(f.right,u.right),u.bottom=Eo(f.bottom,u.bottom),u.left=gn(f.left,u.left),u},SO(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function eq(e){const{width:t,height:r}=NR(e);return{width:t,height:r}}function tq(e,t,r){const n=Hi(t),i=Gi(t),a=r==="fixed",o=Ds(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=Di(0);if(n||!n&&!a)if((hu(t)!=="body"||nh(i))&&(s=dv(t)),n){const h=Ds(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=U1(i));const u=i&&!n&&!a?CR(i,s):Di(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function dx(e){return xi(e).position==="static"}function EO(e,t){if(!Hi(e)||xi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Gi(e)===r&&(r=r.ownerDocument.body),r}function kR(e,t){const r=_n(e);if(uv(e))return r;if(!Hi(e)){let i=Po(e);for(;i&&!Nc(i);){if(yi(i)&&!dx(i))return i;i=Po(i)}return r}let n=EO(e,t);for(;n&&VW(n)&&dx(n);)n=EO(n,t);return n&&Nc(n)&&dx(n)&&!L1(n)?r:n||WW(e)||r}const rq=async function(e){const t=this.getOffsetParent||kR,r=this.getDimensions,n=await r(e.floating);return{reference:tq(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function nq(e){return xi(e).direction==="rtl"}const iq={convertOffsetParentRelativeRectToViewportRelativeRect:KW,getDocumentElement:Gi,getClippingRect:ZW,getOffsetParent:kR,getElementRects:rq,getClientRects:GW,getDimensions:eq,getScale:Jl,isElement:yi,isRTL:nq};function $R(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function aq(e,t){let r=null,n;const i=Gi(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const y=Yh(f),p=Yh(i.clientWidth-(d+h)),x=Yh(i.clientHeight-(f+m)),b=Yh(d),g={rootMargin:-y+"px "+-p+"px "+-x+"px "+-b+"px",threshold:gn(0,Eo(1,c))||1};let j=!0;function _(S){const E=S[0].intersectionRatio;if(E!==c){if(!j)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!$R(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(_,{...g,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,g)}r.observe(e)}return o(!0),a}function oq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=B1(e),d=i||a?[...u?tf(u):[],...tf(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&s?aq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=m)==null||g.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,p=c?Ds(e):null;c&&x();function x(){const b=Ds(e);p&&!$R(p,b)&&r(),p=b,y=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(v=>{i&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const sq=FW,lq=BW,cq=MW,uq=zW,dq=DW,OO=IW,fq=UW,hq=(e,t,r)=>{const n=new Map,i={platform:iq,...r},a={...i.platform,_c:n};return RW(e,t,{...i,platform:a})};var Vp=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Sm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Sm(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!Sm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function RR(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function PO(e,t){const r=RR(e);return Math.round(t*r)/r}function fx(e){const t=w.useRef(e);return Vp(()=>{t.current=e}),t}function pq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);Sm(h,n)||m(n);const[y,p]=w.useState(null),[x,b]=w.useState(null),v=w.useCallback(C=>{C!==S.current&&(S.current=C,p(C))},[]),g=w.useCallback(C=>{C!==E.current&&(E.current=C,b(C))},[]),j=a||y,_=o||x,S=w.useRef(null),E=w.useRef(null),O=w.useRef(d),N=c!=null,M=fx(c),T=fx(i),I=fx(u),A=w.useCallback(()=>{if(!S.current||!E.current)return;const C={placement:t,strategy:r,middleware:h};T.current&&(C.platform=T.current),hq(S.current,E.current,C).then(D=>{const H={...D,isPositioned:I.current!==!1};P.current&&!Sm(O.current,H)&&(O.current=H,Ys.flushSync(()=>{f(H)}))})},[h,t,r,T,I]);Vp(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const P=w.useRef(!1);Vp(()=>(P.current=!0,()=>{P.current=!1}),[]),Vp(()=>{if(j&&(S.current=j),_&&(E.current=_),j&&_){if(M.current)return M.current(j,_,A);A()}},[j,_,A,M,N]);const $=w.useMemo(()=>({reference:S,floating:E,setReference:v,setFloating:g}),[v,g]),R=w.useMemo(()=>({reference:j,floating:_}),[j,_]),B=w.useMemo(()=>{const C={position:r,left:0,top:0};if(!R.floating)return C;const D=PO(R.floating,d.x),H=PO(R.floating,d.y);return s?{...C,transform:"translate("+D+"px, "+H+"px)",...RR(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,s,R.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:A,refs:$,elements:R,floatingStyles:B}),[d,A,$,R,B])}const mq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?OO({element:n.current,padding:i}).fn(r):{}:n?OO({element:n,padding:i}).fn(r):{}}}},gq=(e,t)=>({...sq(e),options:[e,t]}),vq=(e,t)=>({...lq(e),options:[e,t]}),yq=(e,t)=>({...fq(e),options:[e,t]}),xq=(e,t)=>({...cq(e),options:[e,t]}),bq=(e,t)=>({...uq(e),options:[e,t]}),wq=(e,t)=>({...dq(e),options:[e,t]}),_q=(e,t)=>({...mq(e),options:[e,t]});var jq="Arrow",IR=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return l.jsx(Se.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});IR.displayName=jq;var Sq=IR;function MR(e){const[t,r]=w.useState(void 0);return lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var z1="Popper",[DR,$o]=on(z1),[Eq,LR]=DR(z1),FR=e=>{const{__scopePopper:t,children:r}=e,[n,i]=w.useState(null);return l.jsx(Eq,{scope:t,anchor:n,onAnchorChange:i,children:r})};FR.displayName=z1;var BR="PopperAnchor",UR=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=LR(BR,r),o=w.useRef(null),s=Je(t,o);return w.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(Se.div,{...i,ref:s})});UR.displayName=BR;var V1="PopperContent",[Oq,Pq]=DR(V1),zR=w.forwardRef((e,t)=>{var te,ae,Y,de,ue,X;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:y,...p}=e,x=LR(V1,r),[b,v]=w.useState(null),g=Je(t,Fe=>v(Fe)),[j,_]=w.useState(null),S=MR(j),E=(S==null?void 0:S.width)??0,O=(S==null?void 0:S.height)??0,N=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],I=T.length>0,A={padding:M,boundary:T.filter(Aq),altBoundary:I},{refs:P,floatingStyles:$,placement:R,isPositioned:B,middlewareData:C}=pq({strategy:"fixed",placement:N,whileElementsMounted:(...Fe)=>oq(...Fe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[gq({mainAxis:i+O,alignmentAxis:o}),c&&vq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?yq():void 0,...A}),c&&xq({...A}),bq({...A,apply:({elements:Fe,rects:Ce,availableWidth:et,availableHeight:Xe})=>{const{width:W,height:ge}=Ce.reference,le=Fe.floating.style;le.setProperty("--radix-popper-available-width",`${et}px`),le.setProperty("--radix-popper-available-height",`${Xe}px`),le.setProperty("--radix-popper-anchor-width",`${W}px`),le.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),j&&_q({element:j,padding:s}),Cq({arrowWidth:E,arrowHeight:O}),h&&wq({strategy:"referenceHidden",...A})]}),[D,H]=qR(R),G=Er(y);lr(()=>{B&&(G==null||G())},[B,G]);const k=(te=C.arrow)==null?void 0:te.x,F=(ae=C.arrow)==null?void 0:ae.y,K=((Y=C.arrow)==null?void 0:Y.centerOffset)!==0,[Z,se]=w.useState();return lr(()=>{b&&se(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:B?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[(de=C.transformOrigin)==null?void 0:de.x,(ue=C.transformOrigin)==null?void 0:ue.y].join(" "),...((X=C.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(Oq,{scope:r,placedSide:D,onArrowChange:_,arrowX:k,arrowY:F,shouldHideArrow:K,children:l.jsx(Se.div,{"data-side":D,"data-align":H,...p,ref:g,style:{...p.style,animation:B?void 0:"none"}})})})});zR.displayName=V1;var VR="PopperArrow",Nq={top:"bottom",right:"left",bottom:"top",left:"right"},WR=w.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Pq(VR,n),o=Nq[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(Sq,{...i,ref:r,style:{...i.style,display:"block"}})})});WR.displayName=VR;function Aq(e){return e!==null}var Cq=e=>({name:"transformOrigin",options:e,fn(t){var x,b,v;const{placement:r,rects:n,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,s=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=qR(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,m=(((v=i.arrow)==null?void 0:v.y)??0)+c/2;let y="",p="";return u==="bottom"?(y=o?f:`${h}px`,p=`${-c}px`):u==="top"?(y=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(y=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:y,y:p}}}});function qR(e){const[t,r="center"]=e.split("-");return[t,r]}var fv=FR,ih=UR,hv=zR,pv=WR,[mv,fEe]=on("Tooltip",[$o]),gv=$o(),HR="TooltipProvider",Tq=700,E0="tooltip.open",[kq,W1]=mv(HR),KR=e=>{const{__scopeTooltip:t,delayDuration:r=Tq,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),s=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(kq,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:w.useCallback(u=>{s.current=u},[]),disableHoverableContent:i,children:a})};KR.displayName=HR;var vv="Tooltip",[$q,yv]=mv(vv),GR=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=W1(vv,e.__scopeTooltip),u=gv(t),[d,f]=w.useState(null),h=gr(),m=w.useRef(0),y=o??c.disableHoverableContent,p=s??c.delayDuration,x=w.useRef(!1),[b=!1,v]=qi({prop:n,defaultProp:i,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(E0))):c.onClose(),a==null||a(E)}}),g=w.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),j=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,v(!0)},[v]),_=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),S=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,v(!0),m.current=0},p)},[p,v]);return w.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(fv,{...u,children:l.jsx($q,{scope:t,contentId:h,open:b,stateAttribute:g,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?S():j()},[c.isOpenDelayedRef,S,j]),onTriggerLeave:w.useCallback(()=>{y?_():(window.clearTimeout(m.current),m.current=0)},[_,y]),onOpen:j,onClose:_,disableHoverableContent:y,children:r})})};GR.displayName=vv;var O0="TooltipTrigger",YR=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=yv(O0,r),a=W1(O0,r),o=gv(r),s=w.useRef(null),c=Je(t,s,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(ih,{asChild:!0,...o,children:l.jsx(Se.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})})});YR.displayName=O0;var Rq="TooltipPortal",[hEe,Iq]=mv(Rq,{forceMount:void 0}),Ac="TooltipContent",XR=w.forwardRef((e,t)=>{const r=Iq(Ac,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=yv(Ac,e.__scopeTooltip);return l.jsx(sn,{present:n||o.open,children:o.disableHoverableContent?l.jsx(QR,{side:i,...a,ref:t}):l.jsx(Mq,{side:i,...a,ref:t})})}),Mq=w.forwardRef((e,t)=>{const r=yv(Ac,e.__scopeTooltip),n=W1(Ac,e.__scopeTooltip),i=w.useRef(null),a=Je(t,i),[o,s]=w.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{s(null),f(!1)},[f]),m=w.useCallback((y,p)=>{const x=y.currentTarget,b={x:y.clientX,y:y.clientY},v=Uq(b,x.getBoundingClientRect()),g=zq(b,v),j=Vq(p.getBoundingClientRect()),_=qq([...g,...j]);s(_),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const y=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),w.useEffect(()=>{if(o){const y=p=>{const x=p.target,b={x:p.clientX,y:p.clientY},v=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),g=!Wq(b,o);v?h():g&&(h(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,h]),l.jsx(QR,{...e,ref:a})}),[Dq,Lq]=mv(vv,{isInside:!1}),Fq=C8("TooltipContent"),QR=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=yv(Ac,r),u=gv(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(E0,d),()=>document.removeEventListener(E0,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(hv,{"data-state":c.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Fq,{children:n}),l.jsx(Dq,{scope:r,isInside:!0,children:l.jsx(X8,{id:c.contentId,role:"tooltip",children:i||n})})]})})});XR.displayName=Ac;var JR="TooltipArrow",Bq=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=gv(r);return Lq(JR,r).isInside?null:l.jsx(pv,{...i,...n,ref:t})});Bq.displayName=JR;function Uq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function zq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Vq(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function Wq(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-s)*(n-c)/(d-c)+s&&(i=!i)}return i}function qq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Hq(t)}function Hq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Kq=KR,Gq=GR,Yq=YR,ZR=XR;const eI=Kq,Xq=Gq,Qq=Yq,tI=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(ZR,{ref:n,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));tI.displayName=ZR.displayName;const Jq={theme:"system",setTheme:()=>null},rI=w.createContext(Jq);function Zq({children:e,defaultTheme:t="system",storageKey:r="visonixro-theme",...n}){const[i,a]=w.useState(()=>localStorage.getItem(r)||t);w.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(c);return}s.classList.add(i)},[i]);const o={theme:i,setTheme:s=>{localStorage.setItem(r,s),a(s)}};return l.jsx(rI.Provider,{...n,value:o,children:e})}const eH=()=>{const e=w.useContext(rI);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},tH=uu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"w-full sm:w-auto min-h-9 px-4 py-2",sm:"w-full sm:w-auto min-h-8 rounded-md px-3 text-xs",lg:"w-full sm:w-auto min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),re=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?rv:"button";return l.jsx(o,{className:he(tH({variant:t,size:r,className:e})),ref:a,...i})});re.displayName="Button";function rH(){const{theme:e,setTheme:t}=eH();return l.jsxs(re,{variant:"ghost",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[l.jsx(FV,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),l.jsx(CV,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),l.jsx("span",{className:"sr-only",children:"Cambiar tema"})]})}const hx=768;function nH(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const r=window.matchMedia(`(max-width: ${hx-1}px)`),n=()=>{t(window.innerWidth<hx)};return r.addEventListener("change",n),t(window.innerWidth<hx),()=>r.removeEventListener("change",n)},[]),!!e}const Me=w.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:he("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Me.displayName="Input";var iH="Separator",NO="horizontal",aH=["horizontal","vertical"],nI=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=NO,...i}=e,a=oH(n)?n:NO,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(Se.div,{"data-orientation":a,...s,...i,ref:t})});nI.displayName=iH;function oH(e){return aH.includes(e)}var iI=nI;const sH=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>l.jsx(iI,{ref:i,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));sH.displayName=iI.displayName;var px="focusScope.autoFocusOnMount",mx="focusScope.autoFocusOnUnmount",AO={bubbles:!1,cancelable:!0},lH="FocusScope",ah=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=w.useState(null),u=Er(i),d=Er(a),f=w.useRef(null),h=Je(t,p=>c(p)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let p=function(g){if(m.paused||!s)return;const j=g.target;s.contains(j)?f.current=j:Ua(f.current,{select:!0})},x=function(g){if(m.paused||!s)return;const j=g.relatedTarget;j!==null&&(s.contains(j)||Ua(f.current,{select:!0}))},b=function(g){if(document.activeElement===document.body)for(const _ of g)_.removedNodes.length>0&&Ua(s)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(b);return s&&v.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[n,s,m.paused]),w.useEffect(()=>{if(s){TO.add(m);const p=document.activeElement;if(!s.contains(p)){const b=new CustomEvent(px,AO);s.addEventListener(px,u),s.dispatchEvent(b),b.defaultPrevented||(cH(pH(aI(s)),{select:!0}),document.activeElement===p&&Ua(s))}return()=>{s.removeEventListener(px,u),setTimeout(()=>{const b=new CustomEvent(mx,AO);s.addEventListener(mx,d),s.dispatchEvent(b),b.defaultPrevented||Ua(p??document.body,{select:!0}),s.removeEventListener(mx,d),TO.remove(m)},0)}}},[s,u,d,m]);const y=w.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const v=p.currentTarget,[g,j]=uH(v);g&&j?!p.shiftKey&&b===j?(p.preventDefault(),r&&Ua(g,{select:!0})):p.shiftKey&&b===g&&(p.preventDefault(),r&&Ua(j,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return l.jsx(Se.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});ah.displayName=lH;function cH(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Ua(n,{select:t}),document.activeElement!==r)return}function uH(e){const t=aI(e),r=CO(t,e),n=CO(t.reverse(),e);return[r,n]}function aI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function CO(e,t){for(const r of e)if(!dH(r,{upTo:t}))return r}function dH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fH(e){return e instanceof HTMLInputElement&&"select"in e}function Ua(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&fH(e)&&t&&e.select()}}var TO=hH();function hH(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=kO(e,t),e.unshift(t)},remove(t){var r;e=kO(e,t),(r=e[0])==null||r.resume()}}}function kO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function pH(e){return e.filter(t=>t.tagName!=="A")}var gx=0;function xv(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??$O()),document.body.insertAdjacentElement("beforeend",e[1]??$O()),gx++,()=>{gx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),gx--}},[])}function $O(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var P0=function(e,t){return P0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},P0(e,t)};function oI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");P0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var In=function(){return In=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},In.apply(this,arguments)};function Ro(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function sI(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function lI(e,t){return function(r,n){t(r,n,e)}}function cI(e,t,r,n,i,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var y={};for(var p in n)y[p]=p==="access"?{}:n[p];for(var p in n.access)y.access[p]=n.access[p];y.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var x=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],y);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=o(x.get))&&(d.get=f),(f=o(x.set))&&(d.set=f),(f=o(x.init))&&i.unshift(f)}else(f=o(x))&&(s==="field"?i.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function uI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function dI(e){return typeof e=="symbol"?e:"".concat(e)}function fI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function hI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function je(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function pI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var bv=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function mI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&bv(t,e,r)}function Em(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function q1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function gI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(q1(arguments[t]));return e}function vI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function H1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Cc(e){return this instanceof Cc?(this.v=e,this):new Cc(e)}function yI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(y){return Promise.resolve(y).then(m,f)}}function s(m,y){n[m]&&(i[m]=function(p){return new Promise(function(x,b){a.push([m,p,x,b])>1||c(m,p)})},y&&(i[m]=y(i[m])))}function c(m,y){try{u(n[m](y))}catch(p){h(a[0][3],p)}}function u(m){m.value instanceof Cc?Promise.resolve(m.value.v).then(d,f):h(a[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,y){m(y),a.shift(),a.length&&c(a[0][0],a[0][1])}}function xI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Cc(e[i](o)),done:!1}:a?a(o):o}:a}}function bI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Em=="function"?Em(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,c){o=e[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(u){a({value:u,done:s})},o)}}function wI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var mH=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},N0=function(e){return N0=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},N0(e)};function _I(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=N0(e),n=0;n<r.length;n++)r[n]!=="default"&&bv(t,e,r[n]);return mH(t,e),t}function jI(e){return e&&e.__esModule?e:{default:e}}function SI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function EI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function OI(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function PI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var gH=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function NI(e){function t(a){e.error=e.hasError?new gH(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function AI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const vH={__extends:oI,__assign:In,__rest:Ro,__decorate:sI,__param:lI,__esDecorate:cI,__runInitializers:uI,__propKey:dI,__setFunctionName:fI,__metadata:hI,__awaiter:je,__generator:pI,__createBinding:bv,__exportStar:mI,__values:Em,__read:q1,__spread:gI,__spreadArrays:vI,__spreadArray:H1,__await:Cc,__asyncGenerator:yI,__asyncDelegator:xI,__asyncValues:bI,__makeTemplateObject:wI,__importStar:_I,__importDefault:jI,__classPrivateFieldGet:SI,__classPrivateFieldSet:EI,__classPrivateFieldIn:OI,__addDisposableResource:PI,__disposeResources:NI,__rewriteRelativeImportExtension:AI},yH=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:PI,get __assign(){return In},__asyncDelegator:xI,__asyncGenerator:yI,__asyncValues:bI,__await:Cc,__awaiter:je,__classPrivateFieldGet:SI,__classPrivateFieldIn:OI,__classPrivateFieldSet:EI,__createBinding:bv,__decorate:sI,__disposeResources:NI,__esDecorate:cI,__exportStar:mI,__extends:oI,__generator:pI,__importDefault:jI,__importStar:_I,__makeTemplateObject:wI,__metadata:hI,__param:lI,__propKey:dI,__read:q1,__rest:Ro,__rewriteRelativeImportExtension:AI,__runInitializers:uI,__setFunctionName:fI,__spread:gI,__spreadArray:H1,__spreadArrays:vI,__values:Em,default:vH},Symbol.toStringTag,{value:"Module"}));var Wp="right-scroll-bar-position",qp="width-before-scroll-bar",xH="with-scroll-bars-hidden",bH="--removed-body-scroll-bar-size";function vx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wH(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var _H=typeof window<"u"?w.useLayoutEffect:w.useEffect,RO=new WeakMap;function jH(e,t){var r=wH(null,function(n){return e.forEach(function(i){return vx(i,n)})});return _H(function(){var n=RO.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||vx(s,null)}),a.forEach(function(s){i.has(s)||vx(s,o)})}RO.set(r,e)},[e]),r}function SH(e){return e}function EH(e,t){t===void 0&&(t=SH);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function OH(e){e===void 0&&(e={});var t=EH(null);return t.options=In({async:!0,ssr:!1},e),t}var CI=function(e){var t=e.sideCar,r=Ro(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,In({},r))};CI.isSideCarExport=!0;function PH(e,t){return e.useMedium(t),CI}var TI=OH(),yx=function(){},wv=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:yx,onWheelCapture:yx,onTouchMoveCapture:yx}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,y=e.inert,p=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,v=e.gapMode,g=Ro(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=jH([r,t]),S=In(In({},g),i);return w.createElement(w.Fragment,null,d&&w.createElement(j,{sideCar:TI,removeScrollBar:u,shards:f,noIsolation:m,inert:y,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:v}),o?w.cloneElement(w.Children.only(s),In(In({},S),{ref:_})):w.createElement(b,In({},S,{className:c,ref:_}),s))});wv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wv.classNames={fullWidth:qp,zeroRight:Wp};var NH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function AH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NH();return t&&e.setAttribute("nonce",t),e}function CH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kH=function(){var e=0,t=null;return{add:function(r){e==0&&(t=AH())&&(CH(t,r),TH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},$H=function(){var e=kH();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},kI=function(){var e=$H(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},RH={left:0,top:0,right:0,gap:0},xx=function(e){return parseInt(e||"",10)||0},IH=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[xx(r),xx(n),xx(i)]},MH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RH;var t=IH(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},DH=kI(),Zl="data-scroll-locked",LH=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(xH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Wp,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(qp,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Wp," .").concat(Wp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(qp," .").concat(qp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(bH,": ").concat(s,`px;
  }
`)},IO=function(){var e=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(e)?e:0},FH=function(){w.useEffect(function(){return document.body.setAttribute(Zl,(IO()+1).toString()),function(){var e=IO()-1;e<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,e.toString())}},[])},BH=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;FH();var a=w.useMemo(function(){return MH(i)},[i]);return w.createElement(DH,{styles:LH(a,!t,i,r?"":"!important")})},A0=!1;if(typeof window<"u")try{var Xh=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{A0=!1}var sl=A0?{passive:!1}:!1,UH=function(e){return e.tagName==="TEXTAREA"},$I=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!UH(e)&&r[t]==="visible")},zH=function(e){return $I(e,"overflowY")},VH=function(e){return $I(e,"overflowX")},MO=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=RI(e,n);if(i){var a=II(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},WH=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},qH=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},RI=function(e,t){return e==="v"?zH(t):VH(t)},II=function(e,t){return e==="v"?WH(t):qH(t)},HH=function(e,t){return e==="h"&&t==="rtl"?-1:1},KH=function(e,t,r,n,i){var a=HH(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,c=t.contains(s),u=!1,d=o>0,f=0,h=0;do{var m=II(e,s),y=m[0],p=m[1],x=m[2],b=p-x-a*y;(y||b)&&RI(e,s)&&(f+=b,h+=y),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},Qh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},DO=function(e){return[e.deltaX,e.deltaY]},LO=function(e){return e&&"current"in e?e.current:e},GH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},YH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},XH=0,ll=[];function QH(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(XH++)[0],a=w.useState(kI)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=H1([e.lockRef.current],(e.shards||[]).map(LO),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=w.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Qh(p),v=r.current,g="deltaX"in p?p.deltaX:v[0]-b[0],j="deltaY"in p?p.deltaY:v[1]-b[1],_,S=p.target,E=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in p&&E==="h"&&S.type==="range")return!1;var O=MO(E,S);if(!O)return!0;if(O?_=E:(_=E==="v"?"h":"v",O=MO(E,S)),!O)return!1;if(!n.current&&"changedTouches"in p&&(g||j)&&(n.current=_),!_)return!0;var N=n.current||_;return KH(N,x,p,N==="h"?g:j,!0)},[]),c=w.useCallback(function(p){var x=p;if(!(!ll.length||ll[ll.length-1]!==a)){var b="deltaY"in x?DO(x):Qh(x),v=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&GH(_.delta,b)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var g=(o.current.shards||[]).map(LO).filter(Boolean).filter(function(_){return _.contains(x.target)}),j=g.length>0?s(x,g[0]):!o.current.noIsolation;j&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(p,x,b,v){var g={name:p,delta:x,target:b,should:v,shadowParent:JH(b)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),d=w.useCallback(function(p){r.current=Qh(p),n.current=void 0},[]),f=w.useCallback(function(p){u(p.type,DO(p),p.target,s(p,e.lockRef.current))},[]),h=w.useCallback(function(p){u(p.type,Qh(p),p.target,s(p,e.lockRef.current))},[]);w.useEffect(function(){return ll.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,sl),document.addEventListener("touchmove",c,sl),document.addEventListener("touchstart",d,sl),function(){ll=ll.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,sl),document.removeEventListener("touchmove",c,sl),document.removeEventListener("touchstart",d,sl)}},[]);var m=e.removeScrollBar,y=e.inert;return w.createElement(w.Fragment,null,y?w.createElement(a,{styles:YH(i)}):null,m?w.createElement(BH,{gapMode:e.gapMode}):null)}function JH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZH=PH(TI,QH);var oh=w.forwardRef(function(e,t){return w.createElement(wv,In({},e,{ref:t,sideCar:ZH}))});oh.classNames=wv.classNames;var eK=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},cl=new WeakMap,Jh=new WeakMap,Zh={},bx=0,MI=function(e){return e&&(e.host||MI(e.parentNode))},tK=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=MI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},rK=function(e,t,r,n){var i=tK(t,Array.isArray(e)?e:[e]);Zh[r]||(Zh[r]=new WeakMap);var a=Zh[r],o=[],s=new Set,c=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(n),y=m!==null&&m!=="false",p=(cl.get(h)||0)+1,x=(a.get(h)||0)+1;cl.set(h,p),a.set(h,x),o.push(h),p===1&&y&&Jh.set(h,!0),x===1&&h.setAttribute(r,"true"),y||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),s.clear(),bx++,function(){o.forEach(function(f){var h=cl.get(f)-1,m=a.get(f)-1;cl.set(f,h),a.set(f,m),h||(Jh.has(f)||f.removeAttribute(n),Jh.delete(f)),m||f.removeAttribute(r)}),bx--,bx||(cl=new WeakMap,cl=new WeakMap,Jh=new WeakMap,Zh={})}},_v=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=eK(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),rK(n,i,r,"aria-hidden")):function(){return null}},K1="Dialog",[DI,pEe]=on(K1),[nK,_i]=DI(K1),LI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=w.useRef(null),c=w.useRef(null),[u=!1,d]=qi({prop:n,defaultProp:i,onChange:a});return l.jsx(nK,{scope:t,triggerRef:s,contentRef:c,contentId:gr(),titleId:gr(),descriptionId:gr(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};LI.displayName=K1;var FI="DialogTrigger",iK=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=_i(FI,r),a=Je(t,i.triggerRef);return l.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X1(i.open),...n,ref:a,onClick:pe(e.onClick,i.onOpenToggle)})});iK.displayName=FI;var G1="DialogPortal",[aK,BI]=DI(G1,{forceMount:void 0}),UI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=_i(G1,t);return l.jsx(aK,{scope:t,forceMount:r,children:w.Children.map(n,o=>l.jsx(sn,{present:r||a.open,children:l.jsx(cu,{asChild:!0,container:i,children:o})}))})};UI.displayName=G1;var Om="DialogOverlay",zI=w.forwardRef((e,t)=>{const r=BI(Om,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=_i(Om,e.__scopeDialog);return a.modal?l.jsx(sn,{present:n||a.open,children:l.jsx(sK,{...i,ref:t})}):null});zI.displayName=Om;var oK=jo("DialogOverlay.RemoveScroll"),sK=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=_i(Om,r);return l.jsx(oh,{as:oK,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(Se.div,{"data-state":X1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ls="DialogContent",VI=w.forwardRef((e,t)=>{const r=BI(Ls,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=_i(Ls,e.__scopeDialog);return l.jsx(sn,{present:n||a.open,children:a.modal?l.jsx(lK,{...i,ref:t}):l.jsx(cK,{...i,ref:t})})});VI.displayName=Ls;var lK=w.forwardRef((e,t)=>{const r=_i(Ls,e.__scopeDialog),n=w.useRef(null),i=Je(t,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return _v(a)},[]),l.jsx(WI,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault())})}),cK=w.forwardRef((e,t)=>{const r=_i(Ls,e.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return l.jsx(WI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),WI=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=_i(Ls,r),c=w.useRef(null),u=Je(t,c);return xv(),l.jsxs(l.Fragment,{children:[l.jsx(ah,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Xs,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":X1(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(uK,{titleId:s.titleId}),l.jsx(fK,{contentRef:c,descriptionId:s.descriptionId})]})]})}),Y1="DialogTitle",qI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=_i(Y1,r);return l.jsx(Se.h2,{id:i.titleId,...n,ref:t})});qI.displayName=Y1;var HI="DialogDescription",KI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=_i(HI,r);return l.jsx(Se.p,{id:i.descriptionId,...n,ref:t})});KI.displayName=HI;var GI="DialogClose",YI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=_i(GI,r);return l.jsx(Se.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});YI.displayName=GI;function X1(e){return e?"open":"closed"}var XI="DialogTitleWarning",[mEe,QI]=P8(XI,{contentName:Ls,titleName:Y1,docsSlug:"dialog"}),uK=({titleId:e})=>{const t=QI(XI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},dK="DialogDescriptionWarning",fK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${QI(dK).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Q1=LI,J1=UI,sh=zI,lh=VI,jv=qI,Sv=KI,JI=YI;const hK=Q1,pK=J1,ZI=w.forwardRef(({className:e,...t},r)=>l.jsx(sh,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));ZI.displayName=sh.displayName;const mK=uu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),eM=w.forwardRef(({side:e="right",className:t,children:r,...n},i)=>l.jsx(pK,{children:l.jsxs(l.Fragment,{children:[l.jsx(ZI,{}),l.jsxs(lh,{ref:i,className:he(mK({side:e}),t),...n,children:[r,l.jsxs(JI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(lv,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));eM.displayName=lh.displayName;const tM=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",e),...t});tM.displayName="SheetHeader";const rM=w.forwardRef(({className:e,...t},r)=>l.jsx(jv,{ref:r,className:he("text-lg font-semibold text-foreground",e),...t}));rM.displayName=jv.displayName;const nM=w.forwardRef(({className:e,...t},r)=>l.jsx(Sv,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));nM.displayName=Sv.displayName;function Ut({className:e,...t}){return l.jsx("div",{className:he("animate-pulse rounded-md bg-muted",e),...t})}const gK="sidebar_state",vK=60*60*24*7,yK="16rem",xK="18rem",bK="3rem",wK="b",iM=w.createContext(null);function Ev(){const e=w.useContext(iM);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function _K({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:a,...o}){const s=nH(),[c,u]=w.useState(!1),[d,f]=w.useState(e),h=t??d,m=w.useCallback(b=>{const v=typeof b=="function"?b(h):b;r?r(v):f(v),document.cookie=`${gK}=${v}; path=/; max-age=${vK}`},[r,h]),y=w.useCallback(()=>s?u(b=>!b):m(b=>!b),[s,m,u]);w.useEffect(()=>{const b=v=>{v.key===wK&&(v.metaKey||v.ctrlKey)&&(v.preventDefault(),y())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[y]);const p=h?"expanded":"collapsed",x=w.useMemo(()=>({state:p,open:h,setOpen:m,isMobile:s,openMobile:c,setOpenMobile:u,toggleSidebar:y}),[p,h,m,s,c,u,y]);return l.jsx(iM.Provider,{value:x,children:l.jsx(eI,{delayDuration:0,children:l.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":yK,"--sidebar-width-icon":bK,...i},className:he("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:a})})})}function jK({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...a}){const{isMobile:o,state:s,openMobile:c,setOpenMobile:u}=Ev();return r==="none"?l.jsx("div",{"data-slot":"sidebar",className:he("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...a,children:i}):o?l.jsx(hK,{open:c,onOpenChange:u,...a,children:l.jsxs(eM,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":xK},side:e,children:[l.jsxs(tM,{className:"sr-only",children:[l.jsx(rM,{children:"Sidebar"}),l.jsx(nM,{children:"Displays the mobile sidebar."})]}),l.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):l.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[l.jsx("div",{"data-slot":"sidebar-gap",className:he("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),l.jsx("div",{"data-slot":"sidebar-container",className:he("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:l.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function SK({className:e,onClick:t,...r}){const{toggleSidebar:n}=Ev();return l.jsxs(re,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:he("h-7 w-7",e),onClick:i=>{t==null||t(i),n()},...r,children:[l.jsx(TV,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function EK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:he("flex flex-col gap-2 p-2",e),...t})}function OK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:he("flex flex-col gap-2 p-2",e),...t})}function PK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:he("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function NK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:he("relative flex w-full min-w-0 flex-col p-2",e),...t})}function AK({className:e,asChild:t=!1,...r}){const n=t?rv:"div";return l.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:he("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function CK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:he("w-full text-sm",e),...t})}function FO({className:e,...t}){return l.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:he("flex w-full min-w-0 flex-col gap-1",e),...t})}function BO({className:e,...t}){return l.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:he("group/menu-item relative",e),...t})}const TK=uu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function UO({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:a,...o}){const s=e?rv:"button",{isMobile:c,state:u}=Ev(),d=l.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:he(TK({variant:r,size:n}),a),...o});return i?(typeof i=="string"&&(i={children:i}),l.jsxs(Xq,{children:[l.jsx(Qq,{asChild:!0,children:d}),l.jsx(tI,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}const kK=[{title:"Dashboard",url:"/",icon:PV},{title:"Clientes",url:"/clientes",icon:Jd},{title:"Proyecto",url:"/clientes/proyecto",icon:EV},{title:"Venta",url:"/clientes/proyecto/ventas",icon:LV},{title:"Contratos Activos",url:"/contratos-activos",icon:Xd},{title:"Suscripciones",url:"/suscripciones",icon:ov},{title:"Pagos",url:"/pagos",icon:Pc},{title:"Estado de cuentas",url:"/pagos/estado-de-cuentas",icon:Xd},{title:"Avances",url:"/avances",icon:So},{title:"Egresos",url:"/egresos",icon:Qd},{title:"Estadisticas",url:"/estadisticas",icon:xV}];function $K(){const[e]=wi(),{isMobile:t,setOpenMobile:r}=Ev();if(typeof window<"u")try{if(localStorage.getItem("admon-auth")!=="true")return null}catch{return null}return l.jsxs(jK,{children:[l.jsx(EK,{className:"border-b border-sidebar-border p-4",children:l.jsxs(Yl,{href:"/",className:"flex items-center gap-3","data-testid":"link-logo",onClick:()=>{t&&r(!1)},children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-transparent",children:l.jsx("img",{src:"/vsr.png",alt:"Visonixro",className:"h-10 w-10 object-contain"})}),l.jsx("div",{className:"flex flex-col",children:l.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Visonixro"})})]})}),l.jsx(PK,{children:l.jsxs(NK,{children:[l.jsx(AK,{className:"px-4 text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Menu Principal"}),l.jsx(CK,{children:l.jsx(FO,{children:kK.map(n=>{const i=e===n.url||n.url!=="/"&&e.startsWith(n.url);return l.jsx(BO,{children:l.jsx(UO,{asChild:!0,isActive:i,className:"transition-colors",children:l.jsxs(Yl,{href:n.url,"data-testid":`link-nav-${n.title.toLowerCase()}`,onClick:()=>{t&&r(!1)},children:[l.jsx(n.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:n.title})]})})},n.title)})})})]})}),l.jsx(OK,{className:"border-t border-sidebar-border p-4",children:l.jsx(FO,{children:l.jsx(BO,{children:l.jsx(UO,{asChild:!0,children:l.jsxs(Yl,{href:"/configuracion","data-testid":"link-nav-settings",onClick:()=>{t&&r(!1)},children:[l.jsx(DV,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Configuracion"})]})})})})})]})}const me=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));me.displayName="Card";const ut=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-4 md:p-6",e),...t}));ut.displayName="CardHeader";const dt=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("text-lg md:text-2xl font-semibold leading-none tracking-tight",e),...t}));dt.displayName="CardTitle";const aM=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));aM.displayName="CardDescription";const ve=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("p-4 md:p-6 pt-0",e),...t}));ve.displayName="CardContent";const RK=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("flex flex-col sm:flex-row items-center p-4 md:p-6 pt-0 sm:justify-end sm:space-x-2",e),...t}));RK.displayName="CardFooter";const IK=uu("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function pr({className:e,variant:t,...r}){return l.jsx("div",{className:he(IK({variant:t}),e),...r})}var Z1="Avatar",[MK,gEe]=on(Z1),[DK,oM]=MK(Z1),sM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=w.useState("idle");return l.jsx(DK,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(Se.span,{...n,ref:t})})});sM.displayName=Z1;var lM="AvatarImage",cM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=oM(lM,r),s=LK(n,a),c=Er(u=>{i(u),o.onImageLoadingStatusChange(u)});return lr(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(Se.img,{...a,ref:t,src:n}):null});cM.displayName=lM;var uM="AvatarFallback",dM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=oM(uM,r),[o,s]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?l.jsx(Se.span,{...i,ref:t}):null});dM.displayName=uM;function zO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function LK(e,{referrerPolicy:t,crossOrigin:r}){const n=BK(),i=w.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,s]=w.useState(()=>zO(a,e));return lr(()=>{s(zO(a,e))},[a,e]),lr(()=>{const c=f=>()=>{s(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}function FK(){return()=>{}}function BK(){return w.useSyncExternalStore(FK,()=>!0,()=>!1)}var fM=sM,hM=cM,pM=dM;const Qs=w.forwardRef(({className:e,...t},r)=>l.jsx(fM,{ref:r,className:he(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Qs.displayName=fM.displayName;const UK=w.forwardRef(({className:e,...t},r)=>l.jsx(hM,{ref:r,className:he("aspect-square h-full w-full",e),...t}));UK.displayName=hM.displayName;const Js=w.forwardRef(({className:e,...t},r)=>l.jsx(pM,{ref:r,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Js.displayName=pM.displayName;var zK=Array.isArray,ln=zK,VK=typeof Nh=="object"&&Nh&&Nh.Object===Object&&Nh,mM=VK,WK=mM,qK=typeof self=="object"&&self&&self.Object===Object&&self,HK=WK||qK||Function("return this")(),Yi=HK,KK=Yi,GK=KK.Symbol,ch=GK,VO=ch,gM=Object.prototype,YK=gM.hasOwnProperty,XK=gM.toString,Bu=VO?VO.toStringTag:void 0;function QK(e){var t=YK.call(e,Bu),r=e[Bu];try{e[Bu]=void 0;var n=!0}catch{}var i=XK.call(e);return n&&(t?e[Bu]=r:delete e[Bu]),i}var JK=QK,ZK=Object.prototype,eG=ZK.toString;function tG(e){return eG.call(e)}var rG=tG,WO=ch,nG=JK,iG=rG,aG="[object Null]",oG="[object Undefined]",qO=WO?WO.toStringTag:void 0;function sG(e){return e==null?e===void 0?oG:aG:qO&&qO in Object(e)?nG(e):iG(e)}var ka=sG;function lG(e){return e!=null&&typeof e=="object"}var $a=lG,cG=ka,uG=$a,dG="[object Symbol]";function fG(e){return typeof e=="symbol"||uG(e)&&cG(e)==dG}var pu=fG,hG=ln,pG=pu,mG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gG=/^\w*$/;function vG(e,t){if(hG(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||pG(e)?!0:gG.test(e)||!mG.test(e)||t!=null&&e in Object(t)}var ej=vG;function yG(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Io=yG;const mu=ot(Io);var xG=ka,bG=Io,wG="[object AsyncFunction]",_G="[object Function]",jG="[object GeneratorFunction]",SG="[object Proxy]";function EG(e){if(!bG(e))return!1;var t=xG(e);return t==_G||t==jG||t==wG||t==SG}var tj=EG;const Re=ot(tj);var OG=Yi,PG=OG["__core-js_shared__"],NG=PG,wx=NG,HO=function(){var e=/[^.]+$/.exec(wx&&wx.keys&&wx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function AG(e){return!!HO&&HO in e}var CG=AG,TG=Function.prototype,kG=TG.toString;function $G(e){if(e!=null){try{return kG.call(e)}catch{}try{return e+""}catch{}}return""}var vM=$G,RG=tj,IG=CG,MG=Io,DG=vM,LG=/[\\^$.*+?()[\]{}|]/g,FG=/^\[object .+?Constructor\]$/,BG=Function.prototype,UG=Object.prototype,zG=BG.toString,VG=UG.hasOwnProperty,WG=RegExp("^"+zG.call(VG).replace(LG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qG(e){if(!MG(e)||IG(e))return!1;var t=RG(e)?WG:FG;return t.test(DG(e))}var HG=qG;function KG(e,t){return e==null?void 0:e[t]}var GG=KG,YG=HG,XG=GG;function QG(e,t){var r=XG(e,t);return YG(r)?r:void 0}var Zs=QG,JG=Zs,ZG=JG(Object,"create"),Ov=ZG,KO=Ov;function e9(){this.__data__=KO?KO(null):{},this.size=0}var t9=e9;function r9(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var n9=r9,i9=Ov,a9="__lodash_hash_undefined__",o9=Object.prototype,s9=o9.hasOwnProperty;function l9(e){var t=this.__data__;if(i9){var r=t[e];return r===a9?void 0:r}return s9.call(t,e)?t[e]:void 0}var c9=l9,u9=Ov,d9=Object.prototype,f9=d9.hasOwnProperty;function h9(e){var t=this.__data__;return u9?t[e]!==void 0:f9.call(t,e)}var p9=h9,m9=Ov,g9="__lodash_hash_undefined__";function v9(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=m9&&t===void 0?g9:t,this}var y9=v9,x9=t9,b9=n9,w9=c9,_9=p9,j9=y9;function gu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gu.prototype.clear=x9;gu.prototype.delete=b9;gu.prototype.get=w9;gu.prototype.has=_9;gu.prototype.set=j9;var S9=gu;function E9(){this.__data__=[],this.size=0}var O9=E9;function P9(e,t){return e===t||e!==e&&t!==t}var rj=P9,N9=rj;function A9(e,t){for(var r=e.length;r--;)if(N9(e[r][0],t))return r;return-1}var Pv=A9,C9=Pv,T9=Array.prototype,k9=T9.splice;function $9(e){var t=this.__data__,r=C9(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():k9.call(t,r,1),--this.size,!0}var R9=$9,I9=Pv;function M9(e){var t=this.__data__,r=I9(t,e);return r<0?void 0:t[r][1]}var D9=M9,L9=Pv;function F9(e){return L9(this.__data__,e)>-1}var B9=F9,U9=Pv;function z9(e,t){var r=this.__data__,n=U9(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var V9=z9,W9=O9,q9=R9,H9=D9,K9=B9,G9=V9;function vu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vu.prototype.clear=W9;vu.prototype.delete=q9;vu.prototype.get=H9;vu.prototype.has=K9;vu.prototype.set=G9;var Nv=vu,Y9=Zs,X9=Yi,Q9=Y9(X9,"Map"),nj=Q9,GO=S9,J9=Nv,Z9=nj;function e7(){this.size=0,this.__data__={hash:new GO,map:new(Z9||J9),string:new GO}}var t7=e7;function r7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var n7=r7,i7=n7;function a7(e,t){var r=e.__data__;return i7(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Av=a7,o7=Av;function s7(e){var t=o7(this,e).delete(e);return this.size-=t?1:0,t}var l7=s7,c7=Av;function u7(e){return c7(this,e).get(e)}var d7=u7,f7=Av;function h7(e){return f7(this,e).has(e)}var p7=h7,m7=Av;function g7(e,t){var r=m7(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var v7=g7,y7=t7,x7=l7,b7=d7,w7=p7,_7=v7;function yu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yu.prototype.clear=y7;yu.prototype.delete=x7;yu.prototype.get=b7;yu.prototype.has=w7;yu.prototype.set=_7;var ij=yu,yM=ij,j7="Expected a function";function aj(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(j7);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(aj.Cache||yM),r}aj.Cache=yM;var xM=aj;const S7=ot(xM);var E7=xM,O7=500;function P7(e){var t=E7(e,function(n){return r.size===O7&&r.clear(),n}),r=t.cache;return t}var N7=P7,A7=N7,C7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T7=/\\(\\)?/g,k7=A7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(C7,function(r,n,i,a){t.push(i?a.replace(T7,"$1"):n||r)}),t}),$7=k7;function R7(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var oj=R7,YO=ch,I7=oj,M7=ln,D7=pu,L7=1/0,XO=YO?YO.prototype:void 0,QO=XO?XO.toString:void 0;function bM(e){if(typeof e=="string")return e;if(M7(e))return I7(e,bM)+"";if(D7(e))return QO?QO.call(e):"";var t=e+"";return t=="0"&&1/e==-L7?"-0":t}var F7=bM,B7=F7;function U7(e){return e==null?"":B7(e)}var wM=U7,z7=ln,V7=ej,W7=$7,q7=wM;function H7(e,t){return z7(e)?e:V7(e,t)?[e]:W7(q7(e))}var _M=H7,K7=pu,G7=1/0;function Y7(e){if(typeof e=="string"||K7(e))return e;var t=e+"";return t=="0"&&1/e==-G7?"-0":t}var Cv=Y7,X7=_M,Q7=Cv;function J7(e,t){t=X7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Q7(t[r++])];return r&&r==n?e:void 0}var sj=J7,Z7=sj;function eY(e,t,r){var n=e==null?void 0:Z7(e,t);return n===void 0?r:n}var jM=eY;const jn=ot(jM);function tY(e){return e==null}var rY=tY;const Le=ot(rY);var nY=ka,iY=ln,aY=$a,oY="[object String]";function sY(e){return typeof e=="string"||!iY(e)&&aY(e)&&nY(e)==oY}var lY=sY;const uh=ot(lY);var SM={exports:{}},lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lj=Symbol.for("react.element"),cj=Symbol.for("react.portal"),Tv=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),Rv=Symbol.for("react.provider"),Iv=Symbol.for("react.context"),cY=Symbol.for("react.server_context"),Mv=Symbol.for("react.forward_ref"),Dv=Symbol.for("react.suspense"),Lv=Symbol.for("react.suspense_list"),Fv=Symbol.for("react.memo"),Bv=Symbol.for("react.lazy"),uY=Symbol.for("react.offscreen"),EM;EM=Symbol.for("react.module.reference");function qn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lj:switch(e=e.type,e){case Tv:case $v:case kv:case Dv:case Lv:return e;default:switch(e=e&&e.$$typeof,e){case cY:case Iv:case Mv:case Bv:case Fv:case Rv:return e;default:return t}}case cj:return t}}}lt.ContextConsumer=Iv;lt.ContextProvider=Rv;lt.Element=lj;lt.ForwardRef=Mv;lt.Fragment=Tv;lt.Lazy=Bv;lt.Memo=Fv;lt.Portal=cj;lt.Profiler=$v;lt.StrictMode=kv;lt.Suspense=Dv;lt.SuspenseList=Lv;lt.isAsyncMode=function(){return!1};lt.isConcurrentMode=function(){return!1};lt.isContextConsumer=function(e){return qn(e)===Iv};lt.isContextProvider=function(e){return qn(e)===Rv};lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lj};lt.isForwardRef=function(e){return qn(e)===Mv};lt.isFragment=function(e){return qn(e)===Tv};lt.isLazy=function(e){return qn(e)===Bv};lt.isMemo=function(e){return qn(e)===Fv};lt.isPortal=function(e){return qn(e)===cj};lt.isProfiler=function(e){return qn(e)===$v};lt.isStrictMode=function(e){return qn(e)===kv};lt.isSuspense=function(e){return qn(e)===Dv};lt.isSuspenseList=function(e){return qn(e)===Lv};lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Tv||e===$v||e===kv||e===Dv||e===Lv||e===uY||typeof e=="object"&&e!==null&&(e.$$typeof===Bv||e.$$typeof===Fv||e.$$typeof===Rv||e.$$typeof===Iv||e.$$typeof===Mv||e.$$typeof===EM||e.getModuleId!==void 0)};lt.typeOf=qn;SM.exports=lt;var dY=SM.exports,fY=ka,hY=$a,pY="[object Number]";function mY(e){return typeof e=="number"||hY(e)&&fY(e)==pY}var OM=mY;const gY=ot(OM);var vY=OM;function yY(e){return vY(e)&&e!=+e}var xY=yY;const xu=ot(xY);var Wr=function(t){return t===0?0:t>0?1:-1},ls=function(t){return uh(t)&&t.indexOf("%")===t.length-1},fe=function(t){return gY(t)&&!xu(t)},sr=function(t){return fe(t)||uh(t)},bY=0,el=function(t){var r=++bY;return"".concat(t||"").concat(r)},qr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!uh(t))return n;var a;if(ls(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return xu(a)&&(a=n),i&&a>r&&(a=r),a},Ga=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},wY=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ar=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Pm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):jn(n,t))===r})}function ec(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function C0(e){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C0(e)}var _Y=["viewBox","children"],jY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JO=["points","pathLength"],_x={svg:_Y,polygon:JO,polyline:JO},uj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!mu(n))return null;var i={};return Object.keys(n).forEach(function(a){uj.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},SY=function(t,r,n){return function(i){return t(r,n,i),null}},Fs=function(t,r,n){if(!mu(t)||C0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];uj.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=SY(o,r,n))}),i},EY=["children"],OY=["children"];function ZO(e,t){if(e==null)return{};var r=PY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T0(e){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T0(e)}var eP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ya=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},tP=null,jx=null,dj=function e(t){if(t===tP&&Array.isArray(jx))return jx;var r=[];return w.Children.forEach(t,function(n){Le(n)||(dY.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),jx=r,tP=t,r};function Sn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return ya(i)}):n=[ya(t)],dj(e).forEach(function(i){var a=jn(i,"type.displayName")||jn(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function mn(e,t){var r=Sn(e,t);return r&&r[0]}var rP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!fe(n)||n<=0||!fe(i)||i<=0)},NY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],AY=function(t){return t&&t.type&&uh(t.type)&&NY.indexOf(t.type)>=0},PM=function(t){return t&&T0(t)==="object"&&"clipDot"in t},CY=function(t,r,n,i){var a,o=(a=_x==null?void 0:_x[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Re(t)&&(i&&o.includes(r)||jY.includes(r))||n&&uj.includes(r)},Ne=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!mu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;CY((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},k0=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return nP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!nP(a,o))return!1}return!0},nP=function(t,r){if(Le(t)&&Le(r))return!0;if(!Le(t)&&!Le(r)){var n=t.props||{},i=n.children,a=ZO(n,EY),o=r.props||{},s=o.children,c=ZO(o,OY);return i&&s?ec(a,c)&&k0(i,s):!i&&!s?ec(a,c):!1}return!1},iP=function(t,r){var n=[],i={};return dj(t).forEach(function(a,o){if(AY(a))n.push(a);else if(a){var s=ya(a.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},TY=function(t){var r=t&&t.type;return r&&eP[r]?eP[r]:null},kY=function(t,r){return dj(r).indexOf(t)},$Y=["children","width","height","viewBox","className","style","title","desc"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(this,arguments)}function RY(e,t){if(e==null)return{};var r=IY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,c=e.desc,u=RY(e,$Y),d=i||{width:r,height:n,x:0,y:0},f=Be("recharts-surface",a);return L.createElement("svg",$0({},Ne(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,s),L.createElement("desc",null,c),t)}var MY=["children","className"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(this,arguments)}function DY(e,t){if(e==null)return{};var r=LY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ge=L.forwardRef(function(e,t){var r=e.children,n=e.className,i=DY(e,MY),a=Be("recharts-layer",n);return L.createElement("g",I0({className:a},Ne(i,!0),{ref:t}),r)}),hi=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function FY(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var BY=FY,UY=BY;function zY(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:UY(e,t,r)}var VY=zY,WY="\\ud800-\\udfff",qY="\\u0300-\\u036f",HY="\\ufe20-\\ufe2f",KY="\\u20d0-\\u20ff",GY=qY+HY+KY,YY="\\ufe0e\\ufe0f",XY="\\u200d",QY=RegExp("["+XY+WY+GY+YY+"]");function JY(e){return QY.test(e)}var NM=JY;function ZY(e){return e.split("")}var eX=ZY,AM="\\ud800-\\udfff",tX="\\u0300-\\u036f",rX="\\ufe20-\\ufe2f",nX="\\u20d0-\\u20ff",iX=tX+rX+nX,aX="\\ufe0e\\ufe0f",oX="["+AM+"]",M0="["+iX+"]",D0="\\ud83c[\\udffb-\\udfff]",sX="(?:"+M0+"|"+D0+")",CM="[^"+AM+"]",TM="(?:\\ud83c[\\udde6-\\uddff]){2}",kM="[\\ud800-\\udbff][\\udc00-\\udfff]",lX="\\u200d",$M=sX+"?",RM="["+aX+"]?",cX="(?:"+lX+"(?:"+[CM,TM,kM].join("|")+")"+RM+$M+")*",uX=RM+$M+cX,dX="(?:"+[CM+M0+"?",M0,TM,kM,oX].join("|")+")",fX=RegExp(D0+"(?="+D0+")|"+dX+uX,"g");function hX(e){return e.match(fX)||[]}var pX=hX,mX=eX,gX=NM,vX=pX;function yX(e){return gX(e)?vX(e):mX(e)}var xX=yX,bX=VY,wX=NM,_X=xX,jX=wM;function SX(e){return function(t){t=jX(t);var r=wX(t)?_X(t):void 0,n=r?r[0]:t.charAt(0),i=r?bX(r,1).join(""):t.slice(1);return n[e]()+i}}var EX=SX,OX=EX,PX=OX("toUpperCase"),NX=PX;const Uv=ot(NX);function mt(e){return function(){return e}}const IM=Math.cos,Am=Math.sin,ji=Math.sqrt,Cm=Math.PI,zv=2*Cm,L0=Math.PI,F0=2*L0,Qo=1e-6,AX=F0-Qo;function MM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function CX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return MM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class TX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?MM:CX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,u=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Qo)if(!(Math.abs(f*c-u*d)>Qo)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=i-s,p=c*c+u*u,x=m*m+y*y,b=Math.sqrt(p),v=Math.sqrt(h),g=a*Math.tan((L0-Math.acos((p+h-x)/(2*b*v)))/2),j=g/v,_=g/b;Math.abs(j-1)>Qo&&this._append`L${t+j*d},${r+j*f}`,this._append`A${a},${a},0,0,${+(f*m>d*y)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=t+s,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Qo||Math.abs(this._y1-d)>Qo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%F0+F0),h>AX?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Qo&&this._append`A${n},${n},0,${+(h>=L0)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new TX(t)}function hj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DM(e){this._context=e}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Vv(e){return new DM(e)}function LM(e){return e[0]}function FM(e){return e[1]}function BM(e,t){var r=mt(!0),n=null,i=Vv,a=null,o=fj(s);e=typeof e=="function"?e:e===void 0?LM:mt(e),t=typeof t=="function"?t:t===void 0?FM:mt(t);function s(c){var u,d=(c=hj(c)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:mt(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:mt(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:mt(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function ep(e,t,r){var n=null,i=mt(!0),a=null,o=Vv,s=null,c=fj(u);e=typeof e=="function"?e:e===void 0?LM:mt(+e),t=typeof t=="function"?t:mt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?FM:mt(+r);function u(f){var h,m,y,p=(f=hj(f)).length,x,b=!1,v,g=new Array(p),j=new Array(p);for(a==null&&(s=o(v=c())),h=0;h<=p;++h){if(!(h<p&&i(x=f[h],h,f))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(g[y],j[y]);s.lineEnd(),s.areaEnd()}b&&(g[h]=+e(x,h,f),j[h]=+t(x,h,f),s.point(n?+n(x,h,f):g[h],r?+r(x,h,f):j[h]))}if(v)return s=null,v+""||null}function d(){return BM().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:mt(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class UM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kX(e){return new UM(e,!0)}function $X(e){return new UM(e,!1)}const pj={draw(e,t){const r=ji(t/Cm);e.moveTo(r,0),e.arc(0,0,r,0,zv)}},RX={draw(e,t){const r=ji(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},zM=ji(1/3),IX=zM*2,MX={draw(e,t){const r=ji(t/IX),n=r*zM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},DX={draw(e,t){const r=ji(t),n=-r/2;e.rect(n,n,r,r)}},LX=.8908130915292852,VM=Am(Cm/10)/Am(7*Cm/10),FX=Am(zv/10)*VM,BX=-IM(zv/10)*VM,UX={draw(e,t){const r=ji(t*LX),n=FX*r,i=BX*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=zv*a/5,s=IM(o),c=Am(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*i,c*n+s*i)}e.closePath()}},Sx=ji(3),zX={draw(e,t){const r=-ji(t/(Sx*3));e.moveTo(0,r*2),e.lineTo(-Sx*r,-r),e.lineTo(Sx*r,-r),e.closePath()}},Nn=-.5,An=ji(3)/2,B0=1/ji(12),VX=(B0/2+1)*3,WX={draw(e,t){const r=ji(t/VX),n=r/2,i=r*B0,a=n,o=r*B0+r,s=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Nn*n-An*i,An*n+Nn*i),e.lineTo(Nn*a-An*o,An*a+Nn*o),e.lineTo(Nn*s-An*c,An*s+Nn*c),e.lineTo(Nn*n+An*i,Nn*i-An*n),e.lineTo(Nn*a+An*o,Nn*o-An*a),e.lineTo(Nn*s+An*c,Nn*c-An*s),e.closePath()}};function qX(e,t){let r=null,n=fj(i);e=typeof e=="function"?e:mt(e||pj),t=typeof t=="function"?t:mt(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:mt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:mt(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Tm(){}function km(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function WM(e){this._context=e}WM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:km(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:km(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HX(e){return new WM(e)}function qM(e){this._context=e}qM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:km(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function KX(e){return new qM(e)}function HM(e){this._context=e}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:km(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GX(e){return new HM(e)}function KM(e){this._context=e}KM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function YX(e){return new KM(e)}function aP(e){return e<0?-1:1}function oP(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(aP(a)+aP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function sP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ex(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function $m(e){this._context=e}$m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ex(this,this._t0,sP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ex(this,sP(this,r=oP(this,e,t)),r);break;default:Ex(this,this._t0,r=oP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function GM(e){this._context=new YM(e)}(GM.prototype=Object.create($m.prototype)).point=function(e,t){$m.prototype.point.call(this,t,e)};function YM(e){this._context=e}YM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function XX(e){return new $m(e)}function QX(e){return new GM(e)}function XM(e){this._context=e}XM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=lP(e),i=lP(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function lP(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function JX(e){return new XM(e)}function Wv(e,t){this._context=e,this._t=t}Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ZX(e){return new Wv(e,.5)}function eQ(e){return new Wv(e,0)}function tQ(e){return new Wv(e,1)}function Tc(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function U0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function rQ(e,t){return e[t]}function nQ(e){const t=[];return t.key=e,t}function iQ(){var e=mt([]),t=U0,r=Tc,n=rQ;function i(a){var o=Array.from(e.apply(this,arguments),nQ),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=hj(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:mt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:mt(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?U0:typeof a=="function"?a:mt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Tc,i):r},i}function aQ(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Tc(e,t)}}function oQ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Tc(e,t)}}function sQ(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,y=0;y<s;++y){var p=e[t[y]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Tc(e,t)}}function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}var lQ=["type","size","sizeType"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(this,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return t=uQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return rf(t)=="symbol"?t:t+""}function dQ(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fQ(e,t){if(e==null)return{};var r=hQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var QM={symbolCircle:pj,symbolCross:RX,symbolDiamond:MX,symbolSquare:DX,symbolStar:UX,symbolTriangle:zX,symbolWye:WX},pQ=Math.PI/180,mQ=function(t){var r="symbol".concat(Uv(t));return QM[r]||pj},gQ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*pQ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},vQ=function(t,r){QM["symbol".concat(Uv(t))]=r},mj=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,c=fQ(t,lQ),u=uP(uP({},c),{},{type:n,size:a,sizeType:s}),d=function(){var x=mQ(n),b=qX().type(x).size(gQ(a,s,n));return b()},f=u.className,h=u.cx,m=u.cy,y=Ne(u,!0);return h===+h&&m===+m&&a===+a?L.createElement("path",z0({},y,{className:Be("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};mj.registerSymbol=vQ;function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(this,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){nf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZM(n.key),n)}}function wQ(e,t,r){return t&&bQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _Q(e,t,r){return t=Rm(t),jQ(e,JM()?Reflect.construct(t,r||[],Rm(e).constructor):t.apply(e,r))}function jQ(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(e)}function SQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JM=function(){return!!e})()}function Rm(e){return Rm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rm(e)}function EQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},W0(e,t)}function nf(e,t,r){return t=ZM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZM(e){var t=OQ(e,"string");return kc(t)=="symbol"?t:t+""}function OQ(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cn=32,gj=function(e){function t(){return xQ(this,t),_Q(this,t,arguments)}return EQ(t,e),wQ(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Cn/2,o=Cn/6,s=Cn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Cn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Cn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Cn/8,"h").concat(Cn,"v").concat(Cn*3/4,"h").concat(-Cn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=yQ({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(mj,{fill:c,cx:a,cy:a,size:Cn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Cn,height:Cn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,y){var p=m.formatter||c,x=Be(nf(nf({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Re(m.value)?null:m.value;hi(!Re(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return L.createElement("li",V0({className:x,style:f,key:"legend-item-".concat(y)},Fs(n.props,m,y)),L.createElement(R0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,y):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(w.PureComponent);nf(gj,"displayName","Legend");nf(gj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var PQ=Nv;function NQ(){this.__data__=new PQ,this.size=0}var AQ=NQ;function CQ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var TQ=CQ;function kQ(e){return this.__data__.get(e)}var $Q=kQ;function RQ(e){return this.__data__.has(e)}var IQ=RQ,MQ=Nv,DQ=nj,LQ=ij,FQ=200;function BQ(e,t){var r=this.__data__;if(r instanceof MQ){var n=r.__data__;if(!DQ||n.length<FQ-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new LQ(n)}return r.set(e,t),this.size=r.size,this}var UQ=BQ,zQ=Nv,VQ=AQ,WQ=TQ,qQ=$Q,HQ=IQ,KQ=UQ;function bu(e){var t=this.__data__=new zQ(e);this.size=t.size}bu.prototype.clear=VQ;bu.prototype.delete=WQ;bu.prototype.get=qQ;bu.prototype.has=HQ;bu.prototype.set=KQ;var eD=bu,GQ="__lodash_hash_undefined__";function YQ(e){return this.__data__.set(e,GQ),this}var XQ=YQ;function QQ(e){return this.__data__.has(e)}var JQ=QQ,ZQ=ij,eJ=XQ,tJ=JQ;function Im(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new ZQ;++t<r;)this.add(e[t])}Im.prototype.add=Im.prototype.push=eJ;Im.prototype.has=tJ;var tD=Im;function rJ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var rD=rJ;function nJ(e,t){return e.has(t)}var nD=nJ,iJ=tD,aJ=rD,oJ=nD,sJ=1,lJ=2;function cJ(e,t,r,n,i,a){var o=r&sJ,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&lJ?new iJ:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var y=e[f],p=t[f];if(n)var x=o?n(p,y,f,t,e,a):n(y,p,f,e,t,a);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!aJ(t,function(b,v){if(!oJ(m,v)&&(y===b||i(y,b,r,n,a)))return m.push(v)})){h=!1;break}}else if(!(y===p||i(y,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var iD=cJ,uJ=Yi,dJ=uJ.Uint8Array,fJ=dJ;function hJ(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var pJ=hJ;function mJ(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var vj=mJ,fP=ch,hP=fJ,gJ=rj,vJ=iD,yJ=pJ,xJ=vj,bJ=1,wJ=2,_J="[object Boolean]",jJ="[object Date]",SJ="[object Error]",EJ="[object Map]",OJ="[object Number]",PJ="[object RegExp]",NJ="[object Set]",AJ="[object String]",CJ="[object Symbol]",TJ="[object ArrayBuffer]",kJ="[object DataView]",pP=fP?fP.prototype:void 0,Ox=pP?pP.valueOf:void 0;function $J(e,t,r,n,i,a,o){switch(r){case kJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case TJ:return!(e.byteLength!=t.byteLength||!a(new hP(e),new hP(t)));case _J:case jJ:case OJ:return gJ(+e,+t);case SJ:return e.name==t.name&&e.message==t.message;case PJ:case AJ:return e==t+"";case EJ:var s=yJ;case NJ:var c=n&bJ;if(s||(s=xJ),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=wJ,o.set(e,t);var d=vJ(s(e),s(t),n,i,a,o);return o.delete(e),d;case CJ:if(Ox)return Ox.call(e)==Ox.call(t)}return!1}var RJ=$J;function IJ(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var aD=IJ,MJ=aD,DJ=ln;function LJ(e,t,r){var n=t(e);return DJ(e)?n:MJ(n,r(e))}var FJ=LJ;function BJ(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var UJ=BJ;function zJ(){return[]}var VJ=zJ,WJ=UJ,qJ=VJ,HJ=Object.prototype,KJ=HJ.propertyIsEnumerable,mP=Object.getOwnPropertySymbols,GJ=mP?function(e){return e==null?[]:(e=Object(e),WJ(mP(e),function(t){return KJ.call(e,t)}))}:qJ,YJ=GJ;function XJ(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var QJ=XJ,JJ=ka,ZJ=$a,eZ="[object Arguments]";function tZ(e){return ZJ(e)&&JJ(e)==eZ}var rZ=tZ,gP=rZ,nZ=$a,oD=Object.prototype,iZ=oD.hasOwnProperty,aZ=oD.propertyIsEnumerable,oZ=gP(function(){return arguments}())?gP:function(e){return nZ(e)&&iZ.call(e,"callee")&&!aZ.call(e,"callee")},yj=oZ,Mm={exports:{}};function sZ(){return!1}var lZ=sZ;Mm.exports;(function(e,t){var r=Yi,n=lZ,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;e.exports=u})(Mm,Mm.exports);var sD=Mm.exports,cZ=9007199254740991,uZ=/^(?:0|[1-9]\d*)$/;function dZ(e,t){var r=typeof e;return t=t??cZ,!!t&&(r=="number"||r!="symbol"&&uZ.test(e))&&e>-1&&e%1==0&&e<t}var xj=dZ,fZ=9007199254740991;function hZ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=fZ}var bj=hZ,pZ=ka,mZ=bj,gZ=$a,vZ="[object Arguments]",yZ="[object Array]",xZ="[object Boolean]",bZ="[object Date]",wZ="[object Error]",_Z="[object Function]",jZ="[object Map]",SZ="[object Number]",EZ="[object Object]",OZ="[object RegExp]",PZ="[object Set]",NZ="[object String]",AZ="[object WeakMap]",CZ="[object ArrayBuffer]",TZ="[object DataView]",kZ="[object Float32Array]",$Z="[object Float64Array]",RZ="[object Int8Array]",IZ="[object Int16Array]",MZ="[object Int32Array]",DZ="[object Uint8Array]",LZ="[object Uint8ClampedArray]",FZ="[object Uint16Array]",BZ="[object Uint32Array]",wt={};wt[kZ]=wt[$Z]=wt[RZ]=wt[IZ]=wt[MZ]=wt[DZ]=wt[LZ]=wt[FZ]=wt[BZ]=!0;wt[vZ]=wt[yZ]=wt[CZ]=wt[xZ]=wt[TZ]=wt[bZ]=wt[wZ]=wt[_Z]=wt[jZ]=wt[SZ]=wt[EZ]=wt[OZ]=wt[PZ]=wt[NZ]=wt[AZ]=!1;function UZ(e){return gZ(e)&&mZ(e.length)&&!!wt[pZ(e)]}var zZ=UZ;function VZ(e){return function(t){return e(t)}}var lD=VZ,Dm={exports:{}};Dm.exports;(function(e,t){var r=mM,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Dm,Dm.exports);var WZ=Dm.exports,qZ=zZ,HZ=lD,vP=WZ,yP=vP&&vP.isTypedArray,KZ=yP?HZ(yP):qZ,cD=KZ,GZ=QJ,YZ=yj,XZ=ln,QZ=sD,JZ=xj,ZZ=cD,eee=Object.prototype,tee=eee.hasOwnProperty;function ree(e,t){var r=XZ(e),n=!r&&YZ(e),i=!r&&!n&&QZ(e),a=!r&&!n&&!i&&ZZ(e),o=r||n||i||a,s=o?GZ(e.length,String):[],c=s.length;for(var u in e)(t||tee.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JZ(u,c)))&&s.push(u);return s}var nee=ree,iee=Object.prototype;function aee(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||iee;return e===r}var oee=aee;function see(e,t){return function(r){return e(t(r))}}var uD=see,lee=uD,cee=lee(Object.keys,Object),uee=cee,dee=oee,fee=uee,hee=Object.prototype,pee=hee.hasOwnProperty;function mee(e){if(!dee(e))return fee(e);var t=[];for(var r in Object(e))pee.call(e,r)&&r!="constructor"&&t.push(r);return t}var gee=mee,vee=tj,yee=bj;function xee(e){return e!=null&&yee(e.length)&&!vee(e)}var dh=xee,bee=nee,wee=gee,_ee=dh;function jee(e){return _ee(e)?bee(e):wee(e)}var qv=jee,See=FJ,Eee=YJ,Oee=qv;function Pee(e){return See(e,Oee,Eee)}var Nee=Pee,xP=Nee,Aee=1,Cee=Object.prototype,Tee=Cee.hasOwnProperty;function kee(e,t,r,n,i,a){var o=r&Aee,s=xP(e),c=s.length,u=xP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in t:Tee.call(t,h)))return!1}var m=a.get(e),y=a.get(t);if(m&&y)return m==t&&y==e;var p=!0;a.set(e,t),a.set(t,e);for(var x=o;++f<c;){h=s[f];var b=e[h],v=t[h];if(n)var g=o?n(v,b,h,t,e,a):n(b,v,h,e,t,a);if(!(g===void 0?b===v||i(b,v,r,n,a):g)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var j=e.constructor,_=t.constructor;j!=_&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}var $ee=kee,Ree=Zs,Iee=Yi,Mee=Ree(Iee,"DataView"),Dee=Mee,Lee=Zs,Fee=Yi,Bee=Lee(Fee,"Promise"),Uee=Bee,zee=Zs,Vee=Yi,Wee=zee(Vee,"Set"),dD=Wee,qee=Zs,Hee=Yi,Kee=qee(Hee,"WeakMap"),Gee=Kee,q0=Dee,H0=nj,K0=Uee,G0=dD,Y0=Gee,fD=ka,wu=vM,bP="[object Map]",Yee="[object Object]",wP="[object Promise]",_P="[object Set]",jP="[object WeakMap]",SP="[object DataView]",Xee=wu(q0),Qee=wu(H0),Jee=wu(K0),Zee=wu(G0),ete=wu(Y0),Jo=fD;(q0&&Jo(new q0(new ArrayBuffer(1)))!=SP||H0&&Jo(new H0)!=bP||K0&&Jo(K0.resolve())!=wP||G0&&Jo(new G0)!=_P||Y0&&Jo(new Y0)!=jP)&&(Jo=function(e){var t=fD(e),r=t==Yee?e.constructor:void 0,n=r?wu(r):"";if(n)switch(n){case Xee:return SP;case Qee:return bP;case Jee:return wP;case Zee:return _P;case ete:return jP}return t});var tte=Jo,Px=eD,rte=iD,nte=RJ,ite=$ee,EP=tte,OP=ln,PP=sD,ate=cD,ote=1,NP="[object Arguments]",AP="[object Array]",tp="[object Object]",ste=Object.prototype,CP=ste.hasOwnProperty;function lte(e,t,r,n,i,a){var o=OP(e),s=OP(t),c=o?AP:EP(e),u=s?AP:EP(t);c=c==NP?tp:c,u=u==NP?tp:u;var d=c==tp,f=u==tp,h=c==u;if(h&&PP(e)){if(!PP(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new Px),o||ate(e)?rte(e,t,r,n,i,a):nte(e,t,c,r,n,i,a);if(!(r&ote)){var m=d&&CP.call(e,"__wrapped__"),y=f&&CP.call(t,"__wrapped__");if(m||y){var p=m?e.value():e,x=y?t.value():t;return a||(a=new Px),i(p,x,r,n,a)}}return h?(a||(a=new Px),ite(e,t,r,n,i,a)):!1}var cte=lte,ute=cte,TP=$a;function hD(e,t,r,n,i){return e===t?!0:e==null||t==null||!TP(e)&&!TP(t)?e!==e&&t!==t:ute(e,t,r,n,hD,i)}var wj=hD,dte=eD,fte=wj,hte=1,pte=2;function mte(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var c=s[0],u=e[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var f=new dte;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?fte(d,u,hte|pte,n,f):h))return!1}}return!0}var gte=mte,vte=Io;function yte(e){return e===e&&!vte(e)}var pD=yte,xte=pD,bte=qv;function wte(e){for(var t=bte(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xte(i)]}return t}var _te=wte;function jte(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var mD=jte,Ste=gte,Ete=_te,Ote=mD;function Pte(e){var t=Ete(e);return t.length==1&&t[0][2]?Ote(t[0][0],t[0][1]):function(r){return r===e||Ste(r,e,t)}}var Nte=Pte;function Ate(e,t){return e!=null&&t in Object(e)}var Cte=Ate,Tte=_M,kte=yj,$te=ln,Rte=xj,Ite=bj,Mte=Cv;function Dte(e,t,r){t=Tte(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=Mte(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&Ite(i)&&Rte(o,i)&&($te(e)||kte(e)))}var Lte=Dte,Fte=Cte,Bte=Lte;function Ute(e,t){return e!=null&&Bte(e,t,Fte)}var zte=Ute,Vte=wj,Wte=jM,qte=zte,Hte=ej,Kte=pD,Gte=mD,Yte=Cv,Xte=1,Qte=2;function Jte(e,t){return Hte(e)&&Kte(t)?Gte(Yte(e),t):function(r){var n=Wte(r,e);return n===void 0&&n===t?qte(r,e):Vte(t,n,Xte|Qte)}}var Zte=Jte;function ere(e){return e}var _u=ere;function tre(e){return function(t){return t==null?void 0:t[e]}}var rre=tre,nre=sj;function ire(e){return function(t){return nre(t,e)}}var are=ire,ore=rre,sre=are,lre=ej,cre=Cv;function ure(e){return lre(e)?ore(cre(e)):sre(e)}var dre=ure,fre=Nte,hre=Zte,pre=_u,mre=ln,gre=dre;function vre(e){return typeof e=="function"?e:e==null?pre:typeof e=="object"?mre(e)?hre(e[0],e[1]):fre(e):gre(e)}var Xi=vre;function yre(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var gD=yre;function xre(e){return e!==e}var bre=xre;function wre(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var _re=wre,jre=gD,Sre=bre,Ere=_re;function Ore(e,t,r){return t===t?Ere(e,t,r):jre(e,Sre,r)}var Pre=Ore,Nre=Pre;function Are(e,t){var r=e==null?0:e.length;return!!r&&Nre(e,t,0)>-1}var Cre=Are;function Tre(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var kre=Tre;function $re(){}var Rre=$re,Nx=dD,Ire=Rre,Mre=vj,Dre=1/0,Lre=Nx&&1/Mre(new Nx([,-0]))[1]==Dre?function(e){return new Nx(e)}:Ire,Fre=Lre,Bre=tD,Ure=Cre,zre=kre,Vre=nD,Wre=Fre,qre=vj,Hre=200;function Kre(e,t,r){var n=-1,i=Ure,a=e.length,o=!0,s=[],c=s;if(r)o=!1,i=zre;else if(a>=Hre){var u=t?null:Wre(e);if(u)return qre(u);o=!1,i=Vre,c=new Bre}else c=t?[]:s;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(d)}else i(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var Gre=Kre,Yre=Xi,Xre=Gre;function Qre(e,t){return e&&e.length?Xre(e,Yre(t)):[]}var Jre=Qre;const kP=ot(Jre);function vD(e,t,r){return t===!0?kP(e,r):Re(t)?kP(e,t):e}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var Zre=["ref"];function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){Hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xD(n.key),n)}}function tne(e,t,r){return t&&RP(e.prototype,t),r&&RP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rne(e,t,r){return t=Lm(t),nne(e,yD()?Reflect.construct(t,r||[],Lm(e).constructor):t.apply(e,r))}function nne(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ine(e)}function ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yD=function(){return!!e})()}function Lm(e){return Lm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lm(e)}function ane(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(e,t)}function Hv(e,t,r){return t=xD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xD(e){var t=one(e,"string");return $c(t)=="symbol"?t:t+""}function one(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sne(e,t){if(e==null)return{};var r=lne(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cne(e){return e.value}function une(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=sne(t,Zre);return L.createElement(gj,r)}var IP=1,Os=function(e){function t(){var r;ene(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rne(this,t,[].concat(i)),Hv(r,"lastBoundingBox",{width:-1,height:-1}),r}return ane(t,e),tne(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>IP||Math.abs(i.height-this.lastBoundingBox.height)>IP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ea({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var y=this.getBBoxSnapshot();h={top:((d||0)-y.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ea(ea({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=ea(ea({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},une(a,ea(ea({},this.props),{},{payload:vD(d,u,cne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=ea(ea({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&fe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(w.PureComponent);Hv(Os,"displayName","Legend");Hv(Os,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MP=ch,dne=yj,fne=ln,DP=MP?MP.isConcatSpreadable:void 0;function hne(e){return fne(e)||dne(e)||!!(DP&&e&&e[DP])}var pne=hne,mne=aD,gne=pne;function bD(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=gne),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?bD(s,t-1,r,n,i):mne(i,s):n||(i[i.length]=s)}return i}var wD=bD;function vne(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++i];if(r(a[c],c,a)===!1)break}return t}}var yne=vne,xne=yne,bne=xne(),wne=bne,_ne=wne,jne=qv;function Sne(e,t){return e&&_ne(e,t,jne)}var _D=Sne,Ene=dh;function One(e,t){return function(r,n){if(r==null)return r;if(!Ene(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Pne=One,Nne=_D,Ane=Pne,Cne=Ane(Nne),_j=Cne,Tne=_j,kne=dh;function $ne(e,t){var r=-1,n=kne(e)?Array(e.length):[];return Tne(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var jD=$ne;function Rne(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Ine=Rne,LP=pu;function Mne(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=LP(e),o=t!==void 0,s=t===null,c=t===t,u=LP(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var Dne=Mne,Lne=Dne;function Fne(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=Lne(i[n],a[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Bne=Fne,Ax=oj,Une=sj,zne=Xi,Vne=jD,Wne=Ine,qne=lD,Hne=Bne,Kne=_u,Gne=ln;function Yne(e,t,r){t.length?t=Ax(t,function(a){return Gne(a)?function(o){return Une(o,a.length===1?a[0]:a)}:a}):t=[Kne];var n=-1;t=Ax(t,qne(zne));var i=Vne(e,function(a,o,s){var c=Ax(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return Wne(i,function(a,o){return Hne(a,o,r)})}var Xne=Yne;function Qne(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Jne=Qne,Zne=Jne,FP=Math.max;function eie(e,t,r){return t=FP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=FP(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Zne(e,this,s)}}var tie=eie;function rie(e){return function(){return e}}var nie=rie,iie=Zs,aie=function(){try{var e=iie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),SD=aie,oie=nie,BP=SD,sie=_u,lie=BP?function(e,t){return BP(e,"toString",{configurable:!0,enumerable:!1,value:oie(t),writable:!0})}:sie,cie=lie,uie=800,die=16,fie=Date.now;function hie(e){var t=0,r=0;return function(){var n=fie(),i=die-(n-r);if(r=n,i>0){if(++t>=uie)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pie=hie,mie=cie,gie=pie,vie=gie(mie),yie=vie,xie=_u,bie=tie,wie=yie;function _ie(e,t){return wie(bie(e,t,xie),e+"")}var jie=_ie,Sie=rj,Eie=dh,Oie=xj,Pie=Io;function Nie(e,t,r){if(!Pie(r))return!1;var n=typeof t;return(n=="number"?Eie(r)&&Oie(t,r.length):n=="string"&&t in r)?Sie(r[t],e):!1}var Kv=Nie,Aie=wD,Cie=Xne,Tie=jie,UP=Kv,kie=Tie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&UP(e,t[0],t[1])?t=[]:r>2&&UP(t[0],t[1],t[2])&&(t=[t[0]]),Cie(e,Aie(t,1),[])}),$ie=kie;const jj=ot($ie);function af(e){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},af(e)}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function Rie(e,t){return Lie(e)||Die(e,t)||Mie(e,t)||Iie()}function Iie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mie(e,t){if(e){if(typeof e=="string")return zP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zP(e,t)}}function zP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Die(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Lie(e){if(Array.isArray(e))return e}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){Fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fie(e,t,r){return t=Bie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bie(e){var t=Uie(e,"string");return af(t)=="symbol"?t:t+""}function Uie(e,t){if(af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zie(e){return Array.isArray(e)&&sr(e[0])&&sr(e[1])?e.join(" ~ "):e}var Vie=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,y=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,g=function(){if(d&&d.length){var I={padding:0,margin:0},A=(h?jj(d,h):d).map(function(P,$){if(P.type==="none")return null;var R=Cx({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},s),B=P.formatter||f||zie,C=P.value,D=P.name,H=C,G=D;if(B&&H!=null&&G!=null){var k=B(C,D,P,$,d);if(Array.isArray(k)){var F=Rie(k,2);H=F[0],G=F[1]}else H=k}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:R},sr(G)?L.createElement("span",{className:"recharts-tooltip-item-name"},G):null,sr(G)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},H),L.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:I},A)}return null},j=Cx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=Cx({margin:0},u),S=!Le(p),E=S?p:"",O=Be("recharts-default-tooltip",m),N=Be("recharts-tooltip-label",y);S&&x&&d!==void 0&&d!==null&&(E=x(p,d));var M=v?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",Q0({className:O,style:j},M),L.createElement("p",{className:N,style:_},L.isValidElement(E)?E:"".concat(E)),g())};function of(e){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function rp(e,t,r){return t=Wie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wie(e){var t=qie(e,"string");return of(t)=="symbol"?t:t+""}function qie(e,t){if(of(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(of(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uu="recharts-tooltip-wrapper",Hie={visibility:"hidden"};function Kie(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Be(Uu,rp(rp(rp(rp({},"".concat(Uu,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Uu,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Uu,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Uu,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function WP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&fe(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+s,p=c[n]+u;return y>p?Math.max(d,c[n]):Math.max(f,c[n])}function Gie(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Yie(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=WP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=WP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Gie({translateX:d,translateY:f,useTranslate3d:s})):u=Hie,{cssProperties:u,cssClasses:Kie({translateX:d,translateY:f,coordinate:r})}}function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){Z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OD(n.key),n)}}function Jie(e,t,r){return t&&Qie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zie(e,t,r){return t=Fm(t),eae(e,ED()?Reflect.construct(t,r||[],Fm(e).constructor):t.apply(e,r))}function eae(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tae(e)}function tae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ED(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ED=function(){return!!e})()}function Fm(e){return Fm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fm(e)}function rae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},J0(e,t)}function Z0(e,t,r){return t=OD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OD(e){var t=nae(e,"string");return Rc(t)=="symbol"?t:t+""}function nae(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KP=1,iae=function(e){function t(){var r;Xie(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Zie(this,t,[].concat(i)),Z0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Z0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return rae(t,e),Jie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>KP||Math.abs(n.height-this.state.lastBoundingBox.height)>KP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,y=i.position,p=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,v=i.wrapperStyle,g=Yie({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:y,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),j=g.cssClasses,_=g.cssProperties,S=HP(HP({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return L.createElement("div",{tabIndex:-1,className:j,style:S,ref:function(O){n.wrapperNode=O}},u)}}])}(w.PureComponent),aae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pi={isSsr:aae(),get:function(t){return pi[t]},set:function(t,r){if(typeof t=="string")pi[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){pi[i]=t[i]})}}};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){Sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ND(n.key),n)}}function lae(e,t,r){return t&&sae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cae(e,t,r){return t=Bm(t),uae(e,PD()?Reflect.construct(t,r||[],Bm(e).constructor):t.apply(e,r))}function uae(e,t){if(t&&(Ic(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(e)}function dae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PD=function(){return!!e})()}function Bm(e){return Bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bm(e)}function fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ew(e,t)}function ew(e,t){return ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ew(e,t)}function Sj(e,t,r){return t=ND(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ND(e){var t=hae(e,"string");return Ic(t)=="symbol"?t:t+""}function hae(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pae(e){return e.dataKey}function mae(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(Vie,t)}var kr=function(e){function t(){return oae(this,t),cae(this,t,arguments)}return fae(t,e),lae(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,y=i.payload,p=i.payloadUniqBy,x=i.position,b=i.reverseDirection,v=i.useTranslate3d,g=i.viewBox,j=i.wrapperStyle,_=y??[];f&&_.length&&(_=vD(y.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),p,pae));var S=_.length>0;return L.createElement(iae,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:v,viewBox:g,wrapperStyle:j},mae(u,YP(YP({},this.props),{},{payload:_})))}}])}(w.PureComponent);Sj(kr,"displayName","Tooltip");Sj(kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gae=Yi,vae=function(){return gae.Date.now()},yae=vae,xae=/\s/;function bae(e){for(var t=e.length;t--&&xae.test(e.charAt(t)););return t}var wae=bae,_ae=wae,jae=/^\s+/;function Sae(e){return e&&e.slice(0,_ae(e)+1).replace(jae,"")}var Eae=Sae,Oae=Eae,XP=Io,Pae=pu,QP=NaN,Nae=/^[-+]0x[0-9a-f]+$/i,Aae=/^0b[01]+$/i,Cae=/^0o[0-7]+$/i,Tae=parseInt;function kae(e){if(typeof e=="number")return e;if(Pae(e))return QP;if(XP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=XP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Oae(e);var r=Aae.test(e);return r||Cae.test(e)?Tae(e.slice(2),r?2:8):Nae.test(e)?QP:+e}var AD=kae,$ae=Io,Tx=yae,JP=AD,Rae="Expected a function",Iae=Math.max,Mae=Math.min;function Dae(e,t,r){var n,i,a,o,s,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Rae);t=JP(t)||0,$ae(r)&&(d=!!r.leading,f="maxWait"in r,a=f?Iae(JP(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(S){var E=n,O=i;return n=i=void 0,u=S,o=e.apply(O,E),o}function y(S){return u=S,s=setTimeout(b,t),d?m(S):o}function p(S){var E=S-c,O=S-u,N=t-E;return f?Mae(N,a-O):N}function x(S){var E=S-c,O=S-u;return c===void 0||E>=t||E<0||f&&O>=a}function b(){var S=Tx();if(x(S))return v(S);s=setTimeout(b,p(S))}function v(S){return s=void 0,h&&n?m(S):(n=i=void 0,o)}function g(){s!==void 0&&clearTimeout(s),u=0,n=c=i=s=void 0}function j(){return s===void 0?o:v(Tx())}function _(){var S=Tx(),E=x(S);if(n=arguments,i=this,c=S,E){if(s===void 0)return y(c);if(f)return clearTimeout(s),s=setTimeout(b,t),m(c)}return s===void 0&&(s=setTimeout(b,t)),o}return _.cancel=g,_.flush=j,_}var Lae=Dae,Fae=Lae,Bae=Io,Uae="Expected a function";function zae(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Uae);return Bae(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Fae(e,t,{leading:n,maxWait:t,trailing:i})}var Vae=zae;const CD=ot(Vae);function sf(e){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sf(e)}function ZP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZP(Object(r),!0).forEach(function(n){Wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wae(e,t,r){return t=qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qae(e){var t=Hae(e,"string");return sf(t)=="symbol"?t:t+""}function Hae(e,t){if(sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kae(e,t){return Qae(e)||Xae(e,t)||Yae(e,t)||Gae()}function Gae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yae(e,t){if(e){if(typeof e=="string")return eN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eN(e,t)}}function eN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Xae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qae(e){if(Array.isArray(e))return e}var cs=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,y=e.debounce,p=y===void 0?0:y,x=e.id,b=e.className,v=e.onResize,g=e.style,j=g===void 0?{}:g,_=w.useRef(null),S=w.useRef();S.current=v,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=w.useState({containerWidth:i.width,containerHeight:i.height}),O=Kae(E,2),N=O[0],M=O[1],T=w.useCallback(function(A,P){M(function($){var R=Math.round(A),B=Math.round(P);return $.containerWidth===R&&$.containerHeight===B?$:{containerWidth:R,containerHeight:B}})},[]);w.useEffect(function(){var A=function(D){var H,G=D[0].contentRect,k=G.width,F=G.height;T(k,F),(H=S.current)===null||H===void 0||H.call(S,k,F)};p>0&&(A=CD(A,p,{trailing:!0,leading:!1}));var P=new ResizeObserver(A),$=_.current.getBoundingClientRect(),R=$.width,B=$.height;return T(R,B),P.observe(_.current),function(){P.disconnect()}},[T,p]);var I=w.useMemo(function(){var A=N.containerWidth,P=N.containerHeight;if(A<0||P<0)return null;hi(ls(o)||ls(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),hi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var $=ls(o)?A:o,R=ls(c)?P:c;r&&r>0&&($?R=$/r:R&&($=R*r),h&&R>h&&(R=h)),hi($>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,R,o,c,d,f,r);var B=!Array.isArray(m)&&ya(m.type).endsWith("Chart");return L.Children.map(m,function(C){return L.isValidElement(C)?w.cloneElement(C,np({width:$,height:R},B?{style:np({height:"100%",width:"100%",maxHeight:R,maxWidth:$},C.props.style)}:{})):C})},[r,m,c,h,f,d,N,o]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Be("recharts-responsive-container",b),style:np(np({},j),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},I)}),fh=function(t){return null};fh.displayName="Cell";function lf(e){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Jae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jae(e,t,r){return t=Zae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=eoe(e,"string");return lf(t)=="symbol"?t:t+""}function eoe(e,t){if(lf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ul={widthCache:{},cacheCount:0},toe=2e3,roe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rN="recharts_measurement_span";function noe(e){var t=tw({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var bd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pi.isSsr)return{width:0,height:0};var n=noe(r),i=JSON.stringify({text:t,copyStyle:n});if(ul.widthCache[i])return ul.widthCache[i];try{var a=document.getElementById(rN);a||(a=document.createElement("span"),a.setAttribute("id",rN),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=tw(tw({},roe),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return ul.widthCache[i]=c,++ul.cacheCount>toe&&(ul.cacheCount=0,ul.widthCache={}),c}catch{return{width:0,height:0}}},ioe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cf(e){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cf(e)}function Um(e,t){return loe(e)||soe(e,t)||ooe(e,t)||aoe()}function aoe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ooe(e,t){if(e){if(typeof e=="string")return nN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nN(e,t)}}function nN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function soe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function loe(e){if(Array.isArray(e))return e}function coe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,doe(n.key),n)}}function uoe(e,t,r){return t&&iN(e.prototype,t),r&&iN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function doe(e){var t=foe(e,"string");return cf(t)=="symbol"?t:t+""}function foe(e,t){if(cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hoe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,poe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},moe=Object.keys(TD),Ll="NaN";function goe(e,t){return e*TD[t]}var ip=function(){function e(t,r){coe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!hoe.test(r)&&(this.num=NaN,this.unit=""),moe.includes(r)&&(this.num=goe(t,r),this.unit="px")}return uoe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=poe.exec(r))!==null&&n!==void 0?n:[],a=Um(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function kD(e){if(e.includes(Ll))return Ll;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=aN.exec(t))!==null&&r!==void 0?r:[],i=Um(n,4),a=i[1],o=i[2],s=i[3],c=ip.parse(a??""),u=ip.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ll;t=t.replace(aN,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=oN.exec(t))!==null&&f!==void 0?f:[],m=Um(h,4),y=m[1],p=m[2],x=m[3],b=ip.parse(y??""),v=ip.parse(x??""),g=p==="+"?b.add(v):b.subtract(v);if(g.isNaN())return Ll;t=t.replace(oN,g.toString())}return t}var sN=/\(([^()]*)\)/;function voe(e){for(var t=e;t.includes("(");){var r=sN.exec(t),n=Um(r,2),i=n[1];t=t.replace(sN,kD(i))}return t}function yoe(e){var t=e.replace(/\s+/g,"");return t=voe(t),t=kD(t),t}function xoe(e){try{return yoe(e)}catch{return Ll}}function kx(e){var t=xoe(e.slice(5,-1));return t===Ll?"":t}var boe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],woe=["dx","dy","angle","className","breakAll"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function lN(e,t){if(e==null)return{};var r=_oe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cN(e,t){return Ooe(e)||Eoe(e,t)||Soe(e,t)||joe()}function joe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Soe(e,t){if(e){if(typeof e=="string")return uN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uN(e,t)}}function uN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Eoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Ooe(e){if(Array.isArray(e))return e}var $D=/[ \f\n\r\t\v\u2028\u2029]+/,RD=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Le(r)||(n?a=r.toString().split(""):a=r.toString().split($D));var o=a.map(function(c){return{word:c,width:bd(c,i).width}}),s=n?0:bd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Poe=function(t,r,n,i,a){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,d=fe(o),f=s,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(R,B){var C=B.word,D=B.width,H=R[R.length-1];if(H&&(i==null||a||H.width+D+n<Number(i)))H.words.push(C),H.width+=D+n;else{var G={words:[C],width:D};R.push(G)}return R},[])},m=h(r),y=function($){return $.reduce(function(R,B){return R.width>B.width?R:B})};if(!d)return m;for(var p="",x=function($){var R=f.slice(0,$),B=RD({breakAll:u,style:c,children:R+p}).wordsWithComputedWidth,C=h(B),D=C.length>o||y(C).width>Number(i);return[D,C]},b=0,v=f.length-1,g=0,j;b<=v&&g<=f.length-1;){var _=Math.floor((b+v)/2),S=_-1,E=x(S),O=cN(E,2),N=O[0],M=O[1],T=x(_),I=cN(T,1),A=I[0];if(!N&&!A&&(b=_+1),N&&A&&(v=_-1),!N&&A){j=M;break}g++}return j||m},dN=function(t){var r=Le(t)?[]:t.toString().split($D);return[{words:r}]},Noe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!pi.isSsr){var c,u,d=RD({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return dN(i);return Poe({breakAll:o,children:i,maxLines:s,style:a},c,u,r,n)}return dN(i)},fN="#808080",Bs=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,y=t.verticalAnchor,p=y===void 0?"end":y,x=t.fill,b=x===void 0?fN:x,v=lN(t,boe),g=w.useMemo(function(){return Noe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),j=v.dx,_=v.dy,S=v.angle,E=v.className,O=v.breakAll,N=lN(v,woe);if(!sr(n)||!sr(a))return null;var M=n+(fe(j)?j:0),T=a+(fe(_)?_:0),I;switch(p){case"start":I=kx("calc(".concat(u,")"));break;case"middle":I=kx("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:I=kx("calc(".concat(g.length-1," * -").concat(s,")"));break}var A=[];if(f){var P=g[0].width,$=v.width;A.push("scale(".concat((fe($)?$/P:1)/P,")"))}return S&&A.push("rotate(".concat(S,", ").concat(M,", ").concat(T,")")),A.length&&(N.transform=A.join(" ")),L.createElement("text",rw({},Ne(N,!0),{x:M,y:T,className:Be("recharts-text",E),textAnchor:m,fill:b.includes("url")?fN:b}),g.map(function(R,B){var C=R.words.join(O?"":" ");return L.createElement("tspan",{x:M,dy:B===0?I:s,key:"".concat(C,"-").concat(B)},C)}))};function xo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Aoe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ej(e){let t,r,n;e.length!==2?(t=xo,r=(s,c)=>xo(e(s),c),n=(s,c)=>e(s)-c):(t=e===xo||e===Aoe?e:Coe,r=e,n=e);function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function Coe(){return 0}function ID(e){return e===null?NaN:+e}function*Toe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const koe=Ej(xo),hh=koe.right;Ej(ID).center;class hN extends Map{constructor(t,r=Ioe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(pN(this,t))}has(t){return super.has(pN(this,t))}set(t,r){return super.set($oe(this,t),r)}delete(t){return super.delete(Roe(this,t))}}function pN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function $oe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Roe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ioe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Moe(e=xo){if(e===xo)return MD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Doe=Math.sqrt(50),Loe=Math.sqrt(10),Foe=Math.sqrt(2);function zm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Doe?10:a>=Loe?5:a>=Foe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?zm(e,t,r*2):[s,c,u]}function nw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?zm(t,e,r):zm(e,t,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function iw(e,t,r){return t=+t,e=+e,r=+r,zm(e,t,r)[2]}function aw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?iw(t,e,r):iw(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function mN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function gN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DD(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?MD:Moe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),y=Math.min(n,Math.floor(t+(c-u)*f/c+h));DD(e,t,m,y,i)}const a=e[t];let o=r,s=n;for(zu(e,r,t),i(e[n],a)>0&&zu(e,r,n);o<s;){for(zu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?zu(e,r,s):(++s,zu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function zu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Boe(e,t,r){if(e=Float64Array.from(Toe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return gN(e);if(t>=1)return mN(e);var n,i=(n-1)*t,a=Math.floor(i),o=mN(DD(e,a).subarray(0,a+1)),s=gN(e.subarray(a+1));return o+(s-o)*(i-a)}}function Uoe(e,t,r=ID){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function zoe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Hn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ra(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ow=Symbol("implicit");function Oj(){var e=new hN,t=[],r=[],n=ow;function i(a){let o=e.get(a);if(o===void 0){if(n!==ow)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new hN;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Oj(t,r).unknown(n)},Hn.apply(i,arguments),i}function uf(){var e=Oj().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,y=m?i:n,p=m?n:i;a=(p-y)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),y+=(p-y-a*(h-c))*d,o=a*(1-c),s&&(y=Math.round(y),o=Math.round(o));var x=zoe(h).map(function(b){return y+a*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return uf(t(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},Hn.apply(f(),arguments)}function LD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return LD(t())},e}function wd(){return LD(uf.apply(null,arguments).paddingInner(1))}function Pj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function FD(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ph(){}var df=.7,Vm=1/df,tc="\\s*([+-]?\\d+)\\s*",ff="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Li="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Voe=/^#([0-9a-f]{3,8})$/,Woe=new RegExp(`^rgb\\(${tc},${tc},${tc}\\)$`),qoe=new RegExp(`^rgb\\(${Li},${Li},${Li}\\)$`),Hoe=new RegExp(`^rgba\\(${tc},${tc},${tc},${ff}\\)$`),Koe=new RegExp(`^rgba\\(${Li},${Li},${Li},${ff}\\)$`),Goe=new RegExp(`^hsl\\(${ff},${Li},${Li}\\)$`),Yoe=new RegExp(`^hsla\\(${ff},${Li},${Li},${ff}\\)$`),vN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pj(ph,hf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yN,formatHex:yN,formatHex8:Xoe,formatHsl:Qoe,formatRgb:xN,toString:xN});function yN(){return this.rgb().formatHex()}function Xoe(){return this.rgb().formatHex8()}function Qoe(){return BD(this).formatHsl()}function xN(){return this.rgb().formatRgb()}function hf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Voe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?bN(t):r===3?new tn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ap(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ap(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Woe.exec(e))?new tn(t[1],t[2],t[3],1):(t=qoe.exec(e))?new tn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Hoe.exec(e))?ap(t[1],t[2],t[3],t[4]):(t=Koe.exec(e))?ap(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Goe.exec(e))?jN(t[1],t[2]/100,t[3]/100,1):(t=Yoe.exec(e))?jN(t[1],t[2]/100,t[3]/100,t[4]):vN.hasOwnProperty(e)?bN(vN[e]):e==="transparent"?new tn(NaN,NaN,NaN,0):null}function bN(e){return new tn(e>>16&255,e>>8&255,e&255,1)}function ap(e,t,r,n){return n<=0&&(e=t=r=NaN),new tn(e,t,r,n)}function Joe(e){return e instanceof ph||(e=hf(e)),e?(e=e.rgb(),new tn(e.r,e.g,e.b,e.opacity)):new tn}function sw(e,t,r,n){return arguments.length===1?Joe(e):new tn(e,t,r,n??1)}function tn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Pj(tn,sw,FD(ph,{brighter(e){return e=e==null?Vm:Math.pow(Vm,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?df:Math.pow(df,e),new tn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new tn(Ps(this.r),Ps(this.g),Ps(this.b),Wm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wN,formatHex:wN,formatHex8:Zoe,formatRgb:_N,toString:_N}));function wN(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Zoe(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function _N(){const e=Wm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ps(this.r)}, ${Ps(this.g)}, ${Ps(this.b)}${e===1?")":`, ${e})`}`}function Wm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ps(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function us(e){return e=Ps(e),(e<16?"0":"")+e.toString(16)}function jN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new si(e,t,r,n)}function BD(e){if(e instanceof si)return new si(e.h,e.s,e.l,e.opacity);if(e instanceof ph||(e=hf(e)),!e)return new si;if(e instanceof si)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new si(o,s,c,e.opacity)}function ese(e,t,r,n){return arguments.length===1?BD(e):new si(e,t,r,n??1)}function si(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Pj(si,ese,FD(ph,{brighter(e){return e=e==null?Vm:Math.pow(Vm,e),new si(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?df:Math.pow(df,e),new si(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new tn($x(e>=240?e-240:e+120,i,n),$x(e,i,n),$x(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new si(SN(this.h),op(this.s),op(this.l),Wm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wm(this.opacity);return`${e===1?"hsl(":"hsla("}${SN(this.h)}, ${op(this.s)*100}%, ${op(this.l)*100}%${e===1?")":`, ${e})`}`}}));function SN(e){return e=(e||0)%360,e<0?e+360:e}function op(e){return Math.max(0,Math.min(1,e||0))}function $x(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nj=e=>()=>e;function tse(e,t){return function(r){return e+r*t}}function rse(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function nse(e){return(e=+e)==1?UD:function(t,r){return r-t?rse(t,r,e):Nj(isNaN(t)?r:t)}}function UD(e,t){var r=t-e;return r?tse(e,r):Nj(isNaN(e)?t:e)}const EN=function e(t){var r=nse(t);function n(i,a){var o=r((i=sw(i)).r,(a=sw(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=UD(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function ise(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function ase(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ose(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ju(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function sse(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function qm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function lse(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ju(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rx=new RegExp(lw.source,"g");function cse(e){return function(){return e}}function use(e){return function(t){return e(t)+""}}function dse(e,t){var r=lw.lastIndex=Rx.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=lw.exec(e))&&(i=Rx.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:qm(n,i)})),r=Rx.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?use(c[0].x):cse(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function ju(e,t){var r=typeof t,n;return t==null||r==="boolean"?Nj(t):(r==="number"?qm:r==="string"?(n=hf(t))?(t=n,EN):dse:t instanceof hf?EN:t instanceof Date?sse:ase(t)?ise:Array.isArray(t)?ose:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?lse:qm)(e,t)}function Aj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fse(e,t){t===void 0&&(t=e,e=ju);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function hse(e){return function(){return e}}function Hm(e){return+e}var ON=[0,1];function Hr(e){return e}function cw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:hse(isNaN(t)?NaN:.5)}function pse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mse(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=cw(i,n),a=r(o,a)):(n=cw(n,i),a=r(a,o)),function(s){return a(n(s))}}function gse(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=cw(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var c=hh(e,s,1,n)-1;return a[c](i[c](s))}}function mh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gv(){var e=ON,t=ON,r=ju,n,i,a,o=Hr,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Hr&&(o=pse(e[0],e[h-1])),s=h>2?gse:mse,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(t,e.map(n),qm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Hm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Aj,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Hr,d()):o!==Hr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function Cj(){return Gv()(Hr,Hr)}function vse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Km(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Mc(e){return e=Km(Math.abs(e)),e?e[1]:NaN}function yse(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function xse(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pf(e){if(!(t=bse.exec(e)))throw new Error("invalid format: "+e);var t;return new Tj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pf.prototype=Tj.prototype;function Tj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wse(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var zD;function _se(e,t){var r=Km(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(zD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Km(e,Math.max(0,t+a-1))[0]}function PN(e,t){var r=Km(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const NN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:vse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>PN(e*100,t),r:PN,s:_se,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function AN(e){return e}var CN=Array.prototype.map,TN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function jse(e){var t=e.grouping===void 0||e.thousands===void 0?AN:yse(CN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?AN:xse(CN.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pf(f);var h=f.fill,m=f.align,y=f.sign,p=f.symbol,x=f.zero,b=f.width,v=f.comma,g=f.precision,j=f.trim,_=f.type;_==="n"?(v=!0,_="g"):NN[_]||(g===void 0&&(g=12),j=!0,_="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=p==="$"?n:/[%p]/.test(_)?o:"",O=NN[_],N=/[defgprs%]/.test(_);g=g===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function M(T){var I=S,A=E,P,$,R;if(_==="c")A=O(T)+A,T="";else{T=+T;var B=T<0||1/T<0;if(T=isNaN(T)?c:O(Math.abs(T),g),j&&(T=wse(T)),B&&+T==0&&y!=="+"&&(B=!1),I=(B?y==="("?y:s:y==="-"||y==="("?"":y)+I,A=(_==="s"?TN[8+zD/3]:"")+A+(B&&y==="("?")":""),N){for(P=-1,$=T.length;++P<$;)if(R=T.charCodeAt(P),48>R||R>57){A=(R===46?i+T.slice(P+1):T.slice(P))+A,T=T.slice(0,P);break}}}v&&!x&&(T=t(T,1/0));var C=I.length+T.length+A.length,D=C<b?new Array(b-C+1).join(h):"";switch(v&&x&&(T=t(D+T,D.length?b-A.length:1/0),D=""),m){case"<":T=I+T+A+D;break;case"=":T=I+D+T+A;break;case"^":T=D.slice(0,C=D.length>>1)+I+T+A+D.slice(C);break;default:T=D+I+T+A;break}return a(T)}return M.toString=function(){return f+""},M}function d(f,h){var m=u((f=pf(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(Mc(h)/3)))*3,p=Math.pow(10,-y),x=TN[8+y/3];return function(b){return m(p*b)+x}}return{format:u,formatPrefix:d}}var sp,kj,VD;Sse({thousands:",",grouping:[3],currency:["$",""]});function Sse(e){return sp=jse(e),kj=sp.format,VD=sp.formatPrefix,sp}function Ese(e){return Math.max(0,-Mc(Math.abs(e)))}function Ose(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mc(t)/3)))*3-Mc(Math.abs(e)))}function Pse(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mc(t)-Mc(e))+1}function WD(e,t,r,n){var i=aw(e,t,r),a;switch(n=pf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Ose(i,o))&&(n.precision=a),VD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Pse(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Ese(i))&&(n.precision=a-(n.type==="%")*2);break}}return kj(n)}function Mo(e){var t=e.domain;return e.ticks=function(r){var n=t();return nw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return WD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=iw(o,s,r),u===c)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function Gm(){var e=Cj();return e.copy=function(){return mh(e,Gm())},Hn.apply(e,arguments),Mo(e)}function qD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return qD(e).unknown(t)},e=arguments.length?Array.from(e,Hm):[0,1],Mo(r)}function HD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function kN(e){return Math.log(e)}function $N(e){return Math.exp(e)}function Nse(e){return-Math.log(-e)}function Ase(e){return-Math.exp(-e)}function Cse(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Tse(e){return e===10?Cse:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function RN(e){return(t,r)=>-e(-t,r)}function $j(e){const t=e(kN,$N),r=t.domain;let n=10,i,a;function o(){return i=kse(n),a=Tse(n),r()[0]<0?(i=RN(i),a=RN(a),e(Nse,Ase)):e(kN,$N),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),y,p;const x=s==null?10:+s;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(p=h<0?y/a(-h):y*a(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(p=h>0?y/a(-h):y*a(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=nw(u,d,x))}else b=nw(h,m,Math.min(m-h,x)).map(a);return f?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pf(c)).precision==null&&(c.trim=!0),c=kj(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(HD(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function KD(){const e=$j(Gv()).domain([1,10]);return e.copy=()=>mh(e,KD()).base(e.base()),Hn.apply(e,arguments),e}function IN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Rj(e){var t=1,r=e(IN(t),MN(t));return r.constant=function(n){return arguments.length?e(IN(t=+n),MN(t)):t},Mo(r)}function GD(){var e=Rj(Gv());return e.copy=function(){return mh(e,GD()).constant(e.constant())},Hn.apply(e,arguments)}function DN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function $se(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Rse(e){return e<0?-e*e:e*e}function Ij(e){var t=e(Hr,Hr),r=1;function n(){return r===1?e(Hr,Hr):r===.5?e($se,Rse):e(DN(r),DN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Mo(t)}function Mj(){var e=Ij(Gv());return e.copy=function(){return mh(e,Mj()).exponent(e.exponent())},Hn.apply(e,arguments),e}function Ise(){return Mj.apply(null,arguments).exponent(.5)}function LN(e){return Math.sign(e)*e*e}function Mse(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function YD(){var e=Cj(),t=[0,1],r=!1,n;function i(a){var o=Mse(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(LN(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Hm)).map(LN)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return YD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Hn.apply(i,arguments),Mo(i)}function XD(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Uoe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[hh(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xo),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return XD().domain(e).range(t).unknown(n)},Hn.apply(a,arguments)}function QD(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[hh(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return QD().domain([e,t]).range(i).unknown(a)},Hn.apply(Mo(o),arguments)}function JD(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[hh(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return JD().domain(e).range(t).unknown(r)},Hn.apply(i,arguments)}const Ix=new Date,Mx=new Date;function cr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>cr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Ix.setTime(+a),Mx.setTime(+o),e(Ix),e(Mx),Math.floor(r(Ix,Mx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Ym=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ym.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ym);Ym.range;const ua=1e3,Ln=ua*60,da=Ln*60,Na=da*24,Dj=Na*7,FN=Na*30,Dx=Na*365,ds=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCSeconds());ds.range;const Lj=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ua)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getMinutes());Lj.range;const Fj=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ln)},(e,t)=>(t-e)/Ln,e=>e.getUTCMinutes());Fj.range;const Bj=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ua-e.getMinutes()*Ln)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getHours());Bj.range;const Uj=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*da)},(e,t)=>(t-e)/da,e=>e.getUTCHours());Uj.range;const gh=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ln)/Na,e=>e.getDate()-1);gh.range;const Yv=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>e.getUTCDate()-1);Yv.range;const ZD=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>Math.floor(e/Na));ZD.range;function tl(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ln)/Dj)}const Xv=tl(0),Xm=tl(1),Dse=tl(2),Lse=tl(3),Dc=tl(4),Fse=tl(5),Bse=tl(6);Xv.range;Xm.range;Dse.range;Lse.range;Dc.range;Fse.range;Bse.range;function rl(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Dj)}const Qv=rl(0),Qm=rl(1),Use=rl(2),zse=rl(3),Lc=rl(4),Vse=rl(5),Wse=rl(6);Qv.range;Qm.range;Use.range;zse.range;Lc.range;Vse.range;Wse.range;const zj=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zj.range;const Vj=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Vj.range;const Aa=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Aa.range;const Ca=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ca.range;function eL(e,t,r,n,i,a){const o=[[ds,1,ua],[ds,5,5*ua],[ds,15,15*ua],[ds,30,30*ua],[a,1,Ln],[a,5,5*Ln],[a,15,15*Ln],[a,30,30*Ln],[i,1,da],[i,3,3*da],[i,6,6*da],[i,12,12*da],[n,1,Na],[n,2,2*Na],[r,1,Dj],[t,1,FN],[t,3,3*FN],[e,1,Dx]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),y=m?m.range(u,+d+1):[];return h?y.reverse():y}function c(u,d,f){const h=Math.abs(d-u)/f,m=Ej(([,,x])=>x).right(o,h);if(m===o.length)return e.every(aw(u/Dx,d/Dx,f));if(m===0)return Ym.every(Math.max(aw(u,d,f),1));const[y,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(p)}return[s,c]}const[qse,Hse]=eL(Ca,Vj,Qv,ZD,Uj,Fj),[Kse,Gse]=eL(Aa,zj,Xv,gh,Bj,Lj);function Lx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Fx(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Yse(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Wu(i),d=qu(i),f=Wu(a),h=qu(a),m=Wu(o),y=qu(o),p=Wu(s),x=qu(s),b=Wu(c),v=qu(c),g={a:B,A:C,b:D,B:H,c:null,d:qN,e:qN,f:yle,g:Nle,G:Cle,H:mle,I:gle,j:vle,L:tL,m:xle,M:ble,p:G,q:k,Q:GN,s:YN,S:wle,u:_le,U:jle,V:Sle,w:Ele,W:Ole,x:null,X:null,y:Ple,Y:Ale,Z:Tle,"%":KN},j={a:F,A:K,b:Z,B:se,c:null,d:HN,e:HN,f:Ile,g:qle,G:Kle,H:kle,I:$le,j:Rle,L:nL,m:Mle,M:Dle,p:te,q:ae,Q:GN,s:YN,S:Lle,u:Fle,U:Ble,V:Ule,w:zle,W:Vle,x:null,X:null,y:Wle,Y:Hle,Z:Gle,"%":KN},_={a:M,A:T,b:I,B:A,c:P,d:VN,e:VN,f:dle,g:zN,G:UN,H:WN,I:WN,j:sle,L:ule,m:ole,M:lle,p:N,q:ale,Q:hle,s:ple,S:cle,u:ele,U:tle,V:rle,w:Zse,W:nle,x:$,X:R,y:zN,Y:UN,Z:ile,"%":fle};g.x=S(r,g),g.X=S(n,g),g.c=S(t,g),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(Y,de){return function(ue){var X=[],Fe=-1,Ce=0,et=Y.length,Xe,W,ge;for(ue instanceof Date||(ue=new Date(+ue));++Fe<et;)Y.charCodeAt(Fe)===37&&(X.push(Y.slice(Ce,Fe)),(W=BN[Xe=Y.charAt(++Fe)])!=null?Xe=Y.charAt(++Fe):W=Xe==="e"?" ":"0",(ge=de[Xe])&&(Xe=ge(ue,W)),X.push(Xe),Ce=Fe+1);return X.push(Y.slice(Ce,Fe)),X.join("")}}function E(Y,de){return function(ue){var X=Vu(1900,void 0,1),Fe=O(X,Y,ue+="",0),Ce,et;if(Fe!=ue.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(de&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ce=Fx(Vu(X.y,0,1)),et=Ce.getUTCDay(),Ce=et>4||et===0?Qm.ceil(Ce):Qm(Ce),Ce=Yv.offset(Ce,(X.V-1)*7),X.y=Ce.getUTCFullYear(),X.m=Ce.getUTCMonth(),X.d=Ce.getUTCDate()+(X.w+6)%7):(Ce=Lx(Vu(X.y,0,1)),et=Ce.getDay(),Ce=et>4||et===0?Xm.ceil(Ce):Xm(Ce),Ce=gh.offset(Ce,(X.V-1)*7),X.y=Ce.getFullYear(),X.m=Ce.getMonth(),X.d=Ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),et="Z"in X?Fx(Vu(X.y,0,1)).getUTCDay():Lx(Vu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(et+5)%7:X.w+X.U*7-(et+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,Fx(X)):Lx(X)}}function O(Y,de,ue,X){for(var Fe=0,Ce=de.length,et=ue.length,Xe,W;Fe<Ce;){if(X>=et)return-1;if(Xe=de.charCodeAt(Fe++),Xe===37){if(Xe=de.charAt(Fe++),W=_[Xe in BN?de.charAt(Fe++):Xe],!W||(X=W(Y,ue,X))<0)return-1}else if(Xe!=ue.charCodeAt(X++))return-1}return X}function N(Y,de,ue){var X=u.exec(de.slice(ue));return X?(Y.p=d.get(X[0].toLowerCase()),ue+X[0].length):-1}function M(Y,de,ue){var X=m.exec(de.slice(ue));return X?(Y.w=y.get(X[0].toLowerCase()),ue+X[0].length):-1}function T(Y,de,ue){var X=f.exec(de.slice(ue));return X?(Y.w=h.get(X[0].toLowerCase()),ue+X[0].length):-1}function I(Y,de,ue){var X=b.exec(de.slice(ue));return X?(Y.m=v.get(X[0].toLowerCase()),ue+X[0].length):-1}function A(Y,de,ue){var X=p.exec(de.slice(ue));return X?(Y.m=x.get(X[0].toLowerCase()),ue+X[0].length):-1}function P(Y,de,ue){return O(Y,t,de,ue)}function $(Y,de,ue){return O(Y,r,de,ue)}function R(Y,de,ue){return O(Y,n,de,ue)}function B(Y){return o[Y.getDay()]}function C(Y){return a[Y.getDay()]}function D(Y){return c[Y.getMonth()]}function H(Y){return s[Y.getMonth()]}function G(Y){return i[+(Y.getHours()>=12)]}function k(Y){return 1+~~(Y.getMonth()/3)}function F(Y){return o[Y.getUTCDay()]}function K(Y){return a[Y.getUTCDay()]}function Z(Y){return c[Y.getUTCMonth()]}function se(Y){return s[Y.getUTCMonth()]}function te(Y){return i[+(Y.getUTCHours()>=12)]}function ae(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var de=S(Y+="",g);return de.toString=function(){return Y},de},parse:function(Y){var de=E(Y+="",!1);return de.toString=function(){return Y},de},utcFormat:function(Y){var de=S(Y+="",j);return de.toString=function(){return Y},de},utcParse:function(Y){var de=E(Y+="",!0);return de.toString=function(){return Y},de}}}var BN={"-":"",_:" ",0:"0"},yr=/^\s*\d+/,Xse=/^%/,Qse=/[\\^$*+?|[\]().{}]/g;function tt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Jse(e){return e.replace(Qse,"\\$&")}function Wu(e){return new RegExp("^(?:"+e.map(Jse).join("|")+")","i")}function qu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Zse(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ele(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function tle(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function rle(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function nle(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function UN(e,t,r){var n=yr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function zN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ile(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ale(e,t,r){var n=yr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ole(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function VN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sle(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function WN(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function lle(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function cle(e,t,r){var n=yr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ule(e,t,r){var n=yr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function dle(e,t,r){var n=yr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fle(e,t,r){var n=Xse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function hle(e,t,r){var n=yr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ple(e,t,r){var n=yr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qN(e,t){return tt(e.getDate(),t,2)}function mle(e,t){return tt(e.getHours(),t,2)}function gle(e,t){return tt(e.getHours()%12||12,t,2)}function vle(e,t){return tt(1+gh.count(Aa(e),e),t,3)}function tL(e,t){return tt(e.getMilliseconds(),t,3)}function yle(e,t){return tL(e,t)+"000"}function xle(e,t){return tt(e.getMonth()+1,t,2)}function ble(e,t){return tt(e.getMinutes(),t,2)}function wle(e,t){return tt(e.getSeconds(),t,2)}function _le(e){var t=e.getDay();return t===0?7:t}function jle(e,t){return tt(Xv.count(Aa(e)-1,e),t,2)}function rL(e){var t=e.getDay();return t>=4||t===0?Dc(e):Dc.ceil(e)}function Sle(e,t){return e=rL(e),tt(Dc.count(Aa(e),e)+(Aa(e).getDay()===4),t,2)}function Ele(e){return e.getDay()}function Ole(e,t){return tt(Xm.count(Aa(e)-1,e),t,2)}function Ple(e,t){return tt(e.getFullYear()%100,t,2)}function Nle(e,t){return e=rL(e),tt(e.getFullYear()%100,t,2)}function Ale(e,t){return tt(e.getFullYear()%1e4,t,4)}function Cle(e,t){var r=e.getDay();return e=r>=4||r===0?Dc(e):Dc.ceil(e),tt(e.getFullYear()%1e4,t,4)}function Tle(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function HN(e,t){return tt(e.getUTCDate(),t,2)}function kle(e,t){return tt(e.getUTCHours(),t,2)}function $le(e,t){return tt(e.getUTCHours()%12||12,t,2)}function Rle(e,t){return tt(1+Yv.count(Ca(e),e),t,3)}function nL(e,t){return tt(e.getUTCMilliseconds(),t,3)}function Ile(e,t){return nL(e,t)+"000"}function Mle(e,t){return tt(e.getUTCMonth()+1,t,2)}function Dle(e,t){return tt(e.getUTCMinutes(),t,2)}function Lle(e,t){return tt(e.getUTCSeconds(),t,2)}function Fle(e){var t=e.getUTCDay();return t===0?7:t}function Ble(e,t){return tt(Qv.count(Ca(e)-1,e),t,2)}function iL(e){var t=e.getUTCDay();return t>=4||t===0?Lc(e):Lc.ceil(e)}function Ule(e,t){return e=iL(e),tt(Lc.count(Ca(e),e)+(Ca(e).getUTCDay()===4),t,2)}function zle(e){return e.getUTCDay()}function Vle(e,t){return tt(Qm.count(Ca(e)-1,e),t,2)}function Wle(e,t){return tt(e.getUTCFullYear()%100,t,2)}function qle(e,t){return e=iL(e),tt(e.getUTCFullYear()%100,t,2)}function Hle(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function Kle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Lc(e):Lc.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function Gle(){return"+0000"}function KN(){return"%"}function GN(e){return+e}function YN(e){return Math.floor(+e/1e3)}var dl,aL,oL;Yle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yle(e){return dl=Yse(e),aL=dl.format,dl.parse,oL=dl.utcFormat,dl.utcParse,dl}function Xle(e){return new Date(e)}function Qle(e){return e instanceof Date?+e:+new Date(+e)}function Wj(e,t,r,n,i,a,o,s,c,u){var d=Cj(),f=d.invert,h=d.domain,m=u(".%L"),y=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),v=u("%b %d"),g=u("%B"),j=u("%Y");function _(S){return(c(S)<S?m:s(S)<S?y:o(S)<S?p:a(S)<S?x:n(S)<S?i(S)<S?b:v:r(S)<S?g:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Qle)):h().map(Xle)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?_:u(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(HD(E,S)):d},d.copy=function(){return mh(d,Wj(e,t,r,n,i,a,o,s,c,u))},d}function Jle(){return Hn.apply(Wj(Kse,Gse,Aa,zj,Xv,gh,Bj,Lj,ds,aL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zle(){return Hn.apply(Wj(qse,Hse,Ca,Vj,Qv,Yv,Uj,Fj,ds,oL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jv(){var e=0,t=1,r,n,i,a,o=Hr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,y;return arguments.length?([m,y]=h,o=f(m,y),u):[o(0),o(1)]}}return u.range=d(ju),u.rangeRound=d(Aj),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Do(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sL(){var e=Mo(Jv()(Hr));return e.copy=function(){return Do(e,sL())},Ra.apply(e,arguments)}function lL(){var e=$j(Jv()).domain([1,10]);return e.copy=function(){return Do(e,lL()).base(e.base())},Ra.apply(e,arguments)}function cL(){var e=Rj(Jv());return e.copy=function(){return Do(e,cL()).constant(e.constant())},Ra.apply(e,arguments)}function qj(){var e=Ij(Jv());return e.copy=function(){return Do(e,qj()).exponent(e.exponent())},Ra.apply(e,arguments)}function ece(){return qj.apply(null,arguments).exponent(.5)}function uL(){var e=[],t=Hr;function r(n){if(n!=null&&!isNaN(n=+n))return t((hh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(xo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Boe(e,a/n))},r.copy=function(){return uL(t).domain(e)},Ra.apply(r,arguments)}function Zv(){var e=0,t=.5,r=1,n=1,i,a,o,s,c,u=Hr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?s:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function y(p){return function(x){var b,v,g;return arguments.length?([b,v,g]=x,u=fse(p,[b,v,g]),m):[u(0),u(.5),u(1)]}}return m.range=y(ju),m.rangeRound=y(Aj),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,i=p(e),a=p(t),o=p(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function dL(){var e=Mo(Zv()(Hr));return e.copy=function(){return Do(e,dL())},Ra.apply(e,arguments)}function fL(){var e=$j(Zv()).domain([.1,1,10]);return e.copy=function(){return Do(e,fL()).base(e.base())},Ra.apply(e,arguments)}function hL(){var e=Rj(Zv());return e.copy=function(){return Do(e,hL()).constant(e.constant())},Ra.apply(e,arguments)}function Hj(){var e=Ij(Zv());return e.copy=function(){return Do(e,Hj()).exponent(e.exponent())},Ra.apply(e,arguments)}function tce(){return Hj.apply(null,arguments).exponent(.5)}const XN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uf,scaleDiverging:dL,scaleDivergingLog:fL,scaleDivergingPow:Hj,scaleDivergingSqrt:tce,scaleDivergingSymlog:hL,scaleIdentity:qD,scaleImplicit:ow,scaleLinear:Gm,scaleLog:KD,scaleOrdinal:Oj,scalePoint:wd,scalePow:Mj,scaleQuantile:XD,scaleQuantize:QD,scaleRadial:YD,scaleSequential:sL,scaleSequentialLog:lL,scaleSequentialPow:qj,scaleSequentialQuantile:uL,scaleSequentialSqrt:ece,scaleSequentialSymlog:cL,scaleSqrt:Ise,scaleSymlog:GD,scaleThreshold:JD,scaleTime:Jle,scaleUtc:Zle,tickFormat:WD},Symbol.toStringTag,{value:"Module"}));var rce=pu;function nce(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!rce(o):r(o,s)))var s=o,c=a}return c}var ey=nce;function ice(e,t){return e>t}var pL=ice,ace=ey,oce=pL,sce=_u;function lce(e){return e&&e.length?ace(e,sce,oce):void 0}var cce=lce;const lo=ot(cce);function uce(e,t){return e<t}var mL=uce,dce=ey,fce=mL,hce=_u;function pce(e){return e&&e.length?dce(e,hce,fce):void 0}var mce=pce;const ty=ot(mce);var gce=oj,vce=Xi,yce=jD,xce=ln;function bce(e,t){var r=xce(e)?gce:yce;return r(e,vce(t))}var wce=bce,_ce=wD,jce=wce;function Sce(e,t){return _ce(jce(e,t),1)}var Ece=Sce;const Oce=ot(Ece);var Pce=wj;function Nce(e,t){return Pce(e,t)}var Ace=Nce;const Us=ot(Ace);var Su=1e9,Cce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Gj,Tt=!0,Wn="[DecimalError] ",Ns=Wn+"Invalid argument: ",Kj=Wn+"Exponent out of range: ",Eu=Math.floor,Zo=Math.pow,Tce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,ur=1e7,_t=7,gL=9007199254740991,Jm=Eu(gL/_t),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*_t;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return xa(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return ft(xa(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Zt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vn))throw Error(Wn+"NaN");if(r.s<1)throw Error(Wn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(Tt=!1,t=xa(mf(r,a),mf(e,a),a),Tt=!0,ft(t,i))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xL(t,e):vL(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Wn+"NaN");return r.s?(Tt=!1,t=xa(r,e,0,1).times(e),Tt=!0,r.minus(t)):ft(new n(r),i)};_e.naturalExponential=_e.exp=function(){return yL(this)};_e.naturalLogarithm=_e.ln=function(){return mf(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vL(t,e):xL(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ns+e);if(t=Zt(i)+1,n=i.d.length-1,r=n*_t+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Wn+"NaN")}for(e=Zt(s),Tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=ki(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(xa(s,a,o+2)).times(.5),ki(a.d).slice(0,o)===(t=ki(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ft(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Tt=!0,ft(n,r)};_e.times=_e.mul=function(e){var t,r,n,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%ur|0,t=s/ur|0;a[i]=(a[i]+t)%ur|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Tt?ft(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ki(e,0,Su),t===void 0?t=n.rounding:Ki(t,0,8),ft(r,e+Zt(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=zs(n,!0):(Ki(e,0,Su),t===void 0?t=i.rounding:Ki(t,0,8),n=ft(new i(n),e+1,t),r=zs(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?zs(i):(Ki(e,0,Su),t===void 0?t=a.rounding:Ki(t,0,8),n=ft(new a(i),e+Zt(i)+1,t),r=zs(n.abs(),!1,e+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return ft(new t(e),Zt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vn);if(s=new c(s),!s.s){if(e.s<1)throw Error(Wn+"Infinity");return s}if(s.eq(vn))return s;if(n=c.precision,e.eq(vn))return ft(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=gL){for(i=new c(vn),t=Math.ceil(n/_t+4),Tt=!1;r%2&&(i=i.times(s),JN(i.d,t)),r=Eu(r/2),r!==0;)s=s.times(s),JN(s.d,t);return Tt=!0,e.s<0?new c(vn).div(i):ft(i,n)}}else if(a<0)throw Error(Wn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Tt=!1,i=e.times(mf(s,n+u)),Tt=!0,i=yL(i),i.s=a,i};_e.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Zt(i),n=zs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ki(e,1,Su),t===void 0?t=a.rounding:Ki(t,0,8),i=ft(new a(i),e,t),r=Zt(i),n=zs(i,e<=r||r<=a.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ki(e,1,Su),t===void 0?t=n.rounding:Ki(t,0,8)),ft(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return zs(e,t<=r.toExpNeg||t>=r.toExpPos)};function vL(e,t){var r,n,i,a,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Tt?ft(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(f/_t),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ur|0,c[a]%=ur;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Tt?ft(t,f):t}function Ki(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ns+e)}function ki(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=_t-n.length,r&&(a+=qa(r)),a+=n;o=e[t],n=o+"",r=_t-n.length,r&&(a+=qa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xa=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ur|0,o=a/ur|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ur+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,d,f,h,m,y,p,x,b,v,g,j,_,S,E,O,N=n.constructor,M=n.s==i.s?1:-1,T=n.d,I=i.d;if(!n.s)return new N(n);if(!i.s)throw Error(Wn+"Division by zero");for(c=n.e-i.e,E=I.length,_=T.length,m=new N(M),y=m.d=[],u=0;I[u]==(T[u]||0);)++u;if(I[u]>(T[u]||0)&&--c,a==null?v=a=N.precision:o?v=a+(Zt(n)-Zt(i))+1:v=a,v<0)return new N(0);if(v=v/_t+2|0,u=0,E==1)for(d=0,I=I[0],v++;(u<_||d)&&v--;u++)g=d*ur+(T[u]||0),y[u]=g/I|0,d=g%I|0;else{for(d=ur/(I[0]+1)|0,d>1&&(I=e(I,d),T=e(T,d),E=I.length,_=T.length),j=E,p=T.slice(0,E),x=p.length;x<E;)p[x++]=0;O=I.slice(),O.unshift(0),S=I[0],I[1]>=ur/2&&++S;do d=0,s=t(I,p,E,x),s<0?(b=p[0],E!=x&&(b=b*ur+(p[1]||0)),d=b/S|0,d>1?(d>=ur&&(d=ur-1),f=e(I,d),h=f.length,x=p.length,s=t(f,p,h,x),s==1&&(d--,r(f,E<h?O:I,h))):(d==0&&(s=d=1),f=I.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),s==-1&&(x=p.length,s=t(I,p,E,x),s<1&&(d++,r(p,E<x?O:I,x))),x=p.length):s===0&&(d++,p=[0]),y[u++]=d,s&&p[0]?p[x++]=T[j]||0:(p=[T[j]],x=1);while((j++<_||p[0]!==void 0)&&v--)}return y[0]||y.shift(),m.e=c,ft(m,o?a+Zt(m)+1:a)}}();function yL(e,t){var r,n,i,a,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(Zt(e)>16)throw Error(Kj+Zt(e));if(!e.s)return new d(vn);for(t==null?(Tt=!1,s=f):s=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Zo(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(vn),d.precision=s;;){if(i=ft(i.times(e),s),r=r.times(++c),o=a.plus(xa(i,r,s)),ki(o.d).slice(0,s)===ki(a.d).slice(0,s)){for(;u--;)a=ft(a.times(a),s);return d.precision=f,t==null?(Tt=!0,ft(a,f)):a}a=o}}function Zt(e){for(var t=e.e*_t,r=e.d[0];r>=10;r/=10)t++;return t}function Bx(e,t,r){if(t>e.LN10.sd())throw Tt=!0,r&&(e.precision=r),Error(Wn+"LN10 precision limit exceeded");return ft(new e(e.LN10),t)}function qa(e){for(var t="";e--;)t+="0";return t}function mf(e,t){var r,n,i,a,o,s,c,u,d,f=1,h=10,m=e,y=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Wn+(m.s?"NaN":"-Infinity"));if(m.eq(vn))return new p(0);if(t==null?(Tt=!1,u=x):u=t,m.eq(10))return t==null&&(Tt=!0),Bx(p,u);if(u+=h,p.precision=u,r=ki(y),n=r.charAt(0),a=Zt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ki(m.d),n=r.charAt(0),f++;a=Zt(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=Bx(p,u+2,x).times(a+""),m=mf(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(Tt=!0,ft(m,x)):m;for(s=o=m=xa(m.minus(vn),m.plus(vn),u),d=ft(m.times(m),u),i=3;;){if(o=ft(o.times(d),u),c=s.plus(xa(o,new p(i),u)),ki(c.d).slice(0,u)===ki(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Bx(p,u+2,x).times(a+""))),s=xa(s,new p(f),u),p.precision=x,t==null?(Tt=!0,ft(s,x)):s;s=c,i+=2}}function QN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eu(r/_t),e.d=[],n=(r+1)%_t,r<0&&(n+=_t),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=_t;n<i;)e.d.push(+t.slice(n,n+=_t));t=t.slice(n),n=_t-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Tt&&(e.e>Jm||e.e<-Jm))throw Error(Kj+r)}else e.s=0,e.e=0,e.d=[0];return e}function ft(e,t,r){var n,i,a,o,s,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=_t,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/_t),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=_t,i=n-_t+o}if(r!==void 0&&(a=Zo(10,o-i-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/Zo(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Zt(e),f.length=1,t=t-a-1,f[0]=Zo(10,(_t-t%_t)%_t),e.e=Eu(-t/_t)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Zo(10,_t-n),f[d]=i>0?(u/Zo(10,o-i)%Zo(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ur&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ur)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Tt&&(e.e>Jm||e.e<-Jm))throw Error(Kj+Zt(e));return e}function xL(e,t){var r,n,i,a,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tt?ft(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),i=Math.max(Math.ceil(m/_t),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=ur-1;--c[a],c[i]+=ur}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Tt?ft(t,m):t):new h(0)}function zs(e,t,r){var n,i=Zt(e),a=ki(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+qa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+qa(-i-1)+a,r&&(n=r-o)>0&&(a+=qa(n))):i>=o?(a+=qa(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+qa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=qa(n))),e.s<0?"-"+a:a}function JN(e,t){if(e.length>t)return e.length=t,!0}function bL(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ns+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return QN(o,a.toString())}else if(typeof a!="string")throw Error(Ns+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Tce.test(a))QN(o,a);else throw Error(Ns+a)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bL,i.config=i.set=kce,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kce(e){if(!e||typeof e!="object")throw Error(Wn+"Object expected");var t,r,n,i=["precision",1,Su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ns+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ns+r+": "+n);return this}var Gj=bL(Cce);vn=new Gj(1);const ct=Gj;function $ce(e){return Dce(e)||Mce(e)||Ice(e)||Rce()}function Rce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ice(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function Mce(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Dce(e){if(Array.isArray(e))return uw(e)}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Lce=function(t){return t},wL={"@@functional/placeholder":!0},_L=function(t){return t===wL},ZN=function(t){return function r(){return arguments.length===0||arguments.length===1&&_L(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Fce=function e(t,r){return t===1?r:ZN(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==wL}).length;return o>=t?r.apply(void 0,i):e(t-o,ZN(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=i.map(function(f){return _L(f)?c.shift():f});return r.apply(void 0,$ce(d).concat(c))}))})},ry=function(t){return Fce(t.length,t)},dw=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Bce=ry(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Uce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Lce;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},fw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},jL=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,c){return s===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function zce(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function Vce(e,t,r){for(var n=new ct(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Wce=ry(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),qce=ry(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Hce=ry(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const ny={rangeStep:Vce,getDigitCount:zce,interpolateNumber:Wce,uninterpolateNumber:qce,uninterpolateTruncation:Hce};function hw(e){return Yce(e)||Gce(e)||SL(e)||Kce()}function Kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gce(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Yce(e){if(Array.isArray(e))return pw(e)}function gf(e,t){return Jce(e)||Qce(e,t)||SL(e,t)||Xce()}function Xce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SL(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qce(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Jce(e){if(Array.isArray(e))return e}function EL(e){var t=gf(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function OL(e,t,r){if(e.lte(0))return new ct(0);var n=ny.getDigitCount(e.toNumber()),i=new ct(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new ct(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return t?c:new ct(Math.ceil(c))}function Zce(e,t,r){var n=1,i=new ct(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new ct(10).pow(ny.getDigitCount(e)-1),i=new ct(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new ct(Math.floor(e)))}else e===0?i=new ct(Math.floor((t-1)/2)):r||(i=new ct(Math.floor(e)));var o=Math.floor((t-1)/2),s=Uce(Bce(function(c){return i.add(new ct(c-o).mul(n)).toNumber()}),dw);return s(0,t)}function PL(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var a=OL(new ct(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new ct(0):(o=new ct(e).add(t).div(2),o=o.sub(new ct(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new ct(t).sub(o).div(a).toNumber()),u=s+c+1;return u>r?PL(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,s=t>0?s:s+(r-u)),{step:a,tickMin:o.sub(new ct(s).mul(a)),tickMax:o.add(new ct(c).mul(a))})}function eue(e){var t=gf(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=EL([r,n]),c=gf(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(hw(dw(0,i-1).map(function(){return 1/0}))):[].concat(hw(dw(0,i-1).map(function(){return-1/0})),[d]);return r>n?fw(f):f}if(u===d)return Zce(u,i,a);var h=PL(u,d,o,a),m=h.step,y=h.tickMin,p=h.tickMax,x=ny.rangeStep(y,p.add(new ct(.1).mul(m)),m);return r>n?fw(x):x}function tue(e,t){var r=gf(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=EL([n,i]),s=gf(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=OL(new ct(u).sub(c).div(d-1),a,0),h=[].concat(hw(ny.rangeStep(new ct(c),new ct(u).sub(new ct(.99).mul(f)),f)),[u]);return n>i?fw(h):h}var rue=jL(eue),nue=jL(tue),iue="Invariant failed";function Vs(e,t){throw new Error(iue)}var aue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(this,arguments)}function oue(e,t){return uue(e)||cue(e,t)||lue(e,t)||sue()}function sue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lue(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function uue(e){if(Array.isArray(e))return e}function due(e,t){if(e==null)return{};var r=fue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CL(n.key),n)}}function mue(e,t,r){return t&&pue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gue(e,t,r){return t=eg(t),vue(e,NL()?Reflect.construct(t,r||[],eg(e).constructor):t.apply(e,r))}function vue(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yue(e)}function yue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NL=function(){return!!e})()}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eg(e)}function xue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mw(e,t)}function mw(e,t){return mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mw(e,t)}function AL(e,t,r){return t=CL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CL(e){var t=bue(e,"string");return Fc(t)=="symbol"?t:t+""}function bue(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vh=function(e){function t(){return hue(this,t),gue(this,t,arguments)}return xue(t,e),mue(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=due(n,aue),m=Ne(h,!1);this.props.direction==="x"&&d.type!=="number"&&Vs();var y=c.map(function(p){var x=u(p,s),b=x.x,v=x.y,g=x.value,j=x.errorVal;if(!j)return null;var _=[],S,E;if(Array.isArray(j)){var O=oue(j,2);S=O[0],E=O[1]}else S=E=j;if(a==="vertical"){var N=d.scale,M=v+i,T=M+o,I=M-o,A=N(g-S),P=N(g+E);_.push({x1:P,y1:T,x2:P,y2:I}),_.push({x1:A,y1:M,x2:P,y2:M}),_.push({x1:A,y1:T,x2:A,y2:I})}else if(a==="horizontal"){var $=f.scale,R=b+i,B=R-o,C=R+o,D=$(g-S),H=$(g+E);_.push({x1:B,y1:H,x2:C,y2:H}),_.push({x1:R,y1:D,x2:R,y2:H}),_.push({x1:B,y1:D,x2:C,y2:D})}return L.createElement(Ge,Zm({className:"recharts-errorBar",key:"bar-".concat(_.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),_.map(function(G){return L.createElement("line",Zm({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return L.createElement(Ge,{className:"recharts-errorBars"},y)}}])}(L.Component);AL(vh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AL(vh,"displayName","ErrorBar");function vf(e){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(e)}function tA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(r),!0).forEach(function(n){wue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wue(e,t,r){return t=_ue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ue(e){var t=jue(e,"string");return vf(t)=="symbol"?t:t+""}function jue(e,t){if(vf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TL=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=mn(r,Os);if(!o)return null;var s=Os.defaultProps,c=s!==void 0?Wo(Wo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,y=m.sectors||m.data||[];return d.concat(y.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Wo(Wo({},h),f.props):{},y=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:y,type:c.iconType||x||"square",color:Yj(f),value:p||y,payload:m}}),Wo(Wo(Wo({},c),Os.getWithHeight(o,i)),{},{payload:u,item:o})};function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function rA(e){return Pue(e)||Oue(e)||Eue(e)||Sue()}function Sue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eue(e,t){if(e){if(typeof e=="string")return gw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gw(e,t)}}function Oue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pue(e){if(Array.isArray(e))return gw(e)}function gw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){rc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rc(e,t,r){return t=Nue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nue(e){var t=Aue(e,"string");return yf(t)=="symbol"?t:t+""}function Aue(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,r){return Le(e)||Le(t)?r:sr(t)?jn(e,t,r):Re(t)?t(e):r}function _d(e,t,r,n){var i=Oce(e,function(s){return Wt(s,t)});if(r==="number"){var a=i.filter(function(s){return fe(s)||parseFloat(s)});return a.length?[ty(a),lo(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Le(s)}):i;return o.map(function(s){return sr(s)||s instanceof Date?s:""})}var Cue=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Wr(f-d)!==Wr(h-f)){var y=[];if(Wr(h-f)===Wr(c[1]-c[0])){m=h;var p=f+c[1]-c[0];y[0]=Math.min(p,(p+d)/2),y[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];y[0]=Math.min(f,(x+f)/2),y[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=y[0]&&t<=y[1]){o=i[u].index;break}}else{var v=Math.min(d,h),g=Math.max(d,h);if(t>(v+f)/2&&t<=(g+f)/2){o=i[u].index;break}}}else for(var j=0;j<s;j++)if(j===0&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j>0&&j<s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2&&t<=(n[j].coordinate+n[j+1].coordinate)/2||j===s-1&&t>(n[j].coordinate+n[j-1].coordinate)/2){o=n[j].index;break}return o},Yj=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Tue=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var d=a[s[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var y=d[f[h]],p=y.items,x=y.cateAxisId,b=p.filter(function(E){return ya(E.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,g=v!==void 0?Bt(Bt({},v),b[0].props):b[0].props,j=g.barSize,_=g[x];o[_]||(o[_]=[]);var S=Le(j)?r:j;o[_].push({item:b[0],stackList:b.slice(1),barSize:Le(S)?void 0:qr(S,n,0)})}}return o},kue=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=qr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,y=o.reduce(function(j,_){return j+_.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&m>0&&(h=!0,m*=.9,y=c*m);var p=(i-y)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(j,_){var S={item:_.item,position:{offset:x.offset+x.size+u,size:h?m:_.barSize}},E=[].concat(rA(j),[S]);return x=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(O){E.push({item:O,position:x})}),E},f)}else{var b=qr(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var v=(i-2*b-(c-1)*u)/c;v>1&&(v>>=0);var g=s===+s?Math.min(v,s):v;d=o.reduce(function(j,_,S){var E=[].concat(rA(j),[{item:_.item,position:{offset:b+(v+u)*S+(v-g)/2,size:g}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},f)}return d},$ue=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=TL({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,y=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&y==="middle")&&m!=="center"&&fe(t[m]))return Bt(Bt({},t),{},rc({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&y!=="middle"&&fe(t[y]))return Bt(Bt({},t),{},rc({},y,t[y]+(h||0)))}return t},Rue=function(t,r,n){return Le(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kL=function(t,r,n,i,a){var o=r.props.children,s=Sn(o,vh).filter(function(u){return Rue(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wt(d,n);if(Le(f))return u;var h=Array.isArray(f)?[ty(f),lo(f)]:[f,f],m=c.reduce(function(y,p){var x=Wt(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,y[0]),Math.max(v,y[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Iue=function(t,r,n,i,a){var o=r.map(function(s){return kL(t,s,n,a,i)}).filter(function(s){return!Le(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},$L=function(t,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&kL(t,c,u,i)||_d(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},RL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},IL=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,s=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||s.push(r),o||s.push(n),s},fa=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Wr(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!xu(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Ux=new WeakMap,lp=function(t,r){if(typeof r!="function")return t;Ux.has(t)||Ux.set(t,new WeakMap);var n=Ux.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},ML=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:uf(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Gm(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:wd(),realScaleType:"point"}:a==="category"?{scale:uf(),realScaleType:"band"}:{scale:Gm(),realScaleType:"linear"};if(uh(i)){var c="scale".concat(Uv(i));return{scale:(XN[c]||wd)(),realScaleType:XN[c]?c:"point"}}return Re(i)?{scale:i}:{scale:wd(),realScaleType:"point"}},iA=1e-4,DL=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-iA,o=Math.max(i[0],i[1])+iA,s=t(r[0]),c=t(r[n-1]);(s<a||s>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},Mue=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Due=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(a[0]=n),(!fe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Lue=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var c=xu(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},Fue=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=xu(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Bue={sign:Lue,expand:aQ,none:Tc,silhouette:oQ,wiggle:sQ,positive:Fue},Uue=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Bue[n],o=iQ().keys(i).value(function(s,c){return+Wt(s,c,0)}).order(U0).offset(a);return o(t)},zue=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,h){var m,y=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Bt(Bt({},h.type.defaultProps),h.props):h.props,p=y.stackId,x=y.hide;if(x)return f;var b=y[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(sr(p)){var g=v.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};g.items.push(h),v.hasStack=!0,v.stackGroups[p]=g}else v.stackGroups[el("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Bt(Bt({},f),{},rc({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var y={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return Bt(Bt({},p),{},rc({},x,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:Uue(t,b.items,a)}))},y)}return Bt(Bt({},f),{},rc({},h,m))},d)},LL=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=rue(u,a,s);return t.domain([ty(d),lo(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=nue(f,a,s);return{niceTicks:h}}return null};function tg(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Le(i[t.dataKey])){var s=Pm(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Wt(i,Le(o)?t.dataKey:o);return Le(c)?null:t.scale(c)}var aA=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var c=Wt(o,r.dataKey,r.domain[s]);return Le(c)?null:r.scale(c)-a/2+i},Vue=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},Wue=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(sr(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},que=function(t){return t.reduce(function(r,n){return[ty(n.concat([r[0]]).filter(fe)),lo(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},FL=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,c=s.reduce(function(u,d){var f=que(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},oA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vw=function(t,r,n){if(Re(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(fe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(oA.test(t[0])){var a=+oA.exec(t[0])[1];i[0]=r[0]-a}else Re(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(fe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(sA.test(t[1])){var o=+sA.exec(t[1])[1];i[1]=r[1]+o}else Re(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},rg=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=jj(r,function(f){return f.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},lA=function(t,r,n){return!t||!t.length||Us(t,jn(n,"type.defaultProps.domain"))?r:t},BL=function(t,r){var n=t.type.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Bt(Bt({},Ne(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:Yj(t),value:Wt(r,i),type:c,payload:r,chartType:u,hide:d})};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){UL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UL(e,t,r){return t=Hue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hue(e){var t=Kue(e,"string");return xf(t)=="symbol"?t:t+""}function Kue(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gue(e,t){return Jue(e)||Que(e,t)||Xue(e,t)||Yue()}function Yue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xue(e,t){if(e){if(typeof e=="string")return uA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(e,t)}}function uA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Que(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Jue(e){if(Array.isArray(e))return e}var ng=Math.PI/180,Zue=function(t){return t*180/Math.PI},vt=function(t,r,n,i){return{x:t+Math.cos(-ng*i)*n,y:r+Math.sin(-ng*i)*n}},zL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ede=function(t,r,n,i,a){var o=t.width,s=t.height,c=t.startAngle,u=t.endAngle,d=qr(t.cx,o,o/2),f=qr(t.cy,s,s/2),h=zL(o,s,n),m=qr(t.innerRadius,h,0),y=qr(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(x,b){var v=r[b],g=v.domain,j=v.reversed,_;if(Le(v.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[m,y]),j&&(_=[_[1],_[0]]);else{_=v.range;var S=_,E=Gue(S,2);c=E[0],u=E[1]}var O=ML(v,a),N=O.realScaleType,M=O.scale;M.domain(g).range(_),DL(M);var T=LL(M,ia(ia({},v),{},{realScaleType:N})),I=ia(ia(ia({},v),T),{},{range:_,radius:y,realScaleType:N,scale:M,cx:d,cy:f,innerRadius:m,outerRadius:y,startAngle:c,endAngle:u});return ia(ia({},x),{},UL({},b,I))},{})},tde=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},rde=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=tde({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(n-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Zue(u),angleInRadian:u}},nde=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},ide=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},dA=function(t,r){var n=t.x,i=t.y,a=rde({x:n,y:i},r),o=a.radius,s=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=nde(r),f=d.startAngle,h=d.endAngle,m=s,y;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;y=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;y=m>=h&&m<=f}return y?ia(ia({},r),{},{radius:o,angle:ide(m,r)}):null},VL=function(t){return!w.isValidElement(t)&&!Re(t)&&typeof t!="boolean"?t.className:""};function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}var ade=["offset"];function ode(e){return ude(e)||cde(e)||lde(e)||sde()}function sde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lde(e,t){if(e){if(typeof e=="string")return yw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yw(e,t)}}function cde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ude(e){if(Array.isArray(e))return yw(e)}function yw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dde(e,t){if(e==null)return{};var r=fde(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(r),!0).forEach(function(n){hde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hde(e,t,r){return t=pde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pde(e){var t=mde(e,"string");return bf(t)=="symbol"?t:t+""}function mde(e,t){if(bf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}var gde=function(t){var r=t.value,n=t.formatter,i=Le(t.children)?r:t.children;return Re(n)?n(i):i},vde=function(t,r){var n=Wr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},yde=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,y=c.endAngle,p=c.clockWise,x=(f+h)/2,b=vde(m,y),v=b>=0?1:-1,g,j;i==="insideStart"?(g=m+v*o,j=p):i==="insideEnd"?(g=y-v*o,j=!p):i==="end"&&(g=y+v*o,j=p),j=b<=0?j:!j;var _=vt(u,d,x,g),S=vt(u,d,x,g+(j?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(j?0:1,`,
    `).concat(S.x,",").concat(S.y),O=Le(t.id)?el("recharts-radial-line-"):t.id;return L.createElement("text",wf({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:O,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(O)},r))},xde=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=vt(o,s,u+n,h),y=m.x,p=m.y;return{x:y,y:p,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=vt(o,s,x,h),v=b.x,g=b.y;return{x:v,y:g,textAnchor:"middle",verticalAnchor:"middle"}},bde=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",y=f>0?"start":"end",p=u>=0?1:-1,x=p*i,b=p>0?"end":"start",v=p>0?"start":"end";if(a==="top"){var g={x:s+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return er(er({},g),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var j={x:s+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:y};return er(er({},j),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:s-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return er(er({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(a==="right"){var S={x:s+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return er(er({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?er({x:s+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},E):a==="insideRight"?er({x:s+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?er({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:y},E):a==="insideBottom"?er({x:s+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},E):a==="insideTopLeft"?er({x:s+x,y:c+h,textAnchor:v,verticalAnchor:y},E):a==="insideTopRight"?er({x:s+u-x,y:c+h,textAnchor:b,verticalAnchor:y},E):a==="insideBottomLeft"?er({x:s+x,y:c+d-h,textAnchor:v,verticalAnchor:m},E):a==="insideBottomRight"?er({x:s+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},E):mu(a)&&(fe(a.x)||ls(a.x))&&(fe(a.y)||ls(a.y))?er({x:s+qr(a.x,u),y:c+qr(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):er({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},wde=function(t){return"cx"in t&&fe(t.cx)};function hr(e){var t=e.offset,r=t===void 0?5:t,n=dde(e,ade),i=er({offset:r},n),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Le(s)&&Le(c)&&!w.isValidElement(u)&&!Re(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var m;if(Re(u)){if(m=w.createElement(u,i),w.isValidElement(m))return m}else m=gde(i);var y=wde(a),p=Ne(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return yde(i,m,p);var x=y?xde(i):bde(i);return L.createElement(Bs,wf({className:Be("recharts-label",f)},p,x,{breakAll:h}),m)}hr.displayName="Label";var WL=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,y=t.left,p=t.width,x=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(fe(p)&&fe(x)){if(fe(f)&&fe(h))return{x:f,y:h,width:p,height:x};if(fe(m)&&fe(y))return{x:m,y,width:p,height:x}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},_de=function(t,r){return t?t===!0?L.createElement(hr,{key:"label-implicit",viewBox:r}):sr(t)?L.createElement(hr,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===hr?w.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):Re(t)?L.createElement(hr,{key:"label-implicit",content:t,viewBox:r}):mu(t)?L.createElement(hr,wf({viewBox:r},t,{key:"label-implicit"})):null:null},jde=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=WL(t),o=Sn(i,hr).map(function(c,u){return w.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=_de(t.label,r||a);return[s].concat(ode(o))};hr.parseViewBox=WL;hr.renderCallByParent=jde;function Sde(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Ede=Sde;const Ode=ot(Ede);function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}var Pde=["valueAccessor"],Nde=["data","dataKey","clockWise","id","textBreakAll"];function Ade(e){return $de(e)||kde(e)||Tde(e)||Cde()}function Cde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tde(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function kde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $de(e){if(Array.isArray(e))return xw(e)}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(this,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){Rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rde(e,t,r){return t=Ide(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ide(e){var t=Mde(e,"string");return _f(t)=="symbol"?t:t+""}function Mde(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mA(e,t){if(e==null)return{};var r=Dde(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lde=function(t){return Array.isArray(t.value)?Ode(t.value):t.value};function Fi(e){var t=e.valueAccessor,r=t===void 0?Lde:t,n=mA(e,Pde),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=mA(n,Nde);return!i||!i.length?null:L.createElement(Ge,{className:"recharts-label-list"},i.map(function(d,f){var h=Le(a)?r(d,f):Wt(d&&d.payload,a),m=Le(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(hr,ig({},Ne(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:hr.parseViewBox(Le(o)?d:pA(pA({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Fi.displayName="LabelList";function Fde(e,t){return e?e===!0?L.createElement(Fi,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Re(e)?L.createElement(Fi,{key:"labelList-implicit",data:t,content:e}):mu(e)?L.createElement(Fi,ig({data:t},e,{key:"labelList-implicit"})):null:null}function Bde(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Sn(n,Fi).map(function(o,s){return w.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=Fde(e.label,t);return[a].concat(Ade(i))}Fi.renderCallByParent=Bde;function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bw.apply(this,arguments)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){Ude(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ude(e,t,r){return t=zde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zde(e){var t=Vde(e,"string");return jf(t)=="symbol"?t:t+""}function Vde(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wde=function(t,r){var n=Wr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},cp=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(s?1:-1)+i,f=Math.asin(c/d)/ng,h=u?a:a+o*f,m=vt(r,n,d,h),y=vt(r,n,i,h),p=u?a-o*f:a,x=vt(r,n,d*Math.cos(f*ng),p);return{center:m,circleTangency:y,lineTangency:x,theta:f}},qL=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,c=Wde(o,s),u=o+c,d=vt(r,n,a,o),f=vt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=vt(r,n,i,o),y=vt(r,n,i,u);h+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},qde=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Wr(d-u),h=cp({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,y=h.lineTangency,p=h.theta,x=cp({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,v=x.lineTangency,g=x.theta,j=c?Math.abs(u-d):Math.abs(u-d)-p-g;if(j<0)return s?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(i>0){var S=cp({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=S.circleTangency,O=S.lineTangency,N=S.theta,M=cp({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=M.circleTangency,I=M.lineTangency,A=M.theta,P=c?Math.abs(u-d):Math.abs(u-d)-N-A;if(P<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(P>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Hde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HL=function(t){var r=vA(vA({},Hde),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var m=Be("recharts-sector",h),y=o-a,p=qr(s,y,0,!0),x;return p>0&&Math.abs(d-f)<360?x=qde({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=qL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",bw({},Ne(r,!0),{className:m,d:x,role:"img"}))};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(this,arguments)}function yA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(r),!0).forEach(function(n){Kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kde(e,t,r){return t=Gde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gde(e){var t=Yde(e,"string");return Sf(t)=="symbol"?t:t+""}function Yde(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bA={curveBasisClosed:KX,curveBasisOpen:GX,curveBasis:HX,curveBumpX:kX,curveBumpY:$X,curveLinearClosed:YX,curveLinear:Vv,curveMonotoneX:XX,curveMonotoneY:QX,curveNatural:JX,curveStep:ZX,curveStepAfter:tQ,curveStepBefore:eQ},up=function(t){return t.x===+t.x&&t.y===+t.y},Hu=function(t){return t.x},Ku=function(t){return t.y},Xde=function(t,r){if(Re(t))return t;var n="curve".concat(Uv(t));return(n==="curveMonotone"||n==="curveBump")&&r?bA["".concat(n).concat(r==="vertical"?"Y":"X")]:bA[n]||Vv},Qde=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Xde(n,s),f=u?a.filter(function(p){return up(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return up(p)}):o,y=f.map(function(p,x){return xA(xA({},p),{},{base:m[x]})});return s==="vertical"?h=ep().y(Ku).x1(Hu).x0(function(p){return p.base.x}):h=ep().x(Hu).y1(Ku).y0(function(p){return p.base.y}),h.defined(up).curve(d),h(y)}return s==="vertical"&&fe(o)?h=ep().y(Ku).x1(Hu).x0(o):fe(o)?h=ep().x(Hu).y1(Ku).y0(o):h=BM().x(Hu).y(Ku),h.defined(up).curve(d),h(f)},As=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Qde(t):i;return L.createElement("path",ww({},Ne(t,!1),Nm(t),{className:Be("recharts-curve",r),d:o,ref:a}))},KL={exports:{}},Jde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Zde=Jde,efe=Zde;function GL(){}function YL(){}YL.resetWarningCache=GL;var tfe=function(){function e(n,i,a,o,s,c){if(c!==efe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:YL,resetWarningCache:GL};return r.PropTypes=r,r};KL.exports=tfe();var rfe=KL.exports;const nt=ot(rfe);var nfe=Object.getOwnPropertyNames,ife=Object.getOwnPropertySymbols,afe=Object.prototype.hasOwnProperty;function wA(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function dp(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function _A(e){return nfe(e).concat(ife(e))}var ofe=Object.hasOwn||function(e,t){return afe.call(e,t)};function nl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var sfe="__v",lfe="__o",cfe="_owner",jA=Object.getOwnPropertyDescriptor,SA=Object.keys;function ufe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function dfe(e,t){return nl(e.getTime(),t.getTime())}function ffe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function hfe(e,t){return e===t}function EA(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var pfe=nl;function mfe(e,t,r){var n=SA(e),i=n.length;if(SA(t).length!==i)return!1;for(;i-- >0;)if(!XL(e,t,r,n[i]))return!1;return!0}function Gu(e,t,r){var n=_A(e),i=n.length;if(_A(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!XL(e,t,r,a)||(o=jA(e,a),s=jA(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function gfe(e,t){return nl(e.valueOf(),t.valueOf())}function vfe(e,t){return e.source===t.source&&e.flags===t.flags}function OA(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function yfe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function xfe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function XL(e,t,r,n){return(n===cfe||n===lfe||n===sfe)&&(e.$$typeof||t.$$typeof)?!0:ofe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var bfe="[object Arguments]",wfe="[object Boolean]",_fe="[object Date]",jfe="[object Error]",Sfe="[object Map]",Efe="[object Number]",Ofe="[object Object]",Pfe="[object RegExp]",Nfe="[object Set]",Afe="[object String]",Cfe="[object URL]",Tfe=Array.isArray,PA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NA=Object.assign,kfe=Object.prototype.toString.call.bind(Object.prototype.toString);function $fe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(y,p,x){if(y===p)return!0;if(y==null||p==null)return!1;var b=typeof y;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(y,p,x):b==="function"?i(y,p,x):!1;var v=y.constructor;if(v!==p.constructor)return!1;if(v===Object)return s(y,p,x);if(Tfe(y))return t(y,p,x);if(PA!=null&&PA(y))return f(y,p,x);if(v===Date)return r(y,p,x);if(v===RegExp)return u(y,p,x);if(v===Map)return a(y,p,x);if(v===Set)return d(y,p,x);var g=kfe(y);return g===_fe?r(y,p,x):g===Pfe?u(y,p,x):g===Sfe?a(y,p,x):g===Nfe?d(y,p,x):g===Ofe?typeof y.then!="function"&&typeof p.then!="function"&&s(y,p,x):g===Cfe?h(y,p,x):g===jfe?n(y,p,x):g===bfe?s(y,p,x):g===wfe||g===Efe||g===Afe?c(y,p,x):!1}}function Rfe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Gu:ufe,areDatesEqual:dfe,areErrorsEqual:ffe,areFunctionsEqual:hfe,areMapsEqual:n?wA(EA,Gu):EA,areNumbersEqual:pfe,areObjectsEqual:n?Gu:mfe,arePrimitiveWrappersEqual:gfe,areRegExpsEqual:vfe,areSetsEqual:n?wA(OA,Gu):OA,areTypedArraysEqual:n?Gu:yfe,areUrlsEqual:xfe};if(r&&(i=NA({},i,r(i))),t){var a=dp(i.areArraysEqual),o=dp(i.areMapsEqual),s=dp(i.areObjectsEqual),c=dp(i.areSetsEqual);i=NA({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function Ife(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function Mfe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var Dfe=Lo();Lo({strict:!0});Lo({circular:!0});Lo({circular:!0,strict:!0});Lo({createInternalComparator:function(){return nl}});Lo({strict:!0,createInternalComparator:function(){return nl}});Lo({circular:!0,createInternalComparator:function(){return nl}});Lo({circular:!0,createInternalComparator:function(){return nl},strict:!0});function Lo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=Rfe(e),c=$fe(s),u=n?n(c):Ife(c);return Mfe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function Lfe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function AA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):Lfe(i)};requestAnimationFrame(n)}function _w(e){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_w(e)}function Ffe(e){return Vfe(e)||zfe(e)||Ufe(e)||Bfe()}function Bfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ufe(e,t){if(e){if(typeof e=="string")return CA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CA(e,t)}}function CA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vfe(e){if(Array.isArray(e))return e}function Wfe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Ffe(o),c=s[0],u=s.slice(1);if(typeof c=="number"){AA(i.bind(null,u),c);return}i(c),AA(i.bind(null,u));return}_w(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function TA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(r),!0).forEach(function(n){QL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QL(e,t,r){return t=qfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qfe(e){var t=Hfe(e,"string");return Ef(t)==="symbol"?t:String(t)}function Hfe(e,t){if(Ef(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kfe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Gfe=function(t){return t},Yfe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jd=function(t,r){return Object.keys(r).reduce(function(n,i){return kA(kA({},n),{},QL({},i,t(i,r[i])))},{})},$A=function(t,r,n){return t.map(function(i){return"".concat(Yfe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Xfe(e,t){return Zfe(e)||Jfe(e,t)||JL(e,t)||Qfe()}function Qfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Zfe(e){if(Array.isArray(e))return e}function ehe(e){return nhe(e)||rhe(e)||JL(e)||the()}function the(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JL(e,t){if(e){if(typeof e=="string")return jw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jw(e,t)}}function rhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nhe(e){if(Array.isArray(e))return jw(e)}function jw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ag=1e-4,ZL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},eF=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},RA=function(t,r){return function(n){var i=ZL(t,r);return eF(i,n)}},ihe=function(t,r){return function(n){var i=ZL(t,r),a=[].concat(ehe(i.map(function(o,s){return o*s}).slice(1)),[0]);return eF(a,n)}},IA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Xfe(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=RA(i,o),h=RA(a,s),m=ihe(i,o),y=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,g=v,j=0;j<8;++j){var _=f(g)-v,S=m(g);if(Math.abs(_-v)<ag||S<ag)return h(g);g=y(g-_/S)}return h(g)};return p.isStepper=!1,p},ahe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,y=h*a,p=h+(m-y)*s/1e3,x=h*s/1e3+d;return Math.abs(x-f)<ag&&Math.abs(p)<ag?[f,0]:[x,p]};return c.isStepper=!0,c.dt=s,c},ohe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return IA(i);case"spring":return ahe();default:if(i.split("(")[0]==="cubic-bezier")return IA(i)}return typeof i=="function"?i:null};function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function MA(e){return che(e)||lhe(e)||tF(e)||she()}function she(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function che(e){if(Array.isArray(e))return Ew(e)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){Sw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sw(e,t,r){return t=uhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uhe(e){var t=dhe(e,"string");return Of(t)==="symbol"?t:String(t)}function dhe(e,t){if(Of(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Of(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fhe(e,t){return mhe(e)||phe(e,t)||tF(e,t)||hhe()}function hhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tF(e,t){if(e){if(typeof e=="string")return Ew(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ew(e,t)}}function Ew(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function phe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function mhe(e){if(Array.isArray(e))return e}var og=function(t,r,n){return t+(r-t)*n},Ow=function(t){var r=t.from,n=t.to;return r!==n},ghe=function e(t,r,n){var i=jd(function(a,o){if(Ow(o)){var s=t(o.from,o.to,o.velocity),c=fhe(s,2),u=c[0],d=c[1];return wr(wr({},o),{},{from:u,velocity:d})}return o},r);return n<1?jd(function(a,o){return Ow(o)?wr(wr({},o),{},{velocity:og(o.velocity,i[a].velocity,n),from:og(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const vhe=function(e,t,r,n,i){var a=Kfe(e,t),o=a.reduce(function(x,b){return wr(wr({},x),{},Sw({},b,[e[b],t[b]]))},{}),s=a.reduce(function(x,b){return wr(wr({},x),{},Sw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return jd(function(b,v){return v.from},s)},m=function(){return!Object.values(s).filter(Ow).length},y=function(b){u||(u=b);var v=b-u,g=v/r.dt;s=ghe(r,s,g),i(wr(wr(wr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,g=jd(function(_,S){return og.apply(void 0,MA(S).concat([r(v)]))},o);if(i(wr(wr(wr({},e),t),g)),v<1)c=requestAnimationFrame(f);else{var j=jd(function(_,S){return og.apply(void 0,MA(S).concat([r(1)]))},o);i(wr(wr(wr({},e),t),j))}};return f=r.isStepper?y:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}var yhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xhe(e,t){if(e==null)return{};var r=bhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bhe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function zx(e){return She(e)||jhe(e)||_he(e)||whe()}function whe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _he(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function jhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function She(e){if(Array.isArray(e))return Pw(e)}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){id(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function id(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ehe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ohe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function Phe(e,t,r){return t&&Ohe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rF(e){var t=Nhe(e,"string");return Bc(t)==="symbol"?t:String(t)}function Nhe(e,t){if(Bc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ahe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nw(e,t)}function Nw(e,t){return Nw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Nw(e,t)}function Che(e){var t=The();return function(){var n=sg(e),i;if(t){var a=sg(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Aw(this,i)}}function Aw(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cw(e)}function Cw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function The(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sg(e){return sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sg(e)}var bi=function(e){Ahe(r,e);var t=Che(r);function r(n,i){var a;Ehe(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Cw(a)),a.changeStyle=a.changeStyle.bind(Cw(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Aw(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Aw(a);a.state={style:c?id({},c,u):u}}else a.state={style:{}};return a}return Phe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:c?id({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Dfe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=y||u?f:i.to;if(this.state&&h){var x={style:c?id({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(Yn(Yn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=vhe(o,s,ohe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=m()};this.manager.start([h,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var v=x.duration,g=x.easing,j=g===void 0?"ease":g,_=x.style,S=x.properties,E=x.onAnimationEnd,O=b>0?o[b-1]:x,N=S||Object.keys(_);if(typeof j=="function"||j==="spring")return[].concat(zx(p),[a.runJSAnimation.bind(a,{from:O.style,to:_,duration:v,easing:j}),v]);var M=$A(N,v,j),T=Yn(Yn(Yn({},O.style),_),{},{transition:M});return[].concat(zx(p),[T,v,E]).filter(Gfe)};return this.manager.start([c].concat(zx(o.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Wfe());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=s?id({},s,c):c,x=$A(Object.keys(p),o,u);y.start([d,a,Yn(Yn({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=xhe(i,yhe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(m){var y=m.props,p=y.style,x=p===void 0?{}:p,b=y.className,v=w.cloneElement(m,Yn(Yn({},c),{},{style:Yn(Yn({},x),d),className:b}));return v};return u===1?f(w.Children.only(a)):L.createElement("div",null,w.Children.map(a,function(h){return f(h)}))}}]),r}(w.PureComponent);bi.displayName="Animate";bi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};bi.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(this,arguments)}function khe(e,t){return Mhe(e)||Ihe(e,t)||Rhe(e,t)||$he()}function $he(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rhe(e,t){if(e){if(typeof e=="string")return FA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FA(e,t)}}function FA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ihe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mhe(e){if(Array.isArray(e))return e}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){Dhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dhe(e,t,r){return t=Lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lhe(e){var t=Fhe(e,"string");return Pf(t)=="symbol"?t:t+""}function Fhe(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zA=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(t,",").concat(r+s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+c*y,",").concat(r,`
            L `).concat(t+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*y,`
            L `).concat(t+n,",").concat(r+i-s*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t+n-c*y,",").concat(r+i,`
            L `).concat(t+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(t,",").concat(r+i-s*y," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Bhe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Uhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Xj=function(t){var r=UA(UA({},Uhe),t),n=w.useRef(),i=w.useState(-1),a=khe(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var j=n.current.getTotalLength();j&&s(j)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,y=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var g=Be("recharts-rectangle",m);return v?L.createElement(bi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:y,isActive:v},function(j){var _=j.width,S=j.height,E=j.x,O=j.y;return L.createElement(bi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:y},L.createElement("path",lg({},Ne(r,!0),{className:g,d:zA(E,O,_,S,h),ref:n})))}):L.createElement("path",lg({},Ne(r,!0),{className:g,d:zA(c,u,d,f,h)}))},zhe=["points","className","baseLinePoints","connectNulls"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function Vhe(e,t){if(e==null)return{};var r=Whe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Whe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VA(e){return Ghe(e)||Khe(e)||Hhe(e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hhe(e,t){if(e){if(typeof e=="string")return Tw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Tw(e,t)}}function Khe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ghe(e){if(Array.isArray(e))return Tw(e)}function Tw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var WA=function(t){return t&&t.x===+t.x&&t.y===+t.y},Yhe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){WA(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),WA(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Sd=function(t,r){var n=Yhe(t);r&&(n=[n.reduce(function(a,o){return[].concat(VA(a),VA(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Xhe=function(t,r,n){var i=Sd(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Sd(r.reverse(),n).slice(1))},Qhe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Vhe(t,zhe);if(!r||!r.length)return null;var s=Be("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Xhe(r,i,a);return L.createElement("g",{className:s},L.createElement("path",Fl({},Ne(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Fl({},Ne(o,!0),{fill:"none",d:Sd(r,a)})):null,c?L.createElement("path",Fl({},Ne(o,!0),{fill:"none",d:Sd(i,a)})):null)}var d=Sd(r,a);return L.createElement("path",Fl({},Ne(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(this,arguments)}var yh=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Be("recharts-dot",a);return r===+r&&n===+n&&i===+i?L.createElement("circle",kw({},Ne(t,!1),Nm(t),{className:o,cx:r,cy:n,r:i})):null};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}var Jhe=["x","y","top","left","width","height","className"];function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function qA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(r),!0).forEach(function(n){epe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function epe(e,t,r){return t=tpe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tpe(e){var t=rpe(e,"string");return Nf(t)=="symbol"?t:t+""}function rpe(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function npe(e,t){if(e==null)return{};var r=ipe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ipe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ape=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},ope=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,y=t.className,p=npe(t,Jhe),x=Zhe({x:n,y:a,top:s,left:u,width:f,height:m},p);return!fe(n)||!fe(a)||!fe(f)||!fe(m)||!fe(s)||!fe(u)?null:L.createElement("path",$w({},Ne(x,!0),{className:Be("recharts-cross",y),d:ape(n,a,f,m,s,u)}))},spe=ey,lpe=pL,cpe=Xi;function upe(e,t){return e&&e.length?spe(e,cpe(t),lpe):void 0}var dpe=upe;const fpe=ot(dpe);var hpe=ey,ppe=Xi,mpe=mL;function gpe(e,t){return e&&e.length?hpe(e,ppe(t),mpe):void 0}var vpe=gpe;const ype=ot(vpe);var xpe=["cx","cy","angle","ticks","axisLine"],bpe=["ticks","tick","angle","tickFormatter","stroke"];function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Ed(){return Ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ed.apply(this,arguments)}function HA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HA(Object(r),!0).forEach(function(n){iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KA(e,t){if(e==null)return{};var r=wpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iF(n.key),n)}}function jpe(e,t,r){return t&&GA(e.prototype,t),r&&GA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Spe(e,t,r){return t=cg(t),Epe(e,nF()?Reflect.construct(t,r||[],cg(e).constructor):t.apply(e,r))}function Epe(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ope(e)}function Ope(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nF=function(){return!!e})()}function cg(e){return cg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cg(e)}function Ppe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rw(e,t)}function Rw(e,t){return Rw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Rw(e,t)}function iy(e,t,r){return t=iF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iF(e){var t=Npe(e,"string");return Uc(t)=="symbol"?t:t+""}function Npe(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ay=function(e){function t(){return _pe(this,t),Spe(this,t,arguments)}return Ppe(t,e),jpe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return vt(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=fpe(s,function(d){return d.coordinate||0}),u=ype(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=KA(n,xpe),d=s.reduce(function(y,p){return[Math.min(y[0],p.coordinate),Math.max(y[1],p.coordinate)]},[1/0,-1/0]),f=vt(i,a,d[0],o),h=vt(i,a,d[1],o),m=qo(qo(qo({},Ne(u,!1)),{},{fill:"none"},Ne(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Ed({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,u=i.stroke,d=KA(i,bpe),f=this.getTickTextAnchor(),h=Ne(d,!1),m=Ne(o,!1),y=a.map(function(p,x){var b=n.getTickValueCoord(p),v=qo(qo(qo(qo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},b),{},{payload:p});return L.createElement(Ge,Ed({className:Be("recharts-polar-radius-axis-tick",VL(o)),key:"tick-".concat(p.coordinate)},Fs(n.props,p,x)),t.renderTickItem(o,v,c?c(p.value,x):p.value))});return L.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(Ge,{className:Be("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),hr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Bs,Ed({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);iy(ay,"displayName","PolarRadiusAxis");iy(ay,"axisType","radiusAxis");iy(ay,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){oy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ape(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function Cpe(e,t,r){return t&&XA(e.prototype,t),r&&XA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tpe(e,t,r){return t=ug(t),kpe(e,aF()?Reflect.construct(t,r||[],ug(e).constructor):t.apply(e,r))}function kpe(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pe(e)}function $pe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function ug(e){return ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ug(e)}function Rpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(e,t)}function oy(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=Ipe(e,"string");return zc(t)=="symbol"?t:t+""}function Ipe(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mpe=Math.PI/180,QA=1e-5,sy=function(e){function t(){return Ape(this,t),Tpe(this,t,arguments)}return Rpe(t,e),Cpe(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=vt(a,o,s,n.coordinate),h=vt(a,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Mpe),o;return a>QA?o=i==="outer"?"start":"end":a<-QA?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=Ho(Ho({},Ne(this.props,!1)),{},{fill:"none"},Ne(s,!1));if(c==="circle")return L.createElement(yh,ts({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return vt(i,a,o,h.coordinate)});return L.createElement(Qhe,ts({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ne(this.props,!1),f=Ne(o,!1),h=Ho(Ho({},d),{},{fill:"none"},Ne(s,!1)),m=a.map(function(y,p){var x=n.getTickLineCoord(y),b=n.getTickTextAnchor(y),v=Ho(Ho(Ho({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:y,x:x.x2,y:x.y2});return L.createElement(Ge,ts({className:Be("recharts-polar-angle-axis-tick",VL(o)),key:"tick-".concat(y.coordinate)},Fs(n.props,y,p)),s&&L.createElement("line",ts({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,v,c?c(y.value,p):y.value))});return L.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(Ge,{className:Be("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Bs,ts({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);oy(sy,"displayName","PolarAngleAxis");oy(sy,"axisType","angleAxis");oy(sy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Dpe=uD,Lpe=Dpe(Object.getPrototypeOf,Object),Fpe=Lpe,Bpe=ka,Upe=Fpe,zpe=$a,Vpe="[object Object]",Wpe=Function.prototype,qpe=Object.prototype,sF=Wpe.toString,Hpe=qpe.hasOwnProperty,Kpe=sF.call(Object);function Gpe(e){if(!zpe(e)||Bpe(e)!=Vpe)return!1;var t=Upe(e);if(t===null)return!0;var r=Hpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&sF.call(r)==Kpe}var Ype=Gpe;const Xpe=ot(Ype);var Qpe=ka,Jpe=$a,Zpe="[object Boolean]";function eme(e){return e===!0||e===!1||Jpe(e)&&Qpe(e)==Zpe}var tme=eme;const rme=ot(tme);function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function dg(){return dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dg.apply(this,arguments)}function nme(e,t){return sme(e)||ome(e,t)||ame(e,t)||ime()}function ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ame(e,t){if(e){if(typeof e=="string")return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(e,t)}}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ome(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function sme(e){if(Array.isArray(e))return e}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){lme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lme(e,t,r){return t=cme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cme(e){var t=ume(e,"string");return Af(t)=="symbol"?t:t+""}function ume(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tC=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},dme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fme=function(t){var r=eC(eC({},dme),t),n=w.useRef(),i=w.useState(-1),a=nme(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var g=n.current.getTotalLength();g&&s(g)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,y=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=Be("recharts-trapezoid",m);return b?L.createElement(bi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:y,isActive:b},function(g){var j=g.upperWidth,_=g.lowerWidth,S=g.height,E=g.x,O=g.y;return L.createElement(bi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:y},L.createElement("path",dg({},Ne(r,!0),{className:v,d:tC(E,O,j,_,S),ref:n})))}):L.createElement("g",null,L.createElement("path",dg({},Ne(r,!0),{className:v,d:tC(c,u,d,f,h)})))},hme=["option","shapeType","propTransformer","activeClassName","isActive"];function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function pme(e,t){if(e==null)return{};var r=mme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(r),!0).forEach(function(n){gme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gme(e,t,r){return t=vme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vme(e){var t=yme(e,"string");return Cf(t)=="symbol"?t:t+""}function yme(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xme(e,t){return fg(fg({},t),e)}function bme(e,t){return e==="symbols"}function nC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(Xj,r);case"trapezoid":return L.createElement(fme,r);case"sector":return L.createElement(HL,r);case"symbols":if(bme(t))return L.createElement(mj,r);break;default:return null}}function wme(e){return w.isValidElement(e)?e.props:e}function lF(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?xme:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,c=pme(e,hme),u;if(w.isValidElement(t))u=w.cloneElement(t,fg(fg({},c),wme(t)));else if(Re(t))u=t(c);else if(Xpe(t)&&!rme(t)){var d=i(t,c);u=L.createElement(nC,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(nC,{shapeType:r,elementProps:f})}return s?L.createElement(Ge,{className:o},u):u}function ly(e,t){return t!=null&&"trapezoids"in e.props}function cy(e,t){return t!=null&&"sectors"in e.props}function Tf(e,t){return t!=null&&"points"in e.props}function _me(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function jme(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Sme(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Eme(e,t){var r;return ly(e,t)?r=_me:cy(e,t)?r=jme:Tf(e,t)&&(r=Sme),r}function Ome(e,t){var r;return ly(e,t)?r="trapezoids":cy(e,t)?r="sectors":Tf(e,t)&&(r="points"),r}function Pme(e,t){if(ly(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(cy(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Tf(e,t)?t.payload:{}}function Nme(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=Ome(r,t),a=Pme(r,t),o=n.filter(function(c,u){var d=Us(a,c),f=r.props[i].filter(function(y){var p=Eme(r,t);return p(y,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Hp;function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){Mn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ame(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function Cme(e,t,r){return t&&aC(e.prototype,t),r&&aC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tme(e,t,r){return t=hg(t),kme(e,cF()?Reflect.construct(t,r||[],hg(e).constructor):t.apply(e,r))}function kme(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $me(e)}function $me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function hg(e){return hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hg(e)}function Rme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mw(e,t)}function Mn(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=Ime(e,"string");return Vc(t)=="symbol"?t:t+""}function Ime(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qi=function(e){function t(r){var n;return Ame(this,t),n=Tme(this,t,[r]),Mn(n,"pieRef",null),Mn(n,"sectorRefs",[]),Mn(n,"id",el("recharts-pie-")),Mn(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Re(i)&&i()}),Mn(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Re(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Rme(t,e),Cme(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ne(this.props,!1),f=Ne(o,!1),h=Ne(s,!1),m=o&&o.offsetRadius||20,y=n.map(function(p,x){var b=(p.startAngle+p.endAngle)/2,v=vt(p.cx,p.cy,p.outerRadius+m,b),g=pt(pt(pt(pt({},d),p),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(v.x,p.cx)},v),j=pt(pt(pt(pt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[vt(p.cx,p.cy,p.outerRadius,b),v]}),_=c;return Le(c)&&Le(u)?_="value":Le(c)&&(_=u),L.createElement(Ge,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},s&&t.renderLabelLineItem(s,j,"line"),t.renderLabelItem(o,g,Wt(p,_)))});return L.createElement(Ge,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?o:h,y=pt(pt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return L.createElement(Ge,Bl({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Fs(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(lF,Bl({option:m,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(bi,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var p=y.t,x=[],b=a&&a[0],v=b.startAngle;return a.forEach(function(g,j){var _=h&&h[j],S=j>0?jn(g,"paddingAngle",0):0;if(_){var E=ar(_.endAngle-_.startAngle,g.endAngle-g.startAngle),O=pt(pt({},g),{},{startAngle:v+S,endAngle:v+E(p)+S});x.push(O),v=O.endAngle}else{var N=g.endAngle,M=g.startAngle,T=ar(0,N-M),I=T(p),A=pt(pt({},g),{},{startAngle:v+S,endAngle:v+I+S});x.push(A),v=A.endAngle}}),L.createElement(Ge,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Us(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!fe(u)||!fe(d)||!fe(f)||!fe(h))return null;var p=Be("recharts-pie",s);return L.createElement(Ge,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),hr.renderCallByParent(this.props,null,!1),(!m||y)&&Fi.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(Re(n))return n(i);var o=Be("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(As,Bl({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(Re(n)&&(o=n(i),L.isValidElement(o)))return o;var s=Be("recharts-pie-label-text",typeof n!="boolean"&&!Re(n)?n.className:"");return L.createElement(Bs,Bl({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(w.PureComponent);Hp=Qi;Mn(Qi,"displayName","Pie");Mn(Qi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Mn(Qi,"parseDeltaAngle",function(e,t){var r=Wr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Mn(Qi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ne(e,!1),i=Sn(r,fh);return t&&t.length?t.map(function(a,o){return pt(pt(pt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return pt(pt({},n),a.props)}):[]});Mn(Qi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=zL(i,a),s=n+qr(e.cx,i,i/2),c=r+qr(e.cy,a,a/2),u=qr(e.innerRadius,o,0),d=qr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Mn(Qi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?pt(pt({},t.type.defaultProps),t.props):t.props,i=Hp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),y=Hp.parseCoordinateOfPie(n,r),p=Hp.parseDeltaAngle(o,s),x=Math.abs(p),b=u;Le(u)&&Le(f)?(hi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Le(u)&&(hi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var v=i.filter(function(O){return Wt(O,b,0)!==0}).length,g=(x>=360?v:v-1)*c,j=x-v*m-g,_=i.reduce(function(O,N){var M=Wt(N,b,0);return O+(fe(M)?M:0)},0),S;if(_>0){var E;S=i.map(function(O,N){var M=Wt(O,b,0),T=Wt(O,d,N),I=(fe(M)?M:0)/_,A;N?A=E.endAngle+Wr(p)*c*(M!==0?1:0):A=o;var P=A+Wr(p)*((M!==0?m:0)+I*j),$=(A+P)/2,R=(y.innerRadius+y.outerRadius)/2,B=[{name:T,value:M,payload:O,dataKey:b,type:h}],C=vt(y.cx,y.cy,R,$);return E=pt(pt(pt({percent:I,cornerRadius:a,name:T,tooltipPayload:B,midAngle:$,middleRadius:R,tooltipPosition:C},O),y),{},{value:Wt(O,b),startAngle:A,endAngle:P,payload:O,paddingAngle:Wr(p)*c}),E})}return pt(pt({},y),{},{sectors:S,data:i})});var Mme=Math.ceil,Dme=Math.max;function Lme(e,t,r,n){for(var i=-1,a=Dme(Mme((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var Fme=Lme,Bme=AD,oC=1/0,Ume=17976931348623157e292;function zme(e){if(!e)return e===0?e:0;if(e=Bme(e),e===oC||e===-oC){var t=e<0?-1:1;return t*Ume}return e===e?e:0}var dF=zme,Vme=Fme,Wme=Kv,Vx=dF;function qme(e){return function(t,r,n){return n&&typeof n!="number"&&Wme(t,r,n)&&(r=n=void 0),t=Vx(t),r===void 0?(r=t,t=0):r=Vx(r),n=n===void 0?t<r?1:-1:Vx(n),Vme(t,r,n,e)}}var Hme=qme,Kme=Hme,Gme=Kme(),Yme=Gme;const pg=ot(Yme);function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function sC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(r),!0).forEach(function(n){fF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fF(e,t,r){return t=Xme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xme(e){var t=Qme(e,"string");return kf(t)=="symbol"?t:t+""}function Qme(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jme=["Webkit","Moz","O","ms"],Zme=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Jme.reduce(function(a,o){return lC(lC({},a),{},fF({},o+n,r))},{});return i[t]=r,i};function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(this,arguments)}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){fn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ege(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function tge(e,t,r){return t&&uC(e.prototype,t),r&&uC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rge(e,t,r){return t=gg(t),nge(e,hF()?Reflect.construct(t,r||[],gg(e).constructor):t.apply(e,r))}function nge(e,t){if(t&&(Wc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ige(e)}function ige(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function gg(e){return gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gg(e)}function age(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Dw(e,t)}function fn(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=oge(e,"string");return Wc(t)=="symbol"?t:t+""}function oge(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sge=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=wd().domain(pg(0,c)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},dC=function(t){return t.changedTouches&&!!t.changedTouches.length},qc=function(e){function t(r){var n;return ege(this,t),n=rge(this,t,[r]),fn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),fn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),fn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),fn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),fn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),fn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),fn(n,"handleSlideDragStart",function(i){var a=dC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return age(t,e),tge(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(o,f),y=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=Wt(a[n],s,n);return Re(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,y=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-s,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-s));var x=this.getIndex({startX:o+p,endX:s+p});(x.startIndex!==h||x.endIndex!==m)&&y&&y(x),this.setState({startX:o+p,endX:s+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=dC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,y=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var g=this.getIndex(b),j=g.startIndex,_=g.endIndex,S=function(){var O=x.length-1;return o==="startX"&&(s>c?j%p===0:_%p===0)||s<c&&_===O||o==="endX"&&(s>c?_%p===0:j%p===0)||s>c&&_===O};this.setState(fn(fn({},o,u+v),"brushMoveStartX",n.pageX),function(){y&&S()&&y(g)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(fn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?L.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,y=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),v=Wx(Wx({},Ne(this.props,!1)),{},{x:b,y:u,width:d,height:f}),g=m||"Min value: ".concat((a=y[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[x])===null||o===void 0?void 0:o.name);return L.createElement(Ge,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,y={pointerEvents:"none",fill:u};return L.createElement(Ge,{className:"recharts-brush-texts"},L.createElement(Bs,mg({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},y),this.getTextOfTick(i)),L.createElement(Bs,mg({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+s/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,y=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!i||!i.length||!fe(s)||!fe(c)||!fe(u)||!fe(d)||u<=0||d<=0)return null;var g=Be("recharts-brush",a),j=L.Children.count(o)===1,_=Zme("userSelect","none");return L.createElement(Ge,{className:g,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(m,y),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(y,"endX"),(p||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(a+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Re(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Wx({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?sge({data:a,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>i?s=c:o=c}return i>=n[s]?s:o}}])}(w.PureComponent);fn(qc,"displayName","Brush");fn(qc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lge=_j;function cge(e,t){var r;return lge(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var uge=cge,dge=rD,fge=Xi,hge=uge,pge=ln,mge=Kv;function gge(e,t,r){var n=pge(e)?dge:hge;return r&&mge(e,t,r)&&(t=void 0),n(e,fge(t))}var vge=gge;const yge=ot(vge);var Bi=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},fC=SD;function xge(e,t,r){t=="__proto__"&&fC?fC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var bge=xge,wge=bge,_ge=_D,jge=Xi;function Sge(e,t){var r={};return t=jge(t),_ge(e,function(n,i,a){wge(r,i,t(n,i,a))}),r}var Ege=Sge;const Oge=ot(Ege);function Pge(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Nge=Pge,Age=_j;function Cge(e,t){var r=!0;return Age(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Tge=Cge,kge=Nge,$ge=Tge,Rge=Xi,Ige=ln,Mge=Kv;function Dge(e,t,r){var n=Ige(e)?kge:$ge;return r&&Mge(e,t,r)&&(t=void 0),n(e,Rge(t))}var Lge=Dge;const mF=ot(Lge);var Fge=["x","y"];function $f(e){"@babel/helpers - typeof";return $f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$f(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){Bge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bge(e,t,r){return t=Uge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uge(e){var t=zge(e,"string");return $f(t)=="symbol"?t:t+""}function zge(e,t){if($f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vge(e,t){if(e==null)return{};var r=Wge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function qge(e,t){var r=e.x,n=e.y,i=Vge(e,Fge),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Yu(Yu(Yu(Yu(Yu({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function pC(e){return L.createElement(lF,Lw({shapeType:"rectangle",propTransformer:qge,activeClassName:"recharts-active-bar"},e))}var Hge=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||Vs(),r)}},Kge=["value","background"],gF;function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function Gge(e,t){if(e==null)return{};var r=Yge(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(this,arguments)}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){co(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yF(n.key),n)}}function Qge(e,t,r){return t&&gC(e.prototype,t),r&&gC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jge(e,t,r){return t=yg(t),Zge(e,vF()?Reflect.construct(t,r||[],yg(e).constructor):t.apply(e,r))}function Zge(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eve(e)}function eve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vF=function(){return!!e})()}function yg(e){return yg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yg(e)}function tve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function co(e,t,r){return t=yF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yF(e){var t=rve(e,"string");return Hc(t)=="symbol"?t:t+""}function rve(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bn=function(e){function t(){var r;Xge(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Jge(this,t,[].concat(i)),co(r,"state",{isAnimationFinished:!1}),co(r,"id",el("recharts-bar-")),co(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),co(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return tve(t,e),Qge(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ne(this.props,!1);return n&&n.map(function(f,h){var m=h===c,y=m?u:o,p=Ht(Ht(Ht({},d),f),{},{isActive:m,option:y,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(Ge,vg({className:"recharts-bar-rectangle"},Fs(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(pC,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(bi,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var y=m.t,p=a.map(function(x,b){var v=h&&h[b];if(v){var g=ar(v.x,x.x),j=ar(v.y,x.y),_=ar(v.width,x.width),S=ar(v.height,x.height);return Ht(Ht({},x),{},{x:g(y),y:j(y),width:_(y),height:S(y)})}if(o==="horizontal"){var E=ar(0,x.height),O=E(y);return Ht(Ht({},x),{},{y:x.y+x.height-O,height:O})}var N=ar(0,x.width),M=N(y);return Ht(Ht({},x),{},{width:M})});return L.createElement(Ge,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Us(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=Ne(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Gge(u,Kge);if(!f)return null;var m=Ht(Ht(Ht(Ht(Ht({},h),{},{fill:"#eee"},f),c),Fs(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(pC,vg({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Sn(d,vh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:Wt(x,b)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(Ge,y,f.map(function(p){return L.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,y=n.background,p=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=Be("recharts-bar",o),v=s&&s.allowDataOverflow,g=c&&c.allowDataOverflow,j=v||g,_=Le(p)?this.id:p;return L.createElement(Ge,{className:b},v||g?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:v?u:u-f/2,y:g?d:d-h/2,width:v?f:f*2,height:g?h:h*2}))):null,L.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(_,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,_),(!m||x)&&Fi.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(w.PureComponent);gF=Bn;co(Bn,"displayName","Bar");co(Bn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});co(Bn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Mue(n,r);if(!m)return null;var y=t.layout,p=r.type.defaultProps,x=p!==void 0?Ht(Ht({},p),r.props):r.props,b=x.dataKey,v=x.children,g=x.minPointSize,j=y==="horizontal"?o:a,_=u?j.scale.domain():null,S=Vue({numericAxis:j}),E=Sn(v,fh),O=f.map(function(N,M){var T,I,A,P,$,R;u?T=Due(u[d+M],_):(T=Wt(N,b),Array.isArray(T)||(T=[S,T]));var B=Hge(g,gF.defaultProps.minPointSize)(T[1],M);if(y==="horizontal"){var C,D=[o.scale(T[0]),o.scale(T[1])],H=D[0],G=D[1];I=aA({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:N,index:M}),A=(C=G??H)!==null&&C!==void 0?C:void 0,P=m.size;var k=H-G;if($=Number.isNaN(k)?0:k,R={x:I,y:o.y,width:P,height:o.height},Math.abs(B)>0&&Math.abs($)<Math.abs(B)){var F=Wr($||B)*(Math.abs(B)-Math.abs($));A-=F,$+=F}}else{var K=[a.scale(T[0]),a.scale(T[1])],Z=K[0],se=K[1];if(I=Z,A=aA({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:N,index:M}),P=se-Z,$=m.size,R={x:a.x,y:A,width:a.width,height:$},Math.abs(B)>0&&Math.abs(P)<Math.abs(B)){var te=Wr(P||B)*(Math.abs(B)-Math.abs(P));P+=te}}return Ht(Ht(Ht({},N),{},{x:I,y:A,width:P,height:$,value:u?T:T[1],payload:N,background:R},E&&E[M]&&E[M].props),{},{tooltipPayload:[BL(r,N)],tooltipPosition:{x:I+P/2,y:A+$/2}})});return Ht({data:O,layout:y},h)});function Rf(e){"@babel/helpers - typeof";return Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rf(e)}function nve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xF(n.key),n)}}function ive(e,t,r){return t&&vC(e.prototype,t),r&&vC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){uy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uy(e,t,r){return t=xF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xF(e){var t=ave(e,"string");return Rf(t)=="symbol"?t:t+""}function ave(e,t){if(Rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qj=function(t,r,n,i,a){var o=t.width,s=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!mn(u,Bn);return d.reduce(function(m,y){var p=r[y],x=p.orientation,b=p.domain,v=p.padding,g=v===void 0?{}:v,j=p.mirror,_=p.reversed,S="".concat(x).concat(j?"Mirror":""),E,O,N,M,T;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var I=b[1]-b[0],A=1/0,P=p.categoricalDomain.sort();if(P.forEach(function(K,Z){Z>0&&(A=Math.min((K||0)-(P[Z-1]||0),A))}),Number.isFinite(A)){var $=A/I,R=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(E=$*R/2),p.padding==="no-gap"){var B=qr(t.barCategoryGap,$*R),C=$*R/2;E=C-B-(C-B)/R*B}}}i==="xAxis"?O=[n.left+(g.left||0)+(E||0),n.left+n.width-(g.right||0)-(E||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(g.bottom||0),n.top+(g.top||0)]:[n.top+(g.top||0)+(E||0),n.top+n.height-(g.bottom||0)-(E||0)]:O=p.range,_&&(O=[O[1],O[0]]);var D=ML(p,a,h),H=D.scale,G=D.realScaleType;H.domain(b).range(O),DL(H);var k=LL(H,ri(ri({},p),{},{realScaleType:G}));i==="xAxis"?(T=x==="top"&&!j||x==="bottom"&&j,N=n.left,M=f[S]-T*p.height):i==="yAxis"&&(T=x==="left"&&!j||x==="right"&&j,N=f[S]-T*p.width,M=n.top);var F=ri(ri(ri({},p),k),{},{realScaleType:G,x:N,y:M,scale:H,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return F.bandSize=rg(F,k),!p.hide&&i==="xAxis"?f[S]+=(T?-1:1)*F.height:p.hide||(f[S]+=(T?-1:1)*F.width),ri(ri({},m),{},uy({},y,F))},{})},bF=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},ove=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return bF({x:r,y:n},{x:i,y:a})},wF=function(){function e(t){nve(this,e),this.scale=t}return ive(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();uy(wF,"EPS",1e-4);var Jj=function(t){var r=Object.keys(t).reduce(function(n,i){return ri(ri({},n),{},uy({},i,wF.create(t[i])))},{});return ri(ri({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return Oge(i,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return mF(i,function(a,o){return r[o].isInRange(a)})}})};function sve(e){return(e%180+180)%180}var lve=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=sve(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},cve=Xi,uve=dh,dve=qv;function fve(e){return function(t,r,n){var i=Object(t);if(!uve(t)){var a=cve(r);t=dve(t),r=function(s){return a(i[s],s,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var hve=fve,pve=dF;function mve(e){var t=pve(e),r=t%1;return t===t?r?t-r:t:0}var gve=mve,vve=gD,yve=Xi,xve=gve,bve=Math.max;function wve(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:xve(r);return i<0&&(i=bve(n+i,0)),vve(e,yve(t),i)}var _ve=wve,jve=hve,Sve=_ve,Eve=jve(Sve),Ove=Eve;const Pve=ot(Ove);var Nve=S7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Zj=w.createContext(void 0),eS=w.createContext(void 0),_F=w.createContext(void 0),jF=w.createContext({}),SF=w.createContext(void 0),EF=w.createContext(0),OF=w.createContext(0),xC=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,d=Nve(a);return L.createElement(Zj.Provider,{value:n},L.createElement(eS.Provider,{value:i},L.createElement(jF.Provider,{value:a},L.createElement(_F.Provider,{value:d},L.createElement(SF.Provider,{value:o},L.createElement(EF.Provider,{value:u},L.createElement(OF.Provider,{value:c},s)))))))},Ave=function(){return w.useContext(SF)},PF=function(t){var r=w.useContext(Zj);r==null&&Vs();var n=r[t];return n==null&&Vs(),n},Cve=function(){var t=w.useContext(Zj);return Ga(t)},Tve=function(){var t=w.useContext(eS),r=Pve(t,function(n){return mF(n.domain,Number.isFinite)});return r||Ga(t)},NF=function(t){var r=w.useContext(eS);r==null&&Vs();var n=r[t];return n==null&&Vs(),n},kve=function(){var t=w.useContext(_F);return t},$ve=function(){return w.useContext(jF)},tS=function(){return w.useContext(OF)},rS=function(){return w.useContext(EF)};function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function Rve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ive(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function Mve(e,t,r){return t&&Ive(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dve(e,t,r){return t=xg(t),Lve(e,AF()?Reflect.construct(t,r||[],xg(e).constructor):t.apply(e,r))}function Lve(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fve(e)}function Fve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AF=function(){return!!e})()}function xg(e){return xg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xg(e)}function Bve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bw(e,t)}function Bw(e,t){return Bw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Bw(e,t)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){nS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nS(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=Uve(e,"string");return Kc(t)=="symbol"?t:t+""}function Uve(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zve(e,t){return Hve(e)||qve(e,t)||Wve(e,t)||Vve()}function Vve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wve(e,t){if(e){if(typeof e=="string")return _C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _C(e,t)}}function _C(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qve(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hve(e){if(Array.isArray(e))return e}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(this,arguments)}var Kve=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):Re(t)?n=t(r):n=L.createElement("line",Uw({},r,{className:"recharts-reference-line-line"})),n},Gve=function(t,r,n,i,a,o,s,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var y=u.y,p=t.y.apply(y,{position:o});if(Bi(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(Bi(u,"discard")&&!t.x.isInRange(v))return null;var g=[{x:v,y:f+m},{x:v,y:f}];return s==="top"?g.reverse():g}if(i){var j=u.segment,_=j.map(function(S){return t.apply(S,{position:o})});return Bi(u,"discard")&&yge(_,function(S){return!t.isInRange(S)})?null:_}return null};function Yve(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=Ave(),d=PF(i),f=NF(a),h=kve();if(!u||!h)return null;hi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Jj({x:d.scale,y:f.scale}),y=sr(t),p=sr(r),x=n&&n.length===2,b=Gve(m,y,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=zve(b,2),g=v[0],j=g.x,_=g.y,S=v[1],E=S.x,O=S.y,N=Bi(e,"hidden")?"url(#".concat(u,")"):void 0,M=wC(wC({clipPath:N},Ne(e,!0)),{},{x1:j,y1:_,x2:E,y2:O});return L.createElement(Ge,{className:Be("recharts-reference-line",s)},Kve(o,M),hr.renderCallByParent(e,ove({x1:j,y1:_,x2:E,y2:O})))}var iS=function(e){function t(){return Rve(this,t),Dve(this,t,arguments)}return Bve(t,e),Mve(t,[{key:"render",value:function(){return L.createElement(Yve,this.props)}}])}(L.Component);nS(iS,"displayName","ReferenceLine");nS(iS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zw.apply(this,arguments)}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){dy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kF(n.key),n)}}function Jve(e,t,r){return t&&Qve(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zve(e,t,r){return t=bg(t),eye(e,TF()?Reflect.construct(t,r||[],bg(e).constructor):t.apply(e,r))}function eye(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tye(e)}function tye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TF=function(){return!!e})()}function bg(e){return bg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bg(e)}function rye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Vw(e,t)}function Vw(e,t){return Vw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Vw(e,t)}function dy(e,t,r){return t=kF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kF(e){var t=nye(e,"string");return Gc(t)=="symbol"?t:t+""}function nye(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iye=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=Jj({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Bi(t,"discard")&&!o.isInRange(s)?null:s},fy=function(e){function t(){return Xve(this,t),Zve(this,t,arguments)}return rye(t,e),Jve(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=sr(i),d=sr(a);if(hi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=iye(this.props);if(!f)return null;var h=f.x,m=f.y,y=this.props,p=y.shape,x=y.className,b=Bi(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=SC(SC({clipPath:b},Ne(this.props,!0)),{},{cx:h,cy:m});return L.createElement(Ge,{className:Be("recharts-reference-dot",x)},t.renderDot(p,v),hr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);dy(fy,"displayName","ReferenceDot");dy(fy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});dy(fy,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Re(e)?r=e(t):r=L.createElement(yh,zw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(this,arguments)}function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RF(n.key),n)}}function sye(e,t,r){return t&&oye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lye(e,t,r){return t=wg(t),cye(e,$F()?Reflect.construct(t,r||[],wg(e).constructor):t.apply(e,r))}function cye(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uye(e)}function uye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($F=function(){return!!e})()}function wg(e){return wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wg(e)}function dye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(e,t)}function hy(e,t,r){return t=RF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RF(e){var t=fye(e,"string");return Yc(t)=="symbol"?t:t+""}function fye(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hye=function(t,r,n,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Jj({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},y={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Bi(a,"discard")&&(!h.isInRange(m)||!h.isInRange(y))?null:bF(m,y)},py=function(e){function t(){return aye(this,t),lye(this,t,arguments)}return dye(t,e),sye(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;hi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=sr(i),h=sr(a),m=sr(o),y=sr(s),p=this.props.shape;if(!f&&!h&&!m&&!y&&!p)return null;var x=hye(f,h,m,y,this.props);if(!x&&!p)return null;var b=Bi(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(Ge,{className:Be("recharts-reference-area",c)},t.renderRect(p,OC(OC({clipPath:b},Ne(this.props,!0)),x)),hr.renderCallByParent(this.props,x))}}])}(L.Component);hy(py,"displayName","ReferenceArea");hy(py,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hy(py,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Re(e)?r=e(t):r=L.createElement(Xj,Ww({},t,{className:"recharts-reference-area-rect"})),r});function IF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function pye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lve(n,r)}function mye(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function _g(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function gye(e,t){return IF(e,t+1)}function vye(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,c=0,u=1,d=o,f=function(){var y=n==null?void 0:n[c];if(y===void 0)return{v:IF(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(y,p)),x},v=y.coordinate,g=c===0||_g(e,v,b,d,s);g||(c=0,d=o,u+=1),g&&(d=v+e*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function If(e){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(e)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){yye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yye(e,t,r){return t=xye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xye(e){var t=bye(e,"string");return If(t)=="symbol"?t:t+""}function bye(e,t){if(If(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(If(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wye(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,c=t.end,u=function(h){var m=a[h],y,p=function(){return y===void 0&&(y=r(m,h)),y};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);a[h]=m=Cr(Cr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[h]=m=Cr(Cr({},m),{},{tickCoord:m.coordinate});var b=_g(e,m.tickCoord,p,s,c);b&&(c=m.tickCoord-e*(p()/2+i),a[h]=Cr(Cr({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function _ye(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,c=t.start,u=t.end;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Cr(Cr({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=_g(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),o[s-1]=Cr(Cr({},d),{},{isShow:!0}))}for(var y=a?s-1:s,p=function(v){var g=o[v],j,_=function(){return j===void 0&&(j=r(g,v)),j};if(v===0){var S=e*(g.coordinate-e*_()/2-c);o[v]=g=Cr(Cr({},g),{},{tickCoord:S<0?g.coordinate-S*e:g.coordinate})}else o[v]=g=Cr(Cr({},g),{},{tickCoord:g.coordinate});var E=_g(e,g.tickCoord,_,c,u);E&&(c=g.tickCoord+e*(_()/2+i),o[v]=Cr(Cr({},g),{},{isShow:!0}))},x=0;x<y;x++)p(x);return o}function aS(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(fe(c)||pi.isSsr)return gye(i,typeof c=="number"&&fe(c)?c:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",y=d&&m==="width"?bd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(g,j){var _=Re(u)?u(g.value,j):g.value;return m==="width"?pye(bd(_,{fontSize:t,letterSpacing:r}),y,f):bd(_,{fontSize:t,letterSpacing:r})[m]},x=i.length>=2?Wr(i[1].coordinate-i[0].coordinate):1,b=mye(a,x,m);return c==="equidistantPreserveStart"?vye(x,b,p,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=_ye(x,b,p,i,o,c==="preserveStartEnd"):h=wye(x,b,p,i,o),h.filter(function(v){return v.isShow}))}var jye=["viewBox"],Sye=["viewBox"],Eye=["ticks"];function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){oS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qx(e,t){if(e==null)return{};var r=Oye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Pye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DF(n.key),n)}}function Nye(e,t,r){return t&&AC(e.prototype,t),r&&AC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Aye(e,t,r){return t=jg(t),Cye(e,MF()?Reflect.construct(t,r||[],jg(e).constructor):t.apply(e,r))}function Cye(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tye(e)}function Tye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MF=function(){return!!e})()}function jg(e){return jg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jg(e)}function kye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(e,t)}function oS(e,t,r){return t=DF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DF(e){var t=$ye(e,"string");return Xc(t)=="symbol"?t:t+""}function $ye(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ou=function(e){function t(r){var n;return Pye(this,t),n=Aye(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return kye(t,e),Nye(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=qx(n,jye),s=this.props,c=s.viewBox,u=qx(s,Sye);return!ec(a,c)||!ec(o,u)||!ec(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,y,p,x,b,v,g=f?-1:1,j=n.tickSize||d,_=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=y=n.coordinate,x=o+ +!f*c,p=x-g*j,v=p-g*h,b=_;break;case"left":p=x=n.coordinate,y=a+ +!f*s,m=y-g*j,b=m-g*h,v=_;break;case"right":p=x=n.coordinate,y=a+ +f*s,m=y+g*j,b=m+g*h,v=_;break;default:m=y=n.coordinate,x=o+ +f*c,p=x+g*j,v=p+g*h,b=_;break}return{line:{x1:m,y1:p,x2:y,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},Ne(this.props,!1)),Ne(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return L.createElement("line",Ul({},f,{className:Be("recharts-cartesian-axis-line",jn(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=aS(Dr(Dr({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=Ne(this.props,!1),b=Ne(d,!1),v=Dr(Dr({},x),{},{fill:"none"},Ne(c,!1)),g=m.map(function(j,_){var S=o.getTickLineCoord(j),E=S.line,O=S.tick,N=Dr(Dr(Dr(Dr({textAnchor:y,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),O),{},{index:_,payload:j,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(Ge,Ul({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},Fs(o.props,j,_)),c&&L.createElement("line",Ul({},v,E,{className:Be("recharts-cartesian-axis-tick-line",jn(c,"className"))})),d&&t.renderTickItem(d,N,"".concat(Re(f)?f(j.value,_):j.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=qx(f,Eye),y=h;return Re(c)&&(y=h&&h.length>0?c(this.props):c(m)),o<=0||s<=0||!y||!y.length?null:L.createElement(Ge,{className:Be("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),hr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Bs,Ul({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);oS(Ou,"displayName","CartesianAxis");oS(Ou,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rye=["x1","y1","x2","y2","key"],Iye=["offset"];function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){Mye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mye(e,t,r){return t=Dye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dye(e){var t=Lye(e,"string");return Ws(t)=="symbol"?t:t+""}function Lye(e,t){if(Ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function TC(e,t){if(e==null)return{};var r=Fye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Bye=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,c=t.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LF(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,c=TC(t,Rye),u=Ne(c,!1);u.offset;var d=TC(u,Iye);r=L.createElement("line",fs({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Uye(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=Ir(Ir({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return LF(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function zye(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=Ir(Ir({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return LF(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vye(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?i+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Wye(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var y=!d[m+1],p=y?a+s-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var qye=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return IL(aS(Ir(Ir(Ir({},Ou.defaultProps),n),{},{ticks:fa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Hye=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return IL(aS(Ir(Ir(Ir({},Ou.defaultProps),n),{},{ticks:fa(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},fl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nc(e){var t,r,n,i,a,o,s=tS(),c=rS(),u=$ve(),d=Ir(Ir({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:fl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:fl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:fl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:fl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:fl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:fl.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,y=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=Cve(),g=Tve();if(!fe(m)||m<=0||!fe(y)||y<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var j=d.verticalCoordinatesGenerator||qye,_=d.horizontalCoordinatesGenerator||Hye,S=d.horizontalPoints,E=d.verticalPoints;if((!S||!S.length)&&Re(_)){var O=x&&x.length,N=_({yAxis:g?Ir(Ir({},g),{},{ticks:O?x:g.ticks}):void 0,width:s,height:c,offset:u},O?!0:p);hi(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(N),"]")),Array.isArray(N)&&(S=N)}if((!E||!E.length)&&Re(j)){var M=b&&b.length,T=j({xAxis:v?Ir(Ir({},v),{},{ticks:M?b:v.ticks}):void 0,width:s,height:c,offset:u},M?!0:p);hi(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ws(T),"]")),Array.isArray(T)&&(E=T)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Bye,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Uye,fs({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:g})),L.createElement(zye,fs({},d,{offset:u,verticalPoints:E,xAxis:v,yAxis:g})),L.createElement(Vye,fs({},d,{horizontalPoints:S})),L.createElement(Wye,fs({},d,{verticalPoints:E})))}nc.displayName="CartesianGrid";var Kye=["type","layout","connectNulls","ref"],Gye=["key"];function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function kC(e,t){if(e==null)return{};var r=Yye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Od(){return Od=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Od.apply(this,arguments)}function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){ni(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hl(e){return Zye(e)||Jye(e)||Qye(e)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(e,t){if(e){if(typeof e=="string")return Kw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kw(e,t)}}function Jye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Zye(e){if(Array.isArray(e))return Kw(e)}function Kw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function exe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BF(n.key),n)}}function txe(e,t,r){return t&&RC(e.prototype,t),r&&RC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rxe(e,t,r){return t=Sg(t),nxe(e,FF()?Reflect.construct(t,r||[],Sg(e).constructor):t.apply(e,r))}function nxe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ixe(e)}function ixe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function Sg(e){return Sg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sg(e)}function axe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(e,t)}function ni(e,t,r){return t=BF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=oxe(e,"string");return Qc(t)=="symbol"?t:t+""}function oxe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xh=function(e){function t(){var r;exe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=rxe(this,t,[].concat(i)),ni(r,"state",{isAnimationFinished:!0,totalLength:0}),ni(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ni(r,"getStrokeDasharray",function(o,s,c){var u=c.reduce(function(b,v){return b+v});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],y=0,p=0;y<c.length;p+=c[y],++y)if(p+c[y]>f){m=[].concat(hl(c.slice(0,y)),[f-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(hl(t.repeat(c,d)),hl(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),ni(r,"id",el("recharts-line-")),ni(r,"pathRef",function(o){r.mainCurve=o}),ni(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ni(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return axe(t,e),txe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Sn(d,vh);if(!f)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Wt(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(Ge,m,f.map(function(y){return L.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=Ne(this.props,!1),h=Ne(c,!0),m=u.map(function(p,x){var b=un(un(un({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(Ge,Od({className:"recharts-line-dots",key:"dots"},y),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,c=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=kC(s,Kye),h=un(un(un({},Ne(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(As,Od({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=o.animateNewValues,p=o.width,x=o.height,b=this.state,v=b.prevPoints,g=b.totalLength;return L.createElement(bi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var _=j.t;if(v){var S=v.length/s.length,E=s.map(function(I,A){var P=Math.floor(A*S);if(v[P]){var $=v[P],R=ar($.x,I.x),B=ar($.y,I.y);return un(un({},I),{},{x:R(_),y:B(_)})}if(y){var C=ar(p*2,I.x),D=ar(x/2,I.y);return un(un({},I),{},{x:C(_),y:D(_)})}return un(un({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(E,n,i)}var O=ar(0,g),N=O(_),M;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});M=a.getStrokeDasharray(N,g,T)}else M=a.generateSimpleStrokeDasharray(g,N);return a.renderCurveStatically(s,n,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return s&&o&&o.length&&(!u&&d>0||!Us(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,y=i.height,p=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,v=s.length===1,g=Be("recharts-line",c),j=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,S=j||_,E=Le(x)?this.id:x,O=(n=Ne(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=O.r,M=N===void 0?3:N,T=O.strokeWidth,I=T===void 0?2:T,A=PM(o)?o:{},P=A.clipDot,$=P===void 0?!0:P,R=M*2+I;return L.createElement(Ge,{className:g},j||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:j?h:h-m/2,y:_?f:f-y/2,width:j?m:m*2,height:_?y:y*2})),!$&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-R/2,y:f-R/2,width:m+R,height:y+R}))):null,!v&&this.renderCurve(S,E),this.renderErrorBar(S,E),(v||o)&&this.renderDots(S,$,E),(!p||b)&&Fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(hl(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(hl(o),hl(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(Re(n))a=n(i);else{var o=i.key,s=kC(i,Gye),c=Be("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(yh,Od({key:o},s,{className:c}))}return a}}])}(w.PureComponent);ni(xh,"displayName","Line");ni(xh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ni(xh,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var y=Wt(h,o);return d==="horizontal"?{x:tg({axis:r,ticks:i,bandSize:s,entry:h,index:m}),y:Le(y)?null:n.scale(y),value:y,payload:h}:{x:Le(y)?null:r.scale(y),y:tg({axis:n,ticks:a,bandSize:s,entry:h,index:m}),value:y,payload:h}});return un({points:f,layout:d},u)});var sxe=["layout","type","stroke","connectNulls","isRange","ref"],lxe=["key"],UF;function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function zF(e,t){if(e==null)return{};var r=cxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){$i(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WF(n.key),n)}}function dxe(e,t,r){return t&&MC(e.prototype,t),r&&MC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fxe(e,t,r){return t=Eg(t),hxe(e,VF()?Reflect.construct(t,r||[],Eg(e).constructor):t.apply(e,r))}function hxe(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pxe(e)}function pxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VF=function(){return!!e})()}function Eg(e){return Eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eg(e)}function mxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yw(e,t)}function Yw(e,t){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yw(e,t)}function $i(e,t,r){return t=WF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WF(e){var t=gxe(e,"string");return Jc(t)=="symbol"?t:t+""}function gxe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fo=function(e){function t(){var r;uxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=fxe(this,t,[].concat(i)),$i(r,"state",{isAnimationFinished:!0}),$i(r,"id",el("recharts-area-")),$i(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(o)&&o()}),$i(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(o)&&o()}),r}return mxe(t,e),dxe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ne(this.props,!1),m=Ne(u,!0),y=d.map(function(x,b){var v=za(za(za({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(Ge,hs({className:"recharts-area-dots"},p),y)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=lo(o.map(function(h){return h.y||0}));return fe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lo(a.map(function(h){return h.y||0})),f)),fe(f)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=lo(o.map(function(h){return h.x||0}));return fe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(lo(a.map(function(h){return h.x||0})),f)),fe(f)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=zF(s,sxe);return L.createElement(Ge,{clipPath:a?"url(#clipPath-".concat(o,")"):null},L.createElement(As,hs({},Ne(m,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(As,hs({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&L.createElement(As,hs({},Ne(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,y=this.state,p=y.prevPoints,x=y.prevBaseLine;return L.createElement(bi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var g=p.length/s.length,j=s.map(function(O,N){var M=Math.floor(N*g);if(p[M]){var T=p[M],I=ar(T.x,O.x),A=ar(T.y,O.y);return za(za({},O),{},{x:I(v),y:A(v)})}return O}),_;if(fe(c)&&typeof c=="number"){var S=ar(x,c);_=S(v)}else if(Le(c)||xu(c)){var E=ar(x,0);_=E(v)}else _=c.map(function(O,N){var M=Math.floor(N*g);if(x[M]){var T=x[M],I=ar(T.x,O.x),A=ar(T.y,O.y);return za(za({},O),{},{x:I(v),y:A(v)})}return O});return a.renderAreaStatically(j,_,n,i)}return L.createElement(Ge,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(v))),L.createElement(Ge,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Us(d,o)||!Us(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,y=i.height,p=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,v=s.length===1,g=Be("recharts-area",c),j=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,S=j||_,E=Le(x)?this.id:x,O=(n=Ne(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},N=O.r,M=N===void 0?3:N,T=O.strokeWidth,I=T===void 0?2:T,A=PM(o)?o:{},P=A.clipDot,$=P===void 0?!0:P,R=M*2+I;return L.createElement(Ge,{className:g},j||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:j?d:d-m/2,y:_?u:u-y/2,width:j?m:m*2,height:_?y:y*2})),!$&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:d-R/2,y:u-R/2,width:m+R,height:y+R}))):null,v?null:this.renderArea(S,E),(o||v)&&this.renderDots(S,$,E),(!p||b)&&Fi.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);UF=Fo;$i(Fo,"displayName","Area");$i(Fo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});$i(Fo,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(fe(s)&&typeof s=="number")return s;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});$i(Fo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,y=u&&u.length,p=UF.getBaseValue(t,r,n,i),x=m==="horizontal",b=!1,v=f.map(function(j,_){var S;y?S=u[d+_]:(S=Wt(j,c),Array.isArray(S)?b=!0:S=[p,S]);var E=S[1]==null||y&&Wt(j,c)==null;return x?{x:tg({axis:n,ticks:a,bandSize:s,entry:j,index:_}),y:E?null:i.scale(S[1]),value:S,payload:j}:{x:E?null:n.scale(S[1]),y:tg({axis:i,ticks:o,bandSize:s,entry:j,index:_}),value:S,payload:j}}),g;return y||b?g=v.map(function(j){var _=Array.isArray(j.value)?j.value[0]:null;return x?{x:j.x,y:_!=null&&j.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:j.y}}):g=x?i.scale(p):n.scale(p),za({points:v,baseLine:g,layout:m,isRange:b},h)});$i(Fo,"renderDotItem",function(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=Be("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=zF(t,lxe);r=L.createElement(yh,hs({},a,{key:i,className:n}))}return r});function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function vxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KF(n.key),n)}}function xxe(e,t,r){return t&&yxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bxe(e,t,r){return t=Og(t),wxe(e,qF()?Reflect.construct(t,r||[],Og(e).constructor):t.apply(e,r))}function wxe(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _xe(e)}function _xe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qF=function(){return!!e})()}function Og(e){return Og=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Og(e)}function jxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xw(e,t)}function Xw(e,t){return Xw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Xw(e,t)}function HF(e,t,r){return t=KF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KF(e){var t=Sxe(e,"string");return Zc(t)=="symbol"?t:t+""}function Sxe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(this,arguments)}function Exe(e){var t=e.xAxisId,r=tS(),n=rS(),i=PF(t);return i==null?null:L.createElement(Ou,Qw({},i,{className:Be("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return fa(o,!0)}}))}var Ui=function(e){function t(){return vxe(this,t),bxe(this,t,arguments)}return jxe(t,e),xxe(t,[{key:"render",value:function(){return L.createElement(Exe,this.props)}}])}(L.Component);HF(Ui,"displayName","XAxis");HF(Ui,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function Oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XF(n.key),n)}}function Nxe(e,t,r){return t&&Pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Axe(e,t,r){return t=Pg(t),Cxe(e,GF()?Reflect.construct(t,r||[],Pg(e).constructor):t.apply(e,r))}function Cxe(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Txe(e)}function Txe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GF=function(){return!!e})()}function Pg(e){return Pg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pg(e)}function kxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jw(e,t)}function YF(e,t,r){return t=XF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XF(e){var t=$xe(e,"string");return eu(t)=="symbol"?t:t+""}function $xe(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(this,arguments)}var Rxe=function(t){var r=t.yAxisId,n=tS(),i=rS(),a=NF(r);return a==null?null:L.createElement(Ou,Zw({},a,{className:Be("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return fa(s,!0)}}))},zi=function(e){function t(){return Oxe(this,t),Axe(this,t,arguments)}return kxe(t,e),Nxe(t,[{key:"render",value:function(){return L.createElement(Rxe,this.props)}}])}(L.Component);YF(zi,"displayName","YAxis");YF(zi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function DC(e){return Lxe(e)||Dxe(e)||Mxe(e)||Ixe()}function Ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mxe(e,t){if(e){if(typeof e=="string")return e_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e_(e,t)}}function Dxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lxe(e){if(Array.isArray(e))return e_(e)}function e_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var t_=function(t,r,n,i,a){var o=Sn(t,iS),s=Sn(t,fy),c=[].concat(DC(o),DC(s)),u=Sn(t,py),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&Bi(x.props,"extendDomain")&&fe(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),y="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&Bi(x.props,"extendDomain")&&fe(x.props[m])&&fe(x.props[y])){var b=x.props[m],v=x.props[y];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,x){return fe(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},QF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],m]:c._events[y].push(m):(c._events[y]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,y=new Array(m);h<m;h++)y[h]=f[h].fn;return y},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,y){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,v,g;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,y),!0}for(g=1,v=new Array(b-1);g<b;g++)v[g-1]=arguments[g];x.fn.apply(x.context,v)}else{var j=x.length,_;for(g=0;g<j;g++)switch(x[g].once&&this.removeListener(u,x[g].fn,void 0,!0),b){case 1:x[g].fn.call(x[g].context);break;case 2:x[g].fn.call(x[g].context,d);break;case 3:x[g].fn.call(x[g].context,d,f);break;case 4:x[g].fn.call(x[g].context,d,f,h);break;default:if(!v)for(_=1,v=new Array(b-1);_<b;_++)v[_-1]=arguments[_];x[g].fn.apply(x[g].context,v)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===d&&(!h||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var p=0,x=[],b=y.length;p<b;p++)(y[p].fn!==d||h&&!y[p].once||f&&y[p].context!==f)&&x.push(y[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(QF);var Fxe=QF.exports;const Bxe=ot(Fxe);var Hx=new Bxe,Kx="recharts.syncMouseEvents";function Mf(e){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(e)}function Uxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JF(n.key),n)}}function Vxe(e,t,r){return t&&zxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gx(e,t,r){return t=JF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=Wxe(e,"string");return Mf(t)=="symbol"?t:t+""}function Wxe(e,t){if(Mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qxe=function(){function e(){Uxe(this,e),Gx(this,"activeIndex",0),Gx(this,"coordinateList",[]),Gx(this,"layout","horizontal")}return Vxe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Hxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&fe(n)&&fe(i))return!0}return!1}function Kxe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function ZF(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=vt(t,r,n,i),s=vt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Gxe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=vt(s,c,u,f),m=vt(s,c,d,f);n=h.x,i=h.y,a=m.x,o=m.y}else return ZF(t);return[{x:n,y:i},{x:a,y:o}]}function Df(e){"@babel/helpers - typeof";return Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Df(e)}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){Yxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yxe(e,t,r){return t=Xxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xxe(e){var t=Qxe(e,"string");return Df(t)=="symbol"?t:t+""}function Qxe(e,t){if(Df(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Df(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jxe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var y,p=As;if(h==="ScatterChart")y=o,p=ope;else if(h==="BarChart")y=Kxe(f,o,c,d),p=Xj;else if(f==="radial"){var x=ZF(o),b=x.cx,v=x.cy,g=x.radius,j=x.startAngle,_=x.endAngle;y={cx:b,cy:v,startAngle:j,endAngle:_,innerRadius:g,outerRadius:g},p=HL}else y={points:Gxe(f,o,c)},p=As;var S=fp(fp(fp(fp({stroke:"#ccc",pointerEvents:"none"},c),y),Ne(m,!1)),{},{payload:s,payloadIndex:u,className:Be("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,S):w.createElement(p,S)}var Zxe=["item"],ebe=["children","className","width","height","style","compact","title","desc"];function tu(e){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function FC(e,t){return nbe(e)||rbe(e,t)||t3(e,t)||tbe()}function tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function nbe(e){if(Array.isArray(e))return e}function BC(e,t){if(e==null)return{};var r=ibe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ibe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function abe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function obe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,r3(n.key),n)}}function sbe(e,t,r){return t&&obe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e,t,r){return t=Ng(t),cbe(e,e3()?Reflect.construct(t,r||[],Ng(e).constructor):t.apply(e,r))}function cbe(e,t){if(t&&(tu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ube(e)}function ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e3(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e3=function(){return!!e})()}function Ng(e){return Ng=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ng(e)}function dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r_(e,t)}function r_(e,t){return r_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},r_(e,t)}function ru(e){return pbe(e)||hbe(e)||t3(e)||fbe()}function fbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t3(e,t){if(e){if(typeof e=="string")return n_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n_(e,t)}}function hbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pbe(e){if(Array.isArray(e))return n_(e)}function n_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UC(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ke(e,t,r){return t=r3(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r3(e){var t=mbe(e,"string");return tu(t)=="symbol"?t:t+""}function mbe(e,t){if(tu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gbe={xAxis:["bottom","top"],yAxis:["left","right"]},vbe={width:"100%",height:"100%"},n3={x:0,y:0};function hp(e){return e}var ybe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},xbe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return ee(ee(ee({},i),vt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return ee(ee(ee({},i),vt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return n3},my=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(ru(s),ru(u)):s},[]);return o.length>0?o:t&&t.length&&fe(i)&&fe(a)?t.slice(i,a+1):[]};function i3(e){return e==="number"?[0,"auto"]:void 0}var i_=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=my(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=Pm(m,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(ru(c),[BL(u,h)]):c},[])},zC=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=ybe(a,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Cue(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=i_(t,r,d,f),m=xbe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},bbe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=RL(d,a);return n.reduce(function(y,p){var x,b=p.type.defaultProps!==void 0?ee(ee({},p.type.defaultProps),p.props):p.props,v=b.type,g=b.dataKey,j=b.allowDataOverflow,_=b.allowDuplicatedCategory,S=b.scale,E=b.ticks,O=b.includeHidden,N=b[o];if(y[N])return y;var M=my(t.data,{graphicalItems:i.filter(function(k){var F,K=o in k.props?k.props[o]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[o];return K===N}),dataStartIndex:c,dataEndIndex:u}),T=M.length,I,A,P;Hxe(b.domain,j,v)&&(I=vw(b.domain,null,j),m&&(v==="number"||S!=="auto")&&(P=_d(M,g,"category")));var $=i3(v);if(!I||I.length===0){var R,B=(R=b.domain)!==null&&R!==void 0?R:$;if(g){if(I=_d(M,g,v),v==="category"&&m){var C=wY(I);_&&C?(A=I,I=pg(0,T)):_||(I=lA(B,I,p).reduce(function(k,F){return k.indexOf(F)>=0?k:[].concat(ru(k),[F])},[]))}else if(v==="category")_?I=I.filter(function(k){return k!==""&&!Le(k)}):I=lA(B,I,p).reduce(function(k,F){return k.indexOf(F)>=0||F===""||Le(F)?k:[].concat(ru(k),[F])},[]);else if(v==="number"){var D=Iue(M,i.filter(function(k){var F,K,Z=o in k.props?k.props[o]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[o],se="hide"in k.props?k.props.hide:(K=k.type.defaultProps)===null||K===void 0?void 0:K.hide;return Z===N&&(O||!se)}),g,a,d);D&&(I=D)}m&&(v==="number"||S!=="auto")&&(P=_d(M,g,"category"))}else m?I=pg(0,T):s&&s[N]&&s[N].hasStack&&v==="number"?I=h==="expand"?[0,1]:FL(s[N].stackGroups,c,u):I=$L(M,i.filter(function(k){var F=o in k.props?k.props[o]:k.type.defaultProps[o],K="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return F===N&&(O||!K)}),v,d,!0);if(v==="number")I=t_(f,I,N,a,E),B&&(I=vw(B,I,j));else if(v==="category"&&B){var H=B,G=I.every(function(k){return H.indexOf(k)>=0});G&&(I=H)}}return ee(ee({},y),{},ke({},N,ee(ee({},b),{},{axisType:a,domain:I,categoricalDomain:P,duplicateDomain:A,originalDomain:(x=b.domain)!==null&&x!==void 0?x:$,isCategorical:m,layout:d})))},{})},wbe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=my(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,y=RL(d,a),p=-1;return n.reduce(function(x,b){var v=b.type.defaultProps!==void 0?ee(ee({},b.type.defaultProps),b.props):b.props,g=v[o],j=i3("number");if(!x[g]){p++;var _;return y?_=pg(0,m):s&&s[g]&&s[g].hasStack?(_=FL(s[g].stackGroups,c,u),_=t_(f,_,g,a)):(_=vw(j,$L(h,n.filter(function(S){var E,O,N=o in S.props?S.props[o]:(E=S.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in S.props?S.props.hide:(O=S.type.defaultProps)===null||O===void 0?void 0:O.hide;return N===g&&!M}),"number",d),i.defaultProps.allowDataOverflow),_=t_(f,_,g,a)),ee(ee({},x),{},ke({},g,ee(ee({axisType:a},i.defaultProps),{},{hide:!0,orientation:jn(gbe,"".concat(a,".").concat(p%2),null),domain:_,originalDomain:j,isCategorical:y,layout:d})))}return x},{})},_be=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Sn(d,a),m={};return h&&h.length?m=bbe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=wbe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),m},jbe=function(t){var r=Ga(t),n=fa(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:jj(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:rg(r,n)}},VC=function(t){var r=t.children,n=t.defaultShowTooltip,i=mn(r,qc),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Sbe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ya(r&&r.type);return n&&n.indexOf("Bar")>=0})},WC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ebe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=mn(f,qc),y=mn(f,Os),p=Object.keys(c).reduce(function(_,S){var E=c[S],O=E.orientation;return!E.mirror&&!E.hide?ee(ee({},_),{},ke({},O,_[O]+E.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,S){var E=o[S],O=E.orientation;return!E.mirror&&!E.hide?ee(ee({},_),{},ke({},O,jn(_,"".concat(O))+E.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=ee(ee({},x),p),v=b.bottom;m&&(b.bottom+=m.props.height||qc.defaultProps.height),y&&r&&(b=$ue(b,i,n,r));var g=u-b.left-b.right,j=d-b.top-b.bottom;return ee(ee({brushBottom:v},b),{},{width:Math.max(g,0),height:Math.max(j,0)})},Obe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},gy=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var g=v.graphicalItems,j=v.stackGroups,_=v.offset,S=v.updateId,E=v.dataStartIndex,O=v.dataEndIndex,N=b.barSize,M=b.layout,T=b.barGap,I=b.barCategoryGap,A=b.maxBarSize,P=WC(M),$=P.numericAxisName,R=P.cateAxisName,B=Sbe(g),C=[];return g.forEach(function(D,H){var G=my(b.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:O}),k=D.type.defaultProps!==void 0?ee(ee({},D.type.defaultProps),D.props):D.props,F=k.dataKey,K=k.maxBarSize,Z=k["".concat($,"Id")],se=k["".concat(R,"Id")],te={},ae=c.reduce(function(He,U){var q=v["".concat(U.axisType,"Map")],Q=k["".concat(U.axisType,"Id")];q&&q[Q]||U.axisType==="zAxis"||Vs();var ne=q[Q];return ee(ee({},He),{},ke(ke({},U.axisType,ne),"".concat(U.axisType,"Ticks"),fa(ne)))},te),Y=ae[R],de=ae["".concat(R,"Ticks")],ue=j&&j[Z]&&j[Z].hasStack&&Wue(D,j[Z].stackGroups),X=ya(D.type).indexOf("Bar")>=0,Fe=rg(Y,de),Ce=[],et=B&&Tue({barSize:N,stackGroups:j,totalSize:Obe(ae,R)});if(X){var Xe,W,ge=Le(K)?A:K,le=(Xe=(W=rg(Y,de,!0))!==null&&W!==void 0?W:ge)!==null&&Xe!==void 0?Xe:0;Ce=kue({barGap:T,barCategoryGap:I,bandSize:le!==Fe?le:Fe,sizeList:et[se],maxBarSize:ge}),le!==Fe&&(Ce=Ce.map(function(He){return ee(ee({},He),{},{position:ee(ee({},He.position),{},{offset:He.position.offset-le/2})})}))}var Ie=D&&D.type&&D.type.getComposedData;Ie&&C.push({props:ee(ee({},Ie(ee(ee({},ae),{},{displayedData:G,props:b,dataKey:F,item:D,bandSize:Fe,barPosition:Ce,offset:_,stackedData:ue,layout:M,dataStartIndex:E,dataEndIndex:O}))),{},ke(ke(ke({key:D.key||"item-".concat(H)},$,ae[$]),R,ae[R]),"animationId",S)),childIndex:kY(D,b.children),item:D})}),C},m=function(b,v){var g=b.props,j=b.dataStartIndex,_=b.dataEndIndex,S=b.updateId;if(!rP({props:g}))return null;var E=g.children,O=g.layout,N=g.stackOffset,M=g.data,T=g.reverseStackOrder,I=WC(O),A=I.numericAxisName,P=I.cateAxisName,$=Sn(E,n),R=zue(M,$,"".concat(A,"Id"),"".concat(P,"Id"),N,T),B=c.reduce(function(k,F){var K="".concat(F.axisType,"Map");return ee(ee({},k),{},ke({},K,_be(g,ee(ee({},F),{},{graphicalItems:$,stackGroups:F.axisType===A&&R,dataStartIndex:j,dataEndIndex:_}))))},{}),C=Ebe(ee(ee({},B),{},{props:g,graphicalItems:$}),v==null?void 0:v.legendBBox);Object.keys(B).forEach(function(k){B[k]=d(g,B[k],C,k.replace("Map",""),r)});var D=B["".concat(P,"Map")],H=jbe(D),G=h(g,ee(ee({},B),{},{dataStartIndex:j,dataEndIndex:_,updateId:S,graphicalItems:$,stackGroups:R,offset:C}));return ee(ee({formattedGraphicalItems:G,graphicalItems:$,offset:C,stackGroups:R},H),B)},y=function(x){function b(v){var g,j,_;return abe(this,b),_=lbe(this,b,[v]),ke(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ke(_,"accessibilityManager",new qxe),ke(_,"handleLegendBBoxUpdate",function(S){if(S){var E=_.state,O=E.dataStartIndex,N=E.dataEndIndex,M=E.updateId;_.setState(ee({legendBBox:S},m({props:_.props,dataStartIndex:O,dataEndIndex:N,updateId:M},ee(ee({},_.state),{},{legendBBox:S}))))}}),ke(_,"handleReceiveSyncEvent",function(S,E,O){if(_.props.syncId===S){if(O===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),ke(_,"handleBrushChange",function(S){var E=S.startIndex,O=S.endIndex;if(E!==_.state.dataStartIndex||O!==_.state.dataEndIndex){var N=_.state.updateId;_.setState(function(){return ee({dataStartIndex:E,dataEndIndex:O},m({props:_.props,dataStartIndex:E,dataEndIndex:O,updateId:N},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),ke(_,"handleMouseEnter",function(S){var E=_.getMouseInfo(S);if(E){var O=ee(ee({},E),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var N=_.props.onMouseEnter;Re(N)&&N(O,S)}}),ke(_,"triggeredAfterMouseMove",function(S){var E=_.getMouseInfo(S),O=E?ee(ee({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(O),_.triggerSyncEvent(O);var N=_.props.onMouseMove;Re(N)&&N(O,S)}),ke(_,"handleItemMouseEnter",function(S){_.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),ke(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ke(_,"handleMouseMove",function(S){S.persist(),_.throttleTriggeredAfterMouseMove(S)}),ke(_,"handleMouseLeave",function(S){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var O=_.props.onMouseLeave;Re(O)&&O(E,S)}),ke(_,"handleOuterEvent",function(S){var E=TY(S),O=jn(_.props,"".concat(E));if(E&&Re(O)){var N,M;/.*touch.*/i.test(E)?M=_.getMouseInfo(S.changedTouches[0]):M=_.getMouseInfo(S),O((N=M)!==null&&N!==void 0?N:{},S)}}),ke(_,"handleClick",function(S){var E=_.getMouseInfo(S);if(E){var O=ee(ee({},E),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var N=_.props.onClick;Re(N)&&N(O,S)}}),ke(_,"handleMouseDown",function(S){var E=_.props.onMouseDown;if(Re(E)){var O=_.getMouseInfo(S);E(O,S)}}),ke(_,"handleMouseUp",function(S){var E=_.props.onMouseUp;if(Re(E)){var O=_.getMouseInfo(S);E(O,S)}}),ke(_,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),ke(_,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseDown(S.changedTouches[0])}),ke(_,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&_.handleMouseUp(S.changedTouches[0])}),ke(_,"handleDoubleClick",function(S){var E=_.props.onDoubleClick;if(Re(E)){var O=_.getMouseInfo(S);E(O,S)}}),ke(_,"handleContextMenu",function(S){var E=_.props.onContextMenu;if(Re(E)){var O=_.getMouseInfo(S);E(O,S)}}),ke(_,"triggerSyncEvent",function(S){_.props.syncId!==void 0&&Hx.emit(Kx,_.props.syncId,S,_.eventEmitterSymbol)}),ke(_,"applySyncEvent",function(S){var E=_.props,O=E.layout,N=E.syncMethod,M=_.state.updateId,T=S.dataStartIndex,I=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)_.setState(ee({dataStartIndex:T,dataEndIndex:I},m({props:_.props,dataStartIndex:T,dataEndIndex:I,updateId:M},_.state)));else if(S.activeTooltipIndex!==void 0){var A=S.chartX,P=S.chartY,$=S.activeTooltipIndex,R=_.state,B=R.offset,C=R.tooltipTicks;if(!B)return;if(typeof N=="function")$=N(C,S);else if(N==="value"){$=-1;for(var D=0;D<C.length;D++)if(C[D].value===S.activeLabel){$=D;break}}var H=ee(ee({},B),{},{x:B.left,y:B.top}),G=Math.min(A,H.x+H.width),k=Math.min(P,H.y+H.height),F=C[$]&&C[$].value,K=i_(_.state,_.props.data,$),Z=C[$]?{x:O==="horizontal"?C[$].coordinate:G,y:O==="horizontal"?k:C[$].coordinate}:n3;_.setState(ee(ee({},S),{},{activeLabel:F,activeCoordinate:Z,activePayload:K,activeTooltipIndex:$}))}else _.setState(S)}),ke(_,"renderCursor",function(S){var E,O=_.state,N=O.isTooltipActive,M=O.activeCoordinate,T=O.activePayload,I=O.offset,A=O.activeTooltipIndex,P=O.tooltipAxisBandSize,$=_.getTooltipEventType(),R=(E=S.props.active)!==null&&E!==void 0?E:N,B=_.props.layout,C=S.key||"_recharts-cursor";return L.createElement(Jxe,{key:C,activeCoordinate:M,activePayload:T,activeTooltipIndex:A,chartName:r,element:S,isActive:R,layout:B,offset:I,tooltipAxisBandSize:P,tooltipEventType:$})}),ke(_,"renderPolarAxis",function(S,E,O){var N=jn(S,"type.axisType"),M=jn(_.state,"".concat(N,"Map")),T=S.type.defaultProps,I=T!==void 0?ee(ee({},T),S.props):S.props,A=M&&M[I["".concat(N,"Id")]];return w.cloneElement(S,ee(ee({},A),{},{className:Be(N,A.className),key:S.key||"".concat(E,"-").concat(O),ticks:fa(A,!0)}))}),ke(_,"renderPolarGrid",function(S){var E=S.props,O=E.radialLines,N=E.polarAngles,M=E.polarRadius,T=_.state,I=T.radiusAxisMap,A=T.angleAxisMap,P=Ga(I),$=Ga(A),R=$.cx,B=$.cy,C=$.innerRadius,D=$.outerRadius;return w.cloneElement(S,{polarAngles:Array.isArray(N)?N:fa($,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(M)?M:fa(P,!0).map(function(H){return H.coordinate}),cx:R,cy:B,innerRadius:C,outerRadius:D,key:S.key||"polar-grid",radialLines:O})}),ke(_,"renderLegend",function(){var S=_.state.formattedGraphicalItems,E=_.props,O=E.children,N=E.width,M=E.height,T=_.props.margin||{},I=N-(T.left||0)-(T.right||0),A=TL({children:O,formattedGraphicalItems:S,legendWidth:I,legendContent:u});if(!A)return null;var P=A.item,$=BC(A,Zxe);return w.cloneElement(P,ee(ee({},$),{},{chartWidth:N,chartHeight:M,margin:T,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ke(_,"renderTooltip",function(){var S,E=_.props,O=E.children,N=E.accessibilityLayer,M=mn(O,kr);if(!M)return null;var T=_.state,I=T.isTooltipActive,A=T.activeCoordinate,P=T.activePayload,$=T.activeLabel,R=T.offset,B=(S=M.props.active)!==null&&S!==void 0?S:I;return w.cloneElement(M,{viewBox:ee(ee({},R),{},{x:R.left,y:R.top}),active:B,label:$,payload:B?P:[],coordinate:A,accessibilityLayer:N})}),ke(_,"renderBrush",function(S){var E=_.props,O=E.margin,N=E.data,M=_.state,T=M.offset,I=M.dataStartIndex,A=M.dataEndIndex,P=M.updateId;return w.cloneElement(S,{key:S.key||"_recharts-brush",onChange:lp(_.handleBrushChange,S.props.onChange),data:N,x:fe(S.props.x)?S.props.x:T.left,y:fe(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(O.bottom||0),width:fe(S.props.width)?S.props.width:T.width,startIndex:I,endIndex:A,updateId:"brush-".concat(P)})}),ke(_,"renderReferenceElement",function(S,E,O){if(!S)return null;var N=_,M=N.clipPathId,T=_.state,I=T.xAxisMap,A=T.yAxisMap,P=T.offset,$=S.type.defaultProps||{},R=S.props,B=R.xAxisId,C=B===void 0?$.xAxisId:B,D=R.yAxisId,H=D===void 0?$.yAxisId:D;return w.cloneElement(S,{key:S.key||"".concat(E,"-").concat(O),xAxis:I[C],yAxis:A[H],viewBox:{x:P.left,y:P.top,width:P.width,height:P.height},clipPathId:M})}),ke(_,"renderActivePoints",function(S){var E=S.item,O=S.activePoint,N=S.basePoint,M=S.childIndex,T=S.isRange,I=[],A=E.props.key,P=E.item.type.defaultProps!==void 0?ee(ee({},E.item.type.defaultProps),E.item.props):E.item.props,$=P.activeDot,R=P.dataKey,B=ee(ee({index:M,dataKey:R,cx:O.x,cy:O.y,r:4,fill:Yj(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ne($,!1)),Nm($));return I.push(b.renderActiveDot($,B,"".concat(A,"-activePoint-").concat(M))),N?I.push(b.renderActiveDot($,ee(ee({},B),{},{cx:N.x,cy:N.y}),"".concat(A,"-basePoint-").concat(M))):T&&I.push(null),I}),ke(_,"renderGraphicChild",function(S,E,O){var N=_.filterFormatItem(S,E,O);if(!N)return null;var M=_.getTooltipEventType(),T=_.state,I=T.isTooltipActive,A=T.tooltipAxis,P=T.activeTooltipIndex,$=T.activeLabel,R=_.props.children,B=mn(R,kr),C=N.props,D=C.points,H=C.isRange,G=C.baseLine,k=N.item.type.defaultProps!==void 0?ee(ee({},N.item.type.defaultProps),N.item.props):N.item.props,F=k.activeDot,K=k.hide,Z=k.activeBar,se=k.activeShape,te=!!(!K&&I&&B&&(F||Z||se)),ae={};M!=="axis"&&B&&B.props.trigger==="click"?ae={onClick:lp(_.handleItemMouseEnter,S.props.onClick)}:M!=="axis"&&(ae={onMouseLeave:lp(_.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:lp(_.handleItemMouseEnter,S.props.onMouseEnter)});var Y=w.cloneElement(S,ee(ee({},N.props),ae));function de(U){return typeof A.dataKey=="function"?A.dataKey(U.payload):null}if(te)if(P>=0){var ue,X;if(A.dataKey&&!A.allowDuplicatedCategory){var Fe=typeof A.dataKey=="function"?de:"payload.".concat(A.dataKey.toString());ue=Pm(D,Fe,$),X=H&&G&&Pm(G,Fe,$)}else ue=D==null?void 0:D[P],X=H&&G&&G[P];if(se||Z){var Ce=S.props.activeIndex!==void 0?S.props.activeIndex:P;return[w.cloneElement(S,ee(ee(ee({},N.props),ae),{},{activeIndex:Ce})),null,null]}if(!Le(ue))return[Y].concat(ru(_.renderActivePoints({item:N,activePoint:ue,basePoint:X,childIndex:P,isRange:H})))}else{var et,Xe=(et=_.getItemByXY(_.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:Y},W=Xe.graphicalItem,ge=W.item,le=ge===void 0?S:ge,Ie=W.childIndex,He=ee(ee(ee({},N.props),ae),{},{activeIndex:Ie});return[w.cloneElement(le,He),null,null]}return H?[Y,null,null]:[Y,null]}),ke(_,"renderCustomized",function(S,E,O){return w.cloneElement(S,ee(ee({key:"recharts-customized-".concat(O)},_.props),_.state))}),ke(_,"renderMap",{CartesianGrid:{handler:hp,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:hp},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:hp},YAxis:{handler:hp},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((g=v.id)!==null&&g!==void 0?g:el("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=CD(_.triggeredAfterMouseMove,(j=v.throttleDelay)!==null&&j!==void 0?j:1e3/60),_.state={},_}return dbe(b,x),sbe(b,[{key:"componentDidMount",value:function(){var g,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var g=this.props,j=g.children,_=g.data,S=g.height,E=g.layout,O=mn(j,kr);if(O){var N=O.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,T=i_(this.state,_,N,M),I=this.state.tooltipTicks[N].coordinate,A=(this.state.offset.top+S)/2,P=E==="horizontal",$=P?{x:I,y:A}:{y:I,x:A},R=this.state.formattedGraphicalItems.find(function(C){var D=C.item;return D.type.name==="Scatter"});R&&($=ee(ee({},$),R.props.points[N].tooltipPosition),T=R.props.points[N].tooltipPayload);var B={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:M,activePayload:T,activeCoordinate:$};this.setState(B),this.renderCursor(O),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(g,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==g.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==g.margin){var _,S;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(g){k0([mn(g.children,kr)],[mn(this.props.children,kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var g=mn(this.props.children,kr);if(g&&typeof g.props.shared=="boolean"){var j=g.props.shared?"axis":"item";return s.indexOf(j)>=0?j:a}return a}},{key:"getMouseInfo",value:function(g){if(!this.container)return null;var j=this.container,_=j.getBoundingClientRect(),S=ioe(_),E={chartX:Math.round(g.pageX-S.left),chartY:Math.round(g.pageY-S.top)},O=_.width/j.offsetWidth||1,N=this.inRange(E.chartX,E.chartY,O);if(!N)return null;var M=this.state,T=M.xAxisMap,I=M.yAxisMap,A=this.getTooltipEventType(),P=zC(this.state,this.props.data,this.props.layout,N);if(A!=="axis"&&T&&I){var $=Ga(T).scale,R=Ga(I).scale,B=$&&$.invert?$.invert(E.chartX):null,C=R&&R.invert?R.invert(E.chartY):null;return ee(ee({},E),{},{xValue:B,yValue:C},P)}return P?ee(ee({},E),P):null}},{key:"inRange",value:function(g,j){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,E=g/_,O=j/_;if(S==="horizontal"||S==="vertical"){var N=this.state.offset,M=E>=N.left&&E<=N.left+N.width&&O>=N.top&&O<=N.top+N.height;return M?{x:E,y:O}:null}var T=this.state,I=T.angleAxisMap,A=T.radiusAxisMap;if(I&&A){var P=Ga(I);return dA({x:E,y:O},P)}return null}},{key:"parseEventsOfWrapper",value:function(){var g=this.props.children,j=this.getTooltipEventType(),_=mn(g,kr),S={};_&&j==="axis"&&(_.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Nm(this.props,this.handleOuterEvent);return ee(ee({},E),S)}},{key:"addListener",value:function(){Hx.on(Kx,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Hx.removeListener(Kx,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(g,j,_){for(var S=this.state.formattedGraphicalItems,E=0,O=S.length;E<O;E++){var N=S[E];if(N.item===g||N.props.key===g.key||j===ya(N.item.type)&&_===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var g=this.clipPathId,j=this.state.offset,_=j.left,S=j.top,E=j.height,O=j.width;return L.createElement("defs",null,L.createElement("clipPath",{id:g},L.createElement("rect",{x:_,y:S,height:E,width:O})))}},{key:"getXScales",value:function(){var g=this.state.xAxisMap;return g?Object.entries(g).reduce(function(j,_){var S=FC(_,2),E=S[0],O=S[1];return ee(ee({},j),{},ke({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var g=this.state.yAxisMap;return g?Object.entries(g).reduce(function(j,_){var S=FC(_,2),E=S[0],O=S[1];return ee(ee({},j),{},ke({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(g){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[g])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(g){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[g])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(g){var j=this.state,_=j.formattedGraphicalItems,S=j.activeItem;if(_&&_.length)for(var E=0,O=_.length;E<O;E++){var N=_[E],M=N.props,T=N.item,I=T.type.defaultProps!==void 0?ee(ee({},T.type.defaultProps),T.props):T.props,A=ya(T.type);if(A==="Bar"){var P=(M.data||[]).find(function(C){return Bhe(g,C)});if(P)return{graphicalItem:N,payload:P}}else if(A==="RadialBar"){var $=(M.data||[]).find(function(C){return dA(g,C)});if($)return{graphicalItem:N,payload:$}}else if(ly(N,S)||cy(N,S)||Tf(N,S)){var R=Nme({graphicalItem:N,activeTooltipItem:S,itemData:I.data}),B=I.activeIndex===void 0?R:I.activeIndex;return{graphicalItem:ee(ee({},N),{},{childIndex:B}),payload:Tf(N,S)?I.data[R]:N.props.data[R]}}}return null}},{key:"render",value:function(){var g=this;if(!rP(this))return null;var j=this.props,_=j.children,S=j.className,E=j.width,O=j.height,N=j.style,M=j.compact,T=j.title,I=j.desc,A=BC(j,ebe),P=Ne(A,!1);if(M)return L.createElement(xC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(R0,zl({},P,{width:E,height:O,title:T,desc:I}),this.renderClipPath(),iP(_,this.renderMap)));if(this.props.accessibilityLayer){var $,R;P.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,P.role=(R=this.props.role)!==null&&R!==void 0?R:"application",P.onKeyDown=function(C){g.accessibilityManager.keyboardEvent(C)},P.onFocus=function(){g.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return L.createElement(xC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",zl({className:Be("recharts-wrapper",S),style:ee({position:"relative",cursor:"default",width:E,height:O},N)},B,{ref:function(D){g.container=D}}),L.createElement(R0,zl({},P,{width:E,height:O,title:T,desc:I,style:vbe}),this.renderClipPath(),iP(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);ke(y,"displayName",r),ke(y,"defaultProps",ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ke(y,"getDerivedStateFromProps",function(x,b){var v=x.dataKey,g=x.data,j=x.children,_=x.width,S=x.height,E=x.layout,O=x.stackOffset,N=x.margin,M=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var I=VC(x);return ee(ee(ee({},I),{},{updateId:0},m(ee(ee({props:x},I),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:g,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:O,prevMargin:N,prevChildren:j})}if(v!==b.prevDataKey||g!==b.prevData||_!==b.prevWidth||S!==b.prevHeight||E!==b.prevLayout||O!==b.prevStackOffset||!ec(N,b.prevMargin)){var A=VC(x),P={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},$=ee(ee({},zC(b,g,E)),{},{updateId:b.updateId+1}),R=ee(ee(ee({},A),P),$);return ee(ee(ee({},R),m(ee({props:x},R),b)),{},{prevDataKey:v,prevData:g,prevWidth:_,prevHeight:S,prevLayout:E,prevStackOffset:O,prevMargin:N,prevChildren:j})}if(!k0(j,b.prevChildren)){var B,C,D,H,G=mn(j,qc),k=G&&(B=(C=G.props)===null||C===void 0?void 0:C.startIndex)!==null&&B!==void 0?B:M,F=G&&(D=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&D!==void 0?D:T,K=k!==M||F!==T,Z=!Le(g),se=Z&&!K?b.updateId:b.updateId+1;return ee(ee({updateId:se},m(ee(ee({props:x},b),{},{updateId:se,dataStartIndex:k,dataEndIndex:F}),b)),{},{prevChildren:j,dataStartIndex:k,dataEndIndex:F})}return null}),ke(y,"renderActiveDot",function(x,b,v){var g;return w.isValidElement(x)?g=w.cloneElement(x,b):Re(x)?g=x(b):g=L.createElement(yh,b),L.createElement(Ge,{className:"recharts-active-dot",key:v},g)});var p=w.forwardRef(function(b,v){return L.createElement(y,zl({},b,{ref:v}))});return p.displayName=y.displayName,p},Pbe=gy({chartName:"LineChart",GraphicalChild:xh,axisComponents:[{axisType:"xAxis",AxisComp:Ui},{axisType:"yAxis",AxisComp:zi}],formatAxisMap:Qj}),a_=gy({chartName:"BarChart",GraphicalChild:Bn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ui},{axisType:"yAxis",AxisComp:zi}],formatAxisMap:Qj}),a3=gy({chartName:"PieChart",GraphicalChild:Qi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sy},{axisType:"radiusAxis",AxisComp:ay}],formatAxisMap:ede,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Nbe=gy({chartName:"AreaChart",GraphicalChild:Fo,axisComponents:[{axisType:"xAxis",AxisComp:Ui},{axisType:"yAxis",AxisComp:zi}],formatAxisMap:Qj});const Abe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class sS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Cbe extends sS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qC extends sS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class HC extends sS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var o_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(o_||(o_={}));class Tbe{constructor(t,{headers:r={},customFetch:n,region:i=o_.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Abe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return je(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const y=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:p,signal:x}).catch(_=>{throw new Cbe(_)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new qC(b);if(!b.ok)throw new HC(b);let g=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),j;return g==="application/json"?j=yield b.json():g==="application/octet-stream"||g==="application/pdf"?j=yield b.blob():g==="text/event-stream"?j=b:g==="multipart/form-data"?j=yield b.formData():j=yield b.text(),{data:j,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof HC||s instanceof qC?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var Vr={};const Pu=LU(yH);var pp={},mp={},gp={},vp={},yp={},xp={},KC;function o3(){if(KC)return xp;KC=1,Object.defineProperty(xp,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xp.default=e,xp}var GC;function s3(){if(GC)return yp;GC=1,Object.defineProperty(yp,"__esModule",{value:!0});const t=Pu.__importDefault(o3());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,y=null,p=null,x=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?y=_:y=JSON.parse(_))}const g=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),j=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&j&&j.length>1&&(p=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(m={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,p=null,x=406,b="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const g=await c.text();try{m=JSON.parse(g),Array.isArray(m)&&c.status===404&&(y=[],m=null,x=200,b="OK")}catch{c.status===404&&g===""?(x=204,b="No Content"):m={message:g}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,x=200,b="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:y,count:p,status:x,statusText:b}});return this.shouldThrowOnError||(s=s.catch(c=>{var u,d,f,h,m,y;let p="";const x=c==null?void 0:c.cause;if(x){const b=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",v=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";p=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${b}`,v&&(p+=` (${v})`),x!=null&&x.stack&&(p+=`
${x.stack}`)}else p=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(y=c==null?void 0:c.name)!==null&&y!==void 0?y:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return yp.default=r,yp}var YC;function l3(){if(YC)return vp;YC=1,Object.defineProperty(vp,"__esModule",{value:!0});const t=Pu.__importDefault(s3());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return vp.default=r,vp}var XC;function lS(){if(XC)return gp;XC=1,Object.defineProperty(gp,"__esModule",{value:!0});const t=Pu.__importDefault(l3()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return gp.default=n,gp}var QC;function c3(){if(QC)return mp;QC=1,Object.defineProperty(mp,"__esModule",{value:!0});const t=Pu.__importDefault(lS());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return mp.default=r,mp}var JC;function kbe(){if(JC)return pp;JC=1,Object.defineProperty(pp,"__esModule",{value:!0});const e=Pu,t=e.__importDefault(c3()),r=e.__importDefault(lS());class n{constructor(a,{headers:o={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{h.searchParams.append(p,x)})):(f="POST",m=o);const y=new Headers(this.headers);return u&&y.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:y,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return pp.default=n,pp}Object.defineProperty(Vr,"__esModule",{value:!0});var u3=Vr.PostgrestError=b3=Vr.PostgrestBuilder=y3=Vr.PostgrestTransformBuilder=g3=Vr.PostgrestFilterBuilder=p3=Vr.PostgrestQueryBuilder=f3=Vr.PostgrestClient=void 0;const Nu=Pu,d3=Nu.__importDefault(kbe());var f3=Vr.PostgrestClient=d3.default;const h3=Nu.__importDefault(c3());var p3=Vr.PostgrestQueryBuilder=h3.default;const m3=Nu.__importDefault(lS());var g3=Vr.PostgrestFilterBuilder=m3.default;const v3=Nu.__importDefault(l3());var y3=Vr.PostgrestTransformBuilder=v3.default;const x3=Nu.__importDefault(s3());var b3=Vr.PostgrestBuilder=x3.default;const w3=Nu.__importDefault(o3());u3=Vr.PostgrestError=w3.default;var _3=Vr.default={PostgrestClient:d3.default,PostgrestQueryBuilder:h3.default,PostgrestFilterBuilder:m3.default,PostgrestTransformBuilder:v3.default,PostgrestBuilder:x3.default,PostgrestError:w3.default};const $be=XT({__proto__:null,get PostgrestBuilder(){return b3},get PostgrestClient(){return f3},get PostgrestError(){return u3},get PostgrestFilterBuilder(){return g3},get PostgrestQueryBuilder(){return p3},get PostgrestTransformBuilder(){return y3},default:_3},[Vr]),{PostgrestClient:Rbe,PostgrestQueryBuilder:vEe,PostgrestFilterBuilder:yEe,PostgrestTransformBuilder:xEe,PostgrestBuilder:bEe,PostgrestError:wEe}=_3||$be;class Ibe{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Mbe="2.86.0",Dbe=`realtime-js/${Mbe}`,j3="1.0.0",Lbe="2.0.0",ZC=j3,s_=1e4,Fbe=1e3,Bbe=100;var rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rs||(rs={}));var tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tr||(tr={}));var ii;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ii||(ii={}));var l_;(function(e){e.websocket="websocket"})(l_||(l_={}));var ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ns||(ns={}));class Ube{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let y=new DataView(m),p=0;y.setUint8(p++,this.KINDS.userBroadcastPush),y.setUint8(p++,c.length),y.setUint8(p++,s.length),y.setUint8(p++,o.length),y.setUint8(p++,u.length),y.setUint8(p++,f.length),y.setUint8(p++,r),Array.from(c,b=>y.setUint8(p++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,c]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,y={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class S3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ht||(ht={}));const eT=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=zbe(o,e,t,i),a),{}):{}},zbe=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?E3(a,o):c_(o)},E3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Hbe(t,r)}switch(e){case ht.bool:return Vbe(t);case ht.float4:case ht.float8:case ht.int2:case ht.int4:case ht.int8:case ht.numeric:case ht.oid:return Wbe(t);case ht.json:case ht.jsonb:return qbe(t);case ht.timestamp:return Kbe(t);case ht.abstime:case ht.date:case ht.daterange:case ht.int4range:case ht.int8range:case ht.money:case ht.reltime:case ht.text:case ht.time:case ht.timestamptz:case ht.timetz:case ht.tsrange:case ht.tstzrange:return c_(t);default:return c_(t)}},c_=e=>e,Vbe=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Wbe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qbe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Hbe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>E3(t,s))}return e},Kbe=e=>typeof e=="string"?e.replace(" ","T"):e,O3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Yx{constructor(t,r,n={},i=s_){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var tT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(tT||(tT={}));class Pd{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Pd.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Pd.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Pd.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),y=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);y.length>0&&(s[u]=y),p.length>0&&(c[u]=p)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(rT||(rT={}));var Nd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Nd||(Nd={}));var aa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(aa||(aa={}));class cS{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yx(this,ii.join,this.params,this.timeout),this.rejoinTimer=new S3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ii.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Pd(this),this.broadcastEndpointURL=O3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tr.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Nd.PRESENCE]&&this.bindings[Nd.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(aa.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(aa.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket.setAuth(),m===void 0){t==null||t(aa.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(y=p==null?void 0:p.length)!==null&&y!==void 0?y:0,b=[];for(let v=0;v<x;v++){const g=p[v],{filter:{event:j,schema:_,table:S,filter:E}}=g,O=m&&m[v];if(O&&O.event===j&&O.schema===_&&O.table===S&&O.filter===E)b.push(Object.assign(Object.assign({},g),{id:O.id}));else{this.unsubscribe(),this.state=tr.errored,t==null||t(aa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(aa.SUBSCRIBED);return}}).receive("error",m=>{this.state=tr.errored,t==null||t(aa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(aa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tr.joined&&t===Nd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ii.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yx(this,ii.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yx(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Bbe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=ii;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,p,x;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var y,p,x,b,v,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const j=m.id,_=(y=m.filter)===null||y===void 0?void 0:y.event;return j&&((p=r.ids)===null||p===void 0?void 0:p.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const j=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:p,table:x,commit_timestamp:b,type:v,errors:g}=y;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(y))}m.callback(h,n)})}_isClosed(){return this.state===tr.closed}_isJoined(){return this.state===tr.joined}_isJoining(){return this.state===tr.joining}_isLeaving(){return this.state===tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&cS.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ii.close,{},t)}_onError(t){this._on(ii.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=eT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=eT(t.columns,t.old_record)),r}}const Xx=()=>{},bp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Gbe=[1e3,2e3,5e3,1e4],Ybe=1e4,Xbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qbe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s_,this.transport=null,this.heartbeatIntervalMs=bp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xx,this.ref=0,this.reconnectTimer=null,this.vsn=ZC,this.logger=Xx,this.conn=null,this.sendBuffer=[],this.serializer=new Ube,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${l_.websocket}`,this.httpEndpoint=O3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ibe.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return ns.Connecting;case rs.open:return ns.Open;case rs.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new cS(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Fbe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ii.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Xbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Dbe};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ii.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new S3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:s_,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:bp.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Xx,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:ZC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>Gbe[y-1]||Ybe,this.vsn){case j3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(y,p)=>p(JSON.stringify(y)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(y,p)=>p(JSON.parse(y));break;case Lbe:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class vy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jbe extends vy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class u_ extends vy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const uS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Zbe=()=>Response,d_=e=>{if(Array.isArray(e))return e.map(r=>d_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=d_(n)}),t},e0e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},t0e=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),Qx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},r0e=(e,t,r)=>je(void 0,void 0,void 0,function*(){const n=yield Zbe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new Jbe(Qx(i),a,o))}).catch(i=>{t(new u_(Qx(i),i))}):t(new u_(Qx(e),e))}),n0e=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(e0e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function bh(e,t,r,n,i,a){return je(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,n0e(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>r0e(c,s,n))})})}function Lf(e,t,r,n){return je(this,void 0,void 0,function*(){return bh(e,"GET",t,r,n)})}function Zn(e,t,r,n,i){return je(this,void 0,void 0,function*(){return bh(e,"POST",t,n,i,r)})}function f_(e,t,r,n,i){return je(this,void 0,void 0,function*(){return bh(e,"PUT",t,n,i,r)})}function i0e(e,t,r,n){return je(this,void 0,void 0,function*(){return bh(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function dS(e,t,r,n,i){return je(this,void 0,void 0,function*(){return bh(e,"DELETE",t,n,i,r)})}class a0e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return je(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}var P3;class o0e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[P3]="BlobDownloadBuilder",this.promise=null}asStream(){return new a0e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return je(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(kt(t))return{data:null,error:t};throw t}})}}P3=Symbol.toStringTag;const s0e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class l0e{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=uS(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return je(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},nT),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?f_:Zn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(kt(a))return{data:null,error:a};throw a}})}upload(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return je(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:nT.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield f_(this.fetch,s.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(kt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return je(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Zn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new vy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}update(t,r,n){return je(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return je(this,void 0,void 0,function*(){try{return{data:{path:(yield Zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return je(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Zn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return je(this,void 0,void 0,function*(){try{const i=yield Zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),c=()=>Lf(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new o0e(c,this.shouldThrowOnError)}info(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Lf(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:d_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}exists(t){return je(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield i0e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n)&&n instanceof u_){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return je(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}list(t,r,n){return je(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},s0e),r),{prefix:t||""});return{data:yield Zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}listV2(t,r){return je(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Zn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const N3="2.86.0",A3={"X-Client-Info":`storage-js/${N3}`};class c0e{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A3),r),this.fetch=uS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return je(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield Lf(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}getBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Lf(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}createBucket(t){return je(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(kt(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return je(this,void 0,void 0,function*(){try{return{data:yield f_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Ff=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function u0e(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function d0e(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function f0e(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=u0e(e.baseUrl,n,i),c=await d0e(e.auth),u=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,y=m==null?void 0:m.error;throw new Ff((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function wp(e){return e.join("")}var h0e=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:wp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${wp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${wp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${wp(e.namespace)}`}),!0}catch(t){if(t instanceof Ff&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Ff&&r.status===409)return;throw r}}};function pl(e){return e.join("")}var p0e=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Ff&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Ff&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},m0e=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=f0e({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new h0e(this.client,t),this.tableOps=new p0e(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class g0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},A3),r),this.fetch=uS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield Zn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}listBuckets(t){return je(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Lf(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield dS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(kt(r))return{data:null,error:r};throw r}})}from(t){if(!t0e(t))throw new vy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new m0e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>je(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const fS={"X-Client-Info":`storage-js/${N3}`,"Content-Type":"application/json"};class C3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function yn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Jx extends C3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class v0e extends C3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var iT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(iT||(iT={}));const hS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),y0e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},aT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),x0e=(e,t,r)=>je(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Jx(aT(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Jx(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Jx(s,i,o))}}else t(new v0e(aT(e),e))}),b0e=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(y0e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function w0e(e,t,r,n,i,a){return je(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,b0e(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>x0e(c,s,n))})})}function xn(e,t,r,n,i){return je(this,void 0,void 0,function*(){return w0e(e,"POST",t,n,i,r)})}class _0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fS),r),this.fetch=hS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return je(this,void 0,void 0,function*(){try{return{data:(yield xn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return je(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}})}listIndexes(t){return je(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return je(this,void 0,void 0,function*(){try{return{data:(yield xn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(yn(n))return{data:null,error:n};throw n}})}}class j0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fS),r),this.fetch=hS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return je(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield xn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}getVectors(t){return je(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}listVectors(t){return je(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield xn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}queryVectors(t){return je(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return je(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield xn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}}class S0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fS),r),this.fetch=hS(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return je(this,void 0,void 0,function*(){try{return{data:(yield xn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}getBucket(t){return je(this,void 0,void 0,function*(){try{return{data:yield xn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}listBuckets(){return je(this,arguments,void 0,function*(t={}){try{return{data:yield xn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return je(this,void 0,void 0,function*(){try{return{data:(yield xn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(yn(r))return{data:null,error:r};throw r}})}}class E0e extends S0e{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new O0e(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return je(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return je(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return je(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return je(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class O0e extends _0e{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return je(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return je(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return je(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return je(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new P0e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class P0e extends j0e{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return je(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return je(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return je(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return je(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return je(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class N0e extends c0e{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new l0e(this.url,this.headers,t,this.fetch)}get vectors(){return new E0e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new g0e(this.url+"/iceberg",this.headers,this.fetch)}}const A0e="2.86.0";let ad="";typeof Deno<"u"?ad="deno":typeof document<"u"?ad="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ad="react-native":ad="node";const C0e={"X-Client-Info":`supabase-js-${ad}/${A0e}`},T0e={headers:C0e},k0e={schema:"public"},$0e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R0e={},I0e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M0e=()=>Headers,D0e=(e,t,r)=>{const n=I0e(r),i=M0e();return async(a,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function L0e(e){return e.endsWith("/")?e:e+"/"}function F0e(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function B0e(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(L0e(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const T3="2.86.0",_l=30*1e3,h_=3,Zx=h_*_l,U0e="http://localhost:9999",z0e="supabase.auth.token",V0e={"X-Client-Info":`gotrue-js/${T3}`},p_="X-Supabase-Api-Version",k3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},W0e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,q0e=10*60*1e3;class Bf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class H0e extends Bf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function K0e(e){return Pe(e)&&e.name==="AuthApiError"}class is extends Bf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bo extends Bf{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class dn extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G0e(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class ml extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _p extends Bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jp extends Bo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Y0e(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class oT extends Bo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class m_ extends Bo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function eb(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class sT extends Bo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class g_ extends Bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ag="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lT=` 	
\r=`.split(""),X0e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<lT.length;t+=1)e[lT[t].charCodeAt(0)]=-2;for(let t=0;t<Ag.length;t+=1)e[Ag[t].charCodeAt(0)]=t;return e})();function cT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ag[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ag[n]),t.queuedBits-=6}}function $3(e,t,r){const n=X0e[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function uT(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Z0e(o,n,r)};for(let o=0;o<e.length;o+=1)$3(e.charCodeAt(o),i,a);return t.join("")}function Q0e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function J0e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Q0e(n,t)}}function Z0e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ic(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function ewe(e){const t=[];return J0e(e,r=>t.push(r)),new Uint8Array(t)}function ps(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>cT(i,r,n)),cT(null,r,n),t.join("")}function twe(e){return Math.round(Date.now()/1e3)+e}function rwe(){return Symbol("auth-callback")}const br=()=>typeof window<"u"&&typeof document<"u",Ko={tested:!1,writable:!1},R3=()=>{if(!br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ko.tested)return Ko.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ko.tested=!0,Ko.writable=!0}catch{Ko.tested=!0,Ko.writable=!1}return Ko.writable};function nwe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const I3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iwe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Go=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Fa=async(e,t)=>{await e.removeItem(t)};class yy{constructor(){this.promise=new yy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yy.promiseConstructor=Promise;function tb(e){const t=e.split(".");if(t.length!==3)throw new g_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!W0e.test(t[n]))throw new g_("JWT not in base64url format");return{header:JSON.parse(uT(t[0])),payload:JSON.parse(uT(t[1])),signature:ic(t[2]),raw:{header:t[0],payload:t[1]}}}async function awe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function owe(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function swe(e){return("0"+e.toString(16)).substr(-2)}function lwe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,swe).join("")}async function cwe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function uwe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await cwe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gl(e,t,r=!1){const n=lwe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await jl(e,`${t}-code-verifier`,i);const a=await uwe(n);return[a,n===a?"plain":"s256"]}const dwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function fwe(e){const t=e.headers.get(p_);if(!t||!t.match(dwe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function hwe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function pwe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mwe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vl(e){if(!mwe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rb(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gwe(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function dT(e){return JSON.parse(JSON.stringify(e))}const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vwe=[502,503,504];async function fT(e){var t;if(!iwe(e))throw new m_(es(e),0);if(vwe.includes(e.status))throw new m_(es(e),e.status);let r;try{r=await e.json()}catch(a){throw new is(es(a),a)}let n;const i=fwe(e);if(i&&i.getTime()>=k3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new sT(es(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new dn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new sT(es(r),e.status,r.weak_password.reasons);throw new H0e(es(r),e.status||500,n)}const ywe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function $e(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[p_]||(a[p_]=k3["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await xwe(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function xwe(e,t,r,n,i,a){const o=ywe(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new m_(es(c),0)}if(s.ok||await fT(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await fT(c)}}function Xn(e){var t;let r=null;_we(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=twe(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function hT(e){const t=Xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ya(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bwe(e){return{data:e,error:null}}function wwe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function pT(e){return e}function _we(e){return e.access_token&&e.refresh_token&&e.expires_in}const nb=["global","local","others"];class jwe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=I3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=nb[0]){if(nb.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${nb.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ya})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ro(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:wwe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ya})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vl(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ya})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vl(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ya})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vl(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ya})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vl(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vl(t.userId),vl(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:pT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(y=>{const p=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function mT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const yl={debug:!!(globalThis&&R3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class M3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Swe extends M3{}async function Ewe(e,t,r){yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),yl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw yl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Swe(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(yl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Owe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function D3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Pwe(e){return parseInt(e,16)}function Nwe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Awe(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=D3(e.address),y=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${y} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);v+=`
- ${g}`}b+=v}return`${x}
${b}`}class Kt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Cg extends Kt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Cwe({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(L3(o)){if(a.rp.id!==o)return new Kt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Twe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(L3(n)){if(r.rpId!==n)return new Kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kwe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $we=new kwe;function Rwe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ro(e,["challenge","user","excludeCredentials"]),a=ic(t).buffer,o=Object.assign(Object.assign({},r),{id:ic(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ic(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function Iwe(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ro(e,["challenge","allowCredentials"]),i=ic(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:ic(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function Mwe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Dwe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ps(new Uint8Array(i.authenticatorData)),clientDataJSON:ps(new Uint8Array(i.clientDataJSON)),signature:ps(new Uint8Array(i.signature)),userHandle:i.userHandle?ps(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function L3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function gT(){var e,t;return!!(br()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Lwe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cg("Browser returned unexpected credential type",t)}:{data:null,error:new Cg("Empty credential response",t)}}catch(t){return{data:null,error:Cwe({error:t,options:e})}}}async function Fwe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cg("Browser returned unexpected credential type",t)}:{data:null,error:new Cg("Empty credential response",t)}}catch(t){return{data:null,error:Twe({error:t,options:e})}}}const Bwe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Uwe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tg(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=Tg(s,o):n[a]=Tg(o)}else n[a]=o}return n}function zwe(e,t){return Tg(Bwe,e,t||{})}function Vwe(e,t){return Tg(Uwe,e,t||{})}class Wwe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=i??$we.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=zwe(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Lwe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Vwe(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Fwe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Bf("rpId is required for WebAuthn authentication")};try{if(!gT())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new Bf("rpId is required for WebAuthn registration")};try{if(!gT())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in register",o)}}}}Owe();const qwe={url:U0e,storageKey:z0e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:V0e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function vT(e,t,r){return await r()}const xl={};class Uf{get jwks(){var t,r;return(r=(t=xl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){xl[this.storageKey]=Object.assign(Object.assign({},xl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=xl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){xl[this.storageKey]=Object.assign(Object.assign({},xl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},qwe),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Uf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Uf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&br()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new jwe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=I3(a.fetch),this.lock=a.lock||vT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:br()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ewe:this.lock=vT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wwe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:R3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=mT(this.memoryStorage)),br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${T3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(br()&&(r=nwe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),br()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Y0e(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new is("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await gl(this.storage,this.storageKey)),a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:y},xform:Xn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Xn})}else throw new _p("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:hT})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:hT})}else throw new _p("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new ml;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,c,u,d,f,h;let m,y;if("message"in t)m=t.message,y=t.signature;else{const{chain:p,wallet:x,statement:b,options:v}=t;let g;if(br())if(typeof x=="object")g=x;else{const N=window;if("ethereum"in N&&typeof N.ethereum=="object"&&"request"in N.ethereum&&typeof N.ethereum.request=="function")g=N.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=x}const j=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),_=await g.request({method:"eth_requestAccounts"}).then(N=>N).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=D3(_[0]);let E=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const N=await g.request({method:"eth_chainId"});E=Pwe(N)}const O={domain:j.host,address:S,statement:b,uri:j.href,version:"1",chainId:E,nonce:(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Awe(O),y=await g.request({method:"personal_sign",params:[Nwe(m),S]})}try{const{data:p,error:x}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Xn});if(x)throw x;if(!p||!p.session||!p.user){const b=new ml;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Pe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,i,a,o,s,c,u,d,f,h,m;let y,p;if("message"in t)y=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:v,options:g}=t;let j;if(br())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),v?{statement:v}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),p=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ps(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Xn});if(b)throw b;if(!x||!x.session||!x.user){const v=new ml;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Go(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Xn});if(await Fa(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new ml;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Xn}),{data:c,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new ml;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await gl(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new _p("You must provide either an email or phone number.")}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Xn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await gl(this.storage,this.storageKey));const u=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:bwe});return!((a=u.data)===null||a===void 0)&&a.url&&br()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(Pe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new dn;const{error:i}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new _p("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Go(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=rb()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=gwe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ya}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ya})})}catch(r){if(Pe(r))return G0e(r)&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new dn;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await gl(this.storage,this.storageKey));const{data:u,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Ya});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new dn;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=tb(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new dn;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!br())throw new jp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new oT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new oT("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new jp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=_l&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:p,error:x}=await this._getUser(a);if(x)throw x;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Go(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(K0e(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=rwe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gl(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return br()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ml}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await owe(async i=>(i>0&&await awe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&eb(a)&&Date.now()+o-n<_l})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),br()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Go(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Go(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await jl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:rb()}else if(i&&!i.user&&!i.user){const o=await Go(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Fa(this.storage,this.storageKey+"-user"),await jl(this.storage,this.storageKey,i)):i.user=rb()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Zx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),eb(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new yy;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new dn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Pe(a)){const o={data:null,error:a};return eb(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await jl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=dT(i);await jl(this.storage,this.storageKey,a)}else{const i=dT(r);await jl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Fa(this.storage,this.storageKey),await Fa(this.storage,this.storageKey+"-code-verifier"),await Fa(this.storage,this.storageKey+"-user"),this.userStorage&&await Fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_l);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/_l);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_l}ms, refresh threshold is ${h_} ticks`),i<=h_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof M3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await gl(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Mwe(t.webauthn.credential_response):Dwe(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Rwe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:Iwe(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tb(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new dn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new dn});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&br()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new dn});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&br()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new dn})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new dn})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+q0e>i)return n;const{data:a,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});n=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=tb(n);r!=null&&r.allowExpired||hwe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const d=pwe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,ewe(`${s}.${c}`)))throw new g_("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Uf.nextInstanceID={};const Hwe=Uf;class Kwe extends Hwe{constructor(t){super(t)}}class Gwe{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=B0e(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:k0e,realtime:R0e,auth:Object.assign(Object.assign({},$0e),{storageKey:c}),global:T0e},d=F0e(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=D0e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Rbe(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new N0e(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Tbe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:c,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kwe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Qbe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ywe=(e,t,r)=>new Gwe(e,t,r);function Xwe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Xwe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Qwe="https://svpprgzklqwsnevejihu.supabase.co",Jwe="sb_publishable_kfq79EwWoGaQd13OxcHO4Q_pLQutDkB",J=Ywe(Qwe,Jwe),yT=Object.freeze(Object.defineProperty({__proto__:null,supabase:J},Symbol.toStringTag,{value:"Module"}));function bl({title:e,value:t,icon:r,trend:n,trendValue:i,loading:a}){return a?l.jsx(me,{children:l.jsxs(ve,{className:"p-6",children:[l.jsx(Ut,{className:"h-4 w-24 mb-3"}),l.jsx(Ut,{className:"h-8 w-32 mb-2"}),l.jsx(Ut,{className:"h-3 w-20"})]})}):l.jsx(me,{className:"hover-elevate transition-all",children:l.jsx(ve,{className:"p-4 sm:p-6",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground truncate",children:e}),l.jsx("p",{title:t,className:"text-lg md:text-2xl lg:text-3xl font-bold mt-1 truncate","data-testid":`text-stat-${e.toLowerCase().replace(/\s+/g,"-")}`,children:t}),n&&i&&l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n==="up"?l.jsx(So,{className:"h-3 w-3 text-green-500 flex-shrink-0"}):l.jsx(Qd,{className:"h-3 w-3 text-red-500 flex-shrink-0"}),l.jsx("span",{className:`text-xs font-medium ${n==="up"?"text-green-500":"text-red-500"}`,children:i}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"vs mes anterior"})]})]}),l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}function Zwe({payment:e,clientName:t}){const r={pagado:"bg-green-500/10 text-green-600 dark:text-green-400",pendiente:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",vencido:"bg-red-500/10 text-red-600 dark:text-red-400"};return l.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-border last:border-0",children:[l.jsx(Qs,{className:"h-10 w-10 flex-shrink-0",children:l.jsx(Js,{className:"bg-primary/10 text-primary text-sm font-medium",children:rh(t)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:t}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Ve(e.dueDate)})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsx("p",{className:"text-sm font-semibold",children:ye(Number(e.amount))}),l.jsx(pr,{variant:"secondary",className:`text-xs ${r[e.status]}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})}function e_e({payment:e,clientName:t}){const r=e.dueDate?Zd(e.dueDate):NaN,n=Number.isFinite(r)?r<0:!1,i=Number.isFinite(r)?r<=3&&r>=0:!1;return l.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-border last:border-0",children:[l.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center flex-shrink-0 ${n?"bg-red-500/10":i?"bg-yellow-500/10":"bg-muted"}`,children:n?l.jsx(sv,{className:"h-5 w-5 text-red-500"}):l.jsx(fi,{className:`h-5 w-5 ${i?"text-yellow-500":"text-muted-foreground"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:t}),l.jsx("p",{className:`text-xs ${n?"text-red-500 font-medium":"text-muted-foreground"}`,children:n?`Vencido hace ${Math.abs(r)} dias`:r===0?"Vence hoy":`Vence en ${r} dias`})]}),l.jsx("div",{className:"text-right flex-shrink-0",children:l.jsx("p",{className:"text-sm font-semibold",children:ye(Number(e.amount))})})]})}const Sp=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function t_e(){const{toast:e}=vr(),{data:t,isLoading:r}=it({queryKey:["dashboard","stats"],queryFn:async()=>{try{const[d,f,h,m,y]=await Promise.all([J.from("pagos").select("monto"),J.from("clientes").select("*"),J.from("suscripciones").select("*"),J.from("contratos").select("*"),J.from("egresos").select("monto")]),p=Array.isArray(d.data)?d.data:[],x=Array.isArray(f.data)?f.data:[],b=Array.isArray(h.data)?h.data:[],v=Array.isArray(m.data)?m.data:[],g=Array.isArray(y.data)?y.data:[],j=p.reduce((B,C)=>B+Number(C.monto??0),0),_=v.reduce((B,C)=>B+Number(C.pago_inicial??0),0),S=j+_,E=g.reduce((B,C)=>B+Number(C.monto??0),0),O=S-E,N=x.length,M=b.filter(B=>B.is_active===void 0?!0:!!B.is_active),T=M.length,I=M.reduce((B,C)=>{const D=parseFloat(C.mensualidad||0);return B+(isNaN(D)?0:D)},0),P=Tr(new Date);P&&P.setHours(0,0,0,0);const $=b.filter(B=>{if(!B.proxima_fecha_de_pago)return!1;const C=Tr(B.proxima_fecha_de_pago);return!C||!P?!1:(C.setHours(0,0,0,0),C<=P)}).length;return{totalRevenue:S,totalClients:N,pendingPayments:$,activeSubscriptions:T,monthlyRecurringRevenue:I,overduePayments:$,totalEgresos:E,balance:O}}catch(d){return console.error("Error loading dashboard stats:",d),e({title:"Error cargando estadsticas",variant:"destructive"}),{totalRevenue:0,totalClients:0,pendingPayments:0,activeSubscriptions:0,monthlyRecurringRevenue:0,overduePayments:0,totalEgresos:0,balance:0}}}});it({queryKey:["dashboard","clients"],queryFn:async()=>{const{data:d,error:f}=await J.from("clientes").select("id,nombre,telefono,rtn,oficio,created_at");if(f)throw f;return Array.isArray(d)?d:[]}});const{data:n,isLoading:i}=it({queryKey:["dashboard","payments","recent"],queryFn:async()=>{const{data:d,error:f}=await J.from("pagos").select("id,fecha_de_creacion,tipo,referencia_id,cliente,proyecto,monto,notas").order("fecha_de_creacion",{ascending:!1}).limit(5);if(f)throw f;const h=Array.isArray(d)?d:[],m=Array.from(new Set(h.map(x=>x.cliente).filter(Boolean))),{data:y}=await J.from("clientes").select("id,nombre").in("id",m),p={};return(Array.isArray(y)?y:[]).forEach(x=>{x!=null&&x.id&&(p[x.id]=x.nombre)}),h.map(x=>({payment:{id:x.id,amount:x.monto,dueDate:x.fecha_de_creacion,status:"pagado"},clientName:p[x.cliente]??x.cliente??"Cliente",raw:x}))}}),{data:a}=it({queryKey:["dashboard","payments","upcoming"],queryFn:async()=>{const f=Tr(new Date),h=f?new Date(f):new Date;h&&h.setDate(h.getDate()+30);const{data:m,error:y}=await J.from("suscripciones").select("id,cliente,proyecto,proxima_fecha_de_pago,mensualidad").order("proxima_fecha_de_pago",{ascending:!0}).limit(10);if(y)throw y;const p=Array.isArray(m)?m:[],{data:x,error:b}=await J.from("contratos").select("id,cliente,proyecto,proximo_pago,monto_total,pago_inicial,cantidad_de_pagos").order("proximo_pago",{ascending:!0}).limit(10);if(b)throw b;const v=Array.isArray(x)?x:[],g=Array.from(new Set([...p.map(T=>T.cliente),...v.map(T=>T.cliente)].filter(Boolean))),{data:j}=await J.from("clientes").select("id,nombre").in("id",g),_={};(Array.isArray(j)?j:[]).forEach(T=>{T!=null&&T.id&&(_[T.id]=T.nombre)});const S=v.map(T=>T.id).filter(Boolean);let E={};if(S.length>0){const{data:T,error:I}=await J.from("pagos").select("referencia_id,monto,tipo").in("referencia_id",S).eq("tipo","contrato");I?console.error("Error cargando pagos para contratos en dashboard:",I):(Array.isArray(T)?T:[]).forEach(P=>{if(!P||!P.referencia_id)return;const $=String(P.referencia_id);E[$]=(E[$]??0)+Number(P.monto??0)})}const O=p.map(T=>({payment:{id:T.id,amount:T.mensualidad,dueDate:T.proxima_fecha_de_pago,status:"pendiente"},clientName:_[T.cliente]??T.cliente??"Cliente"})),N=v.filter(T=>T.proximo_pago).map(T=>{const I=Number(T.monto_total??0),A=Number(T.pago_inicial??0),P=Math.max(1,Number(T.cantidad_de_pagos??1)),$=(I-A)/P,R=Number.isFinite($)?$:Math.max(0,I-A);return{payment:{id:T.id,amount:R,dueDate:T.proximo_pago,status:"pendiente"},clientName:_[T.cliente]??T.cliente??"Cliente"}});return[...O,...N].sort((T,I)=>{const A=T.payment.dueDate?new Date(T.payment.dueDate).getTime():0,P=I.payment.dueDate?new Date(I.payment.dueDate).getTime():0;return A-P}).slice(0,10)}}),{data:o}=it({queryKey:["dashboard","revenue"],queryFn:async()=>{const d=new Date,f=Tr(d),h=f?new Date(f.getFullYear(),f.getMonth()-5,1):new Date(d.getFullYear(),d.getMonth()-5,1),m=new Date(h.getTime()+6*60*60*1e3),[y,p,x,b]=await Promise.all([J.from("pagos").select("id,fecha_de_creacion,monto,tipo").gte("fecha_de_creacion",m.toISOString()).order("fecha_de_creacion",{ascending:!0}),J.from("contratos").select("*").gte("fecha_de_creacion",m.toISOString()),J.from("suscripciones").select("*").gte("fecha_de_creacion",m.toISOString()),J.from("egresos").select("id,fecha,monto").gte("fecha",m.toISOString()).order("fecha",{ascending:!0})]);if(y.error)throw y.error;const v=Array.isArray(y.data)?y.data:[],g=Array.isArray(p.data)?p.data:[];Array.isArray(x.data)&&x.data;const j=Array.isArray(b.data)?b.data:[],_={},S=f||d;for(let E=0;E<6;E++){const O=new Date(S.getFullYear(),S.getMonth()-(5-E),1),N=`${O.getFullYear()}-${(O.getMonth()+1).toString().padStart(2,"0")}`;_[N]={month:O.toLocaleString(void 0,{month:"short"}),oneTime:0,subscriptions:0,revenue:0,egresos:0}}return v.forEach(E=>{const O=Tr(E.fecha_de_creacion);if(!O)return;const N=`${O.getFullYear()}-${(O.getMonth()+1).toString().padStart(2,"0")}`;if(!_[N])return;const M=Number(E.monto??0);_[N].revenue+=M,String(E.tipo)==="suscripcion"?_[N].subscriptions+=M:_[N].oneTime+=M}),g.forEach(E=>{if(!E.pago_inicial)return;const O=Tr(E.fecha_de_creacion);if(!O)return;const N=`${O.getFullYear()}-${(O.getMonth()+1).toString().padStart(2,"0")}`;if(!_[N])return;const M=Number(E.pago_inicial??0);_[N].revenue+=M,_[N].oneTime+=M}),j.forEach(E=>{const O=Tr(E.fecha);if(!O)return;const N=`${O.getFullYear()}-${(O.getMonth()+1).toString().padStart(2,"0")}`;if(!_[N])return;const M=Number(E.monto??0);_[N].egresos+=M}),Object.values(_)}}),{data:s}=it({queryKey:["dashboard","pagos","all"],queryFn:async()=>{const{data:d,error:f}=await J.from("pagos").select("tipo,monto");if(f)throw f;return Array.isArray(d)?d:[]}}),c=(Array.isArray(s)?s:[]).reduce((d,f)=>{const h=(f==null?void 0:f.tipo)??"unico";return d[h]=(d[h]||0)+1,d},{}),u=Object.entries(c).map(([d,f])=>({name:xR(d),value:f}));return l.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de tu negocio"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 mb-4",children:[l.jsx(bl,{title:"Ingresos Totales",value:ye((t==null?void 0:t.totalRevenue)||0),icon:Pc,trend:"up",trendValue:"+12.5%",loading:r}),l.jsx(bl,{title:"Egresos",value:ye((t==null?void 0:t.totalEgresos)||0),icon:Qd,loading:r}),l.jsx(bl,{title:"Balance",value:ye((t==null?void 0:t.balance)||0),icon:MV,trend:((t==null?void 0:t.balance)||0)>=0?"up":"down",trendValue:((t==null?void 0:t.balance)||0)>=0?"Positivo":"Negativo",loading:r})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[l.jsx(bl,{title:"Clientes Activos",value:String((t==null?void 0:t.totalClients)||0),icon:Jd,trend:"up",trendValue:"+3",loading:r}),l.jsx(bl,{title:"Pagos Pendientes",value:String((t==null?void 0:t.pendingPayments)||0),icon:sv,loading:r}),l.jsx(bl,{title:"Suscripciones",value:String((t==null?void 0:t.activeSubscriptions)||0),icon:ov,trend:"up",trendValue:"+2",loading:r})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(me,{className:"lg:col-span-2",children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(dt,{className:"text-lg font-semibold",children:"Movimientos Mensuales"}),l.jsx(pr,{variant:"secondary",className:"text-xs",children:"Ultimos 6 meses"})]}),l.jsx(ve,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(a_,{data:o||[],children:[l.jsx(nc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Ui,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(zi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:d=>`L ${d/1e3}k`}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:d=>[ye(d),""]}),l.jsx(Bn,{dataKey:"oneTime",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],name:"Pagos Unicos"}),l.jsx(Bn,{dataKey:"subscriptions",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],name:"Suscripciones"}),l.jsx(Bn,{dataKey:"egresos",fill:"hsl(var(--destructive))",radius:[4,4,0,0],name:"Egresos"})]})})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-lg font-semibold",children:"Tipo de Pagos"})}),l.jsxs(ve,{children:[l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(a3,{children:[l.jsx(Qi,{data:u,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:u.map((d,f)=>l.jsx(fh,{fill:Sp[f%Sp.length]},`cell-${f}`))}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:u.map((d,f)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Sp[f%Sp.length]}}),l.jsx("span",{className:"text-xs text-muted-foreground",children:d.name})]},d.name))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(dt,{className:"text-lg font-semibold",children:"Transacciones Recientes"}),l.jsxs(Yl,{href:"/pagos",className:"text-sm text-primary hover:underline flex items-center gap-1","data-testid":"link-view-all-payments",children:["Ver todas",l.jsx(sR,{className:"h-3 w-3"})]})]}),l.jsx(ve,{children:i?l.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(d=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Ut,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ut,{className:"h-4 w-32 mb-1"}),l.jsx(Ut,{className:"h-3 w-24"})]}),l.jsx(Ut,{className:"h-4 w-20"})]},d))}):n&&n.length>0?l.jsx("div",{children:n.slice(0,5).map(({payment:d,clientName:f})=>l.jsx(Zwe,{payment:d,clientName:f},d.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Pc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay transacciones recientes"})]})})]}),l.jsxs(me,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(dt,{className:"text-lg font-semibold",children:"Proximos Vencimientos"}),l.jsxs(pr,{variant:"secondary",className:"text-xs",children:[(a==null?void 0:a.length)||0," pendientes"]})]}),l.jsx(ve,{children:a&&a.length>0?l.jsx("div",{children:a.slice(0,5).map(({payment:d,clientName:f})=>l.jsx(e_e,{payment:d,clientName:f},d.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(fi,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay pagos proximos a vencer"})]})})]})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-lg font-semibold",children:"Ingresos Recurrentes (MRR)"})}),l.jsxs(ve,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold text-primary",children:ye((t==null?void 0:t.monthlyRecurringRevenue)||0)}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"MRR Actual"})]}),l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold",children:(t==null?void 0:t.activeSubscriptions)||0}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Suscripciones Activas"})]}),l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold",children:ye(((t==null?void 0:t.monthlyRecurringRevenue)||0)*12)}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ARR Proyectado"})]})]}),l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(Pbe,{data:o||[],children:[l.jsx(nc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Ui,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(zi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:d=>`L ${d/1e3}k`}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:d=>[ye(d),"Suscripciones"]}),l.jsx(xh,{type:"monotone",dataKey:"subscriptions",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{fill:"hsl(var(--chart-2))",r:4}})]})})})]})]})]})}const r_e="modulepreload",n_e=function(e){return"/"+e},xT={},bT=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=n_e(c),c in xT)return;xT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":r_e,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},It=Q1,i_e=J1,F3=w.forwardRef(({className:e,...t},r)=>l.jsx(sh,{ref:r,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));F3.displayName=sh.displayName;const Pt=w.forwardRef(({className:e,children:t,...r},n)=>l.jsx(i_e,{children:l.jsxs(l.Fragment,{children:[l.jsx(F3,{}),l.jsxs(lh,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(JI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(lv,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));Pt.displayName=lh.displayName;const Nt=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nt.displayName="DialogHeader";const At=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});At.displayName="DialogFooter";const Ct=w.forwardRef(({className:e,...t},r)=>l.jsx(jv,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));Ct.displayName=jv.displayName;const ac=w.forwardRef(({className:e,...t},r)=>l.jsx(Sv,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));ac.displayName=Sv.displayName;var wh=e=>e.type==="checkbox",ms=e=>e instanceof Date,zr=e=>e==null;const B3=e=>typeof e=="object";var qt=e=>!zr(e)&&!Array.isArray(e)&&B3(e)&&!ms(e),a_e=e=>qt(e)&&e.target?wh(e.target)?e.target.checked:e.target.value:e,o_e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,s_e=(e,t)=>e.has(o_e(t)),l_e=e=>{const t=e.constructor&&e.constructor.prototype;return qt(t)&&t.hasOwnProperty("isPrototypeOf")},pS=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Nr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(pS&&(e instanceof Blob||n))&&(r||qt(e)))if(t=r?[]:{},!r&&!l_e(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Nr(e[i]));else return e;return t}var xy=e=>Array.isArray(e)?e.filter(Boolean):[],Qt=e=>e===void 0,Ee=(e,t,r)=>{if(!t||!qt(e))return r;const n=xy(t.split(/[,[\].]+?/)).reduce((i,a)=>zr(i)?i:i[a],e);return Qt(n)||n===e?Qt(e[t])?r:e[t]:n},Oi=e=>typeof e=="boolean",mS=e=>/^\w*$/.test(e),U3=e=>xy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(e,t,r)=>{let n=-1;const i=mS(t)?[t]:U3(t),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let c=r;if(n!==o){const u=e[s];c=qt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=c,e=e[s]}};const wT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},li={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},z3=L.createContext(null),c_e=()=>L.useContext(z3),u_e=e=>{const{children:t,...r}=e;return L.createElement(z3.Provider,{value:r},t)};var d_e=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==li.all&&(t._proxyFormState[o]=!n||li.all),e[o]}});return i},Ri=e=>typeof e=="string",f_e=(e,t,r,n,i)=>Ri(e)?(n&&t.watch.add(e),Ee(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ee(r,a))):(n&&(t.watchAll=!0),r),h_e=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Ad=e=>Array.isArray(e)?e:[e],_T=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},v_=e=>zr(e)||!B3(e);function Xa(e,t){if(v_(e)||v_(t))return e===t;if(ms(e)&&ms(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ms(a)&&ms(o)||qt(a)&&qt(o)||Array.isArray(a)&&Array.isArray(o)?!Xa(a,o):a!==o)return!1}}return!0}var Br=e=>qt(e)&&!Object.keys(e).length,gS=e=>e.type==="file",ci=e=>typeof e=="function",kg=e=>{if(!pS)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},V3=e=>e.type==="select-multiple",vS=e=>e.type==="radio",p_e=e=>vS(e)||wh(e),ib=e=>kg(e)&&e.isConnected;function m_e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Qt(e)?n++:e[t[n++]];return e}function g_e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Qt(e[t]))return!1;return!0}function rr(e,t){const r=Array.isArray(t)?t:mS(t)?[t]:U3(t),n=r.length===1?e:m_e(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(qt(n)&&Br(n)||Array.isArray(n)&&g_e(n))&&rr(e,r.slice(0,-1)),e}var W3=e=>{for(const t in e)if(ci(e[t]))return!0;return!1};function $g(e,t={}){const r=Array.isArray(e);if(qt(e)||r)for(const n in e)Array.isArray(e[n])||qt(e[n])&&!W3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},$g(e[n],t[n])):zr(e[n])||(t[n]=!0);return t}function q3(e,t,r){const n=Array.isArray(e);if(qt(e)||n)for(const i in e)Array.isArray(e[i])||qt(e[i])&&!W3(e[i])?Qt(t)||v_(r[i])?r[i]=Array.isArray(e[i])?$g(e[i],[]):{...$g(e[i])}:q3(e[i],zr(t)?{}:t[i],r[i]):r[i]=!Xa(e[i],t[i]);return r}var Xu=(e,t)=>q3(e,t,$g(t));const jT={value:!1,isValid:!1},ST={value:!0,isValid:!0};var H3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qt(e[0].attributes.value)?Qt(e[0].value)||e[0].value===""?ST:{value:e[0].value,isValid:!0}:ST:jT}return jT},K3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Qt(e)?e:t?e===""?NaN:e&&+e:r&&Ri(e)?new Date(e):n?n(e):e;const ET={isValid:!1,value:null};var G3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,ET):ET;function OT(e){const t=e.ref;return gS(t)?t.files:vS(t)?G3(e.refs).value:V3(t)?[...t.selectedOptions].map(({value:r})=>r):wh(t)?H3(e.refs).value:K3(Qt(t.value)?e.ref.value:t.value,e)}var v_e=(e,t,r,n)=>{const i={};for(const a of e){const o=Ee(t,a);o&&bt(i,a,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Rg=e=>e instanceof RegExp,Qu=e=>Qt(e)?e:Rg(e)?e.source:qt(e)?Rg(e.value)?e.value.source:e.value:e,PT=e=>({isOnSubmit:!e||e===li.onSubmit,isOnBlur:e===li.onBlur,isOnChange:e===li.onChange,isOnAll:e===li.all,isOnTouch:e===li.onTouched});const NT="AsyncFunction";var y_e=e=>!!e&&!!e.validate&&!!(ci(e.validate)&&e.validate.constructor.name===NT||qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===NT)),x_e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),AT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Cd=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=Ee(e,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Cd(s,t))break}else if(qt(s)&&Cd(s,t))break}}};function CT(e,t,r){const n=Ee(e,r);if(n||mS(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=Ee(t,a),s=Ee(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var b_e=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Br(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||li.all))},w_e=(e,t,r)=>!e||!t||e===t||Ad(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),__e=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,j_e=(e,t)=>!xy(Ee(e,t)).length&&rr(e,t),S_e=(e,t,r)=>{const n=Ad(Ee(e,r));return bt(n,"root",t[r]),bt(e,r,n),e},Kp=e=>Ri(e);function TT(e,t,r="validate"){if(Kp(e)||Array.isArray(e)&&e.every(Kp)||Oi(e)&&!e)return{type:r,message:Kp(e)?e:"",ref:t}}var wl=e=>qt(e)&&!Rg(e)?e:{value:e,message:""},kT=async(e,t,r,n,i,a)=>{const{ref:o,refs:s,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:y,name:p,valueAsNumber:x,mount:b}=e._f,v=Ee(r,p);if(!b||t.has(p))return{};const g=s?s[0]:o,j=I=>{i&&g.reportValidity&&(g.setCustomValidity(Oi(I)?"":I||""),g.reportValidity())},_={},S=vS(o),E=wh(o),O=S||E,N=(x||gS(o))&&Qt(o.value)&&Qt(v)||kg(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,M=h_e.bind(null,p,n,_),T=(I,A,P,$=ta.maxLength,R=ta.minLength)=>{const B=I?A:P;_[p]={type:I?$:R,message:B,ref:o,...M(I?$:R,B)}};if(a?!Array.isArray(v)||!v.length:c&&(!O&&(N||zr(v))||Oi(v)&&!v||E&&!H3(s).isValid||S&&!G3(s).isValid)){const{value:I,message:A}=Kp(c)?{value:!!c,message:c}:wl(c);if(I&&(_[p]={type:ta.required,message:A,ref:g,...M(ta.required,A)},!n))return j(A),_}if(!N&&(!zr(f)||!zr(h))){let I,A;const P=wl(h),$=wl(f);if(!zr(v)&&!isNaN(v)){const R=o.valueAsNumber||v&&+v;zr(P.value)||(I=R>P.value),zr($.value)||(A=R<$.value)}else{const R=o.valueAsDate||new Date(v),B=H=>new Date(new Date().toDateString()+" "+H),C=o.type=="time",D=o.type=="week";Ri(P.value)&&v&&(I=C?B(v)>B(P.value):D?v>P.value:R>new Date(P.value)),Ri($.value)&&v&&(A=C?B(v)<B($.value):D?v<$.value:R<new Date($.value))}if((I||A)&&(T(!!I,P.message,$.message,ta.max,ta.min),!n))return j(_[p].message),_}if((u||d)&&!N&&(Ri(v)||a&&Array.isArray(v))){const I=wl(u),A=wl(d),P=!zr(I.value)&&v.length>+I.value,$=!zr(A.value)&&v.length<+A.value;if((P||$)&&(T(P,I.message,A.message),!n))return j(_[p].message),_}if(m&&!N&&Ri(v)){const{value:I,message:A}=wl(m);if(Rg(I)&&!v.match(I)&&(_[p]={type:ta.pattern,message:A,ref:o,...M(ta.pattern,A)},!n))return j(A),_}if(y){if(ci(y)){const I=await y(v,r),A=TT(I,g);if(A&&(_[p]={...A,...M(ta.validate,A.message)},!n))return j(A.message),_}else if(qt(y)){let I={};for(const A in y){if(!Br(I)&&!n)break;const P=TT(await y[A](v,r),g,A);P&&(I={...P,...M(A,P.message)},j(P.message),n&&(_[p]=I))}if(!Br(I)&&(_[p]={ref:g,...I},!n))return _}}return j(!0),_};const E_e={mode:li.onSubmit,reValidateMode:li.onChange,shouldFocusError:!0};function O_e(e={}){let t={...E_e,...e},r={submitCount:0,isDirty:!1,isLoading:ci(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=qt(t.defaultValues)||qt(t.values)?Nr(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Nr(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:_T(),state:_T()},m=PT(t.mode),y=PT(t.reValidateMode),p=t.criteriaMode===li.all,x=U=>q=>{clearTimeout(u),u=setTimeout(U,q)},b=async U=>{if(!t.disabled&&(d.isValid||f.isValid||U)){const q=t.resolver?Br((await N()).errors):await T(n,!0);q!==r.isValid&&h.state.next({isValid:q})}},v=(U,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((U||Array.from(s.mount)).forEach(Q=>{Q&&(q?bt(r.validatingFields,Q,q):rr(r.validatingFields,Q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Br(r.validatingFields)}))},g=(U,q=[],Q,ne,oe=!0,ie=!0)=>{if(ne&&Q&&!t.disabled){if(o.action=!0,ie&&Array.isArray(Ee(n,U))){const xe=Q(Ee(n,U),ne.argA,ne.argB);oe&&bt(n,U,xe)}if(ie&&Array.isArray(Ee(r.errors,U))){const xe=Q(Ee(r.errors,U),ne.argA,ne.argB);oe&&bt(r.errors,U,xe),j_e(r.errors,U)}if((d.touchedFields||f.touchedFields)&&ie&&Array.isArray(Ee(r.touchedFields,U))){const xe=Q(Ee(r.touchedFields,U),ne.argA,ne.argB);oe&&bt(r.touchedFields,U,xe)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Xu(i,a)),h.state.next({name:U,isDirty:A(U,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else bt(a,U,q)},j=(U,q)=>{bt(r.errors,U,q),h.state.next({errors:r.errors})},_=U=>{r.errors=U,h.state.next({errors:r.errors,isValid:!1})},S=(U,q,Q,ne)=>{const oe=Ee(n,U);if(oe){const ie=Ee(a,U,Qt(Q)?Ee(i,U):Q);Qt(ie)||ne&&ne.defaultChecked||q?bt(a,U,q?ie:OT(oe._f)):R(U,ie),o.mount&&b()}},E=(U,q,Q,ne,oe)=>{let ie=!1,xe=!1;const Ue={name:U};if(!t.disabled){if(!Q||ne){(d.isDirty||f.isDirty)&&(xe=r.isDirty,r.isDirty=Ue.isDirty=A(),ie=xe!==Ue.isDirty);const rt=Xa(Ee(i,U),q);xe=!!Ee(r.dirtyFields,U),rt?rr(r.dirtyFields,U):bt(r.dirtyFields,U,!0),Ue.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||f.dirtyFields)&&xe!==!rt}if(Q){const rt=Ee(r.touchedFields,U);rt||(bt(r.touchedFields,U,Q),Ue.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||f.touchedFields)&&rt!==Q)}ie&&oe&&h.state.next(Ue)}return ie?Ue:{}},O=(U,q,Q,ne)=>{const oe=Ee(r.errors,U),ie=(d.isValid||f.isValid)&&Oi(q)&&r.isValid!==q;if(t.delayError&&Q?(c=x(()=>j(U,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?bt(r.errors,U,Q):rr(r.errors,U)),(Q?!Xa(oe,Q):oe)||!Br(ne)||ie){const xe={...ne,...ie&&Oi(q)?{isValid:q}:{},errors:r.errors,name:U};r={...r,...xe},h.state.next(xe)}},N=async U=>{v(U,!0);const q=await t.resolver(a,t.context,v_e(U||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(U),q},M=async U=>{const{errors:q}=await N(U);if(U)for(const Q of U){const ne=Ee(q,Q);ne?bt(r.errors,Q,ne):rr(r.errors,Q)}else r.errors=q;return q},T=async(U,q,Q={valid:!0})=>{for(const ne in U){const oe=U[ne];if(oe){const{_f:ie,...xe}=oe;if(ie){const Ue=s.array.has(ie.name),rt=oe._f&&y_e(oe._f);rt&&d.validatingFields&&v([ne],!0);const Et=await kT(oe,s.disabled,a,p,t.shouldUseNativeValidation&&!q,Ue);if(rt&&d.validatingFields&&v([ne]),Et[ie.name]&&(Q.valid=!1,q))break;!q&&(Ee(Et,ie.name)?Ue?S_e(r.errors,Et,ie.name):bt(r.errors,ie.name,Et[ie.name]):rr(r.errors,ie.name))}!Br(xe)&&await T(xe,q,Q)}}return Q.valid},I=()=>{for(const U of s.unMount){const q=Ee(n,U);q&&(q._f.refs?q._f.refs.every(Q=>!ib(Q)):!ib(q._f.ref))&&Y(U)}s.unMount=new Set},A=(U,q)=>!t.disabled&&(U&&q&&bt(a,U,q),!Xa(k(),i)),P=(U,q,Q)=>f_e(U,s,{...o.mount?a:Qt(q)?i:Ri(U)?{[U]:q}:q},Q,q),$=U=>xy(Ee(o.mount?a:i,U,t.shouldUnregister?Ee(i,U,[]):[])),R=(U,q,Q={})=>{const ne=Ee(n,U);let oe=q;if(ne){const ie=ne._f;ie&&(!ie.disabled&&bt(a,U,K3(q,ie)),oe=kg(ie.ref)&&zr(q)?"":q,V3(ie.ref)?[...ie.ref.options].forEach(xe=>xe.selected=oe.includes(xe.value)):ie.refs?wh(ie.ref)?ie.refs.length>1?ie.refs.forEach(xe=>(!xe.defaultChecked||!xe.disabled)&&(xe.checked=Array.isArray(oe)?!!oe.find(Ue=>Ue===xe.value):oe===xe.value)):ie.refs[0]&&(ie.refs[0].checked=!!oe):ie.refs.forEach(xe=>xe.checked=xe.value===oe):gS(ie.ref)?ie.ref.value="":(ie.ref.value=oe,ie.ref.type||h.state.next({name:U,values:Nr(a)})))}(Q.shouldDirty||Q.shouldTouch)&&E(U,oe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&G(U)},B=(U,q,Q)=>{for(const ne in q){const oe=q[ne],ie=`${U}.${ne}`,xe=Ee(n,ie);(s.array.has(U)||qt(oe)||xe&&!xe._f)&&!ms(oe)?B(ie,oe,Q):R(ie,oe,Q)}},C=(U,q,Q={})=>{const ne=Ee(n,U),oe=s.array.has(U),ie=Nr(q);bt(a,U,ie),oe?(h.array.next({name:U,values:Nr(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:U,dirtyFields:Xu(i,a),isDirty:A(U,ie)})):ne&&!ne._f&&!zr(ie)?B(U,ie,Q):R(U,ie,Q),AT(U,s)&&h.state.next({...r}),h.state.next({name:o.mount?U:void 0,values:Nr(a)})},D=async U=>{o.mount=!0;const q=U.target;let Q=q.name,ne=!0;const oe=Ee(n,Q),ie=xe=>{ne=Number.isNaN(xe)||ms(xe)&&isNaN(xe.getTime())||Xa(xe,Ee(a,Q,xe))};if(oe){let xe,Ue;const rt=q.type?OT(oe._f):a_e(U),Et=U.type===wT.BLUR||U.type===wT.FOCUS_OUT,Ia=!x_e(oe._f)&&!t.resolver&&!Ee(r.errors,Q)&&!oe._f.deps||__e(Et,Ee(r.touchedFields,Q),r.isSubmitted,y,m),Kn=AT(Q,s,Et);bt(a,Q,rt),Et?(oe._f.onBlur&&oe._f.onBlur(U),c&&c(0)):oe._f.onChange&&oe._f.onChange(U);const z=E(Q,rt,Et),Oe=!Br(z)||Kn;if(!Et&&h.state.next({name:Q,type:U.type,values:Nr(a)}),Ia)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Et&&b():Et||b()),Oe&&h.state.next({name:Q,...Kn?{}:z});if(!Et&&Kn&&h.state.next({...r}),t.resolver){const{errors:Ae}=await N([Q]);if(ie(rt),ne){const zt=CT(r.errors,n,Q),Ji=CT(Ae,n,zt.name||Q);xe=Ji.error,Q=Ji.name,Ue=Br(Ae)}}else v([Q],!0),xe=(await kT(oe,s.disabled,a,p,t.shouldUseNativeValidation))[Q],v([Q]),ie(rt),ne&&(xe?Ue=!1:(d.isValid||f.isValid)&&(Ue=await T(n,!0)));ne&&(oe._f.deps&&G(oe._f.deps),O(Q,Ue,xe,z))}},H=(U,q)=>{if(Ee(r.errors,q)&&U.focus)return U.focus(),1},G=async(U,q={})=>{let Q,ne;const oe=Ad(U);if(t.resolver){const ie=await M(Qt(U)?U:oe);Q=Br(ie),ne=U?!oe.some(xe=>Ee(ie,xe)):Q}else U?(ne=(await Promise.all(oe.map(async ie=>{const xe=Ee(n,ie);return await T(xe&&xe._f?{[ie]:xe}:xe)}))).every(Boolean),!(!ne&&!r.isValid)&&b()):ne=Q=await T(n);return h.state.next({...!Ri(U)||(d.isValid||f.isValid)&&Q!==r.isValid?{}:{name:U},...t.resolver||!U?{isValid:Q}:{},errors:r.errors}),q.shouldFocus&&!ne&&Cd(n,H,U?oe:s.mount),ne},k=U=>{const q={...o.mount?a:i};return Qt(U)?q:Ri(U)?Ee(q,U):U.map(Q=>Ee(q,Q))},F=(U,q)=>({invalid:!!Ee((q||r).errors,U),isDirty:!!Ee((q||r).dirtyFields,U),error:Ee((q||r).errors,U),isValidating:!!Ee(r.validatingFields,U),isTouched:!!Ee((q||r).touchedFields,U)}),K=U=>{U&&Ad(U).forEach(q=>rr(r.errors,q)),h.state.next({errors:U?r.errors:{}})},Z=(U,q,Q)=>{const ne=(Ee(n,U,{_f:{}})._f||{}).ref,oe=Ee(r.errors,U)||{},{ref:ie,message:xe,type:Ue,...rt}=oe;bt(r.errors,U,{...rt,...q,ref:ne}),h.state.next({name:U,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&ne&&ne.focus&&ne.focus()},se=(U,q)=>ci(U)?h.state.subscribe({next:Q=>U(P(void 0,q),Q)}):P(U,q,!0),te=U=>h.state.subscribe({next:q=>{w_e(U.name,q.name,U.exact)&&b_e(q,U.formState||d,le,U.reRenderRoot)&&U.callback({values:{...a},...r,...q})}}).unsubscribe,ae=U=>(o.mount=!0,f={...f,...U.formState},te({...U,formState:f})),Y=(U,q={})=>{for(const Q of U?Ad(U):s.mount)s.mount.delete(Q),s.array.delete(Q),q.keepValue||(rr(n,Q),rr(a,Q)),!q.keepError&&rr(r.errors,Q),!q.keepDirty&&rr(r.dirtyFields,Q),!q.keepTouched&&rr(r.touchedFields,Q),!q.keepIsValidating&&rr(r.validatingFields,Q),!t.shouldUnregister&&!q.keepDefaultValue&&rr(i,Q);h.state.next({values:Nr(a)}),h.state.next({...r,...q.keepDirty?{isDirty:A()}:{}}),!q.keepIsValid&&b()},de=({disabled:U,name:q})=>{(Oi(U)&&o.mount||U||s.disabled.has(q))&&(U?s.disabled.add(q):s.disabled.delete(q))},ue=(U,q={})=>{let Q=Ee(n,U);const ne=Oi(q.disabled)||Oi(t.disabled);return bt(n,U,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:U}},name:U,mount:!0,...q}}),s.mount.add(U),Q?de({disabled:Oi(q.disabled)?q.disabled:t.disabled,name:U}):S(U,!0,q.value),{...ne?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:Qu(q.min),max:Qu(q.max),minLength:Qu(q.minLength),maxLength:Qu(q.maxLength),pattern:Qu(q.pattern)}:{},name:U,onChange:D,onBlur:D,ref:oe=>{if(oe){ue(U,q),Q=Ee(n,U);const ie=Qt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,xe=p_e(ie),Ue=Q._f.refs||[];if(xe?Ue.find(rt=>rt===ie):ie===Q._f.ref)return;bt(n,U,{_f:{...Q._f,...xe?{refs:[...Ue.filter(ib),ie,...Array.isArray(Ee(i,U))?[{}]:[]],ref:{type:ie.type,name:U}}:{ref:ie}}}),S(U,!1,void 0,ie)}else Q=Ee(n,U,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(s_e(s.array,U)&&o.action)&&s.unMount.add(U)}}},X=()=>t.shouldFocusError&&Cd(n,H,s.mount),Fe=U=>{Oi(U)&&(h.state.next({disabled:U}),Cd(n,(q,Q)=>{const ne=Ee(n,Q);ne&&(q.disabled=ne._f.disabled||U,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(oe=>{oe.disabled=ne._f.disabled||U}))},0,!1))},Ce=(U,q)=>async Q=>{let ne;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let oe=Nr(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:xe}=await N();r.errors=ie,oe=xe}else await T(n);if(s.disabled.size)for(const ie of s.disabled)bt(oe,ie,void 0);if(rr(r.errors,"root"),Br(r.errors)){h.state.next({errors:{}});try{await U(oe,Q)}catch(ie){ne=ie}}else q&&await q({...r.errors},Q),X(),setTimeout(X);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Br(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},et=(U,q={})=>{Ee(n,U)&&(Qt(q.defaultValue)?C(U,Nr(Ee(i,U))):(C(U,q.defaultValue),bt(i,U,Nr(q.defaultValue))),q.keepTouched||rr(r.touchedFields,U),q.keepDirty||(rr(r.dirtyFields,U),r.isDirty=q.defaultValue?A(U,Nr(Ee(i,U))):A()),q.keepError||(rr(r.errors,U),d.isValid&&b()),h.state.next({...r}))},Xe=(U,q={})=>{const Q=U?Nr(U):i,ne=Nr(Q),oe=Br(U),ie=oe?i:ne;if(q.keepDefaultValues||(i=Q),!q.keepValues){if(q.keepDirtyValues){const xe=new Set([...s.mount,...Object.keys(Xu(i,a))]);for(const Ue of Array.from(xe))Ee(r.dirtyFields,Ue)?bt(ie,Ue,Ee(a,Ue)):C(Ue,Ee(ie,Ue))}else{if(pS&&Qt(U))for(const xe of s.mount){const Ue=Ee(n,xe);if(Ue&&Ue._f){const rt=Array.isArray(Ue._f.refs)?Ue._f.refs[0]:Ue._f.ref;if(kg(rt)){const Et=rt.closest("form");if(Et){Et.reset();break}}}}for(const xe of s.mount)C(xe,Ee(ie,xe))}a=Nr(ie),h.array.next({values:{...ie}}),h.state.next({values:{...ie}})}s={mount:q.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Xa(U,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:q.keepDirtyValues?q.keepDefaultValues&&a?Xu(i,a):r.dirtyFields:q.keepDefaultValues&&U?Xu(i,U):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},W=(U,q)=>Xe(ci(U)?U(a):U,q),ge=(U,q={})=>{const Q=Ee(n,U),ne=Q&&Q._f;if(ne){const oe=ne.refs?ne.refs[0]:ne.ref;oe.focus&&(oe.focus(),q.shouldSelect&&ci(oe.select)&&oe.select())}},le=U=>{r={...r,...U}},He={control:{register:ue,unregister:Y,getFieldState:F,handleSubmit:Ce,setError:Z,_subscribe:te,_runSchema:N,_getWatch:P,_getDirty:A,_setValid:b,_setFieldArray:g,_setDisabledField:de,_setErrors:_,_getFieldArray:$,_reset:Xe,_resetDefaultValues:()=>ci(t.defaultValues)&&t.defaultValues().then(U=>{W(U,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Fe,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(U){o=U},get _defaultValues(){return i},get _names(){return s},set _names(U){s=U},get _formState(){return r},get _options(){return t},set _options(U){t={...t,...U}}},subscribe:ae,trigger:G,register:ue,handleSubmit:Ce,watch:se,setValue:C,getValues:k,reset:W,resetField:et,clearErrors:K,unregister:Y,setError:Z,setFocus:ge,getFieldState:F};return{...He,formControl:He}}function yS(e={}){const t=L.useRef(void 0),r=L.useRef(void 0),[n,i]=L.useState({isDirty:!1,isValidating:!1,isLoading:ci(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:ci(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:O_e(e),formState:n},e.formControl&&e.defaultValues&&!ci(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,L.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),L.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),L.useEffect(()=>{e.values&&!Xa(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),L.useEffect(()=>{e.errors&&!Br(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),L.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=d_e(n,a),t.current}var P_e="Label",Y3=w.forwardRef((e,t)=>l.jsx(Se.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Y3.displayName=P_e;var X3=Y3;const N_e=uu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),$r=w.forwardRef(({className:e,...t},r)=>l.jsx(X3,{ref:r,className:he(N_e(),e),...t}));$r.displayName=X3.displayName;const xS=u_e,A_e=w.createContext({}),by=()=>{const e=w.useContext(A_e),t=w.useContext(Q3),{getFieldState:r,formState:n}=c_e(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},Q3=w.createContext({}),Gt=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return l.jsx(Q3.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});Gt.displayName="FormItem";const Yt=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=by();return l.jsx($r,{ref:r,className:he(n&&"text-destructive",e),htmlFor:i,...t})});Yt.displayName="FormLabel";const Xt=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=by();return l.jsx(rv,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});Xt.displayName="FormControl";const C_e=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=by();return l.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",e),...t})});C_e.displayName="FormDescription";const T_e=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=by(),o=i?String((i==null?void 0:i.message)??""):t;return o?l.jsx("p",{ref:n,id:a,className:he("text-sm font-medium text-destructive",e),...r,children:o}):null});T_e.displayName="FormMessage";function k_e(){const{toast:e}=vr(),t=it({queryKey:["clientes"],queryFn:async()=>{const a=await J.from("clientes").select("*");console.debug("useClientes supabase response:",a);const{data:o,error:s}=a;if(s)throw console.error("useClientes supabase error:",s),s;return o||[]}}),r=Es({mutationFn:async a=>{const{data:o,error:s}=await J.from("clientes").insert([{nombre:a.nombre,telefono:a.telefono??null,rtn:a.rtn??null,oficio:a.oficio??null}]).select().single();if(s)throw s;return o},onSuccess:()=>{jt.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente creado"})},onError:()=>e({title:"Error creando cliente",variant:"destructive"})}),n=Es({mutationFn:async a=>{const{data:o,error:s}=await J.from("clientes").update({nombre:a.nombre,telefono:a.telefono??null,rtn:a.rtn??null,oficio:a.oficio??null}).eq("id",a.id).select().single();if(s)throw s;return o},onSuccess:()=>{jt.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente actualizado"})},onError:()=>e({title:"Error actualizando cliente",variant:"destructive"})}),i=Es({mutationFn:async a=>{const{error:o}=await J.from("clientes").delete().eq("id",a);if(o)throw o;return!0},onSuccess:()=>{jt.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente eliminado"})},onError:()=>e({title:"Error eliminando cliente",variant:"destructive"})});return{clientes:t.data??[],isLoading:t.isLoading,isError:t.isError,error:t.error,createCliente:a=>r.mutate(a),updateCliente:a=>n.mutate(a),deleteCliente:a=>i.mutate(a),createClienteAsync:a=>r.mutateAsync(a),updateClienteAsync:a=>n.mutateAsync(a),deleteClienteAsync:a=>i.mutateAsync(a)}}function $_e(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[i,a]=w.useState(""),{toast:o}=vr(),[,s]=wi(),{clientes:c,isLoading:u,createCliente:d,updateCliente:f,deleteCliente:h,createClienteAsync:m,updateClienteAsync:y,deleteClienteAsync:p}=k_e(),[x,b]=w.useState(null),[v,g]=w.useState(null),j=yS({defaultValues:{nombre:"",telefono:"",rtn:"",oficio:""}}),_=C=>{var D,H,G,k;return{nombre:((D=C==null?void 0:C.nombre)==null?void 0:D.toString().trim())??"",telefono:((H=C==null?void 0:C.telefono)==null?void 0:H.toString().trim())??"",rtn:((G=C==null?void 0:C.rtn)==null?void 0:G.toString().trim())??"",oficio:((k=C==null?void 0:C.oficio)==null?void 0:k.toString().trim())??""}},S=async C=>{try{r?await y({...C,id:r.id}):await m(C),t(!1),n(null),j.reset()}catch(D){console.error("Error saving cliente:",D)}},E=C=>{n(C),j.reset(_(C)),t(!0)},[O,N]=w.useState(!1),[M,T]=w.useState(""),[I,A]=w.useState(null),[P,$]=w.useState(null),[R,B]=w.useState(!1);return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Clientes"})}),l.jsx(re,{onClick:()=>{n(null),j.reset(_(null)),t(!0)},children:"Agregar Cliente"})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por nombre, telfono o RTN...",value:i,onChange:C=>a(C.target.value),className:"pl-10"})]}),l.jsx("div",{children:u?l.jsx("p",{children:"Cargando..."}):c&&c.length>0||x&&x.length>0?l.jsx("div",{className:"space-y-3",children:(x??c).filter(C=>{if(!i)return!0;const D=i.toLowerCase(),H=(C.nombre||"").toLowerCase(),G=(C.telefono||"").toLowerCase(),k=(C.rtn||"").toLowerCase();return H.includes(D)||G.includes(D)||k.includes(D)}).map(C=>l.jsx(me,{className:"hover-elevate shadow-sm cursor-pointer transition-all",onClick:()=>s(`/clientes/${C.id}`),children:l.jsx(ve,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Qs,{className:"h-12 w-12 flex-shrink-0",children:l.jsx(Js,{className:"bg-primary/10 text-primary text-sm font-medium",children:rh(C.nombre||"?")})}),l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-4 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-semibold text-base truncate",children:C.nombre}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:C.oficio??"-"})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Telfono"}),l.jsx("a",{className:"text-foreground hover:underline",href:`tel:${C.telefono??""}`,onClick:D=>D.stopPropagation(),children:C.telefono??"-"})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"RTN"}),l.jsx("div",{className:"truncate",children:C.rtn??"-"})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("div",{className:"text-xs text-muted-foreground hidden sm:block",children:C.created_at?Ve(C.created_at):null}),l.jsx(re,{size:"sm",variant:"ghost",onClick:D=>{D.stopPropagation(),A(C),T(""),N(!0)},children:"Editar"}),l.jsx(re,{size:"sm",variant:"destructive",onClick:D=>{D.stopPropagation(),$(C.id),T(""),N(!0)},children:"Eliminar"})]})]})]})})},C.id))}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{children:"No hay clientes."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:()=>{const C=I2.map(D=>{var H,G;return{id:D.id,nombre:D.name||D.nombre||"",telefono:D.phone||D.telefono||null,rtn:D.rtn??null,oficio:D.oficio??null,created_at:((G=(H=D.createdAt||D.created_at)==null?void 0:H.toString)==null?void 0:G.call(H))??null}});b(C),o({title:"Cargando ejemplo local"})},children:"Cargar ejemplo"}),l.jsx(re,{variant:"ghost",onClick:async()=>{try{const C=await(await bT(async()=>{const{supabase:D}=await Promise.resolve().then(()=>yT);return{supabase:D}},void 0)).supabase.from("clientes").select("*");g(C)}catch(C){g(C)}},children:"Comprobar Supabase"}),l.jsx(re,{variant:"outline",onClick:()=>{jt.invalidateQueries({queryKey:["clientes"]}),o({title:"Refrescando clientes"})},children:"Refrescar"})]}),v&&l.jsx("pre",{className:"mt-2 text-xs max-h-40 overflow-auto bg-surface p-2 rounded",children:JSON.stringify(v,null,2)})]})}),l.jsx(It,{open:e,onOpenChange:C=>{t(C),C?r&&j.reset(_(r)):(n(null),j.reset(_(null)))},children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:r?"Editar Cliente":"Nuevo Cliente"})}),l.jsx(xS,{...j,children:l.jsxs("form",{onSubmit:j.handleSubmit(S),className:"space-y-4",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Nombre"}),l.jsx(Xt,{children:l.jsx(Me,{...j.register("nombre",{required:!0})})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Telfono"}),l.jsx(Xt,{children:l.jsx(Me,{...j.register("telefono")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"RTN"}),l.jsx(Xt,{children:l.jsx(Me,{...j.register("rtn")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Oficio"}),l.jsx(Xt,{children:l.jsx(Me,{...j.register("oficio")})})]}),l.jsxs(At,{children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>{t(!1),n(null)},children:"Cancelar"}),l.jsx(re,{type:"submit",children:r?"Guardar":"Crear"})]})]})})]})}),l.jsx(It,{open:O,onOpenChange:C=>N(C),children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-blue-600 dark:text-blue-400",children:"Confirmar accin"})}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa la clave de acceso para continuar"}),l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:M,onChange:C=>T(C.target.value),className:"block w-full rounded-md border p-2 text-blue-600 dark:text-blue-400"})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{N(!1),A(null),$(null),T("")},children:"Cancelar"}),l.jsx(re,{onClick:async()=>{try{B(!0);const{data:C,error:D}=await(await bT(async()=>{const{supabase:G}=await Promise.resolve().then(()=>yT);return{supabase:G}},void 0)).supabase.from("configuracion").select("clave").limit(1).single();if(D)throw D;const H=(C==null?void 0:C.clave)??null;if(!H){o({title:"No hay clave configurada"});return}if(M!==H){o({title:"Clave incorrecta"});return}I&&E(I),P&&(p?await p(P):h(P)),N(!1),A(null),$(null),T("")}catch(C){console.error("Error verificando clave:",C),o({title:"Error verificando clave",description:(C==null?void 0:C.message)??String(C)})}finally{B(!1)}},children:"Confirmar"})]})})]})})]})}var R_e=w.createContext(void 0);function wy(e){const t=w.useContext(R_e);return e||t||"ltr"}var ab="rovingFocusGroup.onEntryFocus",I_e={bubbles:!1,cancelable:!0},_y="RovingFocusGroup",[y_,J3,M_e]=nv(_y),[D_e,jy]=on(_y,[M_e]),[L_e,F_e]=D_e(_y),Z3=w.forwardRef((e,t)=>l.jsx(y_.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(y_.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(B_e,{...e,ref:t})})}));Z3.displayName=_y;var B_e=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=Je(t,h),y=wy(a),[p=null,x]=qi({prop:o,defaultProp:s,onChange:c}),[b,v]=w.useState(!1),g=Er(u),j=J3(r),_=w.useRef(!1),[S,E]=w.useState(0);return w.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(ab,g),()=>O.removeEventListener(ab,g)},[g]),l.jsx(L_e,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:p,onItemFocus:w.useCallback(O=>x(O),[x]),onItemShiftTab:w.useCallback(()=>v(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:w.useCallback(()=>E(O=>O-1),[]),children:l.jsx(Se.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{_.current=!0}),onFocus:pe(e.onFocus,O=>{const N=!_.current;if(O.target===O.currentTarget&&N&&!b){const M=new CustomEvent(ab,I_e);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const T=j().filter(R=>R.focusable),I=T.find(R=>R.active),A=T.find(R=>R.id===p),$=[I,A,...T].filter(Boolean).map(R=>R.ref.current);r4($,d)}}_.current=!1}),onBlur:pe(e.onBlur,()=>v(!1))})})}),e4="RovingFocusGroupItem",t4=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=e,s=gr(),c=a||s,u=F_e(e4,r),d=u.currentTabStopId===c,f=J3(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return w.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),l.jsx(y_.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:l.jsx(Se.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:pe(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:pe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const p=V_e(y,u.orientation,u.dir);if(p!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=f().filter(v=>v.focusable).map(v=>v.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const v=b.indexOf(y.currentTarget);b=u.loop?W_e(b,v+1):b.slice(v+1)}setTimeout(()=>r4(b))}})})})});t4.displayName=e4;var U_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function z_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function V_e(e,t,r){const n=z_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return U_e[n]}function r4(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function W_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var n4=Z3,i4=t4,x_=["Enter"," "],q_e=["ArrowDown","PageUp","Home"],a4=["ArrowUp","PageDown","End"],H_e=[...q_e,...a4],K_e={ltr:[...x_,"ArrowRight"],rtl:[...x_,"ArrowLeft"]},G_e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_h="Menu",[zf,Y_e,X_e]=nv(_h),[il,o4]=on(_h,[X_e,$o,jy]),Sy=$o(),s4=jy(),[Q_e,al]=il(_h),[J_e,jh]=il(_h),l4=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,s=Sy(t),[c,u]=w.useState(null),d=w.useRef(!1),f=Er(a),h=wy(i);return w.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(fv,{...s,children:l.jsx(Q_e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(J_e,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};l4.displayName=_h;var Z_e="MenuAnchor",bS=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Sy(r);return l.jsx(ih,{...i,...n,ref:t})});bS.displayName=Z_e;var wS="MenuPortal",[e1e,c4]=il(wS,{forceMount:void 0}),u4=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=al(wS,t);return l.jsx(e1e,{scope:t,forceMount:r,children:l.jsx(sn,{present:r||a.open,children:l.jsx(cu,{asChild:!0,container:i,children:n})})})};u4.displayName=wS;var Un="MenuContent",[t1e,_S]=il(Un),d4=w.forwardRef((e,t)=>{const r=c4(Un,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=al(Un,e.__scopeMenu),o=jh(Un,e.__scopeMenu);return l.jsx(zf.Provider,{scope:e.__scopeMenu,children:l.jsx(sn,{present:n||a.open,children:l.jsx(zf.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(r1e,{...i,ref:t}):l.jsx(n1e,{...i,ref:t})})})})}),r1e=w.forwardRef((e,t)=>{const r=al(Un,e.__scopeMenu),n=w.useRef(null),i=Je(t,n);return w.useEffect(()=>{const a=n.current;if(a)return _v(a)},[]),l.jsx(jS,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),n1e=w.forwardRef((e,t)=>{const r=al(Un,e.__scopeMenu);return l.jsx(jS,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),i1e=jo("MenuContent.ScrollLock"),jS=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:y,...p}=e,x=al(Un,r),b=jh(Un,r),v=Sy(r),g=s4(r),j=Y_e(r),[_,S]=w.useState(null),E=w.useRef(null),O=Je(t,E,x.onContentChange),N=w.useRef(0),M=w.useRef(""),T=w.useRef(0),I=w.useRef(null),A=w.useRef("right"),P=w.useRef(0),$=y?oh:w.Fragment,R=y?{as:i1e,allowPinchZoom:!0}:void 0,B=D=>{var te,ae;const H=M.current+D,G=j().filter(Y=>!Y.disabled),k=document.activeElement,F=(te=G.find(Y=>Y.ref.current===k))==null?void 0:te.textValue,K=G.map(Y=>Y.textValue),Z=g1e(K,H,F),se=(ae=G.find(Y=>Y.textValue===Z))==null?void 0:ae.ref.current;(function Y(de){M.current=de,window.clearTimeout(N.current),de!==""&&(N.current=window.setTimeout(()=>Y(""),1e3))})(H),se&&setTimeout(()=>se.focus())};w.useEffect(()=>()=>window.clearTimeout(N.current),[]),xv();const C=w.useCallback(D=>{var G,k;return A.current===((G=I.current)==null?void 0:G.side)&&y1e(D,(k=I.current)==null?void 0:k.area)},[]);return l.jsx(t1e,{scope:r,searchRef:M,onItemEnter:w.useCallback(D=>{C(D)&&D.preventDefault()},[C]),onItemLeave:w.useCallback(D=>{var H;C(D)||((H=E.current)==null||H.focus(),S(null))},[C]),onTriggerLeave:w.useCallback(D=>{C(D)&&D.preventDefault()},[C]),pointerGraceTimerRef:T,onPointerGraceIntentChange:w.useCallback(D=>{I.current=D},[]),children:l.jsx($,{...R,children:l.jsx(ah,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,D=>{var H;D.preventDefault(),(H=E.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(n4,{asChild:!0,...g,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:S,onEntryFocus:pe(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(hv,{role:"menu","aria-orientation":"vertical","data-state":P4(x.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:O,style:{outline:"none",...p.style},onKeyDown:pe(p.onKeyDown,D=>{const G=D.target.closest("[data-radix-menu-content]")===D.currentTarget,k=D.ctrlKey||D.altKey||D.metaKey,F=D.key.length===1;G&&(D.key==="Tab"&&D.preventDefault(),!k&&F&&B(D.key));const K=E.current;if(D.target!==K||!H_e.includes(D.key))return;D.preventDefault();const se=j().filter(te=>!te.disabled).map(te=>te.ref.current);a4.includes(D.key)&&se.reverse(),p1e(se)}),onBlur:pe(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(N.current),M.current="")}),onPointerMove:pe(e.onPointerMove,Vf(D=>{const H=D.target,G=P.current!==D.clientX;if(D.currentTarget.contains(H)&&G){const k=D.clientX>P.current?"right":"left";A.current=k,P.current=D.clientX}}))})})})})})})});d4.displayName=Un;var a1e="MenuGroup",SS=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Se.div,{role:"group",...n,ref:t})});SS.displayName=a1e;var o1e="MenuLabel",f4=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Se.div,{...n,ref:t})});f4.displayName=o1e;var Ig="MenuItem",$T="menu.itemSelect",Ey=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=w.useRef(null),o=jh(Ig,e.__scopeMenu),s=_S(Ig,e.__scopeMenu),c=Je(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent($T,{bubbles:!0,cancelable:!0});f.addEventListener($T,m=>n==null?void 0:n(m),{once:!0}),A1(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(h4,{...i,ref:c,disabled:r,onClick:pe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:pe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(e.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||x_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ey.displayName=Ig;var h4=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=_S(Ig,r),s=s4(r),c=w.useRef(null),u=Je(t,c),[d,f]=w.useState(!1),[h,m]=w.useState("");return w.useEffect(()=>{const y=c.current;y&&m((y.textContent??"").trim())},[a.children]),l.jsx(zf.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(i4,{asChild:!0,...s,focusable:!n,children:l.jsx(Se.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:pe(e.onPointerMove,Vf(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,Vf(y=>o.onItemLeave(y))),onFocus:pe(e.onFocus,()=>f(!0)),onBlur:pe(e.onBlur,()=>f(!1))})})})}),s1e="MenuCheckboxItem",p4=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return l.jsx(x4,{scope:e.__scopeMenu,checked:r,children:l.jsx(Ey,{role:"menuitemcheckbox","aria-checked":Mg(r)?"mixed":r,...i,ref:t,"data-state":OS(r),onSelect:pe(i.onSelect,()=>n==null?void 0:n(Mg(r)?!0:!r),{checkForDefaultPrevented:!1})})})});p4.displayName=s1e;var m4="MenuRadioGroup",[l1e,c1e]=il(m4,{value:void 0,onValueChange:()=>{}}),g4=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=Er(n);return l.jsx(l1e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(SS,{...i,ref:t})})});g4.displayName=m4;var v4="MenuRadioItem",y4=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=c1e(v4,e.__scopeMenu),a=r===i.value;return l.jsx(x4,{scope:e.__scopeMenu,checked:a,children:l.jsx(Ey,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":OS(a),onSelect:pe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});y4.displayName=v4;var ES="MenuItemIndicator",[x4,u1e]=il(ES,{checked:!1}),b4=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=u1e(ES,r);return l.jsx(sn,{present:n||Mg(a.checked)||a.checked===!0,children:l.jsx(Se.span,{...i,ref:t,"data-state":OS(a.checked)})})});b4.displayName=ES;var d1e="MenuSeparator",w4=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(Se.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});w4.displayName=d1e;var f1e="MenuArrow",_4=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=Sy(r);return l.jsx(pv,{...i,...n,ref:t})});_4.displayName=f1e;var h1e="MenuSub",[_Ee,j4]=il(h1e),od="MenuSubTrigger",S4=w.forwardRef((e,t)=>{const r=al(od,e.__scopeMenu),n=jh(od,e.__scopeMenu),i=j4(od,e.__scopeMenu),a=_S(od,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),c(null)}},[s,c]),l.jsx(bS,{asChild:!0,...u,children:l.jsx(h4,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":P4(r.open),...e,ref:Ea(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Vf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(e.onPointerLeave,Vf(f=>{var m,y;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(y=r.content)==null?void 0:y.dataset.side,x=p==="right",b=x?-5:5,v=h[x?"left":"right"],g=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||K_e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});S4.displayName=od;var E4="MenuSubContent",O4=w.forwardRef((e,t)=>{const r=c4(Un,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=al(Un,e.__scopeMenu),o=jh(Un,e.__scopeMenu),s=j4(E4,e.__scopeMenu),c=w.useRef(null),u=Je(t,c);return l.jsx(zf.Provider,{scope:e.__scopeMenu,children:l.jsx(sn,{present:n||a.open,children:l.jsx(zf.Slot,{scope:e.__scopeMenu,children:l.jsx(jS,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(e.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:pe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=G_e[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=s.trigger)==null||m.focus(),d.preventDefault())})})})})})});O4.displayName=E4;function P4(e){return e?"open":"closed"}function Mg(e){return e==="indeterminate"}function OS(e){return Mg(e)?"indeterminate":e?"checked":"unchecked"}function p1e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function m1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function g1e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=m1e(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function v1e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-s)*(n-c)/(d-c)+s&&(i=!i)}return i}function y1e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return v1e(r,t)}function Vf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var x1e=l4,b1e=bS,w1e=u4,_1e=d4,j1e=SS,S1e=f4,E1e=Ey,O1e=p4,P1e=g4,N1e=y4,A1e=b4,C1e=w4,T1e=_4,k1e=S4,$1e=O4,PS="DropdownMenu",[R1e,jEe]=on(PS,[o4]),Xr=o4(),[I1e,N4]=R1e(PS),A4=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=Xr(t),u=w.useRef(null),[d=!1,f]=qi({prop:i,defaultProp:a,onChange:o});return l.jsx(I1e,{scope:t,triggerId:gr(),triggerRef:u,contentId:gr(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:s,children:l.jsx(x1e,{...c,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};A4.displayName=PS;var C4="DropdownMenuTrigger",T4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=N4(C4,r),o=Xr(r);return l.jsx(b1e,{asChild:!0,...o,children:l.jsx(Se.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Ea(t,a.triggerRef),onPointerDown:pe(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:pe(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});T4.displayName=C4;var M1e="DropdownMenuPortal",k4=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Xr(t);return l.jsx(w1e,{...n,...r})};k4.displayName=M1e;var $4="DropdownMenuContent",R4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=N4($4,r),a=Xr(r),o=w.useRef(!1);return l.jsx(_1e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,s=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});R4.displayName=$4;var D1e="DropdownMenuGroup",L1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(j1e,{...i,...n,ref:t})});L1e.displayName=D1e;var F1e="DropdownMenuLabel",I4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(S1e,{...i,...n,ref:t})});I4.displayName=F1e;var B1e="DropdownMenuItem",M4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(E1e,{...i,...n,ref:t})});M4.displayName=B1e;var U1e="DropdownMenuCheckboxItem",D4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(O1e,{...i,...n,ref:t})});D4.displayName=U1e;var z1e="DropdownMenuRadioGroup",V1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(P1e,{...i,...n,ref:t})});V1e.displayName=z1e;var W1e="DropdownMenuRadioItem",L4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(N1e,{...i,...n,ref:t})});L4.displayName=W1e;var q1e="DropdownMenuItemIndicator",F4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(A1e,{...i,...n,ref:t})});F4.displayName=q1e;var H1e="DropdownMenuSeparator",B4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(C1e,{...i,...n,ref:t})});B4.displayName=H1e;var K1e="DropdownMenuArrow",G1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(T1e,{...i,...n,ref:t})});G1e.displayName=K1e;var Y1e="DropdownMenuSubTrigger",U4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx(k1e,{...i,...n,ref:t})});U4.displayName=Y1e;var X1e="DropdownMenuSubContent",z4=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Xr(r);return l.jsx($1e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});z4.displayName=X1e;var Q1e=A4,J1e=T4,Z1e=k4,V4=R4,W4=I4,q4=M4,H4=D4,K4=L4,G4=F4,Y4=B4,X4=U4,Q4=z4;const J4=Q1e,Z4=J1e,eje=w.forwardRef(({className:e,inset:t,children:r,...n},i)=>l.jsxs(X4,{ref:i,className:he("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,l.jsx(bV,{className:"ml-auto"})]}));eje.displayName=X4.displayName;const tje=w.forwardRef(({className:e,...t},r)=>l.jsx(Q4,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));tje.displayName=Q4.displayName;const NS=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Z1e,{children:l.jsx(V4,{ref:n,sideOffset:t,className:he("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));NS.displayName=V4.displayName;const AS=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(q4,{ref:n,className:he("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));AS.displayName=q4.displayName;const rje=w.forwardRef(({className:e,children:t,checked:r,...n},i)=>l.jsxs(H4,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(G4,{children:l.jsx(th,{className:"h-4 w-4"})})}),t]}));rje.displayName=H4.displayName;const nje=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(K4,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(G4,{children:l.jsx(x0,{className:"h-2 w-2 fill-current"})})}),t]}));nje.displayName=K4.displayName;const ije=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(W4,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));ije.displayName=W4.displayName;const aje=w.forwardRef(({className:e,...t},r)=>l.jsx(Y4,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));aje.displayName=Y4.displayName;var CS="Tabs",[oje,SEe]=on(CS,[jy]),eB=jy(),[sje,TS]=oje(CS),tB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...u}=e,d=wy(s),[f,h]=qi({prop:n,onChange:i,defaultProp:a});return l.jsx(sje,{scope:r,baseId:gr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(Se.div,{dir:d,"data-orientation":o,...u,ref:t})})});tB.displayName=CS;var rB="TabsList",nB=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=TS(rB,r),o=eB(r);return l.jsx(n4,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(Se.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});nB.displayName=rB;var iB="TabsTrigger",aB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=TS(iB,r),s=eB(r),c=lB(o.baseId,n),u=cB(o.baseId,n),d=n===o.value;return l.jsx(i4,{asChild:!0,...s,focusable:!i,active:d,children:l.jsx(Se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:pe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:pe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});aB.displayName=iB;var oB="TabsContent",sB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=TS(oB,r),c=lB(s.baseId,n),u=cB(s.baseId,n),d=n===s.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(sn,{present:i||d,children:({present:h})=>l.jsx(Se.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});sB.displayName=oB;function lB(e,t){return`${e}-trigger-${t}`}function cB(e,t){return`${e}-content-${t}`}var lje=tB,uB=nB,dB=aB,fB=sB;const cje=lje,hB=w.forwardRef(({className:e,...t},r)=>l.jsx(uB,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));hB.displayName=uB.displayName;const sd=w.forwardRef(({className:e,...t},r)=>l.jsx(dB,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));sd.displayName=dB.displayName;const pB=w.forwardRef(({className:e,...t},r)=>l.jsx(fB,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));pB.displayName=fB.displayName;function RT(e,[t,r]){return Math.min(r,Math.max(t,e))}function mB(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var uje=[" ","Enter","ArrowUp","ArrowDown"],dje=[" ","Enter"],Sh="Select",[Oy,Py,fje]=nv(Sh),[Au,EEe]=on(Sh,[fje,$o]),Ny=$o(),[hje,Uo]=Au(Sh),[pje,mje]=Au(Sh),gB=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:y}=e,p=Ny(t),[x,b]=w.useState(null),[v,g]=w.useState(null),[j,_]=w.useState(!1),S=wy(u),[E=!1,O]=qi({prop:n,defaultProp:i,onChange:a}),[N,M]=qi({prop:o,defaultProp:s,onChange:c}),T=w.useRef(null),I=x?y||!!x.closest("form"):!0,[A,P]=w.useState(new Set),$=Array.from(A).map(R=>R.props.value).join(";");return l.jsx(fv,{...p,children:l.jsxs(hje,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:j,onValueNodeHasChildrenChange:_,contentId:gr(),value:N,onValueChange:M,open:E,onOpenChange:O,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[l.jsx(Oy.Provider,{scope:t,children:l.jsx(pje,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(R=>{P(B=>new Set(B).add(R))},[]),onNativeOptionRemove:w.useCallback(R=>{P(B=>{const C=new Set(B);return C.delete(R),C})},[]),children:r})}),I?l.jsxs(UB,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:R=>M(R.target.value),disabled:h,form:y,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(A)]},$):null]})})};gB.displayName=Sh;var vB="SelectTrigger",yB=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=Ny(r),o=Uo(vB,r),s=o.disabled||n,c=Je(t,o.onTriggerChange),u=Py(r),d=w.useRef("touch"),[f,h,m]=zB(p=>{const x=u().filter(g=>!g.disabled),b=x.find(g=>g.value===o.value),v=VB(x,p,b);v!==void 0&&o.onValueChange(v.value)}),y=p=>{s||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(ih,{asChild:!0,...a,children:l.jsx(Se.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":BB(o.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&y(p)}),onPointerDown:pe(i.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:pe(i.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&uje.includes(p.key)&&(y(),p.preventDefault())})})})});yB.displayName=vB;var xB="SelectValue",bB=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,c=Uo(xB,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Je(t,c.onValueNodeChange);return lr(()=>{u(d)},[u,d]),l.jsx(Se.span,{...s,ref:f,style:{pointerEvents:"none"},children:BB(c.value)?l.jsx(l.Fragment,{children:o}):a})});bB.displayName=xB;var gje="SelectIcon",wB=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return l.jsx(Se.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});wB.displayName=gje;var vje="SelectPortal",_B=e=>l.jsx(cu,{asChild:!0,...e});_B.displayName=vje;var qs="SelectContent",jB=w.forwardRef((e,t)=>{const r=Uo(qs,e.__scopeSelect),[n,i]=w.useState();if(lr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Ys.createPortal(l.jsx(SB,{scope:e.__scopeSelect,children:l.jsx(Oy.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(EB,{...e,ref:t})});jB.displayName=qs;var Qn=10,[SB,zo]=Au(qs),yje="SelectContentImpl",xje=jo("SelectContent.RemoveScroll"),EB=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:x,...b}=e,v=Uo(qs,r),[g,j]=w.useState(null),[_,S]=w.useState(null),E=Je(t,te=>j(te)),[O,N]=w.useState(null),[M,T]=w.useState(null),I=Py(r),[A,P]=w.useState(!1),$=w.useRef(!1);w.useEffect(()=>{if(g)return _v(g)},[g]),xv();const R=w.useCallback(te=>{const[ae,...Y]=I().map(X=>X.ref.current),[de]=Y.slice(-1),ue=document.activeElement;for(const X of te)if(X===ue||(X==null||X.scrollIntoView({block:"nearest"}),X===ae&&_&&(_.scrollTop=0),X===de&&_&&(_.scrollTop=_.scrollHeight),X==null||X.focus(),document.activeElement!==ue))return},[I,_]),B=w.useCallback(()=>R([O,g]),[R,O,g]);w.useEffect(()=>{A&&B()},[A,B]);const{onOpenChange:C,triggerPointerDownPosRef:D}=v;w.useEffect(()=>{if(g){let te={x:0,y:0};const ae=de=>{var ue,X;te={x:Math.abs(Math.round(de.pageX)-(((ue=D.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(de.pageY)-(((X=D.current)==null?void 0:X.y)??0))}},Y=de=>{te.x<=10&&te.y<=10?de.preventDefault():g.contains(de.target)||C(!1),document.removeEventListener("pointermove",ae),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",Y,{capture:!0})}}},[g,C,D]),w.useEffect(()=>{const te=()=>C(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[C]);const[H,G]=zB(te=>{const ae=I().filter(ue=>!ue.disabled),Y=ae.find(ue=>ue.ref.current===document.activeElement),de=VB(ae,te,Y);de&&setTimeout(()=>de.ref.current.focus())}),k=w.useCallback((te,ae,Y)=>{const de=!$.current&&!Y;(v.value!==void 0&&v.value===ae||de)&&(N(te),de&&($.current=!0))},[v.value]),F=w.useCallback(()=>g==null?void 0:g.focus(),[g]),K=w.useCallback((te,ae,Y)=>{const de=!$.current&&!Y;(v.value!==void 0&&v.value===ae||de)&&T(te)},[v.value]),Z=n==="popper"?b_:OB,se=Z===b_?{side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:y,hideWhenDetached:p,avoidCollisions:x}:{};return l.jsx(SB,{scope:r,content:g,viewport:_,onViewportChange:S,itemRefCallback:k,selectedItem:O,onItemLeave:F,itemTextRefCallback:K,focusSelectedItem:B,selectedItemText:M,position:n,isPositioned:A,searchRef:H,children:l.jsx(oh,{as:xje,allowPinchZoom:!0,children:l.jsx(ah,{asChild:!0,trapped:v.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:pe(i,te=>{var ae;(ae=v.trigger)==null||ae.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(Z,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:te=>te.preventDefault(),...b,...se,onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pe(b.onKeyDown,te=>{const ae=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ae&&te.key.length===1&&G(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let de=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(te.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ue=te.target,X=de.indexOf(ue);de=de.slice(X+1)}setTimeout(()=>R(de)),te.preventDefault()}})})})})})})});EB.displayName=yje;var bje="SelectItemAlignedPosition",OB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Uo(qs,r),o=zo(qs,r),[s,c]=w.useState(null),[u,d]=w.useState(null),f=Je(t,E=>d(E)),h=Py(r),m=w.useRef(!1),y=w.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:v}=o,g=w.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&p&&x&&b){const E=a.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),N=a.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(a.dir!=="rtl"){const ue=M.left-O.left,X=N.left-ue,Fe=E.left-X,Ce=E.width+Fe,et=Math.max(Ce,O.width),Xe=window.innerWidth-Qn,W=RT(X,[Qn,Math.max(Qn,Xe-et)]);s.style.minWidth=Ce+"px",s.style.left=W+"px"}else{const ue=O.right-M.right,X=window.innerWidth-N.right-ue,Fe=window.innerWidth-E.right-X,Ce=E.width+Fe,et=Math.max(Ce,O.width),Xe=window.innerWidth-Qn,W=RT(X,[Qn,Math.max(Qn,Xe-et)]);s.style.minWidth=Ce+"px",s.style.right=W+"px"}const T=h(),I=window.innerHeight-Qn*2,A=p.scrollHeight,P=window.getComputedStyle(u),$=parseInt(P.borderTopWidth,10),R=parseInt(P.paddingTop,10),B=parseInt(P.borderBottomWidth,10),C=parseInt(P.paddingBottom,10),D=$+R+A+C+B,H=Math.min(x.offsetHeight*5,D),G=window.getComputedStyle(p),k=parseInt(G.paddingTop,10),F=parseInt(G.paddingBottom,10),K=E.top+E.height/2-Qn,Z=I-K,se=x.offsetHeight/2,te=x.offsetTop+se,ae=$+R+te,Y=D-ae;if(ae<=K){const ue=T.length>0&&x===T[T.length-1].ref.current;s.style.bottom="0px";const X=u.clientHeight-p.offsetTop-p.offsetHeight,Fe=Math.max(Z,se+(ue?F:0)+X+B),Ce=ae+Fe;s.style.height=Ce+"px"}else{const ue=T.length>0&&x===T[0].ref.current;s.style.top="0px";const Fe=Math.max(K,$+p.offsetTop+(ue?k:0)+se)+Y;s.style.height=Fe+"px",p.scrollTop=ae-K+p.offsetTop}s.style.margin=`${Qn}px 0`,s.style.minHeight=H+"px",s.style.maxHeight=I+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,s,u,p,x,b,a.dir,n]);lr(()=>g(),[g]);const[j,_]=w.useState();lr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const S=w.useCallback(E=>{E&&y.current===!0&&(g(),v==null||v(),y.current=!1)},[g,v]);return l.jsx(_je,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(Se.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});OB.displayName=bje;var wje="SelectPopperPosition",b_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Qn,...a}=e,o=Ny(r);return l.jsx(hv,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});b_.displayName=wje;var[_je,kS]=Au(qs,{}),w_="SelectViewport",PB=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=zo(w_,r),o=kS(w_,r),s=Je(t,a.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(Oy.Slot,{scope:r,children:l.jsx(Se.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const y=window.innerHeight-Qn*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<y){const v=b+m,g=Math.min(y,v),j=v-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});PB.displayName=w_;var NB="SelectGroup",[jje,Sje]=Au(NB),Eje=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=gr();return l.jsx(jje,{scope:r,id:i,children:l.jsx(Se.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Eje.displayName=NB;var AB="SelectLabel",CB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Sje(AB,r);return l.jsx(Se.div,{id:i.id,...n,ref:t})});CB.displayName=AB;var Dg="SelectItem",[Oje,TB]=Au(Dg),kB=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=Uo(Dg,r),c=zo(Dg,r),u=s.value===n,[d,f]=w.useState(a??""),[h,m]=w.useState(!1),y=Je(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,n,i)}),p=gr(),x=w.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(Oje,{scope:r,value:n,disabled:i,textId:p,isSelected:u,onItemTextChange:w.useCallback(v=>{f(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(Oy.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(Se.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:pe(o.onFocus,()=>m(!0)),onBlur:pe(o.onBlur,()=>m(!1)),onClick:pe(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:pe(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:pe(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:pe(o.onPointerMove,v=>{var g;x.current=v.pointerType,i?(g=c.onItemLeave)==null||g.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:pe(o.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(dje.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});kB.displayName=Dg;var ld="SelectItemText",$B=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=Uo(ld,r),s=zo(ld,r),c=TB(ld,r),u=mje(ld,r),[d,f]=w.useState(null),h=Je(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=s.itemTextRefCallback)==null?void 0:v.call(s,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,y=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return lr(()=>(p(y),()=>x(y)),[p,x,y]),l.jsxs(l.Fragment,{children:[l.jsx(Se.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ys.createPortal(a.children,o.valueNode):null]})});$B.displayName=ld;var RB="SelectItemIndicator",IB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return TB(RB,r).isSelected?l.jsx(Se.span,{"aria-hidden":!0,...n,ref:t}):null});IB.displayName=RB;var __="SelectScrollUpButton",MB=w.forwardRef((e,t)=>{const r=zo(__,e.__scopeSelect),n=kS(__,e.__scopeSelect),[i,a]=w.useState(!1),o=Je(t,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?l.jsx(LB,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});MB.displayName=__;var j_="SelectScrollDownButton",DB=w.forwardRef((e,t)=>{const r=zo(j_,e.__scopeSelect),n=kS(j_,e.__scopeSelect),[i,a]=w.useState(!1),o=Je(t,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?l.jsx(LB,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});DB.displayName=j_;var LB=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=zo("SelectScrollButton",r),o=w.useRef(null),s=Py(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),lr(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),l.jsx(Se.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),Pje="SelectSeparator",FB=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(Se.div,{"aria-hidden":!0,...n,ref:t})});FB.displayName=Pje;var S_="SelectArrow",Nje=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=Ny(r),a=Uo(S_,r),o=zo(S_,r);return a.open&&o.position==="popper"?l.jsx(pv,{...i,...n,ref:t}):null});Nje.displayName=S_;function BB(e){return e===""||e===void 0}var UB=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=w.useRef(null),a=Je(t,i),o=mB(r);return w.useEffect(()=>{const s=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(s,r),s.dispatchEvent(f)}},[o,r]),l.jsx(eh,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});UB.displayName="BubbleSelect";function zB(e){const t=Er(e),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const s=r.current+o;t(s),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function VB(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=Aje(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Aje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Cje=gB,WB=yB,Tje=bB,kje=wB,$je=_B,qB=jB,Rje=PB,HB=CB,KB=kB,Ije=$B,Mje=IB,GB=MB,YB=DB,XB=FB;const Vi=Cje,Wi=Tje,mi=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(WB,{ref:n,className:he("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(kje,{asChild:!0,children:l.jsx(lR,{className:"h-4 w-4 opacity-50"})})]}));mi.displayName=WB.displayName;const QB=w.forwardRef(({className:e,...t},r)=>l.jsx(GB,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(wV,{className:"h-4 w-4"})}));QB.displayName=GB.displayName;const JB=w.forwardRef(({className:e,...t},r)=>l.jsx(YB,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(lR,{className:"h-4 w-4"})}));JB.displayName=YB.displayName;const gi=w.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>l.jsx($je,{children:l.jsxs(qB,{ref:i,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(QB,{}),l.jsx(Rje,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(JB,{})]})}));gi.displayName=qB.displayName;const Dje=w.forwardRef(({className:e,...t},r)=>l.jsx(HB,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Dje.displayName=HB.displayName;const Rt=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(KB,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Mje,{children:l.jsx(th,{className:"h-4 w-4"})})}),l.jsx(Ije,{children:t})]}));Rt.displayName=KB.displayName;const Lje=w.forwardRef(({className:e,...t},r)=>l.jsx(XB,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));Lje.displayName=XB.displayName;function ZB({open:e,html:t,onOpenChange:r,autoPrint:n}){const i=w.useRef(null);return w.useEffect(()=>{if(!e||!t)return;const a=i.current;if(!a)return;const o=()=>{try{const s=a.contentWindow;if(!s)return;s.focus(),n&&setTimeout(()=>{try{s.print()}catch{}},300)}catch{}};return a.addEventListener("load",o),()=>a.removeEventListener("load",o)},[e,t,n]),!e||!t?null:l.jsx("iframe",{ref:i,srcDoc:t,title:"Factura",className:"w-full h-[70vh] border"})}function eU({open:e,onOpenChange:t,onCreated:r,clienteId:n,initialTipo:i,initialReferencia:a}){const{toast:o}=vr(),[s,c]=w.useState(1),[u,d]=w.useState(""),[f,h]=w.useState([]),[m,y]=w.useState(""),[p,x]=w.useState(null),[b,v]=w.useState([]),[g,j]=w.useState(""),[_,S]=w.useState(null),[E,O]=w.useState(null),[N,M]=w.useState({}),[T,I]=w.useState({}),[A,P]=w.useState(""),[$,R]=w.useState(null),[B,C]=w.useState(!1),[D,H]=w.useState(!1);w.useRef(null);const[G,k]=w.useState(null);w.useEffect(()=>{if(!B||!D||!$)return;const W=setTimeout(()=>{try{const ge=document.querySelector('iframe[title="Factura"]'),le=ge==null?void 0:ge.contentWindow;le&&(le.focus(),le.print())}catch(ge){console.error("Error auto-imprimiendo factura (fallback):",ge)}},800);return()=>clearTimeout(W)},[B,D,$]),w.useEffect(()=>{e&&(i&&a?K():F())},[e,i,a]);function F(){c(1),d(""),h([]),v([]),x(null),S(null),P(""),y(""),j(""),k(null)}async function K(){if(await te(),d(i||""),i==="suscripcion"&&a){x(a);const W=Y(a);if(P(String(W)),a.proxima_fecha_de_pago){const ge=ue(a.proxima_fecha_de_pago,a.dia_de_pago_mensual),le=de(a.proxima_fecha_de_pago,ge);k(le)}c(3)}else if(i==="contrato"&&a){S(a);const W=await X(a);O(W),P(String(W)),c(3)}}async function Z(){try{let W=J.from("suscripciones").select("id,cliente,proyecto,mensualidad,proxima_fecha_de_pago,dia_de_pago_mensual");n&&(W=W.eq("cliente",n));const{data:ge,error:le}=await W.order("fecha_de_creacion",{ascending:!1});if(le)throw le;h(Array.isArray(ge)?ge:[])}catch(W){console.error("Error cargando suscripciones:",W)}}async function se(){try{let W=J.from("contratos").select("id,cliente,proyecto,monto_total,pago_inicial");n&&(W=W.eq("cliente",n));const{data:ge,error:le}=await W.order("fecha_de_creacion",{ascending:!1});if(le)throw le;v(Array.isArray(ge)?ge:[])}catch(W){console.error("Error cargando contratos:",W)}}async function te(){try{const[W,ge]=await Promise.all([J.from("proyectos").select("id,nombre"),J.from("clientes").select("id,nombre")]),le=Array.isArray(W.data)?W.data:[],Ie=Array.isArray(ge.data)?ge.data:[],He={},U={};le.forEach(q=>{q!=null&&q.id&&(He[q.id]=q.nombre??q.id)}),Ie.forEach(q=>{q!=null&&q.id&&(U[q.id]=q.nombre??q.id)}),M(He),I(U)}catch(W){console.error("Error cargando meta en CobroForm:",W)}}async function ae(){if(!u){o({title:"Selecciona el tipo de pago"});return}await te(),u==="suscripcion"?await Z():await se(),c(2)}function Y(W){if(!W)return 0;const ge=Number(W.mensualidad??0);if(!W.proxima_fecha_de_pago)return ge;try{const Ie=new Date;Ie.setHours(0,0,0,0);const He=new Date(W.proxima_fecha_de_pago);if(He.setHours(0,0,0,0),He>Ie)return 0}catch{}const le=ue(W.proxima_fecha_de_pago,W.dia_de_pago_mensual);return ge*Math.max(1,le)}function de(W,ge){const le=typeof W=="string"?new Date(W):new Date(W),Ie=le.getFullYear(),He=le.getMonth(),U=le.getDate(),q=He+ge,Q=Ie+Math.floor(q/12),ne=(q%12+12)%12,oe=new Date(Q,ne+1,0).getDate(),ie=Math.min(U,oe);return new Date(Q,ne,ie).toISOString()}function ue(W,ge){try{const le=new Date;le.setHours(0,0,0,0);let Ie=new Date(W);Ie.setHours(0,0,0,0);let He=0;for(;Ie<=le;){He+=1;const U=de(Ie,1);Ie=new Date(U)}return He}catch{return 1}}async function X(W){if(!W)return 0;try{const{data:ge,error:le}=await J.from("pagos").select("monto").eq("tipo","contrato").eq("referencia_id",W.id);if(le)throw le;const Ie=Array.isArray(ge)?ge.reduce((U,q)=>U+Number(q.monto??0),0):0;return Number(W.monto_total??0)-Number(W.pago_inicial??0)-Ie}catch(ge){return console.error("Error calculando restante:",ge),Number(W.monto_total??0)-Number(W.pago_inicial??0)}}async function Fe(){try{const{data:W}=await J.from("configuracion").select("*").limit(1);return Array.isArray(W)&&W.length>0?W[0]:null}catch(W){return console.error("Error cargando configuracin para factura:",W),null}}function Ce(W,ge,le={}){const Ie={nombre:(W==null?void 0:W.proyecto)??(W==null?void 0:W.nombre)??"",propietario:(W==null?void 0:W.propietario)??(W==null?void 0:W.nombre)??"",direccion:(W==null?void 0:W.direccion)??"",telefono:(W==null?void 0:W.telefono)??"",rtn:(W==null?void 0:W.rtn)??""},He=T[ge.cliente]??ge.cliente??"Cliente",U=N[ge.proyecto]??ge.proyecto??"Proyecto";ge.fecha_de_creacion?new Date(ge.fecha_de_creacion).toLocaleString():new Date().toLocaleString();const q=Number(ge.monto??0),Q=ge.id??ge.referencia_id??Math.floor(Math.random()*1e6),ne=(le==null?void 0:le.proxima_fecha_de_pago)??(le==null?void 0:le.proximaFecha)??"-",oe={identidad:(le==null?void 0:le.clientRtn)??ge.cliente??"",nombre:(le==null?void 0:le.clientNombre)??He,producto:U,valorPagar:ye(Number((le==null?void 0:le.minimo)??q)),valorPagado:ye(q),proximaFecha:ne?Ve(ne):"-",prevRestante:typeof(le==null?void 0:le.prevRestante)=="number"?le.prevRestante:null,saldoActual:typeof(le==null?void 0:le.saldoActual)=="number"?le.saldoActual:null},ie=((le==null?void 0:le.tipo)??ge.tipo)==="contrato"?"Recibo de Pago de Contrato":"Recibo de Pago de Suscripcin";return`<!doctype html>
      <html>
      <head>
        <meta charset="utf-8" />
        <title>Recibo - ${Q}</title>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
          body { font-family: Arial, sans-serif; margin: 0; padding: 0; width: 100%; height: 100vh; background-color: #f7f7f7; }
          .container { width: 90%; margin: 0 auto; padding: 40px; background-color: rgba(255,255,255,0.9); box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 9px; background-size: contain; background-repeat: no-repeat; background-position: center; }
          h1, h2 { text-align: center; color: #2196F3; font-weight: bold; }
          .header { text-align:center; padding-bottom: 20px; border-bottom: 2px solid #e0e0e0; position: relative; }
          .header img { height: 120px; display: block; position: absolute; top: 20px; right: 30px; }
          .business-info, .client-info { margin-bottom: 20px; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
          .business-info p, .client-info p { margin: 4px 0; color: #333; }
          .client-info h3 { text-align: left; color: #2196F3; font-weight: bold; }
          .footer { text-align: center; margin-top: 0; font-size: 12px; color: #555; }
          .value { font-weight: bold; color: black; }
          .separator { border-top: 2px dashed #2196F3; margin-top: 20px; margin-bottom: 20px; }
          .print-button { display: block; margin: 20px auto; padding: 10px 20px; font-size: 16px; background-color: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; }
          @media print { .no-print { display: none; } body { background-color: #fff; -webkit-print-color-adjust: exact; print-color-adjust: exact; } .container { width: 100%; background-size: contain; box-shadow: none; border-radius: 0; padding: 10px; } }
        </style>
        <script>function imprimirRecibo(){window.print();}<\/script>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>${Ie.nombre}</h1>
            <img src="/vsr.png" alt="Logo" />
          </div>
          <h2>${ie}</h2>

          <div class="business-info">
            <p><strong>Propietario:</strong> ${Ie.propietario}</p>
            <p><strong>Direccin:</strong> ${Ie.direccion}</p>
            <p><strong>Telfono:</strong> ${Ie.telefono}</p>
            <p><strong>RTN:</strong> ${Ie.rtn}</p>
          </div>

          <div class="separator"></div>

            <div class="client-info">
            <h3>Datos del Cliente</h3>
            <p><strong>Identidad:</strong> <span class="value"> ${oe.identidad}</span></p>
            <p><strong>Nombre:</strong>  <span class="value">${oe.nombre}</span></p>
            <p><strong>Producto:</strong>  <span class="value">${oe.producto}</span></p>
            ${((le==null?void 0:le.tipo)??ge.tipo)==="contrato"?`
              <p><strong>Saldo:</strong> <span class="value"> ${ye(Number(oe.prevRestante??0))}</span></p>
              <p><strong>Valor Pagado:</strong> <span class="value">${oe.valorPagado}</span></p>
              <p><strong>Saldo actual:</strong> <span class="value">${ye(Number(oe.saldoActual??0))}</span></p>
            `:`
              <p><strong>Valor a Pagar:</strong> <span class="value">${oe.valorPagar}</span></p>
              <p><strong>Valor Pagado:</strong> <span class="value">${oe.valorPagado}</span></p>
              <p><strong>Prxima Fecha de Pago:</strong> ${oe.proximaFecha}</p>
            `}
          </div>

          <div class="separator"></div>

          <div class="footer">
            <p>Gracias por su preferencia!</p>
          </div>

          <button class="print-button no-print" onclick="imprimirRecibo()">Imprimir Recibo</button>
        </div>
      </body>
      </html>`}async function et(W,ge={}){try{const le=await Fe();let Ie={...ge??{}};!Ie.tipo&&(W!=null&&W.tipo)&&(Ie.tipo=W.tipo);try{if((W==null?void 0:W.tipo)==="suscripcion"&&(W!=null&&W.referencia_id)){const{data:U,error:q}=await J.from("suscripciones").select("proxima_fecha_de_pago").eq("id",W.referencia_id).limit(1).single();!q&&U&&(Ie.proxima_fecha_de_pago=U.proxima_fecha_de_pago)}if(W!=null&&W.cliente)try{const{data:U,error:q}=await J.from("clientes").select("id,nombre,rtn").eq("id",W.cliente).limit(1).single();!q&&U&&(Ie.clientRtn=U.rtn??null,Ie.clientNombre=U.nombre??null)}catch{}}catch{}const He=Ce(le,W,Ie);R(He),C(!0),H(Ie.tipo==="contrato")}catch(le){console.error("Error generando/iniciando factura:",le)}}async function Xe(){try{let W=null,ge={};if(u==="suscripcion"){if(!p){o({title:"Selecciona una suscripcin"});return}const le=Y(p),Ie=Number(A);if(isNaN(Ie)||Ie<=0){o({title:"Ingresa un monto vlido"});return}if(Ie<le){o({title:`El monto debe ser >= ${ye(le)}`});return}const He={fecha_de_creacion:w0(),tipo:"suscripcion",referencia_id:p.id,cliente:n||p.cliente,proyecto:p.proyecto,monto:Ie},{data:U,error:q}=await J.from("pagos").insert([He]).select().single();if(q)throw q;o({title:"Pago registrado"});try{const Q=p.mensualidad||0;await J.from("estado_cuenta").insert([{cliente_id:He.cliente,proyecto_id:He.proyecto,tipo:"suscripcion",monto:Ie,saldo_actual:Q-Ie,nota:"PAGO DE SUSCRIPCIN",fecha:He.fecha_de_creacion}])}catch(Q){console.error("Error registrando en estado_cuenta:",Q)}try{const Q=new Date,ne=Q.getDate(),oe=Q.getMonth(),ie=Q.getFullYear(),xe=p.dia_de_pago_mensual??ne;let Ue=oe+1,rt=ie;Ue>11&&(Ue=0,rt+=1);const Et=new Date(rt,Ue+1,0).getDate(),Ia=Math.min(xe,Et),z=new Date(rt,Ue,Ia).toISOString(),{error:Oe}=await J.from("suscripciones").update({proxima_fecha_de_pago:z}).eq("id",p.id);Oe?console.error("Error actualizando proxima_fecha_de_pago:",Oe):x({...p,proxima_fecha_de_pago:z})}catch(Q){console.error("Error al actualizar suscripcin tras pago:",Q)}try{W=U??He,await et(W,{minimo:le})}catch(Q){console.error("Error generando factura:",Q)}}else if(u==="contrato"){if(!_){o({title:"Selecciona un contrato"});return}const le=Number(A);if(isNaN(le)||le<=0){o({title:"Ingresa un monto vlido"});return}const Ie=await X(_);if(le>Ie+1e-4){o({title:"El monto no puede ser mayor al valor restante",description:ye(Ie)});return}const He={fecha_de_creacion:w0(),tipo:"contrato",referencia_id:_.id,cliente:n||_.cliente,proyecto:_.proyecto,monto:le},{data:U,error:q}=await J.from("pagos").insert([He]).select().single();if(q)throw q;o({title:"Pago registrado"});try{const ne=Ie-le;await J.from("estado_cuenta").insert([{cliente_id:He.cliente,proyecto_id:He.proyecto,tipo:"contrato",monto:le,saldo_actual:ne,nota:"ABONO A CONTRATO",fecha:He.fecha_de_creacion}])}catch(ne){console.error("Error registrando en estado_cuenta:",ne)}if(Math.abs(le-Ie)<=.005)try{const{error:ne}=await J.from("contratos").update({estado:"cancelado"}).eq("id",_.id);ne&&console.error("Error actualizando estado de contrato:",ne)}catch(ne){console.error("Error marcando contrato como cancelado:",ne)}W=U??He;try{if(G){const ne=R1(G),{error:oe}=await J.from("contratos").update({proximo_pago:ne}).eq("id",_.id);oe?console.error("Error actualizando proximo_pago en contrato:",oe):S({..._,proximo_pago:ne})}}catch(ne){console.error("Error al actualizar proximo_pago:",ne)}try{const{data:ne,error:oe}=await J.from("contratos").select("id,monto_total,pago_inicial").eq("id",_.id).limit(1).single();if(!oe&&ne){const{data:ie,error:xe}=await J.from("pagos").select("monto").eq("tipo","contrato").eq("referencia_id",ne.id);let Ue=0;!xe&&Array.isArray(ie)&&(Ue=ie.reduce((z,Oe)=>z+Number(Oe.monto??0),0));const rt=Number(ne.monto_total??0)-Number(ne.pago_inicial??0)-Ue,Et=Number(W.monto??0),Ia=rt+Et,Kn=Math.max(0,Ia-Et);ge.prevRestante=Ia,ge.saldoActual=Kn,ge.restanteAfter=rt}}catch{}try{await et(W,{...ge,minimo:le,tipo:"contrato"})}catch(ne){console.error("Error generando factura:",ne)}}t(!1),r==null||r(),jt.invalidateQueries({queryKey:["pagos"]}),jt.invalidateQueries({queryKey:["suscripciones"]}),jt.invalidateQueries({queryKey:["contratos"]})}catch(W){console.error("Error guardando pago:",W),o({title:"Error guardando pago",description:(W==null?void 0:W.message)??String(W)})}}return l.jsxs(l.Fragment,{children:[l.jsx(It,{open:e,onOpenChange:t,children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Registrar Cobro"})}),l.jsxs("div",{className:"space-y-4",children:[s===1&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de pago"}),l.jsxs(Vi,{value:u,onValueChange:W=>d(W),children:[l.jsx(mi,{children:l.jsx(Wi,{placeholder:"Selecciona tipo"})}),l.jsxs(gi,{children:[l.jsx(Rt,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Rt,{value:"contrato",children:"Contrato"})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),l.jsx(re,{onClick:ae,children:"Siguiente"})]})]}),s===2&&u==="suscripcion"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buscar Suscripcin (cliente o proyecto)"}),l.jsx(Me,{placeholder:"Filtrar...",value:m,onChange:W=>y(W.target.value)}),l.jsx("div",{className:"max-h-48 overflow-auto mt-2 space-y-2",children:f.filter(W=>{const ge=T[W.cliente]??String(W.cliente),le=N[W.proyecto]??String(W.proyecto);return(ge+" "+le).toLowerCase().includes(m.toLowerCase())}).map(W=>l.jsxs("div",{className:`p-2 border rounded ${(p==null?void 0:p.id)===W.id?"border-primary":""}`,onClick:()=>x(W),children:[l.jsxs("div",{className:"text-sm font-medium",children:[T[W.cliente]??W.cliente," "," ",N[W.proyecto]??W.proyecto]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Mensualidad:"," ",ye(Number(W.mensualidad??0)),"  Prxima:"," ",W.proxima_fecha_de_pago?Ve(W.proxima_fecha_de_pago):"-"]})]},W.id))}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(1),children:"Atrs"}),l.jsx(re,{onClick:()=>c(3),disabled:!p,children:"Siguiente"})]})]}),s===2&&u==="contrato"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buscar Contrato (cliente o proyecto)"}),l.jsx(Me,{placeholder:"Filtrar...",value:g,onChange:W=>j(W.target.value)}),l.jsx("div",{className:"max-h-48 overflow-auto mt-2 space-y-2",children:b.filter(W=>{const ge=T[W.cliente]??String(W.cliente),le=N[W.proyecto]??String(W.proyecto);return(ge+" "+le).toLowerCase().includes(g.toLowerCase())}).map(W=>l.jsxs("div",{className:`p-2 border rounded ${(_==null?void 0:_.id)===W.id?"border-primary":""}`,onClick:async()=>{S(W);try{const ge=W!=null&&W.proximo_pago?new Date(W.proximo_pago).toISOString().slice(0,16):"";k(ge||null)}catch{k(null)}try{const ge=await X(W);O(ge)}catch(ge){console.error("Error calculando restante al seleccionar contrato:",ge),O(null)}},children:[l.jsxs("div",{className:"text-sm font-medium",children:[T[W.cliente]??W.cliente," "," ",N[W.proyecto]??W.proyecto]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total: ",ye(Number(W.monto_total??0)),"  Inicial: ",ye(Number(W.pago_inicial??0))]})]},W.id))}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(1),children:"Atrs"}),l.jsx(re,{onClick:()=>c(3),disabled:!_,children:"Siguiente"})]})]}),s===3&&u==="suscripcion"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Valor a cobrar (mnimo):"," ",ye(Y(p))]}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-2",children:"Monto a cobrar"}),l.jsx(Me,{type:"number",step:"0.01",value:A,onChange:W=>P(W.target.value)}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(2),children:"Atrs"}),l.jsx(re,{onClick:Xe,children:"Guardar"})]})]}),s===3&&u==="contrato"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Valor restante:"," ",_?ye(E??0):"-"]}),l.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"(Se actualizar al seleccionar contrato)"}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-2",children:"Monto a cobrar"}),l.jsx(Me,{type:"number",step:"0.01",value:A,onChange:W=>P(W.target.value)}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-3",children:"Prximo pago (opcional)"}),l.jsx("input",{type:"datetime-local",value:G??"",onChange:W=>k(W.target.value||null),className:"mt-1 block w-full rounded-md border p-2"}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(2),children:"Atrs"}),l.jsx(re,{onClick:Xe,children:"Guardar"})]})]})]}),l.jsx(At,{})]})}),B&&$?l.jsx(It,{open:B,onOpenChange:W=>{C(W),W||(R(null),H(!1))},children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Factura"})}),l.jsx("div",{className:"mt-2",children:l.jsx(ZB,{open:B,html:$,onOpenChange:W=>{C(W),W||(R(null),H(!1))},autoPrint:D})}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>{C(!1),R(null),H(!1)},children:"Cerrar"}),l.jsx(re,{onClick:()=>{const W=document.querySelector('iframe[title="Factura"]'),ge=W==null?void 0:W.contentWindow;if(ge)try{ge.focus(),ge.print()}catch(le){console.error("Error imprimiendo factura:",le)}},children:"Imprimir"})]})})]})}):null]})}function Fje({status:e}){const t={pagado:{icon:va,className:"bg-green-500/10 text-green-600 dark:text-green-400",label:"Pagado"},pendiente:{icon:fi,className:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",label:"Pendiente"},vencido:{icon:sv,className:"bg-red-500/10 text-red-600 dark:text-red-400",label:"Vencido"}},{icon:r,className:n,label:i}=t[e]||t.pendiente;return l.jsxs(pr,{variant:"secondary",className:n,children:[l.jsx(r,{className:"h-3 w-3 mr-1"}),i]})}function Bje({payment:e,onMarkPaid:t}){const r=e.dueDate?Zd(e.dueDate):NaN,n=r<0&&e.status!=="pagado",i=r<=3&&r>=0&&e.status==="pendiente";return l.jsx(me,{onClick:()=>{},className:`hover-elevate transition-all cursor-pointer ${n?"border-red-500/50":i?"border-yellow-500/50":""}`,"data-testid":`card-payment-${e.id}`,children:l.jsxs(ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Qs,{className:"h-10 w-10 flex-shrink-0",children:l.jsx(Js,{className:"bg-primary/10 text-primary text-sm font-medium",children:rh(e.clientName)})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate",children:e.clientName}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.projectName}),e.tipo&&l.jsx("div",{className:"mt-1",children:l.jsx(pr,{variant:"secondary",className:"text-xs",children:String(e.tipo)})})]})]}),l.jsxs(J4,{children:[l.jsx(Z4,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"icon",onClick:a=>a.stopPropagation(),children:l.jsx(cR,{className:"h-4 w-4"})})}),l.jsx(NS,{align:"end",children:e.status!=="pagado"&&l.jsxs(AS,{onClick:()=>t(e.id),"data-testid":"menu-mark-paid",children:[l.jsx(th,{className:"h-4 w-4 mr-2"}),"Marcar como pagado"]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Monto:"}),l.jsx("span",{className:"text-lg font-bold",children:ye(Number(e.amount))})]}),e.paymentNumber&&e.paymentNumber>1&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Cuota:"}),l.jsxs("span",{className:"text-sm",children:["#",e.paymentNumber]})]}),e.paidDate&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha de pago:"}),l.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:Ve(e.paidDate)})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between gap-4",children:[l.jsx(Fje,{status:e.status}),e.status==="pendiente"&&l.jsx("span",{className:`text-xs ${n?"text-red-500":i?"text-yellow-500":"text-muted-foreground"}`,children:Number.isFinite(r)?n?`Vencido hace ${Math.abs(r)} dias`:r===0?"Vence hoy":`Vence en ${r} dias`:"Fecha no disponible"})]})]})})}function Uje(){const[e,t]=w.useState(""),[r,n]=w.useState("all"),[i,a]=w.useState("all"),{toast:o}=vr(),{data:s,isLoading:c}=it({queryKey:["pagos"],queryFn:async()=>{const{data:O,error:N}=await J.from("pagos").select("id,fecha_de_creacion,tipo,referencia_id,cliente,proyecto,monto,notas").order("fecha_de_creacion",{ascending:!1});if(N)throw N;return Array.isArray(O)?O:[]}}),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,y]=w.useState(!1),p=w.useRef(null),[x,b]=w.useState({}),[v,g]=w.useState({});w.useEffect(()=>{(async()=>{try{const[O,N]=await Promise.all([J.from("proyectos").select("id,nombre"),J.from("clientes").select("id,nombre")]),M=Array.isArray(O.data)?O.data:[],T=Array.isArray(N.data)?N.data:[],I={},A={};M.forEach(P=>{P!=null&&P.id&&(I[P.id]=P.nombre??P.id)}),T.forEach(P=>{P!=null&&P.id&&(A[P.id]=P.nombre??P.id)}),b(I),g(A)}catch(O){console.error("Error cargando meta en Pagos:",O)}})()},[]);const j=Es({mutationFn:async O=>Promise.resolve(null),onSuccess:()=>{jt.invalidateQueries({queryKey:["pagos"]}),jt.invalidateQueries({queryKey:["/api/stats"]}),o({title:"Pago registrado exitosamente"})},onError:()=>{o({title:"Error al registrar pago",variant:"destructive"})}}),_=Array.isArray(s)?s.map(O=>({id:O.id,amount:String(Number(O.monto??0)),clientId:O.cliente??null,referenceId:O.referencia_id??null,clientName:v[O.cliente]??O.cliente??"Cliente",projectName:x[O.proyecto]??O.proyecto??"Proyecto",tipo:O.tipo??null,dueDate:O.fecha_de_creacion??null,paidDate:O.fecha_de_creacion??null,notes:O.notas??null,status:"pagado",paymentNumber:null})):[],S=_.filter(O=>{const N=O.clientName.toLowerCase().includes(e.toLowerCase())||O.projectName.toLowerCase().includes(e.toLowerCase());let M=!0;r!=="all"&&(M=O.status===r);let T=!0;return i==="pending"?T=O.status==="pendiente":i==="overdue"?T=O.status==="vencido"||O.status==="pendiente"&&(O.dueDate?Zd(O.dueDate)<0:!1):i==="paid"&&(T=O.status==="pagado"),N&&M&&T}),E={total:_.length,pending:_.filter(O=>O.status==="pendiente").length,overdue:_.filter(O=>O.status==="vencido"||O.status==="pendiente"&&(O.dueDate?Zd(O.dueDate)<0:!1)).length,paid:_.filter(O=>O.status==="pagado").length};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Pagos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Seguimiento de todos los pagos"}),l.jsx("div",{className:"mt-3",children:l.jsx(re,{onClick:()=>d(!0),children:"Cobro"})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Pc,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.total}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-yellow-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(fi,{className:"h-5 w-5 text-yellow-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.pending}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pendientes"})]})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(sv,{className:"h-5 w-5 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.overdue}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Vencidos"})]})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(va,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.paid}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pagados"})]})]})})]}),l.jsxs(cje,{value:i,onValueChange:a,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs(hB,{children:[l.jsx(sd,{value:"all","data-testid":"tab-all",children:"Todos"}),l.jsx(sd,{value:"pending","data-testid":"tab-pending",children:"Pendientes"}),l.jsx(sd,{value:"overdue","data-testid":"tab-overdue",children:"Vencidos"}),l.jsx(sd,{value:"paid","data-testid":"tab-paid",children:"Pagados"})]}),l.jsx("div",{className:"flex-1 flex gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por cliente o proyecto...",value:e,onChange:O=>t(O.target.value),className:"pl-10","data-testid":"input-search-payments"})]})})]}),l.jsx(pB,{value:i,className:"mt-6",children:c?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(O=>l.jsx(me,{children:l.jsxs(ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(Ut,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ut,{className:"h-4 w-32 mb-1"}),l.jsx(Ut,{className:"h-3 w-24"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ut,{className:"h-4 w-full"}),l.jsx(Ut,{className:"h-4 w-3/4"})]})]})},O))}):S&&S.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(O=>l.jsx("div",{children:l.jsx(Bje,{payment:O,onMarkPaid:N=>j.mutate(N)})},O.id))}):l.jsx(me,{children:l.jsxs(ve,{className:"p-12 text-center",children:[l.jsx(Pc,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay pagos"}),l.jsx("p",{className:"text-muted-foreground",children:e?"No se encontraron pagos con esos criterios":"Los pagos apareceran aqui cuando agregues clientes"})]})})})]}),l.jsx(eU,{open:u,onOpenChange:d,onCreated:()=>{jt.invalidateQueries({queryKey:["/api/payments"]}),jt.invalidateQueries({queryKey:["/api/payments/recent"]}),jt.invalidateQueries({queryKey:["/api/payments/upcoming"]}),jt.invalidateQueries({queryKey:["/api/stats"]})}}),f&&m?l.jsx(It,{open:m,onOpenChange:y,children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Factura"})}),l.jsx("div",{className:"mt-2",children:l.jsx("iframe",{ref:p,srcDoc:f,title:"Factura",className:"w-full h-[70vh] border"})}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>y(!1),children:"Cerrar"}),l.jsx(re,{onClick:()=>{var N;const O=(N=p.current)==null?void 0:N.contentWindow;if(O)try{O.focus(),O.print()}catch(M){console.error("Error imprimiendo factura:",M),o({title:"Error imprimiendo factura"})}},children:"Imprimir"})]})})]})}):null]})}const ha=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",e),...t})}));ha.displayName="Table";const pa=w.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:he("[&_tr]:border-b",e),...t}));pa.displayName="TableHeader";const ma=w.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",e),...t}));ma.displayName="TableBody";const zje=w.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));zje.displayName="TableFooter";const fr=w.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));fr.displayName="TableRow";const We=w.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:he("h-10 px-2 sm:px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));We.displayName="TableHead";const ze=w.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:he("p-2 sm:p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ze.displayName="TableCell";const Vje=w.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",e),...t}));Vje.displayName="TableCaption";function Wje(e,t){if(!e)return 0;const r=typeof e=="string"?new Date(e):new Date(e),n=new Date,i=r.getDate(),a=r.getMonth(),o=r.getFullYear(),s=n.getDate(),c=n.getMonth();let d=(n.getFullYear()-o)*12+(c-a);return s<i&&(d-=1),Math.max(0,d)}function qje({subscription:e,onToggleStatus:t}){const r=e.nextPaymentDate?Zd(e.nextPaymentDate):0,n=r<=0&&e.isActive,i=r<=5&&r>0&&e.isActive;return l.jsx(me,{className:`hover-elevate transition-all ${e.isActive?"":"opacity-60"}`,"data-testid":`card-subscription-${e.id}`,children:l.jsxs(ve,{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[l.jsx(Qs,{className:"h-12 w-12 flex-shrink-0",children:l.jsx(Js,{className:"bg-primary/10 text-primary font-semibold",children:rh(e.clientName)})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate text-sm md:text-base",children:e.clientName}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:e.projectName})]})]}),t?l.jsx("div",{className:"ml-auto md:ml-0",children:l.jsxs(J4,{children:[l.jsx(Z4,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"icon",children:l.jsx(cR,{className:"h-4 w-4"})})}),l.jsx(NS,{align:"end",children:l.jsx(AS,{onClick:()=>t(e.id,!e.isActive),"data-testid":"menu-toggle-status",children:e.isActive?l.jsxs(l.Fragment,{children:[l.jsx(uR,{className:"h-4 w-4 mr-2"}),"Pausar suscripcion"]}):l.jsxs(l.Fragment,{children:[l.jsx($V,{className:"h-4 w-4 mr-2"}),"Reactivar suscripcion"]})})})]})}):null]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Monto mensual"}),l.jsx("span",{className:"text-lg md:text-xl font-bold text-primary",children:ye(Number(e.monthlyAmount))})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Inicio"}),l.jsx("span",{className:"text-sm",children:Ve(e.startDate)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Prximo pago"}),l.jsx("span",{className:`font-medium ${n?"text-red-500":i?"text-yellow-500":""} text-sm md:text-base`,children:e.nextPaymentDate?Ve(e.nextPaymentDate):"-"}),l.jsxs("span",{className:"text-xs text-muted-foreground mt-1",children:["ltimo pago: ",e.lastPaymentDate?Ve(e.lastPaymentDate):"Pendiente"]})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(pr,{variant:"secondary",className:e.isActive?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground",children:e.isActive?l.jsxs(l.Fragment,{children:[l.jsx(va,{className:"h-3 w-3 mr-1"}),"Activa"]}):l.jsxs(l.Fragment,{children:[l.jsx(SV,{className:"h-3 w-3 mr-1"}),"Pausada"]})}),n&&e.isActive&&l.jsx("span",{className:"text-xs text-red-500 font-medium",children:"Pago vencido"}),i&&l.jsxs("span",{className:"text-xs text-yellow-500",children:["Vence en ",r," dias"]})]}),l.jsx("div",{className:"ml-auto w-full md:w-auto flex gap-2",children:t&&l.jsx(re,{size:"sm",variant:"outline",className:"w-full md:w-auto",onClick:()=>t(e.id,!e.isActive),children:e.isActive?"Pausar":"Reactivar"})})]})]})})}function Hje(){const[e,t]=w.useState(""),[r,n]=w.useState("all"),[i,a]=w.useState("all"),{toast:o}=vr(),[s,c]=w.useState({}),[u,d]=w.useState({});async function f(){try{const[F,K]=await Promise.all([J.from("proyectos").select("id,nombre"),J.from("clientes").select("id,nombre")]),Z=Array.isArray(F.data)?F.data:[],se=Array.isArray(K.data)?K.data:[],te={},ae={};Z.forEach(Y=>{Y!=null&&Y.id&&(te[Y.id]=Y.nombre??Y.id)}),se.forEach(Y=>{Y!=null&&Y.id&&(ae[Y.id]=Y.nombre??Y.id)}),c(te),d(ae)}catch(F){console.error("Error cargando meta:",F)}}const{data:h,isLoading:m}=it({queryKey:["suscripciones"],queryFn:async()=>{const{data:F,error:K}=await J.from("suscripciones").select("*").order("fecha_de_creacion",{ascending:!1});if(K)throw K;return Array.isArray(F)?F:[]}});w.useEffect(()=>{f()},[]);const y=(Array.isArray(h)?h:[]).map(F=>({id:F.id,clientName:u[F.cliente]??F.cliente??"Cliente",projectName:s[F.proyecto]??F.proyecto??"Proyecto",monthlyAmount:Number(F.mensualidad??0),startDate:F.fecha_de_creacion??F.created_at??null,lastPaymentDate:F.ultimo_pago??null,nextPaymentDate:F.proxima_fecha_de_pago??null,isActive:F.is_active===void 0?!0:!!F.is_active})),p=y.filter(F=>{const K=(F.clientName??"").toLowerCase().includes(e.toLowerCase())||(F.projectName??"").toLowerCase().includes(e.toLowerCase());let Z=!0;r==="active"?Z=F.isActive===!0:r==="paused"&&(Z=F.isActive===!1);let se=!0;if(i!=="all"){const te=new Date;te.setHours(0,0,0,0);const ae=F.nextPaymentDate?new Date(F.nextPaymentDate):null;ae?(ae.setHours(0,0,0,0),te>ae?se=i==="atraso":se=i==="aldia"):se=i==="all"}return K&&Z&&se}),x=y.filter(F=>F.isActive)||[],b=x.reduce((F,K)=>F+Number(K.monthlyAmount??0),0),v=b*12,[g,j]=w.useState(null),[_,S]=w.useState(!1),[E,O]=w.useState(!1),[N,M]=w.useState(""),[T,I]=w.useState(""),[A,P]=w.useState(!1),[$,R]=w.useState(""),B=F=>{if(j(F),M(String(F.monthlyAmount??"")),F.nextPaymentDate){const K=Tr(F.nextPaymentDate);if(K){const Z=K.getFullYear(),se=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0");I(`${Z}-${se}-${te}`)}else I("")}else I("");O(!1),S(!0)},C=()=>{S(!1),j(null)},D=async()=>{if(g)try{const F=!g.isActive,{error:K}=await J.from("suscripciones").update({is_active:F}).eq("id",g.id);if(K)throw K;j({...g,isActive:F}),jt.invalidateQueries({queryKey:["suscripciones"]}),o({title:F?"Suscripcin reactivada":"Suscripcin pausada"})}catch(F){console.error("Error actualizando suscripcin:",F),o({title:"Error al actualizar suscripcin",description:(F==null?void 0:F.message)??String(F)})}},H=async()=>{if(!g)return;let F="";if(g.nextPaymentDate){const Z=Tr(g.nextPaymentDate);if(Z){const se=Z.getFullYear(),te=String(Z.getMonth()+1).padStart(2,"0"),ae=String(Z.getDate()).padStart(2,"0");F=`${se}-${te}-${ae}`}}if(T!==F){P(!0);return}await G()},G=async()=>{if(g)try{const F=N?Number(N):0,K=T?R1(T):null,Z={mensualidad:F};K&&(Z.proxima_fecha_de_pago=K);const{error:se}=await J.from("suscripciones").update(Z).eq("id",g.id);if(se)throw se;const te={...g,monthlyAmount:F,nextPaymentDate:K};if(j(te),M(String(F)),K){const ae=Tr(K);if(ae){const Y=ae.getFullYear(),de=String(ae.getMonth()+1).padStart(2,"0"),ue=String(ae.getDate()).padStart(2,"0");I(`${Y}-${de}-${ue}`)}}jt.invalidateQueries({queryKey:["suscripciones"]}),o({title:"Suscripcin actualizada"}),O(!1),P(!1),R("")}catch(F){console.error("Error guardando cambios:",F),o({title:"Error al guardar cambios",description:(F==null?void 0:F.message)??String(F)})}},k=async()=>{try{const{data:F,error:K}=await J.from("configuracion").select("clave").limit(1).single();if(K){console.error("Error obteniendo configuracin:",K),o({title:"Error al verificar contrasea",description:`No se pudo obtener la configuracin: ${K.message}`,variant:"destructive"});return}console.log("Configuracin obtenida:",F),console.log("Clave en configuracin:",F==null?void 0:F.clave),console.log("Contrasea ingresada:",$);const Z=F==null?void 0:F.clave;if(!Z){o({title:"Contrasea no configurada",description:"Por favor configura una contrasea en Configuracin primero",variant:"destructive"});return}if($!==Z){console.log("Contraseas no coinciden"),o({title:"Contrasea incorrecta",description:"La contrasea ingresada no es vlida",variant:"destructive"});return}console.log("Contrasea correcta, guardando..."),await G()}catch(F){console.error("Error en validacin de contrasea:",F),o({title:"Error",description:(F==null?void 0:F.message)||"Error al validar contrasea",variant:"destructive"})}};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Suscripciones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona tus ingresos recurrentes"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx(me,{className:"md:col-span-2 bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs(ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:l.jsx(So,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingreso Mensual Recurrente (MRR)"}),l.jsx("p",{className:"text-3xl font-bold",children:ye(b)})]})]}),l.jsx("div",{className:"flex items-center gap-6 text-sm",children:l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"ARR proyectado:"}),l.jsx("span",{className:"font-semibold ml-2",children:ye(v)})]})})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-6 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Jd,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold",children:x.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Suscripciones activas"})]})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-6 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(bm,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold",children:x.length>0?ye(b/x.length):ye(0)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio por cliente"})]})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por cliente o proyecto...",value:e,onChange:F=>t(F.target.value),className:"pl-10","data-testid":"input-search-subscriptions"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:r==="all"?"secondary":"ghost",onClick:()=>n("all"),"data-testid":"filter-all",children:"Todas"}),l.jsx(re,{variant:r==="active"?"secondary":"ghost",onClick:()=>n("active"),"data-testid":"filter-active",children:"Activas"}),l.jsx(re,{variant:r==="paused"?"secondary":"ghost",onClick:()=>n("paused"),"data-testid":"filter-paused",children:"Pausadas"}),l.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[l.jsx(re,{variant:i==="all"?"secondary":"ghost",onClick:()=>a("all"),"data-testid":"filter-status-all",children:"Estado: Todas"}),l.jsx(re,{variant:i==="aldia"?"secondary":"ghost",onClick:()=>a("aldia"),"data-testid":"filter-status-aldia",children:"Al Da"}),l.jsx(re,{variant:i==="atraso"?"secondary":"ghost",onClick:()=>a("atraso"),"data-testid":"filter-status-atraso",children:"Atraso"})]})]})]}),m?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(F=>l.jsx(me,{children:l.jsxs(ve,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(Ut,{className:"h-12 w-12 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Ut,{className:"h-4 w-32 mb-2"}),l.jsx(Ut,{className:"h-3 w-24"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Ut,{className:"h-4 w-full"}),l.jsx(Ut,{className:"h-4 w-3/4"}),l.jsx(Ut,{className:"h-4 w-1/2"})]})]})},F))}):p&&p.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mt-4",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Cliente"}),l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Mensualidad"}),l.jsx(We,{children:"Inicio"}),l.jsx(We,{children:"Meses transcurridos"}),l.jsx(We,{children:"Prximo pago"}),l.jsx(We,{children:"Estado"}),l.jsx(We,{children:"Activo"}),l.jsx(We,{children:"Accin"})]})}),l.jsx(ma,{children:p.map(F=>l.jsxs(fr,{onClick:()=>B(F),className:"cursor-pointer",role:"button",children:[l.jsx(ze,{className:"truncate max-w-xs",children:F.clientName}),l.jsx(ze,{className:"truncate max-w-xs",children:F.projectName}),l.jsx(ze,{children:ye(Number(F.monthlyAmount??0))}),l.jsx(ze,{children:F.startDate?Ve(F.startDate):"-"}),l.jsx(ze,{children:F.startDate?`${Wje(F.startDate)} meses`:"-"}),l.jsx(ze,{children:F.nextPaymentDate?Ve(F.nextPaymentDate):"-"}),l.jsx(ze,{children:F.nextPaymentDate?(()=>{const K=new Date,Z=new Date(F.nextPaymentDate);return K.setHours(0,0,0,0),Z.setHours(0,0,0,0),K>Z?l.jsx("span",{className:"text-red-600 font-semibold",children:"ATRASO"}):l.jsx("span",{className:"text-green-600 font-semibold",children:"AL DA"})})():l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(ze,{children:l.jsx(pr,{variant:"secondary",className:F.isActive?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground",children:F.isActive?"Activa":"Pausada"})}),l.jsx(ze,{children:F.nextPaymentDate?(()=>{const K=new Date,Z=new Date(F.nextPaymentDate);return K.setHours(0,0,0,0),Z.setHours(0,0,0,0),K>Z?l.jsx(re,{size:"sm",variant:"destructive",children:"Cobrar"}):null})():null})]},F.id))})]})}),l.jsx(It,{open:_,onOpenChange:F=>{F?S(F):C()},children:l.jsxs(Pt,{className:"max-w-[95vw] md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Nt,{className:"space-y-2",children:l.jsx(Ct,{className:"text-lg md:text-xl",children:"Detalle de Suscripcin"})}),l.jsx("div",{className:"mt-2 md:mt-4",children:g?E?l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Mensualidad"}),l.jsx(Me,{type:"number",step:"0.01",value:N,onChange:F=>M(F.target.value),className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Prxima fecha de pago"}),l.jsx(Me,{type:"date",value:T,onChange:F=>I(F.target.value),className:"w-full"})]})]}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end pt-2",children:[l.jsx(re,{variant:"outline",onClick:()=>O(!1),className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:H,className:"w-full sm:w-auto",children:"Guardar"})]})]}):l.jsx("div",{className:"space-y-4",children:l.jsx(qje,{subscription:g})}):l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No hay detalle seleccionado"})}),l.jsx(At,{className:"mt-4",children:l.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-end gap-2",children:[l.jsx(re,{variant:g&&g.isActive?"destructive":"secondary",onClick:D,disabled:!g,className:"w-full sm:w-auto order-2 sm:order-1",children:g&&g.isActive?"Pausar suscripcin":"Reactivar suscripcin"}),!E&&l.jsx(re,{variant:"ghost",onClick:()=>O(!0),disabled:!g,className:"w-full sm:w-auto order-1 sm:order-2",children:"Editar"}),l.jsx(re,{variant:"ghost",onClick:C,className:"w-full sm:w-auto order-3",children:"Cerrar"})]})})]})}),l.jsx(It,{open:A,onOpenChange:F=>{P(F),F||R("")},children:l.jsxs(Pt,{className:"max-w-[95vw] md:max-w-md",children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-base md:text-lg",children:"Confirmar cambio de fecha de pago"})}),l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Para modificar la prxima fecha de pago, ingresa la contrasea de administrador."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Contrasea"}),l.jsx(Me,{type:"password",placeholder:"Ingresa la contrasea",value:$,onChange:F=>R(F.target.value),onKeyDown:F=>{F.key==="Enter"&&k()},className:"w-full"})]})]}),l.jsxs(At,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{P(!1),R("")},className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancelar"}),l.jsx(re,{onClick:k,className:"w-full sm:w-auto order-1 sm:order-2",children:"Confirmar"})]})]})})]}):l.jsx(me,{children:l.jsxs(ve,{className:"p-12 text-center",children:[l.jsx(ov,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay suscripciones"}),l.jsx("p",{className:"text-muted-foreground",children:e?"No se encontraron suscripciones con esos criterios":"Las suscripciones apareceran aqui cuando agregues clientes con modelo de suscripcion"})]})})]})}var IT=1,Kje=.9,Gje=.8,Yje=.17,ob=.1,sb=.999,Xje=.9999,Qje=.99,Jje=/[\\\/_+.#"@\[\(\{&]/,Zje=/[\\\/_+.#"@\[\(\{&]/g,eSe=/[\s-]/,tU=/[\s-]/g;function E_(e,t,r,n,i,a,o){if(a===t.length)return i===e.length?IT:Qje;var s=`${i},${a}`;if(o[s]!==void 0)return o[s];for(var c=n.charAt(a),u=r.indexOf(c,i),d=0,f,h,m,y;u>=0;)f=E_(e,t,r,n,u+1,a+1,o),f>d&&(u===i?f*=IT:Jje.test(e.charAt(u-1))?(f*=Gje,m=e.slice(i,u-1).match(Zje),m&&i>0&&(f*=Math.pow(sb,m.length))):eSe.test(e.charAt(u-1))?(f*=Kje,y=e.slice(i,u-1).match(tU),y&&i>0&&(f*=Math.pow(sb,y.length))):(f*=Yje,i>0&&(f*=Math.pow(sb,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=Xje)),(f<ob&&r.charAt(u-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(u-1)!==n.charAt(a))&&(h=E_(e,t,r,n,u+1,a+2,o),h*ob>f&&(f=h*ob)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[s]=d,d}function MT(e){return e.toLowerCase().replace(tU," ")}function tSe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,E_(e,t,MT(e),MT(t),0,0,{})}var Ju='[cmdk-group=""]',lb='[cmdk-group-items=""]',rSe='[cmdk-group-heading=""]',rU='[cmdk-item=""]',DT=`${rU}:not([aria-disabled="true"])`,O_="cmdk-item-select",Sl="data-value",nSe=(e,t,r)=>tSe(e,t,r),nU=w.createContext(void 0),Eh=()=>w.useContext(nU),iU=w.createContext(void 0),$S=()=>w.useContext(iU),aU=w.createContext(void 0),oU=w.forwardRef((e,t)=>{let r=El(()=>{var k,F;return{search:"",value:(F=(k=e.value)!=null?k:e.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=El(()=>new Set),i=El(()=>new Map),a=El(()=>new Map),o=El(()=>new Set),s=sU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:y,disablePointerSelection:p=!1,vimBindings:x=!0,...b}=e,v=gr(),g=gr(),j=gr(),_=w.useRef(null),S=pSe();Hs(()=>{if(d!==void 0){let k=d.trim();r.current.value=k,E.emit()}},[d]),Hs(()=>{S(6,A)},[]);let E=w.useMemo(()=>({subscribe:k=>(o.current.add(k),()=>o.current.delete(k)),snapshot:()=>r.current,setState:(k,F,K)=>{var Z,se,te,ae;if(!Object.is(r.current[k],F)){if(r.current[k]=F,k==="search")I(),M(),S(1,T);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(j);Y?Y.focus():(Z=document.getElementById(v))==null||Z.focus()}if(S(7,()=>{var Y;r.current.selectedItemId=(Y=P())==null?void 0:Y.id,E.emit()}),K||S(5,A),((se=s.current)==null?void 0:se.value)!==void 0){let Y=F??"";(ae=(te=s.current).onValueChange)==null||ae.call(te,Y);return}}E.emit()}},emit:()=>{o.current.forEach(k=>k())}}),[]),O=w.useMemo(()=>({value:(k,F,K)=>{var Z;F!==((Z=a.current.get(k))==null?void 0:Z.value)&&(a.current.set(k,{value:F,keywords:K}),r.current.filtered.items.set(k,N(F,K)),S(2,()=>{M(),E.emit()}))},item:(k,F)=>(n.current.add(k),F&&(i.current.has(F)?i.current.get(F).add(k):i.current.set(F,new Set([k]))),S(3,()=>{I(),M(),r.current.value||T(),E.emit()}),()=>{a.current.delete(k),n.current.delete(k),r.current.filtered.items.delete(k);let K=P();S(4,()=>{I(),(K==null?void 0:K.getAttribute("id"))===k&&T(),E.emit()})}),group:k=>(i.current.has(k)||i.current.set(k,new Set),()=>{a.current.delete(k),i.current.delete(k)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:v,inputId:j,labelId:g,listInnerRef:_}),[]);function N(k,F){var K,Z;let se=(Z=(K=s.current)==null?void 0:K.filter)!=null?Z:nSe;return k?se(k,r.current.search,F):0}function M(){if(!r.current.search||s.current.shouldFilter===!1)return;let k=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(Z=>{let se=i.current.get(Z),te=0;se.forEach(ae=>{let Y=k.get(ae);te=Math.max(Y,te)}),F.push([Z,te])});let K=_.current;$().sort((Z,se)=>{var te,ae;let Y=Z.getAttribute("id"),de=se.getAttribute("id");return((te=k.get(de))!=null?te:0)-((ae=k.get(Y))!=null?ae:0)}).forEach(Z=>{let se=Z.closest(lb);se?se.appendChild(Z.parentElement===se?Z:Z.closest(`${lb} > *`)):K.appendChild(Z.parentElement===K?Z:Z.closest(`${lb} > *`))}),F.sort((Z,se)=>se[1]-Z[1]).forEach(Z=>{var se;let te=(se=_.current)==null?void 0:se.querySelector(`${Ju}[${Sl}="${encodeURIComponent(Z[0])}"]`);te==null||te.parentElement.appendChild(te)})}function T(){let k=$().find(K=>K.getAttribute("aria-disabled")!=="true"),F=k==null?void 0:k.getAttribute(Sl);E.setState("value",F||void 0)}function I(){var k,F,K,Z;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let se=0;for(let te of n.current){let ae=(F=(k=a.current.get(te))==null?void 0:k.value)!=null?F:"",Y=(Z=(K=a.current.get(te))==null?void 0:K.keywords)!=null?Z:[],de=N(ae,Y);r.current.filtered.items.set(te,de),de>0&&se++}for(let[te,ae]of i.current)for(let Y of ae)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=se}function A(){var k,F,K;let Z=P();Z&&(((k=Z.parentElement)==null?void 0:k.firstChild)===Z&&((K=(F=Z.closest(Ju))==null?void 0:F.querySelector(rSe))==null||K.scrollIntoView({block:"nearest"})),Z.scrollIntoView({block:"nearest"}))}function P(){var k;return(k=_.current)==null?void 0:k.querySelector(`${rU}[aria-selected="true"]`)}function $(){var k;return Array.from(((k=_.current)==null?void 0:k.querySelectorAll(DT))||[])}function R(k){let F=$()[k];F&&E.setState("value",F.getAttribute(Sl))}function B(k){var F;let K=P(),Z=$(),se=Z.findIndex(ae=>ae===K),te=Z[se+k];(F=s.current)!=null&&F.loop&&(te=se+k<0?Z[Z.length-1]:se+k===Z.length?Z[0]:Z[se+k]),te&&E.setState("value",te.getAttribute(Sl))}function C(k){let F=P(),K=F==null?void 0:F.closest(Ju),Z;for(;K&&!Z;)K=k>0?fSe(K,Ju):hSe(K,Ju),Z=K==null?void 0:K.querySelector(DT);Z?E.setState("value",Z.getAttribute(Sl)):B(k)}let D=()=>R($().length-1),H=k=>{k.preventDefault(),k.metaKey?D():k.altKey?C(1):B(1)},G=k=>{k.preventDefault(),k.metaKey?R(0):k.altKey?C(-1):B(-1)};return w.createElement(Se.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:k=>{var F;(F=b.onKeyDown)==null||F.call(b,k);let K=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||K))switch(k.key){case"n":case"j":{x&&k.ctrlKey&&H(k);break}case"ArrowDown":{H(k);break}case"p":case"k":{x&&k.ctrlKey&&G(k);break}case"ArrowUp":{G(k);break}case"Home":{k.preventDefault(),R(0);break}case"End":{k.preventDefault(),D();break}case"Enter":{k.preventDefault();let Z=P();if(Z){let se=new Event(O_);Z.dispatchEvent(se)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:gSe},c),Ay(e,k=>w.createElement(iU.Provider,{value:E},w.createElement(nU.Provider,{value:O},k))))}),iSe=w.forwardRef((e,t)=>{var r,n;let i=gr(),a=w.useRef(null),o=w.useContext(aU),s=Eh(),c=sU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;Hs(()=>{if(!u)return s.item(i,o==null?void 0:o.id)},[u]);let d=lU(i,a,[e.value,e.children,a],e.keywords),f=$S(),h=No(S=>S.value&&S.value===d.current),m=No(S=>u||s.filter()===!1?!0:S.search?S.filtered.items.get(i)>0:!0);w.useEffect(()=>{let S=a.current;if(!(!S||e.disabled))return S.addEventListener(O_,y),()=>S.removeEventListener(O_,y)},[m,e.onSelect,e.disabled]);function y(){var S,E;p(),(E=(S=c.current).onSelect)==null||E.call(S,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:b,onSelect:v,forceMount:g,keywords:j,..._}=e;return w.createElement(Se.div,{ref:Ea(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||s.getDisablePointerSelection()?void 0:p,onClick:x?void 0:y},e.children)}),aSe=w.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...a}=e,o=gr(),s=w.useRef(null),c=w.useRef(null),u=gr(),d=Eh(),f=No(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);Hs(()=>d.group(o),[]),lU(o,s,[e.value,e.heading,c]);let h=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(Se.div,{ref:Ea(s,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Ay(e,m=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},w.createElement(aU.Provider,{value:h},m))))}),oSe=w.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=w.useRef(null),a=No(o=>!o.search);return!r&&!a?null:w.createElement(Se.div,{ref:Ea(i,t),...n,"cmdk-separator":"",role:"separator"})}),sSe=w.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,a=$S(),o=No(u=>u.search),s=No(u=>u.selectedItemId),c=Eh();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(Se.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":s,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),r==null||r(u.target.value)}})}),lSe=w.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),s=No(u=>u.selectedItemId),c=Eh();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),w.createElement(Se.div,{ref:Ea(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":n,id:c.listId},Ay(e,u=>w.createElement("div",{ref:Ea(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),cSe=w.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:a,container:o,...s}=e;return w.createElement(Q1,{open:r,onOpenChange:n},w.createElement(J1,{container:o},w.createElement(sh,{"cmdk-overlay":"",className:i}),w.createElement(lh,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(oU,{ref:t,...s}))))}),uSe=w.forwardRef((e,t)=>No(r=>r.filtered.count===0)?w.createElement(Se.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),dSe=w.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...a}=e;return w.createElement(Se.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Ay(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),cn=Object.assign(oU,{List:lSe,Item:iSe,Input:sSe,Group:aSe,Separator:oSe,Dialog:cSe,Empty:uSe,Loading:dSe});function fSe(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function hSe(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function sU(e){let t=w.useRef(e);return Hs(()=>{t.current=e}),t}var Hs=typeof window>"u"?w.useEffect:w.useLayoutEffect;function El(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function No(e){let t=$S(),r=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,r,r)}function lU(e,t,r,n=[]){let i=w.useRef(),a=Eh();return Hs(()=>{var o;let s=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=n.map(u=>u.trim());a.value(e,s,c),(o=t.current)==null||o.setAttribute(Sl,s),i.current=s}),i}var pSe=()=>{let[e,t]=w.useState(),r=El(()=>new Map);return Hs(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function mSe(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ay({asChild:e,children:t},r){return e&&w.isValidElement(t)?w.cloneElement(mSe(t),{ref:t.ref},r(t.props.children)):r(t)}var gSe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const cU=w.forwardRef(({className:e,...t},r)=>l.jsx(cn,{ref:r,className:he("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));cU.displayName=cn.displayName;const uU=w.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(ko,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(cn.Input,{ref:r,className:he("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));uU.displayName=cn.Input.displayName;const dU=w.forwardRef(({className:e,...t},r)=>l.jsx(cn.List,{ref:r,className:he("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));dU.displayName=cn.List.displayName;const fU=w.forwardRef((e,t)=>l.jsx(cn.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));fU.displayName=cn.Empty.displayName;const hU=w.forwardRef(({className:e,...t},r)=>l.jsx(cn.Group,{ref:r,className:he("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));hU.displayName=cn.Group.displayName;const vSe=w.forwardRef(({className:e,...t},r)=>l.jsx(cn.Separator,{ref:r,className:he("-mx-1 h-px bg-border",e),...t}));vSe.displayName=cn.Separator.displayName;const pU=w.forwardRef(({className:e,...t},r)=>l.jsx(cn.Item,{ref:r,className:he("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));pU.displayName=cn.Item.displayName;var RS="Popover",[mU,OEe]=on(RS,[$o]),Oh=$o(),[ySe,Vo]=mU(RS),gU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=Oh(t),c=w.useRef(null),[u,d]=w.useState(!1),[f=!1,h]=qi({prop:n,defaultProp:i,onChange:a});return l.jsx(fv,{...s,children:l.jsx(ySe,{scope:t,contentId:gr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};gU.displayName=RS;var vU="PopoverAnchor",xSe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(vU,r),a=Oh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return w.useEffect(()=>(o(),()=>s()),[o,s]),l.jsx(ih,{...a,...n,ref:t})});xSe.displayName=vU;var yU="PopoverTrigger",xU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(yU,r),a=Oh(r),o=Je(t,i.triggerRef),s=l.jsx(Se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":SU(i.open),...n,ref:o,onClick:pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:l.jsx(ih,{asChild:!0,...a,children:s})});xU.displayName=yU;var IS="PopoverPortal",[bSe,wSe]=mU(IS,{forceMount:void 0}),bU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=Vo(IS,t);return l.jsx(bSe,{scope:t,forceMount:r,children:l.jsx(sn,{present:r||a.open,children:l.jsx(cu,{asChild:!0,container:i,children:n})})})};bU.displayName=IS;var nu="PopoverContent",wU=w.forwardRef((e,t)=>{const r=wSe(nu,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=Vo(nu,e.__scopePopover);return l.jsx(sn,{present:n||a.open,children:a.modal?l.jsx(jSe,{...i,ref:t}):l.jsx(SSe,{...i,ref:t})})});wU.displayName=nu;var _Se=jo("PopoverContent.RemoveScroll"),jSe=w.forwardRef((e,t)=>{const r=Vo(nu,e.__scopePopover),n=w.useRef(null),i=Je(t,n),a=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return _v(o)},[]),l.jsx(oh,{as:_Se,allowPinchZoom:!0,children:l.jsx(_U,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,u=s.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),SSe=w.forwardRef((e,t)=>{const r=Vo(nu,e.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return l.jsx(_U,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),_U=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Vo(nu,r),m=Oh(r);return xv(),l.jsx(ah,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Xs,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(hv,{"data-state":SU(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),jU="PopoverClose",ESe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(jU,r);return l.jsx(Se.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});ESe.displayName=jU;var OSe="PopoverArrow",PSe=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Oh(r);return l.jsx(pv,{...i,...n,ref:t})});PSe.displayName=OSe;function SU(e){return e?"open":"closed"}var NSe=gU,ASe=xU,CSe=bU,EU=wU;const TSe=NSe,kSe=ASe,OU=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>l.jsx(CSe,{children:l.jsx(EU,{ref:i,align:t,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));OU.displayName=EU.displayName;function $Se(){var I;const[e,t]=w.useState(""),[r,n]=w.useState(""),[i,a]=w.useState(!1),[o,s]=w.useState("all"),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,p]=w.useState([]),[x,b]=w.useState(!1),{data:v=[]}=it({queryKey:["clientes"],queryFn:async()=>{const{data:A,error:P}=await J.from("clientes").select("id,nombre,rtn");if(P)throw P;return Array.isArray(A)?A:[]}}),{data:g=[]}=it({queryKey:["proyectos"],queryFn:async()=>{const{data:A,error:P}=await J.from("proyectos").select("id,nombre");if(P)throw P;return Array.isArray(A)?A:[]}}),{data:j=[]}=it({queryKey:["suscripciones",e],enabled:o==="suscripcion"&&!!e,queryFn:async()=>{const{data:A,error:P}=await J.from("suscripciones").select("id,cliente,proyecto").eq("cliente",e);if(P)throw P;return Array.isArray(A)?A:[]}}),{data:_=[]}=it({queryKey:["contratos",e],enabled:o==="contrato"&&!!e,queryFn:async()=>{const{data:A,error:P}=await J.from("contratos").select("id,cliente,proyecto").eq("cliente",e);if(P)throw P;return Array.isArray(A)?A:[]}});w.useEffect(()=>{u("")},[e,o]);const S=A=>{const P=g.find($=>$.id===A);return P?P.nombre:A},[E,O]=w.useState(!1),[N,M]=w.useState(null),T=o==="suscripcion"?(j||[]).map(A=>({id:A.proyecto,label:S(A.proyecto)})):o==="contrato"?(_||[]).map(A=>({id:A.proyecto,label:S(A.proyecto)})):[];return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Estado de Cuentas"})})}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Filtros"})}),l.jsx(ve,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"RTN / Cliente"}),l.jsxs(TSe,{open:i,onOpenChange:a,children:[l.jsx(kSe,{asChild:!0,children:l.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between font-normal",children:[e?(()=>{const A=v.find(P=>P.id===e);return A!=null&&A.rtn?`${A.rtn}  ${A.nombre}`:A==null?void 0:A.nombre})():"Buscar por RTN o nombre...",l.jsx(_V,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(OU,{className:"w-[400px] p-0",align:"start",children:l.jsxs(cU,{shouldFilter:!1,children:[l.jsx(uU,{placeholder:"Escribir RTN o nombre del cliente...",value:r,onValueChange:n}),l.jsxs(dU,{children:[l.jsx(fU,{children:"No se encontraron clientes."}),l.jsx(hU,{children:v.filter(A=>{if(!r)return!0;const P=r.toLowerCase(),$=(A.rtn||"").toLowerCase(),R=(A.nombre||"").toLowerCase();return $.includes(P)||R.includes(P)}).map(A=>l.jsxs(pU,{value:A.rtn?`${A.rtn}  ${A.nombre}`:A.nombre,onSelect:()=>{t(A.id),n(""),a(!1)},children:[l.jsx(th,{className:he("mr-2 h-4 w-4",e===A.id?"opacity-100":"opacity-0")}),A.rtn?`${A.rtn}  ${A.nombre}`:A.nombre]},A.id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Tipo de contrato"}),l.jsxs(Vi,{value:o,onValueChange:A=>s(A),children:[l.jsx(mi,{children:l.jsx(Wi,{children:o==="all"?"Todos":o||"Todos"})}),l.jsxs(gi,{children:[l.jsx(Rt,{value:"all",children:"Todos"}),l.jsx(Rt,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Rt,{value:"contrato",children:"Contrato"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Proyecto"}),l.jsxs(Vi,{value:c,onValueChange:A=>u(A),disabled:!e||o==="all",children:[l.jsx(mi,{children:l.jsx(Wi,{children:!e||o==="all"?"Seleccione cliente y tipo":((I=T.find(A=>A.id===c))==null?void 0:I.label)??"Seleccione proyecto"})}),l.jsx(gi,{children:T.length===0?l.jsx(Rt,{value:"none",disabled:!0,children:"No hay proyectos"}):T.map(A=>l.jsx(Rt,{value:A.id,children:A.label},A.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fecha desde"}),l.jsx(Me,{type:"date",value:d,onChange:A=>f(A.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fecha hasta"}),l.jsx(Me,{type:"date",value:h,onChange:A=>m(A.target.value)})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx(re,{onClick:async()=>{b(!0);try{let A=J.from("estado_cuenta").select("id,fecha,tipo,cliente_id,proyecto_id,monto,saldo_actual,nota");if(e&&(A=A.eq("cliente_id",e)),o&&o!=="all"&&(A=A.eq("tipo",o)),c&&c!=="none"&&(A=A.eq("proyecto_id",c)),d){const R=gR(d);A=A.gte("fecha",R)}if(h){const R=vR(h);A=A.lte("fecha",R)}const{data:P,error:$}=await A.order("fecha",{ascending:!1});if($)throw $;p(Array.isArray(P)?P:[])}catch(A){console.error("Error buscando movimientos:",A)}finally{b(!1)}},disabled:!e||!o||o==="all"||!c||!d||!h,children:"Buscar"}),l.jsx(re,{variant:"ghost",onClick:()=>{t(""),n(""),s("all"),u(""),f(""),m(""),p([]),jt.invalidateQueries({queryKey:["clientes"]}),jt.invalidateQueries({queryKey:["proyectos"]}),jt.invalidateQueries({queryKey:["suscripciones"]}),jt.invalidateQueries({queryKey:["contratos"]}),jt.invalidateQueries({queryKey:["pagos"]})},children:"Limpiar"})]})]})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx(dt,{children:"Resultados"}),l.jsx("div",{children:l.jsx(re,{size:"sm",onClick:()=>{const A=v.find(C=>C.id===e)||{},P=g.find(C=>C.id===c)||{},$=o==="contrato"?"Contrato":o==="suscripcion"?"Suscripcin":"Todos",R=(y||[]).map(C=>{var D;return`
                        <tr>
                          <td style="padding:8px;border:1px solid #ddd">${A.nombre??C.cliente_id??"-"}</td>
                          <td style="padding:8px;border:1px solid #ddd">${A.rtn??"-"}</td>
                          <td style="padding:8px;border:1px solid #ddd;text-transform:capitalize">${C.tipo}</td>
                          <td style="padding:8px;border:1px solid #ddd">${((D=g.find(H=>H.id===C.proyecto_id))==null?void 0:D.nombre)??C.proyecto_id}</td>
                          <td style="padding:8px;border:1px solid #ddd">${Ve(C.fecha)}</td>
                          <td style="padding:8px;border:1px solid #ddd">${ye(Number(C.monto??0))}</td>
                          <td style="padding:8px;border:1px solid #ddd">${ye(Number(C.saldo_actual??0))}</td>
                          <td style="padding:8px;border:1px solid #ddd">${C.nota??"-"}</td>
                        </tr>`}).join(`
`),B=`
                    <html>
                      <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width,initial-scale=1" />
                        <title>Estado de Cuenta</title>
                        <style>
                          body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; padding: 24px; color:#111827 }
                          .header { display:flex; align-items:center; gap:16px; margin-bottom: 20px; }
                          .logo { height:56px }
                          .info-section { margin-top: 16px; padding: 16px; background: #f9fafb; border-radius: 8px; }
                          .info-row { display: flex; gap: 32px; margin-bottom: 8px; }
                          .info-label { font-weight: 600; min-width: 100px; }
                          table { border-collapse: collapse; width:100%; margin-top:16px }
                          th, td { padding:8px; border:1px solid #ddd; text-align:left }
                          th { background:#f3f4f6; }
                        </style>
                      </head>
                      <body>
                        <div class="header">
                          <img src="/vsr.png" class="logo" alt="logo" />
                          <div>
                            <h2 style="margin: 0 0 8px 0;">Estado de Cuenta</h2>
                            <div style="color: #6b7280; font-size: 14px;">Reporte de Movimientos Financieros</div>
                          </div>
                        </div>
                        
                        <div class="info-section">
                          <div class="info-row">
                            <div><span class="info-label">Cliente:</span> ${A.nombre??"-"}</div>
                            <div><span class="info-label">RTN:</span> ${A.rtn??"-"}</div>
                          </div>
                          <div class="info-row">
                            <div><span class="info-label">Proyecto:</span> ${P.nombre??"-"}</div>
                            <div><span class="info-label">Tipo:</span> ${$}</div>
                          </div>
                          <div class="info-row">
                            <div><span class="info-label">Fecha desde:</span> ${d?Ve(d):"-"}</div>
                            <div><span class="info-label">Fecha hasta:</span> ${h?Ve(h):"-"}</div>
                          </div>
                        </div>
                        
                        <table>
                          <thead>
                            <tr>
                              <th>Cliente</th>
                              <th>RTN</th>
                              <th>Tipo</th>
                              <th>Proyecto</th>
                              <th>Fecha</th>
                              <th>Monto</th>
                              <th>Saldo Actual</th>
                              <th>Nota</th>
                            </tr>
                          </thead>
                          <tbody>
                            ${R}
                          </tbody>
                        </table>
                      </body>
                    </html>`;M(B),O(!0)},disabled:!e||(y||[]).length===0,children:"Imprimir estado de cuenta"})})]})}),l.jsx(ve,{children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Cliente"}),l.jsx(We,{children:"RTN"}),l.jsx(We,{children:"Tipo"}),l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Fecha"}),l.jsx(We,{children:"Monto"}),l.jsx(We,{children:"Saldo Actual"}),l.jsx(We,{children:"Nota"})]})}),l.jsx(ma,{children:y.length===0?l.jsx(fr,{children:l.jsx(ze,{colSpan:8,className:"text-center text-sm text-muted-foreground",children:"No hay datos que mostrar."})}):y.map(A=>{var P,$,R;return l.jsxs(fr,{children:[l.jsx(ze,{children:((P=v.find(B=>B.id===A.cliente_id))==null?void 0:P.nombre)??A.cliente_id}),l.jsx(ze,{children:(($=v.find(B=>B.id===A.cliente_id))==null?void 0:$.rtn)??"-"}),l.jsx(ze,{className:"capitalize",children:A.tipo}),l.jsx(ze,{children:((R=g.find(B=>B.id===A.proyecto_id))==null?void 0:R.nombre)??A.proyecto_id}),l.jsx(ze,{children:Ve(A.fecha)}),l.jsx(ze,{children:ye(Number(A.monto??0))}),l.jsx(ze,{children:ye(Number(A.saldo_actual??0))}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:A.nota??"-"})]},A.id)})})]})})]}),E&&N?l.jsx(It,{open:E,onOpenChange:A=>{O(A),A||M(null)},children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Estado de Cuenta"})}),l.jsx("div",{className:"mt-2",children:l.jsx(ZB,{open:E,html:N,onOpenChange:A=>{O(A),A||M(null)},autoPrint:!1})}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>{O(!1),M(null)},children:"Cerrar"}),l.jsx(re,{onClick:()=>{const A=document.querySelector('iframe[title="Factura"]'),P=A==null?void 0:A.contentWindow;if(P)try{P.focus(),P.print()}catch($){console.error("Error imprimiendo estado de cuenta:",$)}},children:"Imprimir"})]})})]})}):null]})}const Ep=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function Op({title:e,value:t,icon:r,trend:n,trendValue:i,subtitle:a,loading:o}){return o?l.jsx(me,{children:l.jsxs(ve,{className:"p-6",children:[l.jsx(Ut,{className:"h-4 w-24 mb-3"}),l.jsx(Ut,{className:"h-8 w-32 mb-2"}),l.jsx(Ut,{className:"h-3 w-20"})]})}):l.jsx(me,{className:"hover-elevate",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:t}),(n||a)&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n&&i&&l.jsxs(l.Fragment,{children:[n==="up"?l.jsx(sR,{className:"h-4 w-4 text-green-500"}):l.jsx(yV,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:`text-sm font-medium ${n==="up"?"text-green-500":"text-red-500"}`,children:i})]}),a&&l.jsx("span",{className:"text-xs text-muted-foreground",children:a})]})]}),l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}function RSe(){const[e,t]=w.useState("6m"),r=vr(),{data:n,isLoading:i}=it({queryKey:["statistics","stats"],queryFn:async()=>{try{const[v,g,j,_]=await Promise.all([J.from("pagos").select("monto"),J.from("clientes").select("*"),J.from("suscripciones").select("*"),J.from("contratos").select("*")]),S=Array.isArray(v.data)?v.data:[],E=Array.isArray(g.data)?g.data:[],O=Array.isArray(j.data)?j.data:[],N=Array.isArray(_.data)?_.data:[],M=S.reduce((D,H)=>D+Number(H.monto??0),0),T=N.reduce((D,H)=>D+Number(H.pago_inicial??0),0),I=M+T,A=E.length,P=O.filter(D=>D.is_active===void 0?!0:!!D.is_active),$=P.length,R=P.reduce((D,H)=>{const G=parseFloat(H.mensualidad||0);return D+(isNaN(G)?0:G)},0),B=new Date;B.setHours(0,0,0,0);const C=O.filter(D=>{if(!D.proxima_fecha_de_pago)return!1;const H=new Date(D.proxima_fecha_de_pago);return H.setHours(0,0,0,0),H<=B}).length;return{totalRevenue:I,totalClients:A,pendingPayments:C,activeSubscriptions:$,monthlyRecurringRevenue:R,overduePayments:C}}catch(v){return console.error("Error loading statistics:",v),r({title:"Error cargando estadsticas",variant:"destructive"}),{totalRevenue:0,totalClients:0,pendingPayments:0,activeSubscriptions:0,monthlyRecurringRevenue:0,overduePayments:0}}}}),{data:a,isLoading:o}=it({queryKey:["statistics","revenue"],queryFn:async()=>{const v=new Date,g=new Date(v.getFullYear(),v.getMonth()-5,1),[j,_,S]=await Promise.all([J.from("pagos").select("id,fecha_de_creacion,monto,tipo").gte("fecha_de_creacion",g.toISOString()).order("fecha_de_creacion",{ascending:!0}),J.from("contratos").select("*").gte("fecha_de_creacion",g.toISOString()),J.from("suscripciones").select("*").gte("fecha_de_creacion",g.toISOString())]);if(j.error)throw j.error;const E=Array.isArray(j.data)?j.data:[],O=Array.isArray(_.data)?_.data:[];Array.isArray(S.data)&&S.data;const N={},M=new Date;for(let T=0;T<6;T++){const I=new Date(M.getFullYear(),M.getMonth()-(5-T),1),A=`${I.getFullYear()}-${(I.getMonth()+1).toString().padStart(2,"0")}`;N[A]={month:I.toLocaleString(void 0,{month:"short"}),subscriptions:0,oneTime:0,revenue:0}}return E.forEach(T=>{const I=new Date(T.fecha_de_creacion),A=`${I.getFullYear()}-${(I.getMonth()+1).toString().padStart(2,"0")}`;if(!N[A])return;const P=Number(T.monto??0);N[A].revenue+=P,String(T.tipo)==="suscripcion"?N[A].subscriptions+=P:N[A].oneTime+=P}),O.forEach(T=>{if(!T.pago_inicial)return;const I=new Date(T.fecha_de_creacion),A=`${I.getFullYear()}-${(I.getMonth()+1).toString().padStart(2,"0")}`;if(!N[A])return;const P=Number(T.pago_inicial??0);N[A].revenue+=P,N[A].oneTime+=P}),Object.values(N)}}),{data:s}=it({queryKey:["statistics","clients"],queryFn:async()=>{const{data:v,error:g}=await J.from("clientes").select("id,nombre,rtn,telefono,total_amount,number_of_payments");if(g)throw g;return Array.isArray(v)?v:[]}}),{data:c}=it({queryKey:["statistics","clients","subscriptions"],queryFn:async()=>{const{data:v,error:g}=await J.from("suscripciones").select("cliente").eq("is_active",!0);if(g)throw g;const j=Array.isArray(v)?v.map(_=>_.cliente):[];return[...new Set(j)]}}),{data:u}=it({queryKey:["statistics","pagos","all"],queryFn:async()=>{const{data:v,error:g}=await J.from("pagos").select("tipo,monto");if(g)throw g;return Array.isArray(v)?v:[]}});(Array.isArray(u)?u:[]).reduce((v,g)=>{const j=(g==null?void 0:g.tipo)??"unico";return v[j]=(v[j]||0)+1,v},{});const{data:d}=it({queryKey:["statistics","clients","by-type"],queryFn:async()=>{const[v,g]=await Promise.all([J.from("contratos").select("cliente").eq("estado","activo"),J.from("suscripciones").select("cliente").eq("is_active",!0)]),j=new Set((v.data||[]).map(N=>N.cliente)),_=new Set((g.data||[]).map(N=>N.cliente)),S=[...j].filter(N=>!_.has(N)).length,E=[..._].filter(N=>!j.has(N)).length,O=[...j].filter(N=>_.has(N)).length;return{contratos:S,suscripciones:E,ambos:O}}}),f=d?[{name:"Solo Contratos",value:d.contratos},{name:"Solo Suscripciones",value:d.suscripciones},{name:"Ambos",value:d.ambos}].filter(v=>v.value>0):[],h=(Array.isArray(u)?u:[]).reduce((v,g)=>{const j=(g==null?void 0:g.tipo)??"unico";return v[j]=(v[j]||0)+Number((g==null?void 0:g.monto)??0),v},{}),m=Object.entries(h).map(([v,g])=>({name:xR(v),value:g})),y=(n==null?void 0:n.totalRevenue)||0,p=s&&s.length>0?y/s.length:0,x=(s==null?void 0:s.filter(v=>v.amountPending>0))||[],b=x.reduce((v,g)=>v+g.amountPending,0);return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Estadisticas"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Analisis detallado de tu negocio"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(Vi,{value:e,onValueChange:t,children:[l.jsxs(mi,{className:"w-[150px]","data-testid":"select-time-range",children:[l.jsx(Yd,{className:"h-4 w-4 mr-2"}),l.jsx(Wi,{})]}),l.jsxs(gi,{children:[l.jsx(Rt,{value:"1m",children:"Ultimo mes"}),l.jsx(Rt,{value:"3m",children:"Ultimos 3 meses"}),l.jsx(Rt,{value:"6m",children:"Ultimos 6 meses"}),l.jsx(Rt,{value:"1y",children:"Ultimo anio"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(Op,{title:"Ingresos Totales",value:ye(y),icon:bm,trend:"up",trendValue:"+18.2%",loading:i}),l.jsx(Op,{title:"Clientes Totales",value:String((n==null?void 0:n.totalClients)||0),icon:Jd,trend:"up",trendValue:"+5",loading:i}),l.jsx(Op,{title:"MRR",value:ye((n==null?void 0:n.monthlyRecurringRevenue)||0),icon:ov,subtitle:`${(n==null?void 0:n.activeSubscriptions)||0} suscripciones`,loading:i}),l.jsx(Op,{title:"Deudas Pendientes",value:ye(b),icon:Pc,subtitle:`${x.length} clientes`,loading:i})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(me,{className:"lg:col-span-2",children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(dt,{className:"text-lg font-semibold",children:"Evolucion de Ingresos"}),l.jsx(pr,{variant:"secondary",className:"text-xs",children:"Mensual"})]}),l.jsx(ve,{children:o?l.jsx(Ut,{className:"h-[300px] w-full"}):l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(Nbe,{data:a||[],children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),l.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),l.jsx(nc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Ui,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(zi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:v=>`L ${v/1e3}k`}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:v=>[ye(v),"Total"]}),l.jsx(Fo,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:2,fill:"url(#colorRevenue)"})]})})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-lg font-semibold",children:"Clientes por Tipo"})}),l.jsxs(ve,{children:[l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(a3,{children:[l.jsx(Qi,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((v,g)=>l.jsx(fh,{fill:Ep[g%Ep.length]},`cell-${g}`))}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:f.map((v,g)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Ep[g%Ep.length]}}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.name," (",v.value,")"]})]},v.name))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-lg font-semibold",children:"Ingresos por Tipo de Pago"})}),l.jsx(ve,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(a_,{data:m,layout:"vertical",children:[l.jsx(nc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Ui,{type:"number",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:v=>`L ${v/1e3}k`}),l.jsx(zi,{type:"category",dataKey:"name",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},width:100}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:v=>[ye(v),""]}),l.jsx(Bn,{dataKey:"value",fill:"hsl(var(--chart-1))",radius:[0,4,4,0]})]})})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{className:"text-lg font-semibold",children:"Comparativa Mensual"})}),l.jsx(ve,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(a_,{data:a||[],children:[l.jsx(nc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Ui,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(zi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:v=>`L ${v/1e3}k`}),l.jsx(kr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:v=>[ye(v),""]}),l.jsx(Os,{}),l.jsx(Bn,{dataKey:"oneTime",name:"Pagos Unicos",fill:"hsl(var(--chart-1))",radius:[4,4,0,0]}),l.jsx(Bn,{dataKey:"subscriptions",name:"Suscripciones",fill:"hsl(var(--chart-2))",radius:[4,4,0,0]})]})})})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(me,{className:"hover-elevate",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(bm,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio por Cliente"}),l.jsx("p",{className:"text-2xl font-bold",children:ye(p)})]})]})})}),l.jsx(me,{className:"hover-elevate",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(So,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"ARR Proyectado"}),l.jsx("p",{className:"text-2xl font-bold",children:ye(((n==null?void 0:n.monthlyRecurringRevenue)||0)*12)})]})]})})}),l.jsx(me,{className:"hover-elevate",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Jd,{className:"h-6 w-6 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasa de Suscripcion"}),l.jsx("p",{className:"text-2xl font-bold",children:s&&s.length>0&&c?`${Math.round(c.length/s.length*100)}%`:"0%"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(c==null?void 0:c.length)||0," de ",(s==null?void 0:s.length)||0," clientes"]})]})]})})})]})]})}function ISe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(null),[o,s]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(null),{toast:h}=vr(),[,m]=wi(),y=yS({defaultValues:{nombre:"",tipo:"",correo_administracion:"",contrasena:""}}),p=P=>{var $,R,B,C;return{nombre:(($=P==null?void 0:P.nombre)==null?void 0:$.toString().trim())??"",tipo:((R=P==null?void 0:P.tipo)==null?void 0:R.toString().trim())??"",correo_administracion:((B=P==null?void 0:P.correo_administracion)==null?void 0:B.toString().trim())??"",contrasena:((C=P==null?void 0:P.contrasena)==null?void 0:C.toString().trim())??""}};async function x(){n(!0),a(null);const{data:P,error:$}=await J.from("proyectos").select("*").order("creacion",{ascending:!1});$?(a($.message??"Error al cargar proyectos"),t([])):Array.isArray(P)?t(P):t([]),n(!1)}w.useEffect(()=>(x(),()=>{}),[]);const b=async P=>{try{if(d){const{error:$}=await J.from("proyectos").update({nombre:P.nombre,tipo:P.tipo,correo_administracion:P.correo_administracion,contrasena:P.contrasena}).eq("id",d.id).select();if($)throw $;h({title:"Proyecto actualizado"})}else{const{error:$}=await J.from("proyectos").insert([{nombre:P.nombre,tipo:P.tipo,correo_administracion:P.correo_administracion,contrasena:P.contrasena}]);if($)throw $;h({title:"Proyecto creado"})}u(!1),f(null),y.reset(),await x()}catch($){console.error("Error guardando proyecto:",$),h({title:"Error al guardar proyecto",description:($==null?void 0:$.message)??String($)})}},v=P=>{f(P),y.reset(p(P)),u(!0)},[g,j]=w.useState(!1),[_,S]=w.useState(""),[E,O]=w.useState(null),[N,M]=w.useState(null),[T,I]=w.useState(!1),A=async P=>{try{const{error:$}=await J.from("proyectos").delete().eq("id",P);if($)throw $;h({title:"Proyecto eliminado"}),await x()}catch($){console.error("Error eliminando proyecto:",$),h({title:"Error al eliminar proyecto",description:($==null?void 0:$.message)??String($)})}};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Proyectos"}),l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Lista de proyectos. Los datos provienen de la tabla"," ",l.jsx("code",{children:"proyectos"})," en Supabase."]})]}),l.jsx("div",{children:l.jsx(re,{onClick:()=>{f(null),y.reset(p(null)),u(!0)},children:"Crear Proyecto"})})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por nombre o tipo...",value:o,onChange:P=>s(P.target.value),className:"pl-10"})]}),l.jsxs("div",{children:[r&&l.jsx("p",{children:"Cargando proyectos..."}),i&&l.jsx("p",{className:"text-destructive",children:i}),!r&&e.length===0&&!i&&l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:"No hay proyectos todava."})}),l.jsx("div",{className:"space-y-3",children:e.filter(P=>{if(!o)return!0;const $=o.toLowerCase(),R=(P.nombre||"").toLowerCase(),B=(P.tipo||"").toLowerCase();return R.includes($)||B.includes($)}).map(P=>l.jsx(me,{className:"hover-elevate shadow-sm cursor-pointer transition-all",onClick:()=>m(`/clientes/proyecto/${P.id}`),children:l.jsx(ve,{className:"p-4",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[l.jsx("h3",{className:"text-lg font-semibold truncate",children:P.nombre??"Sin nombre"}),l.jsx(pr,{variant:"secondary",className:"mt-1",children:P.tipo??""})]}),l.jsxs("div",{className:"text-sm min-w-0",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Admin"}),l.jsx("div",{className:"truncate",children:P.correo_administracion??""})]}),l.jsxs("div",{className:"text-sm min-w-0",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Contrasea"}),l.jsx("div",{className:"truncate font-mono",children:P.contrasena?"********":""})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("div",{className:"text-xs text-muted-foreground hidden sm:block",children:P.creacion?new Date(P.creacion).toLocaleDateString():""}),l.jsx(re,{size:"sm",variant:"ghost",onClick:$=>{$.stopPropagation(),O(P),S(""),j(!0)},children:"Editar"}),l.jsx(re,{size:"sm",variant:"destructive",onClick:$=>{$.stopPropagation(),M(P.id),S(""),j(!0)},children:"Eliminar"})]})]})})})},P.id))})]}),l.jsx(It,{open:c,onOpenChange:P=>{u(P),P?d&&y.reset(p(d)):(f(null),y.reset(p(null)))},children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:d?"Editar Proyecto":"Nuevo Proyecto"})}),l.jsx(xS,{...y,children:l.jsxs("form",{onSubmit:y.handleSubmit(b),className:"space-y-4",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Nombre"}),l.jsx(Xt,{children:l.jsx(Me,{...y.register("nombre",{required:!0})})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Tipo"}),l.jsx(Xt,{children:l.jsx(Me,{...y.register("tipo")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Correo administracin"}),l.jsx(Xt,{children:l.jsx(Me,{...y.register("correo_administracion")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Contrasea"}),l.jsx(Xt,{children:l.jsx(Me,{...y.register("contrasena")})})]}),l.jsxs(At,{children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null)},children:"Cancelar"}),l.jsx(re,{type:"submit",children:d?"Guardar":"Crear"})]})]})})]})}),l.jsx(It,{open:g,onOpenChange:P=>j(P),children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-blue-600 dark:text-blue-400",children:"Confirmar accin"})}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa la clave de acceso para continuar"}),l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:_,onChange:P=>S(P.target.value),className:"block w-full rounded-md border p-2 text-blue-600 dark:text-blue-400"})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{j(!1),O(null),M(null),S("")},children:"Cancelar"}),l.jsx(re,{onClick:async()=>{try{I(!0);const{data:P,error:$}=await J.from("configuracion").select("clave").limit(1).single();if($)throw $;const R=(P==null?void 0:P.clave)??null;if(!R){h({title:"No hay clave configurada"});return}if(_!==R){h({title:"Clave incorrecta"});return}E&&v(E),N&&await A(N),j(!1),O(null),M(null),S("")}catch(P){console.error("Error verificando clave:",P),h({title:"Error verificando clave",description:(P==null?void 0:P.message)??String(P)})}finally{I(!1)}},children:"Confirmar"})]})})]})})]})}function MSe({open:e,onOpenChange:t,onCreated:r,initialData:n=null}){const{toast:i}=vr(),[a,o]=w.useState(1),[s,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(""),[m,y]=w.useState(""),p=yS({defaultValues:{tipo_de_venta:"suscripcion",cantidad_de_pagos:1}});w.useEffect(()=>{e&&(x(),p.reset(n??{}),o(1))},[e]);async function x(){try{const[{data:g},{data:j}]=await Promise.all([J.from("proyectos").select("id,nombre").order("creacion",{ascending:!1}),J.from("clientes").select("id,nombre").order("nombre",{ascending:!0})]);c(Array.isArray(g)?g:[]),d(Array.isArray(j)?j:[])}catch(g){console.error("Error cargando proyectos/clientes:",g)}}const b=async g=>{try{if(!g.proyecto){i({title:"Selecciona un proyecto"});return}if(!g.cliente){i({title:"Selecciona un cliente"});return}const j=g.pago_inicial?Number(g.pago_inicial):0,_=g.cantidad_de_pagos?Number(g.cantidad_de_pagos):1,S=g.total_a_pagar?Number(g.total_a_pagar):0,E=g.mensualidad?Number(g.mensualidad):_>0?Number((S/_).toFixed(2)):0,O=g.tipo_de_venta??"suscripcion";if(O==="venta_total"&&(!S||S<=0)){i({title:"Total a pagar debe ser mayor que 0"});return}if(O==="suscripcion"&&(!E||E<=0)){i({title:"Mensualidad debe ser mayor que 0"});return}const N={fecha:w0(),cliente:String(g.cliente),proyecto:String(g.proyecto),tipo_de_venta:O,pago_inicial:j,cantidad_de_pagos:_,total_a_pagar:S,mensualidad:E,dia_de_pago_mensual:g.dia_de_pago_mensual?Number(g.dia_de_pago_mensual):null},{error:M}=await J.from("venta").insert([N]);if(M)throw M;i({title:"Venta registrada"});try{O==="venta_total"?(await J.from("estado_cuenta").insert([{cliente_id:N.cliente,proyecto_id:N.proyecto,tipo:"contrato",monto:S,saldo_actual:S,nota:"CONTRATO ADQUIRIDO",fecha:N.fecha}]),j>0&&await J.from("estado_cuenta").insert([{cliente_id:N.cliente,proyecto_id:N.proyecto,tipo:"contrato",monto:j,saldo_actual:S-j,nota:"PAGO INICIAL",fecha:N.fecha}])):O==="suscripcion"&&j>0&&await J.from("estado_cuenta").insert([{cliente_id:N.cliente,proyecto_id:N.proyecto,tipo:"suscripcion",monto:j,saldo_actual:j,nota:"PAGO INICIAL",fecha:N.fecha}])}catch(T){console.error("Error registrando en estado_cuenta:",T)}if(O==="suscripcion")try{const T=N.dia_de_pago_mensual??null,I=v(T),A={fecha_de_creacion:N.fecha,proyecto:N.proyecto,cliente:N.cliente,mensualidad:N.mensualidad,dia_de_pago_mensual:N.dia_de_pago_mensual,proxima_fecha_de_pago:I},{error:P}=await J.from("suscripciones").insert([A]);P?(console.error("Error creando suscripcin:",P),i({title:"Venta registrada",description:"Pero no se pudo crear la suscripcin"})):i({title:"Suscripcin creada"})}catch(T){console.error("Error al insertar suscripcin:",T)}if(O==="venta_total")try{const T={fecha_de_creacion:N.fecha,cliente:N.cliente,proyecto:N.proyecto,monto_total:N.total_a_pagar??0,cantidad_de_pagos:N.cantidad_de_pagos??1,pago_inicial:N.pago_inicial??0,estado:"activo"},{error:I}=await J.from("contratos").insert([T]);I?(console.error("Error creando contrato:",I),i({title:"Venta registrada",description:"Pero no se pudo crear el contrato"})):i({title:"Contrato creado"})}catch(T){console.error("Error al insertar contrato:",T)}t(!1),p.reset(),r==null||r()}catch(j){console.error("Error creando venta:",j),i({title:"Error al crear venta",description:(j==null?void 0:j.message)??String(j)})}};function v(g){if(!g||g<1||g>31)return null;const j=new Date;let _=j.getFullYear(),S=j.getMonth();j.getDate()>g&&(S+=1,S>11&&(S=0,_+=1));const E=new Date(_,S+1,0).getDate(),O=Math.min(g,E);return new Date(_,S,O).toISOString()}return l.jsx(It,{open:e,onOpenChange:t,children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:n?"Editar Venta":"Crear Venta"})}),l.jsx(xS,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-4",children:[l.jsxs("div",{className:"text-sm font-medium",children:["Paso ",a," de 4"]}),a===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Tipo de venta"}),l.jsx(Xt,{children:l.jsxs(Vi,{value:String(p.watch("tipo_de_venta")??""),onValueChange:g=>p.setValue("tipo_de_venta",g),children:[l.jsx(mi,{children:l.jsx(Wi,{placeholder:"Selecciona tipo"})}),l.jsxs(gi,{children:[l.jsx(Rt,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Rt,{value:"venta_total",children:"Venta total"})]})]})})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),l.jsx(re,{onClick:()=>o(2),children:"Siguiente"})]})]}),a===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Buscar Proyecto"}),l.jsx(Xt,{children:l.jsx(Me,{value:f,onChange:g=>h(g.target.value),placeholder:"Filtrar proyectos..."})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Proyecto"}),l.jsx(Xt,{children:l.jsxs(Vi,{value:String(p.watch("proyecto")??""),onValueChange:g=>p.setValue("proyecto",g),children:[l.jsx(mi,{children:l.jsx(Wi,{placeholder:" Selecciona "})}),l.jsx(gi,{children:s.filter(g=>(g.nombre??"").toLowerCase().includes(f.toLowerCase())).map(g=>l.jsx(Rt,{value:g.id,children:g.nombre??g.id},g.id))})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(1),children:"Atrs"}),l.jsx(re,{onClick:()=>o(3),children:"Siguiente"})]})]}),a===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Buscar Cliente"}),l.jsx(Xt,{children:l.jsx(Me,{value:m,onChange:g=>y(g.target.value),placeholder:"Filtrar clientes..."})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Cliente"}),l.jsx(Xt,{children:l.jsxs(Vi,{value:String(p.watch("cliente")??""),onValueChange:g=>p.setValue("cliente",g),children:[l.jsx(mi,{children:l.jsx(Wi,{placeholder:" Selecciona "})}),l.jsx(gi,{children:u.filter(g=>(g.nombre??"").toLowerCase().includes(m.toLowerCase())).map(g=>l.jsx(Rt,{value:g.id,children:g.nombre??g.id},g.id))})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(2),children:"Atrs"}),l.jsx(re,{onClick:()=>o(4),children:"Siguiente"})]})]}),a===4&&l.jsxs("div",{className:"space-y-3",children:[p.watch("tipo_de_venta")==="suscripcion"?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago inicial"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",step:"0.01",...p.register("pago_inicial")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Mensualidad"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",step:"0.01",...p.register("mensualidad")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Da de pago mensual (1-31)"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",min:1,max:31,...p.register("dia_de_pago_mensual"),placeholder:"Da del mes"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago total"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",step:"0.01",...p.register("total_a_pagar")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Cantidad de pagos"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",...p.register("cantidad_de_pagos")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago inicial"}),l.jsx(Xt,{children:l.jsx(Me,{type:"number",step:"0.01",...p.register("pago_inicial")})})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(3),children:"Atrs"}),l.jsx(re,{type:"submit",children:"Crear venta"})]})]})]})}),l.jsx(At,{})]})})}function DSe(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(null),[o,s]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[h,m]=w.useState({}),[y,p]=w.useState({});async function x(){n(!0),a(null);const{data:j,error:_}=await J.from("venta").select("*").order("fecha",{ascending:!1});_?(a(_.message??"Error al cargar ventas"),t([])):Array.isArray(j)?t(j):t([]),n(!1)}async function b(){try{const[j,_]=await Promise.all([J.from("proyectos").select("id,nombre"),J.from("clientes").select("id,nombre")]),S=Array.isArray(j.data)?j.data:[],E=Array.isArray(_.data)?_.data:[],O={},N={};S.forEach(M=>{M!=null&&M.id&&(O[M.id]=M.nombre??M.id)}),E.forEach(M=>{M!=null&&M.id&&(N[M.id]=M.nombre??M.id)}),m(O),p(N)}catch(j){console.error("Error cargando meta proyectos/clientes:",j)}}w.useEffect(()=>{x(),b()},[]);const v=()=>{u(null),s(!0)};vr();const g=j=>j==null?"":j.toLocaleString();return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Ventas de Proyectos"}),l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Listado de ventas conectadas a la tabla ",l.jsx("code",{children:"venta"})," en Supabase."]})]}),l.jsx("div",{children:l.jsx(re,{onClick:v,children:"Crear Venta"})})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por proyecto o cliente...",value:d,onChange:j=>f(j.target.value),className:"pl-10"})]}),l.jsxs("div",{children:[r&&l.jsx("p",{children:"Cargando ventas..."}),i&&l.jsx("p",{className:"text-destructive",children:i}),!r&&e.length===0&&!i&&l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:"No hay ventas registradas."})}),!r&&e.length>0&&l.jsx("div",{className:"space-y-3",children:e.filter(j=>{if(!d)return!0;const _=d.toLowerCase(),S=(h[j.proyecto??""]||j.proyecto||"").toLowerCase(),E=(y[j.cliente??""]||j.cliente||"").toLowerCase();return S.includes(_)||E.includes(_)}).map(j=>l.jsx(me,{className:"hover-elevate shadow-sm transition-all",children:l.jsx(ve,{className:"p-4",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"font-semibold truncate",children:l.jsx(Yl,{href:`/clientes/proyecto/${j.proyecto}`,className:"hover:underline",children:h[j.proyecto??""]??j.proyecto??"Proyecto sin nombre"})}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:l.jsx(Yl,{href:`/clientes/${j.cliente}`,className:"hover:underline",children:y[j.cliente??""]??j.cliente??""})})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Tipo"}),l.jsx(pr,{variant:"secondary",children:j.tipo_de_venta??""})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Pago inicial"}),l.jsx("div",{className:"font-medium",children:g(j.pago_inicial)})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Total / Mensualidad"}),l.jsxs("div",{className:"font-medium",children:[g(j.total_a_pagar)," / ",g(j.mensualidad)]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Cant. pagos"}),l.jsx("div",{children:j.cantidad_de_pagos??""})]})]})})})},j.id))})]}),l.jsx(MSe,{open:o,onOpenChange:j=>{s(j),j||u(null)},onCreated:async()=>{await x(),await b()},initialData:c})]})})}var MS="Progress",DS=100,[LSe,PEe]=on(MS),[FSe,BSe]=LSe(MS),PU=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=USe,...o}=e;(i||i===0)&&!LT(i)&&console.error(zSe(`${i}`,"Progress"));const s=LT(i)?i:DS;n!==null&&!FT(n,s)&&console.error(VSe(`${n}`,"Progress"));const c=FT(n,s)?n:null,u=Lg(c)?a(c,s):void 0;return l.jsx(FSe,{scope:r,value:c,max:s,children:l.jsx(Se.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Lg(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":CU(c,s),"data-value":c??void 0,"data-max":s,...o,ref:t})})});PU.displayName=MS;var NU="ProgressIndicator",AU=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=BSe(NU,r);return l.jsx(Se.div,{"data-state":CU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});AU.displayName=NU;function USe(e,t){return`${Math.round(e/t*100)}%`}function CU(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lg(e){return typeof e=="number"}function LT(e){return Lg(e)&&!isNaN(e)&&e>0}function FT(e,t){return Lg(e)&&!isNaN(e)&&e<=t&&e>=0}function zSe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${DS}\`.`}function VSe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${DS} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var TU=PU,WSe=AU;const Cy=w.forwardRef(({className:e,value:t,...r},n)=>l.jsx(TU,{ref:n,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(WSe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Cy.displayName=TU.displayName;function qSe(){const[e,t]=b2("/clientes/:id"),[,r]=wi(),n=t==null?void 0:t.id,[i,a]=w.useState(null),[o,s]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]);w.useState(!1);const[y,p]=w.useState(!0),{toast:x}=vr(),[b,v]=w.useState(null),[g,j]=w.useState(!1),[_,S]=w.useState(null),[E,O]=w.useState(!1),[N,M]=w.useState(!1),[T,I]=w.useState([]),[A,P]=w.useState(!1),[$,R]=w.useState(null),[B,C]=w.useState(!1),[D,H]=w.useState([]),[G,k]=w.useState(!1),[F,K]=w.useState(!1),[Z,se]=w.useState(""),[te,ae]=w.useState(""),[Y,de]=w.useState(!1),[ue,X]=w.useState(!1),[Fe,Ce]=w.useState(!1),[et,Xe]=w.useState(null),[W,ge]=w.useState(null);w.useEffect(()=>{async function z(){if(n){p(!0);try{const[Oe,Ae,zt,Ji,FS]=await Promise.all([J.from("clientes").select("*").eq("id",n).limit(1).single(),J.from("pagos").select("id,fecha_de_creacion,tipo,proyecto,monto,notas,referencia_id,created_at").eq("cliente",n).order("fecha_de_creacion",{ascending:!1}),J.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n),J.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n),J.from("avances").select("id,nombre_proyecto,porcentaje_avance,estado,total_caracteristicas,caracteristicas_completadas").eq("cliente_id",n).order("fecha_creacion",{ascending:!1})]);Oe.error||a(Oe.data),s(Array.isArray(Ae.data)?Ae.data:[]),u(Array.isArray(zt.data)?zt.data:[]),f(Array.isArray(Ji.data)?Ji.data:[]),m(Array.isArray(FS.data)?FS.data:[])}catch(Oe){console.error("Error cargando detalle de cliente:",Oe)}finally{p(!1)}}}z()},[n]);async function le(z){v(z);const Oe=z!=null&&z.proximo_pago?new Date(z.proximo_pago).toISOString().slice(0,16):"";S(Oe||null),O(!1),j(!0),await Ie(z==null?void 0:z.id)}async function Ie(z){if(z)try{P(!0);const{data:Oe,error:Ae}=await J.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",z).eq("tipo","contrato").order("fecha_de_creacion",{ascending:!1});if(Ae)throw Ae;I(Array.isArray(Oe)?Oe:[])}catch(Oe){console.error("Error cargando pagos del contrato:",Oe),x({title:"Error cargando pagos",description:String(Oe)}),I([])}finally{P(!1)}}async function He(){if(b)try{const z=_?new Date(_).toISOString():null,{error:Oe}=await J.from("contratos").update({proximo_pago:z}).eq("id",b.id);if(Oe)throw Oe;x({title:"Prximo pago actualizado"});const{data:Ae}=await J.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n);u(Array.isArray(Ae)?Ae:[]),M(!1),O(!1),v({...b,proximo_pago:z})}catch(z){console.error("Error actualizando prximo pago:",z),x({title:"Error actualizando prximo pago",description:(z==null?void 0:z.message)??String(z)})}}async function U(z){R(z),se(String((z==null?void 0:z.mensualidad)??""));const Oe=z!=null&&z.proxima_fecha_de_pago?new Date(z.proxima_fecha_de_pago).toISOString().slice(0,10):"";ae(Oe),K(!1),C(!0),await q(z==null?void 0:z.id)}async function q(z){if(z)try{k(!0);const{data:Oe,error:Ae}=await J.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",z).eq("tipo","suscripcion").order("fecha_de_creacion",{ascending:!1});if(Ae)throw Ae;H(Array.isArray(Oe)?Oe:[])}catch(Oe){console.error("Error cargando pagos de suscripcin:",Oe),x({title:"Error cargando pagos",description:String(Oe)}),H([])}finally{k(!1)}}async function Q(){if($)try{const{error:z}=await J.from("suscripciones").update({mensualidad:Number(Z),proxima_fecha_de_pago:te||null}).eq("id",$.id);if(z)throw z;x({title:"Suscripcin actualizada"});const{data:Oe}=await J.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n);f(Array.isArray(Oe)?Oe:[]),de(!1),K(!1),R({...$,mensualidad:Number(Z),proxima_fecha_de_pago:te||null})}catch(z){console.error("Error actualizando suscripcin:",z),x({title:"Error actualizando suscripcin",description:(z==null?void 0:z.message)??String(z)})}}async function ne(){if($)try{const z=!$.is_active,{error:Oe}=await J.from("suscripciones").update({is_active:z}).eq("id",$.id);if(Oe)throw Oe;x({title:z?"Suscripcin reactivada":"Suscripcin pausada"});const{data:Ae}=await J.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n);f(Array.isArray(Ae)?Ae:[]),R({...$,is_active:z})}catch(z){console.error("Error cambiando estado de suscripcin:",z),x({title:"Error",description:(z==null?void 0:z.message)??String(z)})}}const oe=o||[],ie=c.map(z=>{const Oe=(oe||[]).filter(zt=>zt.tipo==="contrato"&&String(zt.referencia_id)===String(z.id)).reduce((zt,Ji)=>zt+Number(Ji.monto??0),0),Ae=Number(z.monto_total??0)-Number(z.pago_inicial??0)-Oe;return{...z,pagos_registrados:Oe,restante:Ae}}),xe=ie.reduce((z,Oe)=>z+Math.max(0,Number(Oe.restante??0)),0),Ue=new Date,rt=(d||[]).filter(z=>{const Oe=z.proxima_fecha_de_pago?new Date(z.proxima_fecha_de_pago):null;return z.is_active&&Oe&&Oe<Ue}).map(z=>({...z,monto_due:Number(z.mensualidad??0),fecha:z.proxima_fecha_de_pago})),Et=rt.reduce((z,Oe)=>z+Number(Oe.monto_due??0),0),Ia=xe+Et,Kn=[];return ie.forEach(z=>{if(z.proximo_pago&&new Date(z.proximo_pago)<Ue&&z.estado==="activo"){const Ae=Number(z.cantidad_de_pagos??1)>0?(Number(z.monto_total??0)-Number(z.pago_inicial??0))/Number(z.cantidad_de_pagos??1):0;Kn.push({tipo:"contrato",proyecto:z.proyecto,fecha:z.proximo_pago,monto:Ae,contratoId:z.id})}}),rt.forEach(z=>{Kn.push({tipo:"suscripcion",proyecto:z.proyecto,fecha:z.fecha,monto:z.monto_due,suscripcionId:z.id})}),n?l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Detalle de Cliente"}),i&&l.jsx(re,{onClick:()=>Ce(!0),children:"Cobrar"})]}),l.jsxs("div",{className:"mt-6",children:[y&&l.jsx("p",{children:"Cargando..."}),!y&&!i&&l.jsx("p",{children:"No se encontr el cliente."}),i&&l.jsxs(l.Fragment,{children:[l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Nombre:"})," ",i.nombre]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Telfono:"})," ",i.telefono??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"RTN:"})," ",i.rtn??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Oficio:"})," ",i.oficio??""]})]})})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Saldo total"})}),l.jsxs(ve,{children:[l.jsx("div",{className:"text-2xl font-bold",children:ye(Ia)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Suma de contratos pendientes y suscripciones vencidas"})]})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Saldo contratos"})}),l.jsxs(ve,{children:[l.jsx("div",{className:"text-xl font-semibold",children:ye(xe)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Total restante en contratos"})]})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Suscripciones vencidas"})}),l.jsxs(ve,{children:[l.jsx("div",{className:"text-xl font-semibold",children:ye(Et)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Total mensualidades vencidas"})]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Prximos pagos"})}),l.jsx(ve,{children:(()=>{const z=[];ie.forEach(Ae=>{if(Ae.proximo_pago&&new Date(Ae.proximo_pago)>=new Date(new Date().setHours(0,0,0,0))&&Ae.estado==="activo"){const Ji=Number(Ae.cantidad_de_pagos??1)>0?(Number(Ae.monto_total??0)-Number(Ae.pago_inicial??0))/Number(Ae.cantidad_de_pagos??1):0;z.push({tipo:"contrato",proyecto:Ae.proyecto,fecha:Ae.proximo_pago,monto:Ji,contratoId:Ae.id})}}),(d||[]).forEach(Ae=>{Ae.proxima_fecha_de_pago&&new Date(Ae.proxima_fecha_de_pago)>=new Date(new Date().setHours(0,0,0,0))&&Ae.is_active&&z.push({tipo:"suscripcion",proyecto:Ae.proyecto,fecha:Ae.proxima_fecha_de_pago,monto:Number(Ae.mensualidad??0),suscripcionId:Ae.id})}),z.sort((Ae,zt)=>new Date(Ae.fecha).getTime()-new Date(zt.fecha).getTime());const Oe=z.slice(0,5);return Oe.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay prximos pagos"}):l.jsx("div",{className:"space-y-2",children:Oe.map((Ae,zt)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:Ae.tipo==="contrato"?"Contrato":"Suscripcin"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Ae.proyecto??"-"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-medium",children:ye(Number(Ae.monto??0))}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Ve(Ae.fecha)})]})]},zt))})})()})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Contratos activos"})}),l.jsx(ve,{children:ie.filter(z=>z.estado==="activo").length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay contratos activos"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Monto total"}),l.jsx(We,{children:"Saldo"}),l.jsx(We,{children:"Prximo pago"})]})}),l.jsx(ma,{children:ie.filter(z=>z.estado==="activo").map(z=>l.jsxs(fr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>le(z),children:[l.jsx(ze,{className:"font-medium",children:z.proyecto??"-"}),l.jsx(ze,{children:ye(Number(z.monto_total??0))}),l.jsx(ze,{className:"text-primary font-medium",children:ye(Number(z.restante??0))}),l.jsx(ze,{className:"text-sm",children:z.proximo_pago?Ve(z.proximo_pago):"-"})]},z.id))})]})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Suscripciones activas"})}),l.jsx(ve,{children:d.filter(z=>z.is_active).length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay suscripciones activas"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Mensualidad"}),l.jsx(We,{children:"Prximo pago"}),l.jsx(We,{children:"Estado"})]})}),l.jsx(ma,{children:d.filter(z=>z.is_active).map(z=>l.jsxs(fr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>U(z),children:[l.jsx(ze,{className:"font-medium",children:z.proyecto??"-"}),l.jsx(ze,{children:ye(Number(z.mensualidad??0))}),l.jsx(ze,{className:"text-sm",children:z.proxima_fecha_de_pago?Ve(z.proxima_fecha_de_pago):"-"}),l.jsx(ze,{children:(()=>{const Oe=new Date,Ae=z.proxima_fecha_de_pago?new Date(z.proxima_fecha_de_pago):null;Oe.setHours(0,0,0,0),Ae&&Ae.setHours(0,0,0,0);const zt=Ae&&Oe>Ae;return l.jsx(pr,{variant:zt?"destructive":"secondary",children:zt?"Vencida":"Al da"})})()})]},z.id))})]})})})]})]}),h.length>0&&l.jsx("div",{className:"mt-6",children:l.jsxs(me,{children:[l.jsxs(ut,{className:"flex flex-row items-center justify-between",children:[l.jsxs(dt,{className:"flex items-center gap-2",children:[l.jsx(So,{className:"h-5 w-5"}),"Avances de Proyectos"]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>r("/avances"),children:"Ver todos"})]}),l.jsx(ve,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(z=>l.jsx(me,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(`/avances/${z.id}`),children:l.jsx(ve,{className:"p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:z.nombre_proyecto}),l.jsxs(pr,{variant:z.estado==="completado"?"default":"secondary",className:z.estado==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":z.estado==="en_progreso"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"",children:[z.estado==="completado"?l.jsx(va,{className:"h-3 w-3 mr-1"}):l.jsx(fi,{className:"h-3 w-3 mr-1"}),z.estado==="completado"?"Completado":z.estado==="en_progreso"?"En Progreso":z.estado]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),l.jsxs("span",{className:"font-bold text-primary",children:[Number(z.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(Cy,{value:Number(z.porcentaje_avance),className:"h-2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.caracteristicas_completadas," de"," ",z.total_caracteristicas," caractersticas completadas"]})]})]})})},z.id))})})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Pagos realizados"})}),l.jsx(ve,{children:oe.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Fecha"}),l.jsx(We,{children:"Tipo"}),l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Monto"}),l.jsx(We,{children:"Notas"})]})}),l.jsx(ma,{children:oe.map(z=>l.jsxs(fr,{children:[l.jsx(ze,{children:Ve(z.fecha_de_creacion??z.created_at)}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:z.tipo}),l.jsx(ze,{className:"text-sm",children:z.proyecto??"-"}),l.jsx(ze,{className:"font-medium",children:ye(Number(z.monto??0))}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:z.notas??"-"})]},z.id))})]})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Pagos vencidos"})}),l.jsx(ve,{children:Kn.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay vencimientos"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Fecha"}),l.jsx(We,{children:"Tipo"}),l.jsx(We,{children:"Proyecto"}),l.jsx(We,{children:"Monto"})]})}),l.jsx(ma,{children:Kn.map((z,Oe)=>l.jsxs(fr,{children:[l.jsx(ze,{children:Ve(z.fecha)}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:z.tipo}),l.jsx(ze,{className:"text-sm",children:z.proyecto??"-"}),l.jsx(ze,{className:"font-medium",children:ye(Number(z.monto??0))})]},Oe))})]})})})]})]})]})]}),l.jsx(It,{open:g,onOpenChange:z=>{z?j(!0):(j(!1),v(null),O(!1))},children:l.jsxs(Pt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Detalle del contrato"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Proyecto"}),l.jsx("p",{className:"font-medium text-lg",children:(b==null?void 0:b.proyecto)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto total"}),l.jsx("p",{className:"font-semibold text-lg",children:ye((b==null?void 0:b.monto_total)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto pagado"}),l.jsx("p",{className:"font-semibold text-lg text-green-600",children:ye((b==null?void 0:b.pagos_registrados)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo actual"}),l.jsx("p",{className:"font-semibold text-lg text-primary",children:ye((b==null?void 0:b.restante)??0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pago inicial"}),l.jsx("p",{className:"font-medium",children:ye((b==null?void 0:b.pago_inicial)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cantidad de pagos"}),l.jsx("p",{className:"font-medium",children:(b==null?void 0:b.cantidad_de_pagos)??"-"})]})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Prximo pago"}),!E&&l.jsx(re,{variant:"outline",size:"sm",onClick:()=>O(!0),children:"Editar"})]}),E?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"datetime-local",value:_??"",onChange:z=>S(z.target.value||null),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:()=>{const z=b!=null&&b.proximo_pago?new Date(b.proximo_pago).toISOString().slice(0,16):"";S(z||null),O(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:()=>M(!0),children:"Guardar cambios"})]})]}):l.jsx("p",{className:"font-medium text-lg",children:b!=null&&b.proximo_pago?Ve(b.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pagos realizados"}),l.jsx("div",{className:"max-h-48 overflow-auto border rounded-md",children:A?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):T.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:T.map(z=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:z.fecha_de_creacion?Ve(z.fecha_de_creacion):Ve(z.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:ye(Number(z.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:z.notas??"-"})]},z.id))})]})})]})]}),l.jsx(At,{children:l.jsx(re,{variant:"outline",onClick:()=>{j(!1),v(null),O(!1)},children:"Cerrar"})})]})}),l.jsx(It,{open:N,onOpenChange:z=>M(z),children:l.jsxs(Pt,{children:[l.jsxs(Nt,{children:[l.jsx(Ct,{children:"Confirmar actualizacin"}),l.jsx(ac,{children:"Ests seguro de que deseas actualizar la fecha del prximo pago?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha actual:"}),l.jsx("p",{className:"font-medium",children:b!=null&&b.proximo_pago?Ve(b.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha:"}),l.jsx("p",{className:"font-medium",children:_?new Date(_).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No establecido"})]})]}),l.jsxs(At,{children:[l.jsx(re,{variant:"outline",onClick:()=>M(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>await He(),children:"Confirmar actualizacin"})]})]})}),l.jsx(It,{open:B,onOpenChange:z=>{z?C(!0):(C(!1),R(null),K(!1))},children:l.jsxs(Pt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Detalle de Suscripcin"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Proyecto"}),l.jsx("p",{className:"font-medium text-lg",children:($==null?void 0:$.proyecto)??"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Estado"}),l.jsx(pr,{variant:$!=null&&$.is_active?"default":"secondary",children:$!=null&&$.is_active?"Activa":"Pausada"})]}),F?l.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensualidad"}),l.jsx("input",{type:"number",step:"0.01",value:Z,onChange:z=>se(z.target.value),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prxima fecha de pago"}),l.jsx("input",{type:"date",value:te,onChange:z=>ae(z.target.value),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{se(String(($==null?void 0:$.mensualidad)??""));const z=$!=null&&$.proxima_fecha_de_pago?new Date($.proxima_fecha_de_pago).toISOString().slice(0,10):"";ae(z),K(!1)},children:"Cancelar"}),l.jsx(re,{onClick:()=>de(!0),children:"Guardar cambios"})]})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 border rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensualidad"}),l.jsx("p",{className:"font-semibold text-lg",children:ye(Number(($==null?void 0:$.mensualidad)??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"font-semibold text-lg",children:$!=null&&$.proxima_fecha_de_pago?Ve($.proxima_fecha_de_pago):"No establecido"})]}),l.jsx("div",{className:"col-span-2",children:l.jsx(re,{variant:"outline",size:"sm",onClick:()=>K(!0),children:"Editar"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pagos realizados"}),l.jsx("div",{className:"max-h-48 overflow-auto border rounded-md",children:G?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):D.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:D.map(z=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:z.fecha_de_creacion?Ve(z.fecha_de_creacion):Ve(z.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:ye(Number(z.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:z.notas??"-"})]},z.id))})]})})]})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2 justify-between w-full",children:[l.jsx(re,{variant:$!=null&&$.is_active?"destructive":"default",onClick:ne,children:$!=null&&$.is_active?"Pausar suscripcin":"Reactivar suscripcin"}),l.jsx(re,{variant:"outline",onClick:()=>{C(!1),R(null),K(!1)},children:"Cerrar"})]})})]})}),l.jsx(It,{open:Y,onOpenChange:z=>de(z),children:l.jsxs(Pt,{children:[l.jsxs(Nt,{children:[l.jsx(Ct,{children:"Confirmar actualizacin"}),l.jsx(ac,{children:"Ests seguro de que deseas actualizar esta suscripcin?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensualidad actual:"}),l.jsx("p",{className:"font-medium",children:ye(Number(($==null?void 0:$.mensualidad)??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva mensualidad:"}),l.jsx("p",{className:"font-medium",children:ye(Number(Z??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha de pago:"}),l.jsx("p",{className:"font-medium",children:te?new Date(te).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No establecido"})]})]}),l.jsxs(At,{children:[l.jsx(re,{variant:"outline",onClick:()=>de(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>await Q(),children:"Confirmar actualizacin"})]})]})}),l.jsx(It,{open:Fe,onOpenChange:z=>{Ce(z),z||(Xe(null),ge(null))},children:l.jsxs(Pt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(Nt,{children:[l.jsx(Ct,{children:"Seleccionar contrato o suscripcin para cobrar"}),l.jsx(ac,{children:"Selecciona un contrato o suscripcin para proceder con el cobro"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contratos activos"}),ie.filter(z=>z.estado==="activo").length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-lg",children:"No hay contratos activos"}):l.jsx("div",{className:"space-y-2",children:ie.filter(z=>z.estado==="activo").map(z=>l.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{Xe("contrato"),ge(z),Ce(!1),X(!0)},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:z.proyecto??"-"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Monto total: ",ye(Number(z.monto_total??0))]}),l.jsxs("p",{className:"text-sm text-primary font-medium mt-1",children:["Saldo pendiente: ",ye(Number(z.restante??0))]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"text-sm font-medium",children:z.proximo_pago?Ve(z.proximo_pago):"-"})]})]})},z.id))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Suscripciones activas"}),d.filter(z=>z.is_active).length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-lg",children:"No hay suscripciones activas"}):l.jsx("div",{className:"space-y-2",children:d.filter(z=>z.is_active).map(z=>{const Oe=new Date,Ae=z.proxima_fecha_de_pago?new Date(z.proxima_fecha_de_pago):null;Oe.setHours(0,0,0,0),Ae&&Ae.setHours(0,0,0,0);const zt=Ae&&Oe>Ae;return l.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{Xe("suscripcion"),ge(z),Ce(!1),X(!0)},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium",children:z.proyecto??"-"}),l.jsx(pr,{variant:zt?"destructive":"secondary",children:zt?"Vencida":"Al da"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mensualidad: ",ye(Number(z.mensualidad??0))]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"text-sm font-medium",children:z.proxima_fecha_de_pago?Ve(z.proxima_fecha_de_pago):"-"})]})]})},z.id)})})]})]}),l.jsx(At,{children:l.jsx(re,{variant:"outline",onClick:()=>Ce(!1),children:"Cancelar"})})]})}),l.jsx(eU,{open:ue,onOpenChange:z=>{X(z),z||(Xe(null),ge(null))},clienteId:n,initialTipo:et||void 0,initialReferencia:W,onCreated:()=>{n&&(J.from("pagos").select("id,fecha_de_creacion,tipo,proyecto,monto,notas,referencia_id,created_at").eq("cliente",n).order("fecha_de_creacion",{ascending:!1}).then(({data:z})=>{s(Array.isArray(z)?z:[])}),J.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n).then(({data:z})=>{u(Array.isArray(z)?z:[])}),J.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n).then(({data:z})=>{f(Array.isArray(z)?z:[])}))}})]}):l.jsx("div",{className:"p-6",children:"ID de cliente no proporcionado."})}function HSe(){const[e,t]=b2("/clientes/proyecto/:id"),r=t==null?void 0:t.id,[n,i]=w.useState(null),[a,o]=w.useState([]),[s,c]=w.useState(!0),[,u]=wi();return w.useEffect(()=>{async function d(){if(r){c(!0);try{const{data:f,error:h}=await J.from("proyectos").select("*").eq("id",r).limit(1).single();h||i(f);const[m,y]=await Promise.all([J.from("contratos").select("cliente,id").eq("proyecto",r),J.from("suscripciones").select("cliente,id").eq("proyecto",r)]),p=Array.isArray(m.data)?m.data:[],x=Array.isArray(y.data)?y.data:[],b={};p.forEach(j=>{if(!(j!=null&&j.cliente))return;const _=String(j.cliente);b[_]=b[_]??{id:_,tipos:new Set},b[_].tipos.add("contrato")}),x.forEach(j=>{if(!(j!=null&&j.cliente))return;const _=String(j.cliente);b[_]=b[_]??{id:_,tipos:new Set},b[_].tipos.add("suscripcion")});const v=Object.keys(b);if(v.length>0){const{data:j}=await J.from("clientes").select("id,nombre,telefono,rtn").in("id",v);(Array.isArray(j)?j:[]).forEach(S=>{b[S.id]&&(b[S.id].nombre=S.nombre)})}const g=Object.values(b).map(j=>({id:j.id,nombre:j.nombre??j.id,tipos:Array.from(j.tipos)}));o(g)}catch(f){console.error("Error cargando proyecto detalle:",f)}c(!1)}}d()},[r]),r?l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Detalle de Proyecto"}),l.jsxs("div",{className:"mt-6",children:[s&&l.jsx("p",{children:"Cargando..."}),!s&&!n&&l.jsx("p",{children:"No se encontr el proyecto."}),n&&l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Tipo:"})," ",n.tipo??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Correo admin:"})," ",n.correo_administracion??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Creacin:"})," ",n.creacion?new Date(n.creacion).toLocaleString():""]})]})})}),a&&a.length>0&&l.jsx("div",{className:"mt-6",children:l.jsx(me,{children:l.jsxs(ve,{children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Clientes que adquirieron este proyecto"}),l.jsx("div",{className:"overflow-auto",children:l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Nombre"}),l.jsx(We,{children:"Acquisicin"}),l.jsx(We,{children:"Accin"})]})}),l.jsx(ma,{children:a.map(d=>l.jsxs(fr,{className:"cursor-pointer",onClick:()=>u(`/clientes/${d.id}`),children:[l.jsx(ze,{children:d.nombre}),l.jsx(ze,{className:"text-sm text-muted-foreground",children:(d.tipos||[]).join(", ")}),l.jsx(ze,{className:"text-sm text-primary",children:"Ver detalle"})]},d.id))})]})})]})})})]})]}):l.jsx("div",{className:"p-6",children:"ID de proyecto no proporcionado."})}function KSe(){function e({contract:k,onClick:F}){return k.fecha_de_creacion&&Math.floor((Date.now()-new Date(k.fecha_de_creacion).getTime())/(1e3*60*60*24)),l.jsx(me,{onClick:F,className:`hover-elevate cursor-pointer ${!k.estado||k.estado!=="activo"?"opacity-70":""}`,children:l.jsxs(ve,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Qs,{className:"h-10 w-10",children:l.jsx(Js,{className:"bg-primary/10 text-primary text-sm font-medium",children:rh(String(k.clienteName??k.cliente))})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate",children:k.clienteName}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:k.projectName})]})]}),l.jsx(pr,{className:k.estado==="activo"?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground",children:k.estado})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Monto total"}),l.jsx("span",{className:"font-semibold",children:ye(k.monto_total)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Pagos registrados"}),l.jsx("span",{children:ye(k.pagos_registrados)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Valor restante"}),l.jsx("span",{className:"font-semibold text-primary",children:ye(k.valor_restante)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creado"}),l.jsx("span",{className:"text-sm",children:k.fecha_de_creacion?Ve(k.fecha_de_creacion):"-"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prximo pago"}),l.jsx("span",{className:"text-sm",children:k.proximo_pago?Ve(k.proximo_pago):"-"})]})]})]})})}const[t,r]=w.useState(null),[n,i]=w.useState(!1),[a,o]=w.useState(null),[s,c]=w.useState(!1),[u,d]=w.useState(!1),{toast:f}=vr(),[h,m]=w.useState([]),[y,p]=w.useState(!1),[x,b]=w.useState(!1),[v,g]=w.useState(""),[j,_]=w.useState(!1);function S(k){r(k);let F="";if(k!=null&&k.proximo_pago){const K=Tr(k.proximo_pago);if(K){const Z=K.getFullYear(),se=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0"),ae=String(K.getHours()).padStart(2,"0"),Y=String(K.getMinutes()).padStart(2,"0");F=`${Z}-${se}-${te}T${ae}:${Y}`}}o(F||null),c(!1),i(!0),E(k==null?void 0:k.id)}async function E(k){if(k)try{p(!0);const{data:F,error:K}=await J.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",k).eq("tipo","contrato").order("fecha_de_creacion",{ascending:!1});if(K)throw K;m(Array.isArray(F)?F:[])}catch(F){console.error("Error cargando pagos del contrato:",F),f({title:"Error cargando pagos",description:String(F)}),m([])}finally{p(!1)}}async function O(){if(t)try{const k=a?R1(a):null,{error:F}=await J.from("contratos").update({proximo_pago:k}).eq("id",t.id);if(F)throw F;f({title:"Prximo pago actualizado"}),jt.invalidateQueries({queryKey:["contratos-activos"]}),d(!1),c(!1),r({...t,proximo_pago:k})}catch(k){console.error("Error actualizando prximo pago:",k),f({title:"Error actualizando prximo pago",description:(k==null?void 0:k.message)??String(k)})}}const[N,M]=w.useState({}),[T,I]=w.useState({}),[A,P]=w.useState(""),[$,R]=w.useState("all");w.useEffect(()=>{(async()=>{try{const[k,F]=await Promise.all([J.from("proyectos").select("id,nombre"),J.from("clientes").select("id,nombre")]),K=Array.isArray(k.data)?k.data:[],Z=Array.isArray(F.data)?F.data:[],se={},te={};K.forEach(ae=>{ae!=null&&ae.id&&(se[ae.id]=ae.nombre??ae.id)}),Z.forEach(ae=>{ae!=null&&ae.id&&(te[ae.id]=ae.nombre??ae.id)}),M(se),I(te)}catch(k){console.error("Error cargando meta:",k)}})()},[]);const{data:B,isLoading:C}=it({queryKey:["contratos-activos"],queryFn:async()=>{const{data:k,error:F}=await J.from("contratos").select("*").order("fecha_de_creacion",{ascending:!1});if(F)throw F;const K=Array.isArray(k)?k:[];if(K.length===0)return[];const Z=K.map(ue=>ue.id).filter(Boolean),{data:se,error:te}=await J.from("pagos").select("referencia_id,monto,cliente,proyecto").in("referencia_id",Z).eq("tipo","contrato");if(te)return console.error("Error cargando pagos para contratos:",te),K;const ae=Array.isArray(se)?se:[],Y={};return ae.forEach(ue=>{if(!ue||!ue.referencia_id)return;const X=String(ue.referencia_id);Y[X]=(Y[X]??0)+Number(ue.monto??0)}),K.map(ue=>{const X=Y[String(ue.id)]??0,Fe=Number(ue.monto_total??0)-Number(ue.pago_inicial??0)-X;return{...ue,pagos_registrados:X,valor_restante:Fe}})}}),D=(Array.isArray(B)?B:[]).map(k=>({id:k.id,cliente:k.cliente,proyecto:k.proyecto,monto_total:Number(k.monto_total??0),cantidad_de_pagos:Number(k.cantidad_de_pagos??1),pago_inicial:Number(k.pago_inicial??0),estado:k.estado??"activo",fecha_de_creacion:k.fecha_de_creacion??k.created_at??null,pagos_registrados:Number(k.pagos_registrados??0),valor_restante:Number(k.valor_restante??Number(k.monto_total??0)-Number(k.pago_inicial??0)),proximo_pago:k.proximo_pago??null,clienteName:T[k.cliente]??k.cliente,projectName:N[k.proyecto]??k.proyecto})),H=D.filter(k=>{const F=(String(k.clienteName??"")+" "+String(k.projectName??"")).toLowerCase().includes(A.toLowerCase());let K=!0;return $==="activo"&&(K=k.estado==="activo"),$==="cancelado"&&(K=k.estado==="cancelado"),F&&K}),G={total:D.length,activos:D.filter(k=>k.estado==="activo").length,cancelados:D.filter(k=>k.estado==="cancelado").length,total_restante:D.reduce((k,F)=>k+Number(F.valor_restante??0),0)};return l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Contratos Activos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Listado de suscripciones activas (contratos)"})]}),l.jsx("div",{className:"mt-6",children:C?l.jsx(me,{children:l.jsx(ve,{children:" Cargando... "})}):D.length===0?l.jsx(me,{children:l.jsx(ve,{children:"No hay contratos activos"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:G.total})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Activos"}),l.jsx("p",{className:"text-2xl font-bold",children:G.activos})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelados"}),l.jsx("p",{className:"text-2xl font-bold",children:G.cancelados})]})}),l.jsx(me,{className:"hover-elevate",children:l.jsxs(ve,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total restante"}),l.jsx("p",{className:"text-2xl font-bold",children:ye(G.total_restante)})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por cliente o proyecto...",className:"pl-10",value:A,onChange:k=>P(k.target.value)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:$==="all"?"secondary":"ghost",onClick:()=>R("all"),children:"Todas"}),l.jsx(re,{variant:$==="activo"?"secondary":"ghost",onClick:()=>R("activo"),children:"Activas"}),l.jsx(re,{variant:$==="cancelado"?"secondary":"ghost",onClick:()=>R("cancelado"),children:"Canceladas"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(k=>l.jsx(e,{contract:k,onClick:()=>S(k)},k.id))}),l.jsx(It,{open:n,onOpenChange:k=>{k?i(!0):(i(!1),r(null))},children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Detalle del contrato"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.clienteName)??"-"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Proyecto"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.projectName)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto total"}),l.jsx("p",{className:"font-semibold text-lg",children:ye((t==null?void 0:t.monto_total)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto pagado"}),l.jsx("p",{className:"font-semibold text-lg text-green-600",children:ye((t==null?void 0:t.pagos_registrados)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo actual"}),l.jsx("p",{className:"font-semibold text-lg text-primary",children:ye((t==null?void 0:t.valor_restante)??0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pago inicial"}),l.jsx("p",{className:"font-medium",children:ye((t==null?void 0:t.pago_inicial)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cantidad de pagos"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.cantidad_de_pagos)??"-"})]})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Prximo pago"}),!s&&l.jsx(re,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Editar"})]}),s?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"datetime-local",value:a??"",onChange:k=>o(k.target.value||null),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:()=>{let k="";if(t!=null&&t.proximo_pago){const F=Tr(t.proximo_pago);if(F){const K=F.getFullYear(),Z=String(F.getMonth()+1).padStart(2,"0"),se=String(F.getDate()).padStart(2,"0"),te=String(F.getHours()).padStart(2,"0"),ae=String(F.getMinutes()).padStart(2,"0");k=`${K}-${Z}-${se}T${te}:${ae}`}}o(k||null),c(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:()=>d(!0),children:"Guardar cambios"})]})]}):l.jsx("p",{className:"font-medium text-lg",children:t!=null&&t.proximo_pago?Ve(t.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pagos realizados"}),l.jsx("div",{className:"mt-2 max-h-48 overflow-auto border rounded-md",children:y?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):h.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:h.map(k=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:k.fecha_de_creacion?Ve(k.fecha_de_creacion):Ve(k.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:ye(Number(k.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:k.notas??"-"})]},k.id))})]})})]})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2 justify-between w-full",children:[l.jsx(re,{variant:"destructive",onClick:()=>b(!0),children:"Anular contrato"}),l.jsx(re,{variant:"outline",onClick:()=>{i(!1),r(null),c(!1)},children:"Cerrar"})]})})]})}),l.jsx(It,{open:u,onOpenChange:k=>d(k),children:l.jsxs(Pt,{children:[l.jsxs(Nt,{children:[l.jsx(Ct,{children:"Confirmar actualizacin"}),l.jsx(ac,{children:"Ests seguro de que deseas actualizar la fecha del prximo pago?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha actual:"}),l.jsx("p",{className:"font-medium",children:t!=null&&t.proximo_pago?Ve(t.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha:"}),l.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No establecido"})]})]}),l.jsxs(At,{children:[l.jsx(re,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>{await O()},children:"Confirmar actualizacin"})]})]})}),l.jsx(It,{open:x,onOpenChange:k=>b(k),children:l.jsxs(Pt,{children:[l.jsxs(Nt,{children:[l.jsx(Ct,{children:"Confirmar anulacin"}),l.jsx(ac,{children:"Para anular este contrato ingresa la clave de acceso."})]}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:v,onChange:k=>g(k.target.value),className:"block w-full rounded-md border p-2"})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{b(!1),g("")},children:"Cancelar"}),l.jsx(re,{variant:"destructive",onClick:async()=>{if(t)try{_(!0);const{data:k,error:F}=await J.from("configuracion").select("clave").limit(1).single();if(F)throw F;const K=(k==null?void 0:k.clave)??null;if(!K){f({title:"No hay clave configurada"});return}if(v!==K){f({title:"Clave incorrecta"});return}const{error:Z}=await J.from("contratos").update({estado:"anulado"}).eq("id",t.id);if(Z)throw Z;f({title:"Contrato anulado"}),b(!1),i(!1),r(null),g(""),jt.invalidateQueries({queryKey:["contratos-activos"]}),jt.invalidateQueries({queryKey:["contratos"]})}catch(k){console.error("Error anulando contrato:",k),f({title:"Error anulando contrato",description:(k==null?void 0:k.message)??String(k)})}finally{_(!1)}},children:"Confirmar"})]})})]})})]})})]})}const Ty=w.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Ty.displayName="Textarea";function GSe(){const{toast:e}=vr(),{data:t,isLoading:r}=it({queryKey:["configuracion"],queryFn:async()=>{const{data:v,error:g}=await J.from("configuracion").select("*").limit(1);if(g)throw g;return Array.isArray(v)&&v.length>0?v[0]:null}}),[n,i]=w.useState(""),[a,o]=w.useState(""),[s,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(""),[m,y]=w.useState(""),[p,x]=w.useState(!1);w.useEffect(()=>{t&&(i(t.nombre??""),o(t.rtn??""),c(t.direccion??""),d(t.proyecto??""),h(t.telefono??""),y(t.clave??""))},[t]);async function b(){try{const v={nombre:n||null,rtn:a||null,direccion:s||null,proyecto:u||null,telefono:f||null,clave:m||null,updated_at:new Date().toISOString()};if(t&&t.id){const{error:g}=await J.from("configuracion").update(v).eq("id",t.id);if(g)throw g;e({title:"Configuracin guardada"})}else{const{error:g}=await J.from("configuracion").insert([v]);if(g)throw g;e({title:"Configuracin creada"})}jt.invalidateQueries({queryKey:["configuracion"]})}catch(v){console.error("Error guardando configuracin:",v),e({title:"Error guardando configuracin",description:(v==null?void 0:v.message)??String(v)})}}return l.jsx("div",{className:"p-6 lg:p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Qs,{className:"bg-gradient-to-br from-primary/10 to-secondary/10",children:l.jsx(Js,{children:((t==null?void 0:t.nombre)||"-").charAt(0)})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Configuracin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajustes generales y datos de la organizacin"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>x(!0),children:[l.jsx(vO,{className:"w-4 h-4"}),"Editar"]}),l.jsxs(re,{size:"sm",variant:"destructive",onClick:()=>{try{localStorage.removeItem("admon-auth")}catch{}typeof window<"u"&&(window.location.href="/login")},children:[l.jsx(NV,{className:"w-4 h-4"}),"Cerrar sesin"]})]})]}),l.jsxs(me,{className:"overflow-hidden",children:[l.jsxs(ut,{children:[l.jsx(dt,{children:"Datos"}),l.jsx(aM,{children:"Informacin que aparece en facturas y documentos."})]}),l.jsxs(ve,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"md:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-muted/40 rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre"}),l.jsx("p",{className:"font-medium text-lg",children:(t==null?void 0:t.nombre)??"-"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["RTN ",l.jsx("div",{className:"font-medium",children:(t==null?void 0:t.rtn)??"-"})]})]}),l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(AV,{className:"w-4 h-4"})," Direccin"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.direccion)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(OV,{className:"w-4 h-4"})," Proyecto"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.proyecto)??"-"})]}),l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(kV,{className:"w-4 h-4"})," Telfono"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.telefono)??"-"})]})]})]}),l.jsxs("aside",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-white/60 to-muted/10 p-4 shadow-sm",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(fi,{className:"w-4 h-4"})," ltima actualizacin"]}),l.jsx("p",{className:"font-medium mt-1",children:t&&t.updated_at?Ve(t.updated_at):"-"})]}),l.jsx("div",{className:"rounded-lg p-4 border border-border flex flex-col gap-2",children:l.jsxs(re,{size:"sm",onClick:()=>x(!0),children:[l.jsx(vO,{className:"w-4 h-4"}),"Editar datos"]})})]})]})]}),l.jsx(It,{open:p,onOpenChange:x,children:l.jsxs(Pt,{children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Editar configuracin"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),l.jsx(Me,{value:n,onChange:v=>i(v.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"RTN"}),l.jsx(Me,{value:a,onChange:v=>o(v.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Direccin"}),l.jsx(Ty,{value:s,onChange:v=>c(v.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Proyecto"}),l.jsx(Me,{value:u,onChange:v=>d(v.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telfono"}),l.jsx(Me,{value:f,onChange:v=>h(v.target.value)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Clave"}),l.jsx(Me,{type:"password",value:m,onChange:v=>y(v.target.value)})]})]}),l.jsx(At,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",size:"sm",onClick:()=>{t?(i(t.nombre??""),o(t.rtn??""),c(t.direccion??""),d(t.proyecto??""),h(t.telefono??""),y(t.clave??"")):(i(""),o(""),c(""),d(""),h(""),y("")),x(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:async()=>{await b(),x(!1)},children:"Guardar"})]})})]})})]})})}function YSe(){const[e,t]=w.useState(""),[r,n]=w.useState("todos"),[i,a]=w.useState(!1),[o,s]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,p]=w.useState([{nombre:"",descripcion:""}]),{toast:x}=vr(),b=Zf(),[,v]=wi();w.useEffect(()=>{u("")},[o]);const{data:g,isLoading:j}=it({queryKey:["avances"],queryFn:async()=>{const{data:R,error:B}=await J.from("avances").select("*").order("fecha_creacion",{ascending:!1});if(B)throw B;if(!R||R.length===0)return[];const C=[...new Set(R.map(G=>G.cliente_id))];[...new Set(R.map(G=>G.contrato_id))];const{data:D}=await J.from("clientes").select("id, nombre").in("id",C),H={};return(D||[]).forEach(G=>{H[G.id]=G.nombre}),R.map(G=>({...G,cliente_nombre:H[G.cliente_id]||"Sin cliente",contrato_nombre:G.nombre_proyecto||"Sin proyecto"}))}}),{data:_}=it({queryKey:["clientes-avances"],queryFn:async()=>{const{data:R,error:B}=await J.from("clientes").select("id, nombre").order("nombre");if(B)throw B;return R}}),{data:S}=it({queryKey:["contratos-avances",o],queryFn:async()=>{if(!o)return[];const{data:R,error:B}=await J.from("contratos").select("id, proyecto").eq("cliente",o).eq("estado","activo");if(B)throw B;if(!R||R.length===0)return[];const C=R.map(k=>k.proyecto),{data:D,error:H}=await J.from("proyectos").select("id, nombre").in("id",C);if(H)throw H;const G={};return(D||[]).forEach(k=>{G[k.id]=k.nombre}),R.map(k=>({id:k.id,proyecto:k.proyecto,proyecto_nombre:G[k.proyecto]||"Sin nombre"}))},enabled:!!o}),E=Es({mutationFn:async R=>{const{data:B,error:C}=await J.from("avances").insert(R).select().single();if(C)throw C;return B},onSuccess:async R=>{const B=y.filter(C=>C.nombre.trim()!=="").map((C,D)=>({avance_id:R.id,nombre:C.nombre,descripcion:C.descripcion||null,orden:D+1}));if(B.length>0){const{error:C}=await J.from("avances_caracteristicas").insert(B);C&&x({title:"Error al guardar caractersticas",description:C.message,variant:"destructive"})}b.invalidateQueries({queryKey:["avances"]}),x({title:"Proyecto creado",description:"El proyecto se ha creado exitosamente"}),O()},onError:R=>{x({title:"Error al crear proyecto",description:R.message,variant:"destructive"})}}),O=()=>{a(!1),s(""),u(""),f(""),m(""),p([{nombre:"",descripcion:""}])},N=()=>{p([...y,{nombre:"",descripcion:""}])},M=R=>{y.length>1&&p(y.filter((B,C)=>C!==R))},T=(R,B,C)=>{const D=[...y];D[R][B]=C,p(D)},I=()=>{if(!o||!c||!d.trim()){x({title:"Campos requeridos",description:"Por favor completa todos los campos obligatorios",variant:"destructive"});return}if(y.filter(R=>R.nombre.trim()!=="").length===0){x({title:"Caractersticas requeridas",description:"Debes agregar al menos una caracterstica",variant:"destructive"});return}E.mutate({cliente_id:o,contrato_id:c,nombre_proyecto:d,descripcion:h||null})},A=g==null?void 0:g.filter(R=>{const B=R.nombre_proyecto.toLowerCase().includes(e.toLowerCase())||R.cliente_nombre.toLowerCase().includes(e.toLowerCase())||R.contrato_nombre.toLowerCase().includes(e.toLowerCase()),C=r==="todos"||R.estado===r;return B&&C}),P={total:(g==null?void 0:g.length)||0,enProgreso:(g==null?void 0:g.filter(R=>R.estado==="en_progreso").length)||0,completados:(g==null?void 0:g.filter(R=>R.estado==="completado").length)||0,promedioAvance:g&&g.length>0?g.reduce((R,B)=>R+Number(B.porcentaje_avance),0)/g.length:0},$=R=>{const B={en_progreso:{variant:"default",icon:fi,label:"En Progreso"},completado:{variant:"default",icon:va,label:"Completado"},pausado:{variant:"secondary",icon:uR,label:"Pausado"},cancelado:{variant:"destructive",icon:lv,label:"Cancelado"}},C=B[R]||B.en_progreso,D=C.icon;return l.jsxs(pr,{variant:C.variant,className:R==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":R==="en_progreso"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"",children:[l.jsx(D,{className:"h-3 w-3 mr-1"}),C.label]})};return l.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Avances de Proyectos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona y da seguimiento a tus proyectos en desarrollo"})]}),l.jsxs(re,{onClick:()=>a(!0),size:"lg",children:[l.jsx(zp,{className:"h-4 w-4 mr-2"}),"Crear Proyecto"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(me,{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:l.jsx(So,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:P.total}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Proyectos"})]})]})})}),l.jsx(me,{className:"bg-gradient-to-br from-orange-500/10 to-orange-500/5",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500/20 flex items-center justify-center",children:l.jsx(fi,{className:"h-6 w-6 text-orange-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:P.enProgreso}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"En Progreso"})]})]})})}),l.jsx(me,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/20 flex items-center justify-center",children:l.jsx(va,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:P.completados}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Completados"})]})]})})}),l.jsx(me,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5",children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:l.jsx(So,{className:"h-6 w-6 text-purple-500"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-bold",children:[P.promedioAvance.toFixed(0),"%"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Avance Promedio"})]})]})})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Me,{placeholder:"Buscar por proyecto, cliente...",value:e,onChange:R=>t(R.target.value),className:"pl-10"})]}),l.jsxs(Vi,{value:r,onValueChange:n,children:[l.jsx(mi,{className:"w-full sm:w-[200px]",children:l.jsx(Wi,{placeholder:"Todos los estados"})}),l.jsxs(gi,{children:[l.jsx(Rt,{value:"todos",children:"Todos los estados"}),l.jsx(Rt,{value:"en_progreso",children:"En Progreso"}),l.jsx(Rt,{value:"completado",children:"Completados"}),l.jsx(Rt,{value:"pausado",children:"Pausados"}),l.jsx(Rt,{value:"cancelado",children:"Cancelados"})]})]})]}),j?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(R=>l.jsx(me,{className:"animate-pulse",children:l.jsx(ve,{className:"p-6",children:l.jsx("div",{className:"h-24 bg-muted rounded"})})},R))}):A&&A.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(R=>l.jsxs(me,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>v(`/avances/${R.id}`),children:[l.jsx(ut,{children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx(dt,{className:"text-lg line-clamp-2",children:R.nombre_proyecto}),$(R.estado)]})}),l.jsxs(ve,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Cliente"}),l.jsx("span",{className:"font-medium",children:R.cliente_nombre})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Contrato"}),l.jsx("span",{className:"font-medium truncate ml-2",children:R.contrato_nombre})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),l.jsxs("span",{className:"font-bold text-primary",children:[Number(R.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(Cy,{value:Number(R.porcentaje_avance),className:"h-2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.caracteristicas_completadas," de"," ",R.total_caracteristicas," caractersticas completadas"]})]}),R.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:R.descripcion})]})]},R.id))}):l.jsx(me,{children:l.jsxs(ve,{className:"p-12 text-center",children:[l.jsx(fi,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay proyectos"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:e?"No se encontraron proyectos con esos criterios":"Comienza creando tu primer proyecto en desarrollo"}),!e&&l.jsxs(re,{onClick:()=>a(!0),children:[l.jsx(zp,{className:"h-4 w-4 mr-2"}),"Crear Proyecto"]})]})}),l.jsx(It,{open:i,onOpenChange:a,children:l.jsxs(Pt,{className:"max-w-[95vw] md:max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-xl",children:"Crear Nuevo Proyecto"})}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs($r,{htmlFor:"cliente",children:["Cliente ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Vi,{value:o,onValueChange:s,children:[l.jsx(mi,{id:"cliente",children:l.jsx(Wi,{placeholder:"Selecciona un cliente"})}),l.jsx(gi,{children:_==null?void 0:_.map(R=>l.jsx(Rt,{value:R.id,children:R.nombre},R.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs($r,{htmlFor:"contrato",children:["Proyecto / Contrato ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Vi,{value:c,onValueChange:u,disabled:!o,children:[l.jsx(mi,{id:"contrato",children:l.jsx(Wi,{placeholder:o?S&&S.length===0?"No hay contratos disponibles":"Selecciona un proyecto":"Primero selecciona un cliente"})}),l.jsx(gi,{children:S&&S.length>0?S.map(R=>l.jsx(Rt,{value:R.id,children:R.proyecto_nombre||"Sin nombre"},R.id)):l.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No hay contratos para este cliente"})})]}),o&&S&&S.length===0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Este cliente no tiene contratos activos. Crea uno primero en la seccin de Contratos."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs($r,{htmlFor:"nombre",children:["Nombre del Proyecto ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"nombre",value:d,onChange:R=>f(R.target.value),placeholder:"Ej: Sistema de Gestin Administrativa"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx($r,{htmlFor:"descripcion",children:"Descripcin"}),l.jsx(Ty,{id:"descripcion",value:h,onChange:R=>m(R.target.value),placeholder:"Descripcin opcional del proyecto...",rows:3})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs($r,{children:["Caractersticas ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:N,children:[l.jsx(zp,{className:"h-4 w-4 mr-2"}),"Agregar"]})]}),l.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:y.map((R,B)=>l.jsx(me,{className:"p-4",children:l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Me,{placeholder:`Caracterstica ${B+1}`,value:R.nombre,onChange:C=>T(B,"nombre",C.target.value)}),l.jsx(Me,{placeholder:"Descripcin opcional",value:R.descripcion,onChange:C=>T(B,"descripcion",C.target.value)})]}),y.length>1&&l.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(B),children:l.jsx(BV,{className:"h-4 w-4 text-destructive"})})]})})},B))})]})]}),l.jsxs(At,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:O,className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:I,disabled:E.isPending,className:"w-full sm:w-auto",children:E.isPending?"Creando...":"Crear Proyecto"})]})]})})]})}var LS="Checkbox",[XSe,NEe]=on(LS),[QSe,JSe]=XSe(LS),kU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),y=Je(t,j=>m(j)),p=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[b=!1,v]=qi({prop:i,defaultProp:a,onChange:u}),g=w.useRef(b);return w.useEffect(()=>{const j=h==null?void 0:h.form;if(j){const _=()=>v(g.current);return j.addEventListener("reset",_),()=>j.removeEventListener("reset",_)}},[h,v]),l.jsxs(QSe,{scope:r,state:b,disabled:s,children:[l.jsx(Se.button,{type:"button",role:"checkbox","aria-checked":bo(b)?"mixed":b,"aria-required":o,"data-state":IU(b),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:y,onKeyDown:pe(e.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:pe(e.onClick,j=>{v(_=>bo(_)?!0:!_),x&&(p.current=j.isPropagationStopped(),p.current||j.stopPropagation())})}),x&&l.jsx(ZSe,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:bo(a)?!1:a})]})});kU.displayName=LS;var $U="CheckboxIndicator",RU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=JSe($U,r);return l.jsx(sn,{present:n||bo(a.state)||a.state===!0,children:l.jsx(Se.span,{"data-state":IU(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});RU.displayName=$U;var ZSe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,o=w.useRef(null),s=mB(r),c=MR(t);w.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&m){const y=new Event("click",{bubbles:n});d.indeterminate=bo(r),m.call(d,bo(r)?!1:r),d.dispatchEvent(y)}},[s,r,n]);const u=w.useRef(bo(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bo(e){return e==="indeterminate"}function IU(e){return bo(e)?"indeterminate":e?"checked":"unchecked"}var MU=kU,eEe=RU;const DU=w.forwardRef(({className:e,...t},r)=>l.jsx(MU,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(eEe,{className:he("flex items-center justify-center text-current"),children:l.jsx(th,{className:"h-4 w-4"})})}));DU.displayName=MU.displayName;function tEe({avance:e}){const t=w.useRef(null),r=()=>{var f;const c=window.open("","_blank");if(!c)return;const u=((f=t.current)==null?void 0:f.innerHTML)||"";c.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <title>Reporte de Avance - ${e.nombre_proyecto}</title>
          
      <style>
        @page {
          size: A4 landscape;
          margin: 15mm;
        }
        
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }

        body {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          background: white;
          color: #1a1a1a;
          line-height: 1.4;
        }

        .report-container {
          max-width: 100%;
          margin: 0 auto;
          padding: 15px;
          background: white;
        }

        .header {
          border-bottom: 3px solid #3b82f6;
          padding-bottom: 12px;
          margin-bottom: 15px;
        }

        .header-logo {
          font-size: 20px;
          font-weight: 700;
          color: #3b82f6;
          margin-bottom: 4px;
        }

        .header-subtitle {
          color: #64748b;
          font-size: 12px;
        }

        .report-title {
          font-size: 24px;
          font-weight: 700;
          color: #0f172a;
          margin-bottom: 6px;
        }

        .report-date {
          color: #64748b;
          font-size: 12px;
          margin-bottom: 12px;
        }

        .info-grid {
          display: grid;
          grid-template-columns: repeat(4, 1fr);
          gap: 12px;
          margin-bottom: 15px;
        }

        .info-card {
          padding: 12px;
          border: 1px solid #e2e8f0;
          border-radius: 6px;
          background: #f8fafc;
        }

        .info-label {
          font-size: 10px;
          color: #64748b;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 4px;
          font-weight: 600;
        }

        .info-value {
          font-size: 14px;
          font-weight: 600;
          color: #0f172a;
        }

        .progress-section {
          background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
          border-radius: 8px;
          padding: 15px;
          margin-bottom: 15px;
          border: 1px solid #93c5fd;
        }

        .progress-title {
          font-size: 16px;
          font-weight: 700;
          color: #1e40af;
          margin-bottom: 10px;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .progress-stats {
          display: flex;
          justify-content: space-between;
          align-items: center;
          margin-bottom: 10px;
        }

        .progress-percentage {
          font-size: 32px;
          font-weight: 700;
          color: #2563eb;
        }

        .progress-bar-container {
          background: white;
          height: 20px;
          border-radius: 10px;
          overflow: hidden;
          margin-bottom: 8px;
          border: 2px solid #3b82f6;
        }

        .progress-bar {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
          transition: width 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: flex-end;
          padding-right: 8px;
          color: white;
          font-weight: 600;
          font-size: 12px;
        }

        .progress-subtitle {
          color: #475569;
          font-size: 12px;
        }

        .charts-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 15px;
          margin-bottom: 15px;
        }

        .chart-card {
          border: 1px solid #e2e8f0;
          border-radius: 8px;
          padding: 15px;
          background: white;
        }

        .chart-title {
          font-size: 14px;
          font-weight: 600;
          color: #0f172a;
          margin-bottom: 12px;
        }

        .donut-chart {
          width: 140px;
          height: 140px;
          margin: 0 auto;
          position: relative;
        }

        .donut-chart svg {
          transform: rotate(-90deg);
        }

        .donut-center {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          text-align: center;
        }

        .donut-percentage {
          font-size: 26px;
          font-weight: 700;
          color: #2563eb;
        }

        .donut-label {
          font-size: 10px;
          color: #64748b;
        }

        .bar-chart {
          display: flex;
          align-items: flex-end;
          justify-content: space-around;
          height: 140px;
          padding: 12px 0;
        }

        .bar {
          width: 60px;
          background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
          border-radius: 6px 6px 0 0;
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-end;
        }

        .bar-completed {
          background: linear-gradient(180deg, #22c55e 0%, #16a34a 100%);
        }

        .bar-pending {
          background: linear-gradient(180deg, #f59e0b 0%, #d97706 100%);
        }

        .bar-value {
          position: absolute;
          top: -20px;
          font-weight: 700;
          font-size: 14px;
        }

        .bar-label {
          margin-top: 6px;
          font-size: 10px;
          color: #64748b;
          font-weight: 600;
          text-align: center;
        }

        .section-title {
          font-size: 16px;
          font-weight: 700;
          color: #0f172a;
          margin-bottom: 10px;
          padding-bottom: 8px;
          border-bottom: 2px solid #e2e8f0;
        }

        .caracteristicas-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 10px;
          margin-bottom: 15px;
        }

        .caracteristica-item {
          padding: 10px;
          border: 1px solid #e2e8f0;
          border-radius: 6px;
          display: flex;
          gap: 8px;
          align-items: flex-start;
        }

        .caracteristica-completed {
          background: #f0fdf4;
          border-color: #86efac;
        }

        .caracteristica-pending {
          background: #fffbeb;
          border-color: #fcd34d;
        }

        .caracteristica-icon {
          flex-shrink: 0;
          margin-top: 2px;
        }

        .icon-completed {
          color: #16a34a;
        }

        .icon-pending {
          color: #d97706;
        }

        .caracteristica-content {
          flex: 1;
        }

        .caracteristica-name {
          font-weight: 600;
          color: #0f172a;
          margin-bottom: 3px;
          font-size: 12px;
        }

        .caracteristica-completed .caracteristica-name {
          text-decoration: line-through;
          color: #64748b;
        }

        .caracteristica-description {
          font-size: 11px;
          color: #64748b;
          margin-bottom: 3px;
          display: -webkit-box;
          -webkit-line-clamp: 2;
          -webkit-box-orient: vertical;
          overflow: hidden;
        }

        .caracteristica-date {
          font-size: 10px;
          color: #16a34a;
          font-weight: 600;
        }

        .footer {
          margin-top: 20px;
          padding-top: 12px;
          border-top: 2px solid #e2e8f0;
          text-align: center;
          color: #64748b;
          font-size: 10px;
        }

        .footer-company {
          font-weight: 600;
          color: #3b82f6;
          margin-bottom: 3px;
          font-size: 11px;
        }

        .timeline {
          display: grid;
          gap: 8px;
          margin-top: 12px;
        }

        .timeline-item {
          display: flex;
          align-items: center;
          gap: 10px;
          padding: 8px;
          background: #f8fafc;
          border-radius: 4px;
        }

        .timeline-icon {
          width: 30px;
          height: 30px;
          border-radius: 50%;
          background: #3b82f6;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
          font-size: 14px;
        }

        .timeline-content {
          flex: 1;
        }

        .timeline-label {
          font-size: 10px;
          color: #64748b;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }

        .timeline-value {
          font-weight: 600;
          color: #0f172a;
          font-size: 12px;
        }

        @media print {
          body {
            print-color-adjust: exact;
            -webkit-print-color-adjust: exact;
          }

          .no-print {
            display: none !important;
          }

          .page-break {
            page-break-before: avoid;
          }
          
          .caracteristicas-grid {
            page-break-inside: avoid;
          }
          
          .caracteristica-item {
            page-break-inside: avoid;
          }
        }
      </style>
    
        </head>
        <body>
          ${u}
          <script>
            window.onload = function() {
              window.print();
              window.onafterprint = function() {
                window.close();
              };
            };
          <\/script>
        </body>
      </html>
    `),c.document.close()},n=e.caracteristicas.filter(c=>c.completada),i=e.caracteristicas.filter(c=>!c.completada),a=Number(e.porcentaje_avance),o=2*Math.PI*50,s=o-a/100*o;return l.jsxs(l.Fragment,{children:[l.jsxs(re,{onClick:r,size:"lg",className:"no-print",children:[l.jsx(RV,{className:"h-4 w-4 mr-2"}),"Imprimir Reporte"]}),l.jsx("div",{ref:t,style:{display:"none"},children:l.jsxs("div",{className:"report-container",children:[l.jsxs("div",{className:"header",children:[l.jsx("div",{className:"header-logo",children:"Sistema de Gestin"}),l.jsx("div",{className:"header-subtitle",children:"Reporte de Avance de Proyecto"})]}),l.jsx("h1",{className:"report-title",children:e.nombre_proyecto}),l.jsxs("div",{className:"report-date",children:["Generado el ",Ve(new Date().toISOString())]}),l.jsxs("div",{className:"info-grid",children:[l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"info-label",children:[l.jsx("span",{children:""})," Cliente"]}),l.jsx("div",{className:"info-value",children:e.cliente_nombre})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"info-label",children:[l.jsx("span",{children:""})," Fecha de Inicio"]}),l.jsx("div",{className:"info-value",children:Ve(e.fecha_creacion)})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"info-label",children:[l.jsx("span",{children:""})," ltima Actualizacin"]}),l.jsx("div",{className:"info-value",children:Ve(e.fecha_actualizacion)})]}),l.jsxs("div",{className:"info-card",children:[l.jsxs("div",{className:"info-label",children:[l.jsx("span",{children:""})," Estado"]}),l.jsx("div",{className:"info-value",children:e.estado==="completado"?"Completado":"En Progreso"})]})]}),l.jsxs("div",{className:"progress-section",children:[l.jsxs("div",{className:"progress-title",children:[l.jsx("span",{children:""})," Progreso del Proyecto"]}),l.jsxs("div",{className:"progress-stats",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"progress-percentage",children:[a.toFixed(0),"%"]}),l.jsx("div",{className:"progress-subtitle",children:"Completado"})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsxs("div",{style:{fontSize:"20px",fontWeight:"700",color:"#1e40af"},children:[e.caracteristicas_completadas,"/",e.total_caracteristicas]}),l.jsx("div",{className:"progress-subtitle",children:"Tareas"})]})]}),l.jsx("div",{className:"progress-bar-container",children:l.jsx("div",{className:"progress-bar",style:{width:`${a}%`},children:a>10&&`${a.toFixed(0)}%`})})]}),l.jsxs("div",{className:"charts-grid",children:[l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-title",children:"Estado de Tareas"}),l.jsxs("div",{className:"donut-chart",children:[l.jsxs("svg",{width:"140",height:"140",children:[l.jsx("circle",{cx:"70",cy:"70",r:"50",fill:"none",stroke:"#e2e8f0",strokeWidth:"15"}),l.jsx("circle",{cx:"70",cy:"70",r:"50",fill:"none",stroke:"#3b82f6",strokeWidth:"15",strokeDasharray:o,strokeDashoffset:s,strokeLinecap:"round"})]}),l.jsxs("div",{className:"donut-center",children:[l.jsxs("div",{className:"donut-percentage",children:[a.toFixed(0),"%"]}),l.jsx("div",{className:"donut-label",children:"Completado"})]})]})]}),l.jsxs("div",{className:"chart-card",children:[l.jsx("div",{className:"chart-title",children:"Distribucin de Tareas"}),l.jsxs("div",{className:"bar-chart",children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{className:"bar bar-completed",style:{height:`${n.length/e.total_caracteristicas*100}px`},children:l.jsx("span",{className:"bar-value",style:{color:"#16a34a"},children:n.length})}),l.jsx("div",{className:"bar-label",children:"Completadas"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{className:"bar bar-pending",style:{height:`${i.length/e.total_caracteristicas*100}px`},children:l.jsx("span",{className:"bar-value",style:{color:"#d97706"},children:i.length})}),l.jsx("div",{className:"bar-label",children:"Pendientes"})]}),l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{className:"bar",style:{height:`${e.total_caracteristicas/e.total_caracteristicas*100}px`},children:l.jsx("span",{className:"bar-value",style:{color:"#2563eb"},children:e.total_caracteristicas})}),l.jsx("div",{className:"bar-label",children:"Total"})]})]})]})]}),e.descripcion&&l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsx("div",{className:"section-title",children:"Descripcin del Proyecto"}),l.jsx("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"6px",border:"1px solid #e2e8f0"},children:l.jsx("p",{style:{color:"#475569",lineHeight:"1.5",fontSize:"12px"},children:e.descripcion})})]}),n.length>0&&l.jsxs("div",{style:{marginBottom:"15px"},children:[l.jsxs("div",{className:"section-title",children:[" Caractersticas Completadas (",n.length,")"]}),l.jsx("div",{className:"caracteristicas-grid",children:n.map((c,u)=>l.jsxs("div",{className:"caracteristica-item caracteristica-completed",children:[l.jsx("div",{className:"caracteristica-icon icon-completed",children:""}),l.jsxs("div",{className:"caracteristica-content",children:[l.jsxs("div",{className:"caracteristica-name",children:[u+1,". ",c.nombre]}),c.descripcion&&l.jsx("div",{className:"caracteristica-description",children:c.descripcion}),c.fecha_completado&&l.jsxs("div",{className:"caracteristica-date",children:[" ",Ve(c.fecha_completado)]})]})]},c.id))})]}),i.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"section-title",children:[" Caractersticas Pendientes (",i.length,")"]}),l.jsx("div",{className:"caracteristicas-grid",children:i.map((c,u)=>l.jsxs("div",{className:"caracteristica-item caracteristica-pending",children:[l.jsx("div",{className:"caracteristica-icon icon-pending",children:""}),l.jsxs("div",{className:"caracteristica-content",children:[l.jsxs("div",{className:"caracteristica-name",children:[u+1,". ",c.nombre]}),c.descripcion&&l.jsx("div",{className:"caracteristica-description",children:c.descripcion})]})]},c.id))})]}),l.jsxs("div",{className:"footer",children:[l.jsx("div",{className:"footer-company",children:"Sistema de Gestin de Proyectos"}),l.jsx("div",{children:"Este reporte es confidencial y est destinado nicamente para el cliente especificado."}),l.jsxs("div",{style:{marginTop:"4px"},children:["Generado automticamente el"," ",yR(new Date().toISOString())]})]})]})})]})}function rEe(){const t=j1().id,[,r]=wi(),{toast:n}=vr(),i=Zf(),[a,o]=w.useState(!1),[s,c]=w.useState([]),[u,d]=w.useState(""),{data:f,isLoading:h}=it({queryKey:["avance-detalle",t],queryFn:async()=>{const{data:g,error:j}=await J.from("avances").select("*").eq("id",t).single();if(j)throw j;const{data:_}=await J.from("clientes").select("nombre").eq("id",g.cliente_id).single(),{data:S,error:E}=await J.from("avances_caracteristicas").select("*").eq("avance_id",t).order("orden");if(E)throw E;return{...g,cliente_nombre:(_==null?void 0:_.nombre)||"Sin cliente",contrato_nombre:g.nombre_proyecto||"Sin proyecto",caracteristicas:S||[]}},enabled:!!t}),m=Es({mutationFn:async g=>{const j=g.map(E=>J.from("avances_caracteristicas").update({completada:!0,fecha_completado:new Date().toISOString()}).eq("id",E).eq("completada",!1)),_=await Promise.all(j),S=_.filter(E=>E.error);if(S.length>0)throw S[0].error;return _},onSuccess:()=>{i.invalidateQueries({queryKey:["avance-detalle",t]}),i.invalidateQueries({queryKey:["avances"]}),n({title:"Avance registrado",description:"Las caractersticas han sido marcadas como completadas"}),o(!1),c([]),d("")},onError:g=>{n({title:"Error al registrar avance",description:g.message,variant:"destructive"})}}),y=()=>{c([]),o(!0)},p=g=>{c(j=>j.includes(g)?j.filter(_=>_!==g):[...j,g])},x=async()=>{if(s.length===0){n({title:"Selecciona caractersticas",description:"Debes seleccionar al menos una caracterstica",variant:"destructive"});return}try{const{data:g,error:j}=await J.from("configuracion").select("clave").limit(1).single();if(j){n({title:"Error al verificar contrasea",description:j.message,variant:"destructive"});return}const _=g==null?void 0:g.clave;if(!_){n({title:"Contrasea no configurada",description:"Por favor configura una contrasea en Configuracin",variant:"destructive"});return}if(u!==_){n({title:"Contrasea incorrecta",description:"La contrasea ingresada no es vlida",variant:"destructive"});return}await m.mutateAsync(s)}catch(g){n({title:"Error",description:(g==null?void 0:g.message)||"Error al validar contrasea",variant:"destructive"})}};if(h)return l.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"h-32 bg-muted rounded"}),l.jsx("div",{className:"h-32 bg-muted rounded"}),l.jsx("div",{className:"h-32 bg-muted rounded"})]}),l.jsx("div",{className:"h-96 bg-muted rounded"})]})});if(!f)return l.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:l.jsx(me,{children:l.jsxs(ve,{className:"p-12 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Proyecto no encontrado"}),l.jsxs(re,{onClick:()=>r("/avances"),className:"mt-4",children:[l.jsx(xd,{className:"h-4 w-4 mr-2"}),"Volver a Avances"]})]})})});const b=f.caracteristicas.filter(g=>!g.completada),v=f.caracteristicas.filter(g=>g.completada);return l.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>r("/avances"),className:"mb-2 -ml-2",children:[l.jsx(xd,{className:"h-4 w-4 mr-2"}),"Volver"]}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:f.nombre_proyecto}),l.jsx("p",{className:"text-muted-foreground",children:f.descripcion})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[l.jsx(tEe,{avance:f}),b.length>0&&l.jsxs(re,{size:"lg",onClick:y,children:[l.jsx(IV,{className:"h-4 w-4 mr-2"}),"Registrar Avance"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:l.jsx(UV,{className:"h-5 w-5 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:f.cliente_nombre})]})]})})}),l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:l.jsx(Xd,{className:"h-5 w-5 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Contrato"}),l.jsx("p",{className:"font-semibold truncate",children:f.contrato_nombre})]})]})})}),l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:l.jsx(Yd,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha Creacin"}),l.jsx("p",{className:"font-semibold",children:Ve(f.fecha_creacion)})]})]})})})]}),l.jsxs(me,{className:"bg-gradient-to-br from-primary/10 to-primary/5",children:[l.jsx(ut,{children:l.jsxs(dt,{className:"flex items-center gap-2",children:[l.jsx(So,{className:"h-5 w-5"}),"Progreso del Proyecto"]})}),l.jsxs(ve,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Porcentaje de Avance"}),l.jsxs("span",{className:"text-3xl font-bold text-primary",children:[Number(f.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(Cy,{value:Number(f.porcentaje_avance),className:"h-4"}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[f.caracteristicas_completadas," de"," ",f.total_caracteristicas," caractersticas completadas"]}),l.jsx(pr,{variant:f.estado==="completado"?"default":"secondary",className:f.estado==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":"",children:f.estado==="completado"?l.jsxs(l.Fragment,{children:[l.jsx(va,{className:"h-3 w-3 mr-1"}),"Completado"]}):l.jsxs(l.Fragment,{children:[l.jsx(fi,{className:"h-3 w-3 mr-1"}),"En Progreso"]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(me,{children:[l.jsx(ut,{children:l.jsxs(dt,{className:"flex items-center gap-2",children:[l.jsx(x0,{className:"h-5 w-5 text-orange-500"}),"Caractersticas Pendientes (",b.length,")"]})}),l.jsx(ve,{children:b.length>0?l.jsx("div",{className:"space-y-3",children:b.map(g=>l.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(x0,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:g.nombre}),g.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.descripcion})]})]})},g.id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Todas las caractersticas han sido completadas!"})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsxs(dt,{className:"flex items-center gap-2",children:[l.jsx(va,{className:"h-5 w-5 text-green-500"}),"Caractersticas Completadas (",v.length,")"]})}),l.jsx(ve,{children:v.length>0?l.jsx("div",{className:"space-y-3",children:v.map(g=>l.jsx("div",{className:"p-4 border rounded-lg bg-green-500/5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(va,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium line-through text-muted-foreground",children:g.nombre}),g.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.descripcion}),g.fecha_completado&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Completada: ",yR(g.fecha_completado)]})]})]})},g.id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"An no hay caractersticas completadas"})})]})]}),l.jsx(It,{open:a,onOpenChange:o,children:l.jsxs(Pt,{className:"max-w-[95vw] md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Nt,{children:l.jsx(Ct,{className:"text-xl",children:"Registrar Avance"})}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona las caractersticas que has completado. Una vez marcadas, no podrn desmarcarse."}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:b.map(g=>l.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx(DU,{id:g.id,checked:s.includes(g.id),onCheckedChange:()=>p(g.id),className:"mt-1"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx($r,{htmlFor:g.id,className:"font-medium cursor-pointer",children:g.nombre}),g.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:g.descripcion})]})]},g.id))}),l.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[l.jsxs($r,{htmlFor:"password",children:["Contrasea de Administrador"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Me,{id:"password",type:"password",value:u,onChange:g=>d(g.target.value),placeholder:"Ingresa tu contrasea",onKeyDown:g=>{g.key==="Enter"&&x()}})]})]}),l.jsxs(At,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{o(!1),c([]),d("")},className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:x,disabled:s.length===0||!u||m.isPending,className:"w-full sm:w-auto",children:m.isPending?"Guardando...":"Confirmar Avance"})]})]})})]})}function nEe(){const[e,t]=w.useState(!1),[r,n]=w.useState(""),[i,a]=w.useState(""),[o,s]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[y,p]=w.useState(""),[x,b]=w.useState(""),{toast:v}=vr(),g=Zf(),[,j]=wi(),{data:_}=it({queryKey:["configuracion"],queryFn:async()=>{const{data:P,error:$}=await J.from("configuracion").select("clave").limit(1);if($)throw $;return Array.isArray(P)&&P.length>0?P[0]:null}}),{data:S}=it({queryKey:["egreso_categorias"],queryFn:async()=>{const{data:P,error:$}=await J.from("egreso_categorias").select("id,nombre").order("nombre",{ascending:!0});if($)throw $;return Array.isArray(P)?P:[]}}),{data:E,isLoading:O}=it({queryKey:["egresos",c,d,y],queryFn:async()=>{let P=J.from("egresos").select("*").order("fecha",{ascending:!1});if(c){const B=gR(c);B&&(P=P.gte("fecha",B))}if(d){const B=vR(d);B&&(P=P.lte("fecha",B))}y&&(P=P.eq("categoria_id",y));const{data:$,error:R}=await P;if(R)throw R;return $||[]}}),N=(E||[]).reduce((P,$)=>P+Number($.monto||0),0),M=Es({mutationFn:async P=>{const $={monto:P.monto,motivo:P.motivo,fecha:new Date().toISOString()};P.categoria_id&&($.categoria_id=P.categoria_id);const{data:R,error:B}=await J.from("egresos").insert($).select().single();if(B)throw B;return R},onSuccess:()=>{v({title:"Egreso registrado correctamente"}),g.invalidateQueries({queryKey:["egresos"]}),g.invalidateQueries({queryKey:["dashboard"]}),T(),t(!1)},onError:P=>{v({title:"Error al registrar egreso",description:P.message,variant:"destructive"})}}),T=()=>{n(""),a(""),s(""),m("")},I=()=>{if(!r||Number(r)<=0){v({title:"Error",description:"El monto debe ser mayor a 0",variant:"destructive"});return}if(!i.trim()){v({title:"Error",description:"Debe ingresar un motivo",variant:"destructive"});return}if(!(_!=null&&_.clave)){v({title:"Error",description:"No hay clave de confirmacin configurada. Vaya a Configuracin para establecerla.",variant:"destructive"});return}if(o!==_.clave){v({title:"Error",description:"La clave de confirmacin es incorrecta",variant:"destructive"});return}(async()=>{try{let P;const $=h==null?void 0:h.trim();if($){const R=(S||[]).find(B=>String(B.nombre).toLowerCase()===$.toLowerCase());if(R)P=R.id;else{const{data:B,error:C}=await J.from("egreso_categorias").insert({nombre:$}).select().single();if(C)throw C;P=B.id,g.invalidateQueries({queryKey:["egreso_categorias"]})}}M.mutate({monto:Number(r),motivo:i.trim(),categoria_id:P})}catch(P){v({title:"Error al crear categora",description:(P==null?void 0:P.message)??String(P),variant:"destructive"})}})()},A=P=>{j(`/egresos/${P.id}`)};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Egresos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona los egresos y gastos"})]}),l.jsxs(re,{onClick:()=>t(!0),children:[l.jsx(zp,{className:"w-4 h-4 mr-2"}),"Registrar Egreso"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total de Egresos"}),l.jsx("p",{className:"text-2xl font-bold text-red-600 mt-1",children:ye(N)})]}),l.jsx("div",{className:"h-12 w-12 rounded-lg bg-red-500/10 flex items-center justify-center",children:l.jsx(Qd,{className:"h-6 w-6 text-red-500"})})]})})}),l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx($r,{className:"text-sm",children:"Desde:"}),l.jsx(Me,{type:"date",value:c,onChange:P=>u(P.target.value),className:"flex-1"})]})})}),l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx($r,{className:"text-sm",children:"Hasta:"}),l.jsx(Me,{type:"date",value:d,onChange:P=>f(P.target.value),className:"flex-1"})]})})}),l.jsx(me,{children:l.jsx(ve,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx($r,{className:"text-sm",children:"Categora:"}),l.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground",onClick:()=>{p(""),b("")},children:"Limpiar"})]}),l.jsxs("div",{className:"flex items-center gap-2 w-full",children:[l.jsx("input",{list:"categoria-filter-list",value:x,onChange:P=>{const $=P.target.value;b($);const R=(S||[]).find(B=>String(B.nombre).toLowerCase()===String($).trim().toLowerCase());p(R?R.id:"")},placeholder:"Escriba para buscar o seleccione...",className:"flex-1 rounded border px-2 py-1 text-sm"}),l.jsx("datalist",{id:"categoria-filter-list",children:(S||[]).map(P=>l.jsx("option",{value:P.nombre},P.id))})]})]})})})]}),l.jsxs(me,{children:[l.jsx(ut,{children:l.jsx(dt,{children:"Historial de Egresos"})}),l.jsx(ve,{children:O?l.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando egresos..."}):E&&E.length>0?l.jsxs(ha,{children:[l.jsx(pa,{children:l.jsxs(fr,{children:[l.jsx(We,{children:"Fecha"}),l.jsx(We,{children:"Motivo"}),l.jsx(We,{children:"Categoria"}),l.jsx(We,{className:"text-right",children:"Monto"})]})}),l.jsx(ma,{children:E.map(P=>{var $;return l.jsxs(fr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>A(P),children:[l.jsx(ze,{children:Ve(P.fecha)}),l.jsx(ze,{className:"max-w-[300px] truncate",children:P.motivo}),l.jsx(ze,{className:"max-w-[200px] truncate",children:(($=(S||[]).find(R=>R.id===P.categoria_id))==null?void 0:$.nombre)||"-"}),l.jsxs(ze,{className:"text-right font-medium text-red-600",children:["-",ye(Number(P.monto))]})]},P.id)})})]}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Qd,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay egresos registrados"})]})})]}),l.jsx(It,{open:e,onOpenChange:t,children:l.jsxs(Pt,{className:"sm:max-w-[425px]",children:[l.jsx(Nt,{children:l.jsx(Ct,{children:"Registrar Nuevo Egreso"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx($r,{htmlFor:"monto",children:"Monto"}),l.jsx(Me,{id:"monto",type:"number",placeholder:"0.00",value:r,onChange:P=>n(P.target.value),min:"0",step:"0.01"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx($r,{htmlFor:"motivo",children:"Motivo"}),l.jsx(Ty,{id:"motivo",placeholder:"Describe el motivo del egreso...",value:i,onChange:P=>a(P.target.value),rows:3})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx($r,{htmlFor:"categoria",children:"Categora"}),l.jsx(Me,{id:"categoria",list:"categoria-list",placeholder:"Escriba o seleccione una categora",value:h,onChange:P=>m(P.target.value)}),l.jsx("datalist",{id:"categoria-list",children:(S||[]).map(P=>l.jsx("option",{value:P.nombre},P.id))})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx($r,{htmlFor:"clave",children:"Clave de Confirmacin"}),l.jsx(Me,{id:"clave",type:"password",placeholder:"Ingrese la clave de confirmacin",value:o,onChange:P=>s(P.target.value)}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Ingrese la clave configurada en la seccin de Configuracin"})]})]}),l.jsxs(At,{children:[l.jsx(re,{variant:"outline",onClick:()=>{T(),t(!1)},children:"Cancelar"}),l.jsx(re,{onClick:I,disabled:M.isPending,children:M.isPending?"Guardando...":"Guardar"})]})]})})]})}function iEe(){const e=j1(),[,t]=wi(),{data:r,isLoading:n,error:i}=it({queryKey:["egreso",e.id],queryFn:async()=>{const{data:o,error:s}=await J.from("egresos").select("*").eq("id",e.id).single();if(s)throw s;return o},enabled:!!e.id}),{data:a}=it({queryKey:["egreso_categoria",r==null?void 0:r.categoria_id],queryFn:async()=>{if(!(r!=null&&r.categoria_id))return null;const{data:o,error:s}=await J.from("egreso_categorias").select("nombre").eq("id",r.categoria_id).single();if(s)throw s;return o},enabled:!!(r!=null&&r.categoria_id)});return n?l.jsx("div",{className:"p-6 lg:p-8",children:l.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"Cargando detalles del egreso..."})}):i||!r?l.jsx("div",{className:"p-6 lg:p-8",children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-muted-foreground mb-4",children:"No se encontr el egreso"}),l.jsxs(re,{variant:"outline",onClick:()=>t("/egresos"),children:[l.jsx(xd,{className:"w-4 h-4 mr-2"}),"Volver a Egresos"]})]})}):l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(re,{variant:"ghost",size:"icon",onClick:()=>t("/egresos"),children:l.jsx(xd,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Detalle del Egreso"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Informacin completa del registro"})]})]}),l.jsxs(me,{children:[l.jsx(ut,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(dt,{className:"text-lg",children:"Informacin del Egreso"}),l.jsx(pr,{variant:"destructive",className:"text-sm",children:"Egreso"})]})}),l.jsxs(ve,{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4 p-4 bg-red-50 dark:bg-red-950/20 rounded-lg",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-red-500/10 flex items-center justify-center",children:l.jsx(bm,{className:"h-6 w-6 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Monto"}),l.jsxs("p",{className:"text-3xl font-bold text-red-600",children:["-",ye(Number(r.monto))]})]})]}),l.jsxs("div",{className:"p-4 bg-muted/40 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Xd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Motivo"})]}),l.jsx("p",{className:"text-base",children:r.motivo})]}),a&&a.nombre&&l.jsxs("div",{className:"p-4 md:p-6 bg-muted/40 rounded-lg w-full",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l.jsx(Xd,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),l.jsx("p",{className:"text-sm md:text-base font-medium text-muted-foreground truncate",children:"Categora"})]}),l.jsx("p",{className:"text-base md:text-lg font-medium truncate break-words",title:a.nombre,children:a.nombre})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"p-4 bg-muted/40 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Yd,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha del Egreso"})]}),l.jsx("p",{className:"text-base font-medium",children:Ve(r.fecha)})]}),l.jsxs("div",{className:"p-4 bg-muted/40 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(fi,{className:"h-4 w-4 text-muted-foreground"}),l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Fecha de Creacin"})]}),l.jsx("p",{className:"text-base font-medium",children:Ve(r.created_at)})]})]}),l.jsxs("div",{className:"p-4 bg-muted/40 rounded-lg",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"ID del Registro"}),l.jsx("p",{className:"text-xs font-mono text-muted-foreground",children:r.id})]})]})]}),l.jsx("div",{className:"flex justify-start",children:l.jsxs(re,{variant:"outline",onClick:()=>t("/egresos"),children:[l.jsx(xd,{className:"w-4 h-4 mr-2"}),"Volver a Egresos"]})})]})}function aEe(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(me,{className:"w-full max-w-md mx-4",children:l.jsxs(ve,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(jV,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function oEe({onSuccess:e}){const{toast:t}=vr(),[r,n]=w.useState(""),[i,a]=w.useState(!1),[,o]=wi();async function s(){try{a(!0);const{data:c,error:u}=await J.from("configuracion").select("clave").limit(1).single();if(u)throw u;const d=(c==null?void 0:c.clave)??null;if(!d){t({title:"No hay clave configurada"});return}if(r===d){localStorage.setItem("admon-auth","true"),t({title:"Acceso concedido"}),e==null||e();try{o("/")}catch{window.location.href="/"}}else t({title:"Clave incorrecta"})}catch(c){console.error("Error comprobando clave:",c),t({title:"Error comprobando clave",description:c==null?void 0:c.message})}finally{a(!1)}}return l.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsx(me,{className:"bg-slate-800 text-white border-transparent",children:l.jsxs(ve,{children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx("img",{src:"/vsr.png",alt:"Visonixro",className:"h-16 w-16 object-contain mb-3"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Clave"}),l.jsx(Me,{type:"password",value:r,onChange:c=>n(c.target.value),className:"text-black placeholder:text-gray-400 bg-white",style:{color:"#000"}})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(re,{onClick:s,disabled:i,className:"w-40",children:i?"Comprobando...":"Entrar"})})]})]})})})})}function sEe(){return l.jsxs(F6,{children:[l.jsx(xr,{path:"/",component:t_e}),l.jsx(xr,{path:"/clientes/proyecto/ventas",component:DSe}),l.jsx(xr,{path:"/clientes/proyecto/:id",component:HSe}),l.jsx(xr,{path:"/clientes/proyecto",component:ISe}),l.jsx(xr,{path:"/clientes/:id",component:qSe}),l.jsx(xr,{path:"/clientes",component:$_e}),l.jsx(xr,{path:"/contratos-activos",component:KSe}),l.jsx(xr,{path:"/configuracion",component:GSe}),l.jsx(xr,{path:"/pagos",component:Uje}),l.jsx(xr,{path:"/pagos/estado-de-cuentas",component:$Se}),l.jsx(xr,{path:"/suscripciones",component:Hje}),l.jsx(xr,{path:"/estadisticas",component:RSe}),l.jsx(xr,{path:"/avances/:id",component:rEe}),l.jsx(xr,{path:"/avances",component:YSe}),l.jsx(xr,{path:"/egresos/:id",component:iEe}),l.jsx(xr,{path:"/egresos",component:nEe}),l.jsx(xr,{component:aEe})]})}function lEe(){const[e,t]=w.useState(null);if(w.useEffect(()=>{try{const n=localStorage.getItem("admon-auth");t(n==="true")}catch{t(!1)}},[]),e===null)return null;if(!e)return l.jsx(oEe,{onSuccess:()=>t(!0)});const r={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return l.jsx(a8,{client:jt,children:l.jsx(Zq,{defaultTheme:"light",storageKey:"visonixro-theme",children:l.jsxs(eI,{children:[l.jsx(_K,{style:r,children:l.jsxs("div",{className:"flex h-screen w-full",children:[l.jsx($K,{}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsxs("header",{className:"flex items-center justify-between gap-4 px-4 py-3 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",children:[l.jsx(SK,{"data-testid":"button-sidebar-toggle"}),l.jsx(rH,{})]}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx(sEe,{})})]})]})}),l.jsx(jW,{})]})})})}u2(document.getElementById("root")).render(l.jsx(lEe,{}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(t=>{console.log("Service worker registered:",t.scope)}).catch(t=>{console.warn("Service worker registration failed:",t)})});
