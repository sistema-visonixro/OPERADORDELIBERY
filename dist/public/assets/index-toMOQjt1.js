var Mj=e=>{throw TypeError(e)};var Ey=(e,t,r)=>t.has(e)||Mj("Cannot "+r);var V=(e,t,r)=>(Ey(e,t,"read from private field"),r?r.call(e):t.get(e)),Te=(e,t,r)=>t.has(e)?Mj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),xe=(e,t,r,n)=>(Ey(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),We=(e,t,r)=>(Ey(e,t,"access private method"),r);var wh=(e,t,r,n)=>({set _(i){xe(e,t,i,r)},get _(){return V(e,t,n)}});function KT(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function at(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function RU(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var GT={exports:{}},kv={},YT={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=Symbol.for("react.element"),IU=Symbol.for("react.portal"),MU=Symbol.for("react.fragment"),DU=Symbol.for("react.strict_mode"),LU=Symbol.for("react.profiler"),FU=Symbol.for("react.provider"),BU=Symbol.for("react.context"),UU=Symbol.for("react.forward_ref"),zU=Symbol.for("react.suspense"),VU=Symbol.for("react.memo"),WU=Symbol.for("react.lazy"),Dj=Symbol.iterator;function qU(e){return e===null||typeof e!="object"?null:(e=Dj&&e[Dj]||e["@@iterator"],typeof e=="function"?e:null)}var XT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QT=Object.assign,JT={};function nu(e,t,r){this.props=e,this.context=t,this.refs=JT,this.updater=r||XT}nu.prototype.isReactComponent={};nu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};nu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZT(){}ZT.prototype=nu.prototype;function S_(e,t,r){this.props=e,this.context=t,this.refs=JT,this.updater=r||XT}var j_=S_.prototype=new ZT;j_.constructor=S_;QT(j_,nu.prototype);j_.isPureReactComponent=!0;var Lj=Array.isArray,ek=Object.prototype.hasOwnProperty,E_={current:null},tk={key:!0,ref:!0,__self:!0,__source:!0};function rk(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ek.call(t,n)&&!tk.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Vf,type:e,key:a,ref:o,props:i,_owner:E_.current}}function HU(e,t){return{$$typeof:Vf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O_(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vf}function KU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fj=/\/+/g;function Oy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KU(""+e.key):t.toString(36)}function _p(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vf:case IU:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Oy(o,0):n,Lj(i)?(r="",e!=null&&(r=e.replace(Fj,"$&/")+"/"),_p(i,t,r,"",function(u){return u})):i!=null&&(O_(i)&&(i=HU(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Fj,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",Lj(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+Oy(a,s);o+=_p(a,t,r,c,i)}else if(c=qU(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+Oy(a,s++),o+=_p(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sh(e,t,r){if(e==null)return e;var n=[],i=0;return _p(e,n,"","",function(a){return t.call(r,a,i++)}),n}function GU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Kr={current:null},Sp={transition:null},YU={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:Sp,ReactCurrentOwner:E_};function nk(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Sh,forEach:function(e,t,r){Sh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sh(e,function(){t++}),t},toArray:function(e){return Sh(e,function(t){return t})||[]},only:function(e){if(!O_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=nu;Ge.Fragment=MU;Ge.Profiler=LU;Ge.PureComponent=S_;Ge.StrictMode=DU;Ge.Suspense=zU;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YU;Ge.act=nk;Ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=QT({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=E_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)ek.call(t,c)&&!tk.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Vf,type:e.type,key:i,ref:a,props:n,_owner:o}};Ge.createContext=function(e){return e={$$typeof:BU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:FU,_context:e},e.Consumer=e};Ge.createElement=rk;Ge.createFactory=function(e){var t=rk.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:UU,render:e}};Ge.isValidElement=O_;Ge.lazy=function(e){return{$$typeof:WU,_payload:{_status:-1,_result:e},_init:GU}};Ge.memo=function(e,t){return{$$typeof:VU,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=Sp.transition;Sp.transition={};try{e()}finally{Sp.transition=t}};Ge.unstable_act=nk;Ge.useCallback=function(e,t){return Kr.current.useCallback(e,t)};Ge.useContext=function(e){return Kr.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return Kr.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return Kr.current.useEffect(e,t)};Ge.useId=function(){return Kr.current.useId()};Ge.useImperativeHandle=function(e,t,r){return Kr.current.useImperativeHandle(e,t,r)};Ge.useInsertionEffect=function(e,t){return Kr.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return Kr.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Kr.current.useMemo(e,t)};Ge.useReducer=function(e,t,r){return Kr.current.useReducer(e,t,r)};Ge.useRef=function(e){return Kr.current.useRef(e)};Ge.useState=function(e){return Kr.current.useState(e)};Ge.useSyncExternalStore=function(e,t,r){return Kr.current.useSyncExternalStore(e,t,r)};Ge.useTransition=function(){return Kr.current.useTransition()};Ge.version="18.3.1";YT.exports=Ge;var w=YT.exports;const L=at(w),ik=KT({__proto__:null,default:L},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XU=w,QU=Symbol.for("react.element"),JU=Symbol.for("react.fragment"),ZU=Object.prototype.hasOwnProperty,e5=XU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,t5={key:!0,ref:!0,__self:!0,__source:!0};function ak(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ZU.call(t,n)&&!t5.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:QU,type:e,key:a,ref:o,props:i,_owner:e5.current}}kv.Fragment=JU;kv.jsx=ak;kv.jsxs=ak;GT.exports=kv;var l=GT.exports,ok={exports:{}},En={},sk={exports:{}},lk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,D){var H=T.length;T.push(D);e:for(;0<H;){var G=H-1>>>1,k=T[G];if(0<i(k,D))T[G]=D,T[H]=k,H=G;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var D=T[0],H=T.pop();if(H!==D){T[0]=H;e:for(var G=0,k=T.length,F=k>>>1;G<F;){var K=2*(G+1)-1,J=T[K],se=K+1,te=T[se];if(0>i(J,H))se<k&&0>i(te,J)?(T[G]=te,T[se]=H,G=se):(T[G]=J,T[K]=H,G=K);else if(se<k&&0>i(te,H))T[G]=te,T[se]=H,G=se;else break e}}return D}function i(T,D){var H=T.sortIndex-D.sortIndex;return H!==0?H:T.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=T)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function S(T){if(p=!1,v(T),!g)if(r(c)!==null)g=!0,I(_);else{var D=r(u);D!==null&&z(S,D.startTime-T)}}function _(T,D){g=!1,p&&(p=!1,b(O),O=-1),m=!0;var H=h;try{for(v(D),f=r(c);f!==null&&(!(f.expirationTime>D)||T&&!C());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var k=G(f.expirationTime<=D);D=e.unstable_now(),typeof k=="function"?f.callback=k:f===r(c)&&n(c),v(D)}else n(c);f=r(c)}if(f!==null)var F=!0;else{var K=r(u);K!==null&&z(S,K.startTime-D),F=!1}return F}finally{f=null,h=H,m=!1}}var j=!1,E=null,O=-1,P=5,M=-1;function C(){return!(e.unstable_now()-M<P)}function $(){if(E!==null){var T=e.unstable_now();M=T;var D=!0;try{D=E(!0,T)}finally{D?N():(j=!1,E=null)}}else j=!1}var N;if(typeof y=="function")N=function(){y($)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,R=A.port2;A.port1.onmessage=$,N=function(){R.postMessage(null)}}else N=function(){x($,0)};function I(T){E=T,j||(j=!0,N())}function z(T,D){O=x(function(){T(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,I(_))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var H=h;h=D;try{return T()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,D){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var H=h;h=T;try{return D()}finally{h=H}},e.unstable_scheduleCallback=function(T,D,H){var G=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?G+H:G):H=G,T){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=H+k,T={id:d++,callback:D,priorityLevel:T,startTime:H,expirationTime:k,sortIndex:-1},H>G?(T.sortIndex=H,t(u,T),r(c)===null&&T===r(u)&&(p?(b(O),O=-1):p=!0,z(S,H-G))):(T.sortIndex=k,t(c,T),g||m||(g=!0,I(_))),T},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(T){var D=h;return function(){var H=h;h=D;try{return T.apply(this,arguments)}finally{h=H}}}})(lk);sk.exports=lk;var r5=sk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n5=w,jn=r5;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ck=new Set,Nd={};function Hs(e,t){yc(e,t),yc(e+"Capture",t)}function yc(e,t){for(Nd[e]=t,e=0;e<t.length;e++)ck.add(t[e])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nb=Object.prototype.hasOwnProperty,i5=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bj={},Uj={};function a5(e){return nb.call(Uj,e)?!0:nb.call(Bj,e)?!1:i5.test(e)?Uj[e]=!0:(Bj[e]=!0,!1)}function o5(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s5(e,t,r,n){if(t===null||typeof t>"u"||o5(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var wr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wr[e]=new Gr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wr[t]=new Gr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wr[e]=new Gr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wr[e]=new Gr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wr[e]=new Gr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wr[e]=new Gr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wr[e]=new Gr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wr[e]=new Gr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wr[e]=new Gr(e,5,!1,e.toLowerCase(),null,!1,!1)});var P_=/[\-:]([a-z])/g;function A_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P_,A_);wr[t]=new Gr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P_,A_);wr[t]=new Gr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P_,A_);wr[t]=new Gr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!1,!1)});wr.xlinkHref=new Gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wr[e]=new Gr(e,1,!1,e.toLowerCase(),null,!0,!0)});function N_(e,t,r,n){var i=wr.hasOwnProperty(t)?wr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s5(t,r,i,n)&&(r=null),n||i===null?a5(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pa=n5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jh=Symbol.for("react.element"),jl=Symbol.for("react.portal"),El=Symbol.for("react.fragment"),C_=Symbol.for("react.strict_mode"),ib=Symbol.for("react.profiler"),uk=Symbol.for("react.provider"),dk=Symbol.for("react.context"),T_=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),Ba=Symbol.for("react.lazy"),fk=Symbol.for("react.offscreen"),zj=Symbol.iterator;function Nu(e){return e===null||typeof e!="object"?null:(e=zj&&e[zj]||e["@@iterator"],typeof e=="function"?e:null)}var Mt=Object.assign,Py;function Ju(e){if(Py===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Py=t&&t[1]||""}return`
`+Py+e}var Ay=!1;function Ny(e,t){if(!e||Ay)return"";Ay=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=s);break}}}finally{Ay=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ju(e):""}function l5(e){switch(e.tag){case 5:return Ju(e.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return e=Ny(e.type,!1),e;case 11:return e=Ny(e.type.render,!1),e;case 1:return e=Ny(e.type,!0),e;default:return""}}function sb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case El:return"Fragment";case jl:return"Portal";case ib:return"Profiler";case C_:return"StrictMode";case ab:return"Suspense";case ob:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case dk:return(e.displayName||"Context")+".Consumer";case uk:return(e._context.displayName||"Context")+".Provider";case T_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k_:return t=e.displayName||null,t!==null?t:sb(e.type)||"Memo";case Ba:t=e._payload,e=e._init;try{return sb(e(t))}catch{}}return null}function c5(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sb(t);case 8:return t===C_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function u5(e){var t=hk(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eh(e){e._valueTracker||(e._valueTracker=u5(e))}function pk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=hk(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lb(e,t){var r=t.checked;return Mt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=wo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function mk(e,t){t=t.checked,t!=null&&N_(e,"checked",t,!1)}function cb(e,t){mk(e,t);var r=wo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ub(e,t.type,r):t.hasOwnProperty("defaultValue")&&ub(e,t.type,wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ub(e,t,r){(t!=="number"||zp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zu=Array.isArray;function Ul(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+wo(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function db(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Mt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(Zu(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:wo(r)}}function vk(e,t){var r=wo(t.value),n=wo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Oh,yk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Oh=Oh||document.createElement("div"),Oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cd(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ld={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d5=["Webkit","ms","Moz","O"];Object.keys(ld).forEach(function(e){d5.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ld[t]=ld[e]})});function xk(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ld.hasOwnProperty(e)&&ld[e]?(""+t).trim():t+"px"}function bk(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=xk(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var f5=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hb(e,t){if(t){if(f5[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function pb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mb=null;function $_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vb=null,zl=null,Vl=null;function Kj(e){if(e=Hf(e)){if(typeof vb!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Dv(t),vb(e.stateNode,e.type,t))}}function wk(e){zl?Vl?Vl.push(e):Vl=[e]:zl=e}function _k(){if(zl){var e=zl,t=Vl;if(Vl=zl=null,Kj(e),t)for(e=0;e<t.length;e++)Kj(t[e])}}function Sk(e,t){return e(t)}function jk(){}var Cy=!1;function Ek(e,t,r){if(Cy)return e(t,r);Cy=!0;try{return Sk(e,t,r)}finally{Cy=!1,(zl!==null||Vl!==null)&&(jk(),_k())}}function Td(e,t){var r=e.stateNode;if(r===null)return null;var n=Dv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var gb=!1;if(ga)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){gb=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{gb=!1}function h5(e,t,r,n,i,a,o,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var cd=!1,Vp=null,Wp=!1,yb=null,p5={onError:function(e){cd=!0,Vp=e}};function m5(e,t,r,n,i,a,o,s,c){cd=!1,Vp=null,h5.apply(p5,arguments)}function v5(e,t,r,n,i,a,o,s,c){if(m5.apply(this,arguments),cd){if(cd){var u=Vp;cd=!1,Vp=null}else throw Error(ce(198));Wp||(Wp=!0,yb=u)}}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Ok(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gj(e){if(Ks(e)!==e)throw Error(ce(188))}function g5(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Gj(i),e;if(a===n)return Gj(i),t;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function Pk(e){return e=g5(e),e!==null?Ak(e):null}function Ak(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ak(e);if(t!==null)return t;e=e.sibling}return null}var Nk=jn.unstable_scheduleCallback,Yj=jn.unstable_cancelCallback,y5=jn.unstable_shouldYield,x5=jn.unstable_requestPaint,Vt=jn.unstable_now,b5=jn.unstable_getCurrentPriorityLevel,R_=jn.unstable_ImmediatePriority,Ck=jn.unstable_UserBlockingPriority,qp=jn.unstable_NormalPriority,w5=jn.unstable_LowPriority,Tk=jn.unstable_IdlePriority,$v=null,ki=null;function _5(e){if(ki&&typeof ki.onCommitFiberRoot=="function")try{ki.onCommitFiberRoot($v,e,void 0,(e.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:E5,S5=Math.log,j5=Math.LN2;function E5(e){return e>>>=0,e===0?32:31-(S5(e)/j5|0)|0}var Ph=64,Ah=4194304;function ed(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=ed(s):(a&=o,a!==0&&(n=ed(a)))}else o=r&~i,o!==0?n=ed(o):a!==0&&(n=ed(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-li(t),i=1<<r,n|=e[r],t&=~i;return n}function O5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function P5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-li(a),s=1<<o,c=i[o];c===-1?(!(s&r)||s&n)&&(i[o]=O5(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function xb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kk(){var e=Ph;return Ph<<=1,!(Ph&4194240)&&(Ph=64),e}function Ty(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wf(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-li(t),e[t]=r}function A5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-li(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function I_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-li(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ot=0;function $k(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rk,M_,Ik,Mk,Dk,bb=!1,Nh=[],uo=null,fo=null,ho=null,kd=new Map,$d=new Map,Va=[],N5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xj(e,t){switch(e){case"focusin":case"focusout":uo=null;break;case"dragenter":case"dragleave":fo=null;break;case"mouseover":case"mouseout":ho=null;break;case"pointerover":case"pointerout":kd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(t.pointerId)}}function Tu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Hf(t),t!==null&&M_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function C5(e,t,r,n,i){switch(t){case"focusin":return uo=Tu(uo,e,t,r,n,i),!0;case"dragenter":return fo=Tu(fo,e,t,r,n,i),!0;case"mouseover":return ho=Tu(ho,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return kd.set(a,Tu(kd.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,$d.set(a,Tu($d.get(a)||null,e,t,r,n,i)),!0}return!1}function Lk(e){var t=as(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=Ok(r),t!==null){e.blockedOn=t,Dk(e.priority,function(){Ik(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function jp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mb=n,r.target.dispatchEvent(n),mb=null}else return t=Hf(r),t!==null&&M_(t),e.blockedOn=r,!1;t.shift()}return!0}function Qj(e,t,r){jp(e)&&r.delete(t)}function T5(){bb=!1,uo!==null&&jp(uo)&&(uo=null),fo!==null&&jp(fo)&&(fo=null),ho!==null&&jp(ho)&&(ho=null),kd.forEach(Qj),$d.forEach(Qj)}function ku(e,t){e.blockedOn===t&&(e.blockedOn=null,bb||(bb=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,T5)))}function Rd(e){function t(i){return ku(i,e)}if(0<Nh.length){ku(Nh[0],e);for(var r=1;r<Nh.length;r++){var n=Nh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(uo!==null&&ku(uo,e),fo!==null&&ku(fo,e),ho!==null&&ku(ho,e),kd.forEach(t),$d.forEach(t),r=0;r<Va.length;r++)n=Va[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Va.length&&(r=Va[0],r.blockedOn===null);)Lk(r),r.blockedOn===null&&Va.shift()}var Wl=Pa.ReactCurrentBatchConfig,Kp=!0;function k5(e,t,r,n){var i=ot,a=Wl.transition;Wl.transition=null;try{ot=1,D_(e,t,r,n)}finally{ot=i,Wl.transition=a}}function $5(e,t,r,n){var i=ot,a=Wl.transition;Wl.transition=null;try{ot=4,D_(e,t,r,n)}finally{ot=i,Wl.transition=a}}function D_(e,t,r,n){if(Kp){var i=wb(e,t,r,n);if(i===null)Uy(e,t,n,Gp,r),Xj(e,n);else if(C5(i,e,t,r,n))n.stopPropagation();else if(Xj(e,n),t&4&&-1<N5.indexOf(e)){for(;i!==null;){var a=Hf(i);if(a!==null&&Rk(a),a=wb(e,t,r,n),a===null&&Uy(e,t,n,Gp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Uy(e,t,n,null,r)}}var Gp=null;function wb(e,t,r,n){if(Gp=null,e=$_(n),e=as(e),e!==null)if(t=Ks(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Ok(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gp=e,null}function Fk(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(b5()){case R_:return 1;case Ck:return 4;case qp:case w5:return 16;case Tk:return 536870912;default:return 16}default:return 16}}var no=null,L_=null,Ep=null;function Bk(){if(Ep)return Ep;var e,t=L_,r=t.length,n,i="value"in no?no.value:no.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Ep=i.slice(e,1<n?1-n:void 0)}function Op(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ch(){return!0}function Jj(){return!1}function On(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ch:Jj,this.isPropagationStopped=Jj,this}return Mt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ch)},persist:function(){},isPersistent:Ch}),t}var iu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F_=On(iu),qf=Mt({},iu,{view:0,detail:0}),R5=On(qf),ky,$y,$u,Rv=Mt({},qf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$u&&($u&&e.type==="mousemove"?(ky=e.screenX-$u.screenX,$y=e.screenY-$u.screenY):$y=ky=0,$u=e),ky)},movementY:function(e){return"movementY"in e?e.movementY:$y}}),Zj=On(Rv),I5=Mt({},Rv,{dataTransfer:0}),M5=On(I5),D5=Mt({},qf,{relatedTarget:0}),Ry=On(D5),L5=Mt({},iu,{animationName:0,elapsedTime:0,pseudoElement:0}),F5=On(L5),B5=Mt({},iu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),U5=On(B5),z5=Mt({},iu,{data:0}),eE=On(z5),V5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},q5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=q5[e])?!!t[e]:!1}function B_(){return H5}var K5=Mt({},qf,{key:function(e){if(e.key){var t=V5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Op(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?W5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B_,charCode:function(e){return e.type==="keypress"?Op(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Op(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),G5=On(K5),Y5=Mt({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tE=On(Y5),X5=Mt({},qf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B_}),Q5=On(X5),J5=Mt({},iu,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z5=On(J5),ez=Mt({},Rv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tz=On(ez),rz=[9,13,27,32],U_=ga&&"CompositionEvent"in window,ud=null;ga&&"documentMode"in document&&(ud=document.documentMode);var nz=ga&&"TextEvent"in window&&!ud,Uk=ga&&(!U_||ud&&8<ud&&11>=ud),rE=" ",nE=!1;function zk(e,t){switch(e){case"keyup":return rz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vk(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ol=!1;function iz(e,t){switch(e){case"compositionend":return Vk(t);case"keypress":return t.which!==32?null:(nE=!0,rE);case"textInput":return e=t.data,e===rE&&nE?null:e;default:return null}}function az(e,t){if(Ol)return e==="compositionend"||!U_&&zk(e,t)?(e=Bk(),Ep=L_=no=null,Ol=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uk&&t.locale!=="ko"?null:t.data;default:return null}}var oz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iE(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oz[e.type]:t==="textarea"}function Wk(e,t,r,n){wk(n),t=Yp(t,"onChange"),0<t.length&&(r=new F_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dd=null,Id=null;function sz(e){t$(e,0)}function Iv(e){var t=Nl(e);if(pk(t))return e}function lz(e,t){if(e==="change")return t}var qk=!1;if(ga){var Iy;if(ga){var My="oninput"in document;if(!My){var aE=document.createElement("div");aE.setAttribute("oninput","return;"),My=typeof aE.oninput=="function"}Iy=My}else Iy=!1;qk=Iy&&(!document.documentMode||9<document.documentMode)}function oE(){dd&&(dd.detachEvent("onpropertychange",Hk),Id=dd=null)}function Hk(e){if(e.propertyName==="value"&&Iv(Id)){var t=[];Wk(t,Id,e,$_(e)),Ek(sz,t)}}function cz(e,t,r){e==="focusin"?(oE(),dd=t,Id=r,dd.attachEvent("onpropertychange",Hk)):e==="focusout"&&oE()}function uz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iv(Id)}function dz(e,t){if(e==="click")return Iv(t)}function fz(e,t){if(e==="input"||e==="change")return Iv(t)}function hz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mi=typeof Object.is=="function"?Object.is:hz;function Md(e,t){if(mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!nb.call(t,i)||!mi(e[i],t[i]))return!1}return!0}function sE(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lE(e,t){var r=sE(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sE(r)}}function Kk(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kk(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gk(){for(var e=window,t=zp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zp(e.document)}return t}function z_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pz(e){var t=Gk(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Kk(r.ownerDocument.documentElement,r)){if(n!==null&&z_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=lE(r,a);var o=lE(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mz=ga&&"documentMode"in document&&11>=document.documentMode,Pl=null,_b=null,fd=null,Sb=!1;function cE(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Sb||Pl==null||Pl!==zp(n)||(n=Pl,"selectionStart"in n&&z_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fd&&Md(fd,n)||(fd=n,n=Yp(_b,"onSelect"),0<n.length&&(t=new F_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Pl)))}function Th(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Al={animationend:Th("Animation","AnimationEnd"),animationiteration:Th("Animation","AnimationIteration"),animationstart:Th("Animation","AnimationStart"),transitionend:Th("Transition","TransitionEnd")},Dy={},Yk={};ga&&(Yk=document.createElement("div").style,"AnimationEvent"in window||(delete Al.animationend.animation,delete Al.animationiteration.animation,delete Al.animationstart.animation),"TransitionEvent"in window||delete Al.transitionend.transition);function Mv(e){if(Dy[e])return Dy[e];if(!Al[e])return e;var t=Al[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Yk)return Dy[e]=t[r];return e}var Xk=Mv("animationend"),Qk=Mv("animationiteration"),Jk=Mv("animationstart"),Zk=Mv("transitionend"),e$=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(e,t){e$.set(e,t),Hs(t,[e])}for(var Ly=0;Ly<uE.length;Ly++){var Fy=uE[Ly],vz=Fy.toLowerCase(),gz=Fy[0].toUpperCase()+Fy.slice(1);No(vz,"on"+gz)}No(Xk,"onAnimationEnd");No(Qk,"onAnimationIteration");No(Jk,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(Zk,"onTransitionEnd");yc("onMouseEnter",["mouseout","mouseover"]);yc("onMouseLeave",["mouseout","mouseover"]);yc("onPointerEnter",["pointerout","pointerover"]);yc("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yz=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function dE(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,v5(n,t,void 0,e),e.currentTarget=null}function t$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;dE(i,s,u),a=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;dE(i,s,u),a=c}}}if(Wp)throw e=yb,Wp=!1,yb=null,e}function yt(e,t){var r=t[Ab];r===void 0&&(r=t[Ab]=new Set);var n=e+"__bubble";r.has(n)||(r$(t,e,2,!1),r.add(n))}function By(e,t,r){var n=0;t&&(n|=4),r$(r,e,n,t)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[kh]){e[kh]=!0,ck.forEach(function(r){r!=="selectionchange"&&(yz.has(r)||By(r,!1,e),By(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kh]||(t[kh]=!0,By("selectionchange",!1,t))}}function r$(e,t,r,n){switch(Fk(t)){case 1:var i=k5;break;case 4:i=$5;break;default:i=D_}r=i.bind(null,t,r,e),i=void 0,!gb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Uy(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;s!==null;){if(o=as(s),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Ek(function(){var u=a,d=$_(r),f=[];e:{var h=e$.get(e);if(h!==void 0){var m=F_,g=e;switch(e){case"keypress":if(Op(r)===0)break e;case"keydown":case"keyup":m=G5;break;case"focusin":g="focus",m=Ry;break;case"focusout":g="blur",m=Ry;break;case"beforeblur":case"afterblur":m=Ry;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=M5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Q5;break;case Xk:case Qk:case Jk:m=F5;break;case Zk:m=Z5;break;case"scroll":m=R5;break;case"wheel":m=tz;break;case"copy":case"cut":case"paste":m=U5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tE}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,v;y!==null;){v=y;var S=v.stateNode;if(v.tag===5&&S!==null&&(v=S,b!==null&&(S=Td(y,b),S!=null&&p.push(Ld(y,S,v)))),x)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==mb&&(g=r.relatedTarget||r.fromElement)&&(as(g)||g[ya]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?as(g):null,g!==null&&(x=Ks(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=Zj,S="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=tE,S="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?h:Nl(m),v=g==null?h:Nl(g),h=new p(S,y+"leave",m,r,d),h.target=x,h.relatedTarget=v,S=null,as(d)===u&&(p=new p(b,y+"enter",g,r,d),p.target=v,p.relatedTarget=x,S=p),x=S,m&&g)t:{for(p=m,b=g,y=0,v=p;v;v=al(v))y++;for(v=0,S=b;S;S=al(S))v++;for(;0<y-v;)p=al(p),y--;for(;0<v-y;)b=al(b),v--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=al(p),b=al(b)}p=null}else p=null;m!==null&&fE(f,h,m,p,!1),g!==null&&x!==null&&fE(f,x,g,p,!0)}}e:{if(h=u?Nl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var _=lz;else if(iE(h))if(qk)_=fz;else{_=uz;var j=cz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=dz);if(_&&(_=_(e,u))){Wk(f,_,r,d);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&ub(h,"number",h.value)}switch(j=u?Nl(u):window,e){case"focusin":(iE(j)||j.contentEditable==="true")&&(Pl=j,_b=u,fd=null);break;case"focusout":fd=_b=Pl=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,cE(f,r,d);break;case"selectionchange":if(mz)break;case"keydown":case"keyup":cE(f,r,d)}var E;if(U_)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ol?zk(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(Uk&&r.locale!=="ko"&&(Ol||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ol&&(E=Bk()):(no=d,L_="value"in no?no.value:no.textContent,Ol=!0)),j=Yp(u,O),0<j.length&&(O=new eE(O,e,null,r,d),f.push({event:O,listeners:j}),E?O.data=E:(E=Vk(r),E!==null&&(O.data=E)))),(E=nz?iz(e,r):az(e,r))&&(u=Yp(u,"onBeforeInput"),0<u.length&&(d=new eE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}t$(f,t)})}function Ld(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Yp(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Td(e,r),a!=null&&n.unshift(Ld(e,a,i)),a=Td(e,t),a!=null&&n.push(Ld(e,a,i))),e=e.return}return n}function al(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function fE(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,i?(c=Td(r,a),c!=null&&o.unshift(Ld(r,c,s))):i||(c=Td(r,a),c!=null&&o.push(Ld(r,c,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var xz=/\r\n?/g,bz=/\u0000|\uFFFD/g;function hE(e){return(typeof e=="string"?e:""+e).replace(xz,`
`).replace(bz,"")}function $h(e,t,r){if(t=hE(t),hE(e)!==t&&r)throw Error(ce(425))}function Xp(){}var jb=null,Eb=null;function Ob(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pb=typeof setTimeout=="function"?setTimeout:void 0,wz=typeof clearTimeout=="function"?clearTimeout:void 0,pE=typeof Promise=="function"?Promise:void 0,_z=typeof queueMicrotask=="function"?queueMicrotask:typeof pE<"u"?function(e){return pE.resolve(null).then(e).catch(Sz)}:Pb;function Sz(e){setTimeout(function(){throw e})}function zy(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rd(t)}function po(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mE(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var au=Math.random().toString(36).slice(2),Ai="__reactFiber$"+au,Fd="__reactProps$"+au,ya="__reactContainer$"+au,Ab="__reactEvents$"+au,jz="__reactListeners$"+au,Ez="__reactHandles$"+au;function as(e){var t=e[Ai];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ya]||r[Ai]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mE(e);e!==null;){if(r=e[Ai])return r;e=mE(e)}return t}e=r,r=e.parentNode}return null}function Hf(e){return e=e[Ai]||e[ya],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Dv(e){return e[Fd]||null}var Nb=[],Cl=-1;function Co(e){return{current:e}}function jt(e){0>Cl||(e.current=Nb[Cl],Nb[Cl]=null,Cl--)}function mt(e,t){Cl++,Nb[Cl]=e.current,e.current=t}var _o={},$r=Co(_o),tn=Co(!1),Ns=_o;function xc(e,t){var r=e.type.contextTypes;if(!r)return _o;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function rn(e){return e=e.childContextTypes,e!=null}function Qp(){jt(tn),jt($r)}function vE(e,t,r){if($r.current!==_o)throw Error(ce(168));mt($r,t),mt(tn,r)}function n$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ce(108,c5(e)||"Unknown",i));return Mt({},r,n)}function Jp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_o,Ns=$r.current,mt($r,e),mt(tn,tn.current),!0}function gE(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=n$(e,t,Ns),n.__reactInternalMemoizedMergedChildContext=e,jt(tn),jt($r),mt($r,e)):jt(tn),mt(tn,r)}var ia=null,Lv=!1,Vy=!1;function i$(e){ia===null?ia=[e]:ia.push(e)}function Oz(e){Lv=!0,i$(e)}function To(){if(!Vy&&ia!==null){Vy=!0;var e=0,t=ot;try{var r=ia;for(ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ia=null,Lv=!1}catch(i){throw ia!==null&&(ia=ia.slice(e+1)),Nk(R_,To),i}finally{ot=t,Vy=!1}}return null}var Tl=[],kl=0,Zp=null,em=0,kn=[],$n=0,Cs=null,sa=1,la="";function Yo(e,t){Tl[kl++]=em,Tl[kl++]=Zp,Zp=e,em=t}function a$(e,t,r){kn[$n++]=sa,kn[$n++]=la,kn[$n++]=Cs,Cs=e;var n=sa;e=la;var i=32-li(n)-1;n&=~(1<<i),r+=1;var a=32-li(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,sa=1<<32-li(t)+i|r<<i|n,la=a+e}else sa=1<<a|r<<i|n,la=e}function V_(e){e.return!==null&&(Yo(e,1),a$(e,1,0))}function W_(e){for(;e===Zp;)Zp=Tl[--kl],Tl[kl]=null,em=Tl[--kl],Tl[kl]=null;for(;e===Cs;)Cs=kn[--$n],kn[$n]=null,la=kn[--$n],kn[$n]=null,sa=kn[--$n],kn[$n]=null}var bn=null,xn=null,Ot=!1,ni=null;function o$(e,t){var r=Mn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yE(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bn=e,xn=po(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bn=e,xn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Cs!==null?{id:sa,overflow:la}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,bn=e,xn=null,!0):!1;default:return!1}}function Cb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tb(e){if(Ot){var t=xn;if(t){var r=t;if(!yE(e,t)){if(Cb(e))throw Error(ce(418));t=po(r.nextSibling);var n=bn;t&&yE(e,t)?o$(n,r):(e.flags=e.flags&-4097|2,Ot=!1,bn=e)}}else{if(Cb(e))throw Error(ce(418));e.flags=e.flags&-4097|2,Ot=!1,bn=e}}}function xE(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bn=e}function Rh(e){if(e!==bn)return!1;if(!Ot)return xE(e),Ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ob(e.type,e.memoizedProps)),t&&(t=xn)){if(Cb(e))throw s$(),Error(ce(418));for(;t;)o$(e,t),t=po(t.nextSibling)}if(xE(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xn=po(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xn=null}}else xn=bn?po(e.stateNode.nextSibling):null;return!0}function s$(){for(var e=xn;e;)e=po(e.nextSibling)}function bc(){xn=bn=null,Ot=!1}function q_(e){ni===null?ni=[e]:ni.push(e)}var Pz=Pa.ReactCurrentBatchConfig;function Ru(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function Ih(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bE(e){var t=e._init;return t(e._payload)}function l$(e){function t(b,y){if(e){var v=b.deletions;v===null?(b.deletions=[y],b.flags|=16):v.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=yo(b,y),b.index=0,b.sibling=null,b}function a(b,y,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<y?(b.flags|=2,y):v):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function s(b,y,v,S){return y===null||y.tag!==6?(y=Xy(v,b.mode,S),y.return=b,y):(y=i(y,v),y.return=b,y)}function c(b,y,v,S){var _=v.type;return _===El?d(b,y,v.props.children,S,v.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&bE(_)===y.type)?(S=i(y,v.props),S.ref=Ru(b,y,v),S.return=b,S):(S=$p(v.type,v.key,v.props,null,b.mode,S),S.ref=Ru(b,y,v),S.return=b,S)}function u(b,y,v,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Qy(v,b.mode,S),y.return=b,y):(y=i(y,v.children||[]),y.return=b,y)}function d(b,y,v,S,_){return y===null||y.tag!==7?(y=js(v,b.mode,S,_),y.return=b,y):(y=i(y,v),y.return=b,y)}function f(b,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Xy(""+y,b.mode,v),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jh:return v=$p(y.type,y.key,y.props,null,b.mode,v),v.ref=Ru(b,null,y),v.return=b,v;case jl:return y=Qy(y,b.mode,v),y.return=b,y;case Ba:var S=y._init;return f(b,S(y._payload),v)}if(Zu(y)||Nu(y))return y=js(y,b.mode,v,null),y.return=b,y;Ih(b,y)}return null}function h(b,y,v,S){var _=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return _!==null?null:s(b,y,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case jh:return v.key===_?c(b,y,v,S):null;case jl:return v.key===_?u(b,y,v,S):null;case Ba:return _=v._init,h(b,y,_(v._payload),S)}if(Zu(v)||Nu(v))return _!==null?null:d(b,y,v,S,null);Ih(b,v)}return null}function m(b,y,v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(v)||null,s(y,b,""+S,_);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case jh:return b=b.get(S.key===null?v:S.key)||null,c(y,b,S,_);case jl:return b=b.get(S.key===null?v:S.key)||null,u(y,b,S,_);case Ba:var j=S._init;return m(b,y,v,j(S._payload),_)}if(Zu(S)||Nu(S))return b=b.get(v)||null,d(y,b,S,_,null);Ih(y,S)}return null}function g(b,y,v,S){for(var _=null,j=null,E=y,O=y=0,P=null;E!==null&&O<v.length;O++){E.index>O?(P=E,E=null):P=E.sibling;var M=h(b,E,v[O],S);if(M===null){E===null&&(E=P);break}e&&E&&M.alternate===null&&t(b,E),y=a(M,y,O),j===null?_=M:j.sibling=M,j=M,E=P}if(O===v.length)return r(b,E),Ot&&Yo(b,O),_;if(E===null){for(;O<v.length;O++)E=f(b,v[O],S),E!==null&&(y=a(E,y,O),j===null?_=E:j.sibling=E,j=E);return Ot&&Yo(b,O),_}for(E=n(b,E);O<v.length;O++)P=m(E,b,O,v[O],S),P!==null&&(e&&P.alternate!==null&&E.delete(P.key===null?O:P.key),y=a(P,y,O),j===null?_=P:j.sibling=P,j=P);return e&&E.forEach(function(C){return t(b,C)}),Ot&&Yo(b,O),_}function p(b,y,v,S){var _=Nu(v);if(typeof _!="function")throw Error(ce(150));if(v=_.call(v),v==null)throw Error(ce(151));for(var j=_=null,E=y,O=y=0,P=null,M=v.next();E!==null&&!M.done;O++,M=v.next()){E.index>O?(P=E,E=null):P=E.sibling;var C=h(b,E,M.value,S);if(C===null){E===null&&(E=P);break}e&&E&&C.alternate===null&&t(b,E),y=a(C,y,O),j===null?_=C:j.sibling=C,j=C,E=P}if(M.done)return r(b,E),Ot&&Yo(b,O),_;if(E===null){for(;!M.done;O++,M=v.next())M=f(b,M.value,S),M!==null&&(y=a(M,y,O),j===null?_=M:j.sibling=M,j=M);return Ot&&Yo(b,O),_}for(E=n(b,E);!M.done;O++,M=v.next())M=m(E,b,O,M.value,S),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?O:M.key),y=a(M,y,O),j===null?_=M:j.sibling=M,j=M);return e&&E.forEach(function($){return t(b,$)}),Ot&&Yo(b,O),_}function x(b,y,v,S){if(typeof v=="object"&&v!==null&&v.type===El&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case jh:e:{for(var _=v.key,j=y;j!==null;){if(j.key===_){if(_=v.type,_===El){if(j.tag===7){r(b,j.sibling),y=i(j,v.props.children),y.return=b,b=y;break e}}else if(j.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ba&&bE(_)===j.type){r(b,j.sibling),y=i(j,v.props),y.ref=Ru(b,j,v),y.return=b,b=y;break e}r(b,j);break}else t(b,j);j=j.sibling}v.type===El?(y=js(v.props.children,b.mode,S,v.key),y.return=b,b=y):(S=$p(v.type,v.key,v.props,null,b.mode,S),S.ref=Ru(b,y,v),S.return=b,b=S)}return o(b);case jl:e:{for(j=v.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){r(b,y.sibling),y=i(y,v.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=Qy(v,b.mode,S),y.return=b,b=y}return o(b);case Ba:return j=v._init,x(b,y,j(v._payload),S)}if(Zu(v))return g(b,y,v,S);if(Nu(v))return p(b,y,v,S);Ih(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(r(b,y.sibling),y=i(y,v),y.return=b,b=y):(r(b,y),y=Xy(v,b.mode,S),y.return=b,b=y),o(b)):r(b,y)}return x}var wc=l$(!0),c$=l$(!1),tm=Co(null),rm=null,$l=null,H_=null;function K_(){H_=$l=rm=null}function G_(e){var t=tm.current;jt(tm),e._currentValue=t}function kb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ql(e,t){rm=e,H_=$l=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Zr=!0),e.firstContext=null)}function Bn(e){var t=e._currentValue;if(H_!==e)if(e={context:e,memoizedValue:t,next:null},$l===null){if(rm===null)throw Error(ce(308));$l=e,rm.dependencies={lanes:0,firstContext:e}}else $l=$l.next=e;return t}var os=null;function Y_(e){os===null?os=[e]:os.push(e)}function u$(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Y_(t)):(r.next=i.next,i.next=r),t.interleaved=r,xa(e,n)}function xa(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ua=!1;function X_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function d$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ze&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,xa(e,r)}return i=n.interleaved,i===null?(t.next=t,Y_(n)):(t.next=i.next,i.next=t),n.interleaved=t,xa(e,r)}function Pp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I_(e,r)}}function wE(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function nm(e,t,r,n){var i=e.updateQueue;Ua=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,p=s;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Mt({},f,h);break e;case 2:Ua=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ks|=o,e.lanes=o,e.memoizedState=f}}function _E(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ce(191,i));i.call(n)}}}var Kf={},$i=Co(Kf),Bd=Co(Kf),Ud=Co(Kf);function ss(e){if(e===Kf)throw Error(ce(174));return e}function Q_(e,t){switch(mt(Ud,t),mt(Bd,e),mt($i,Kf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fb(t,e)}jt($i),mt($i,t)}function _c(){jt($i),jt(Bd),jt(Ud)}function f$(e){ss(Ud.current);var t=ss($i.current),r=fb(t,e.type);t!==r&&(mt(Bd,e),mt($i,r))}function J_(e){Bd.current===e&&(jt($i),jt(Bd))}var Nt=Co(0);function im(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wy=[];function Z_(){for(var e=0;e<Wy.length;e++)Wy[e]._workInProgressVersionPrimary=null;Wy.length=0}var Ap=Pa.ReactCurrentDispatcher,qy=Pa.ReactCurrentBatchConfig,Ts=0,It=null,nr=null,dr=null,am=!1,hd=!1,zd=0,Az=0;function jr(){throw Error(ce(321))}function e1(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mi(e[r],t[r]))return!1;return!0}function t1(e,t,r,n,i,a){if(Ts=a,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ap.current=e===null||e.memoizedState===null?kz:$z,e=r(n,i),hd){a=0;do{if(hd=!1,zd=0,25<=a)throw Error(ce(301));a+=1,dr=nr=null,t.updateQueue=null,Ap.current=Rz,e=r(n,i)}while(hd)}if(Ap.current=om,t=nr!==null&&nr.next!==null,Ts=0,dr=nr=It=null,am=!1,t)throw Error(ce(300));return e}function r1(){var e=zd!==0;return zd=0,e}function _i(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dr===null?It.memoizedState=dr=e:dr=dr.next=e,dr}function Un(){if(nr===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=nr.next;var t=dr===null?It.memoizedState:dr.next;if(t!==null)dr=t,nr=e;else{if(e===null)throw Error(ce(310));nr=e,e={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},dr===null?It.memoizedState=dr=e:dr=dr.next=e}return dr}function Vd(e,t){return typeof t=="function"?t(e):t}function Hy(e){var t=Un(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=nr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,c=null,u=a;do{var d=u.lane;if((Ts&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,o=n):c=c.next=f,It.lanes|=d,ks|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=s,mi(n,t.memoizedState)||(Zr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,It.lanes|=a,ks|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ky(e){var t=Un(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);mi(a,t.memoizedState)||(Zr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function h$(){}function p$(e,t){var r=It,n=Un(),i=t(),a=!mi(n.memoizedState,i);if(a&&(n.memoizedState=i,Zr=!0),n=n.queue,n1(g$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||dr!==null&&dr.memoizedState.tag&1){if(r.flags|=2048,Wd(9,v$.bind(null,r,n,i,t),void 0,null),hr===null)throw Error(ce(349));Ts&30||m$(r,t,i)}return i}function m$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function v$(e,t,r,n){t.value=r,t.getSnapshot=n,y$(t)&&x$(e)}function g$(e,t,r){return r(function(){y$(t)&&x$(e)})}function y$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mi(e,r)}catch{return!0}}function x$(e){var t=xa(e,1);t!==null&&ci(t,e,1,-1)}function SE(e){var t=_i();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vd,lastRenderedState:e},t.queue=e,e=e.dispatch=Tz.bind(null,It,e),[t.memoizedState,e]}function Wd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function b$(){return Un().memoizedState}function Np(e,t,r,n){var i=_i();It.flags|=e,i.memoizedState=Wd(1|t,r,void 0,n===void 0?null:n)}function Fv(e,t,r,n){var i=Un();n=n===void 0?null:n;var a=void 0;if(nr!==null){var o=nr.memoizedState;if(a=o.destroy,n!==null&&e1(n,o.deps)){i.memoizedState=Wd(t,r,a,n);return}}It.flags|=e,i.memoizedState=Wd(1|t,r,a,n)}function jE(e,t){return Np(8390656,8,e,t)}function n1(e,t){return Fv(2048,8,e,t)}function w$(e,t){return Fv(4,2,e,t)}function _$(e,t){return Fv(4,4,e,t)}function S$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j$(e,t,r){return r=r!=null?r.concat([e]):null,Fv(4,4,S$.bind(null,t,e),r)}function i1(){}function E$(e,t){var r=Un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e1(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function O$(e,t){var r=Un();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&e1(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function P$(e,t,r){return Ts&21?(mi(r,t)||(r=kk(),It.lanes|=r,ks|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Zr=!0),e.memoizedState=r)}function Nz(e,t){var r=ot;ot=r!==0&&4>r?r:4,e(!0);var n=qy.transition;qy.transition={};try{e(!1),t()}finally{ot=r,qy.transition=n}}function A$(){return Un().memoizedState}function Cz(e,t,r){var n=go(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},N$(e))C$(t,r);else if(r=u$(e,t,r,n),r!==null){var i=Hr();ci(r,e,n,i),T$(r,t,n)}}function Tz(e,t,r){var n=go(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(N$(e))C$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,mi(s,o)){var c=t.interleaved;c===null?(i.next=i,Y_(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=u$(e,t,i,n),r!==null&&(i=Hr(),ci(r,e,n,i),T$(r,t,n))}}function N$(e){var t=e.alternate;return e===It||t!==null&&t===It}function C$(e,t){hd=am=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function T$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,I_(e,r)}}var om={readContext:Bn,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},kz={readContext:Bn,useCallback:function(e,t){return _i().memoizedState=[e,t===void 0?null:t],e},useContext:Bn,useEffect:jE,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Np(4194308,4,S$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Np(4194308,4,e,t)},useInsertionEffect:function(e,t){return Np(4,2,e,t)},useMemo:function(e,t){var r=_i();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_i();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Cz.bind(null,It,e),[n.memoizedState,e]},useRef:function(e){var t=_i();return e={current:e},t.memoizedState=e},useState:SE,useDebugValue:i1,useDeferredValue:function(e){return _i().memoizedState=e},useTransition:function(){var e=SE(!1),t=e[0];return e=Nz.bind(null,e[1]),_i().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=It,i=_i();if(Ot){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),hr===null)throw Error(ce(349));Ts&30||m$(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,jE(g$.bind(null,n,a,e),[e]),n.flags|=2048,Wd(9,v$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=_i(),t=hr.identifierPrefix;if(Ot){var r=la,n=sa;r=(n&~(1<<32-li(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Az++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$z={readContext:Bn,useCallback:E$,useContext:Bn,useEffect:n1,useImperativeHandle:j$,useInsertionEffect:w$,useLayoutEffect:_$,useMemo:O$,useReducer:Hy,useRef:b$,useState:function(){return Hy(Vd)},useDebugValue:i1,useDeferredValue:function(e){var t=Un();return P$(t,nr.memoizedState,e)},useTransition:function(){var e=Hy(Vd)[0],t=Un().memoizedState;return[e,t]},useMutableSource:h$,useSyncExternalStore:p$,useId:A$,unstable_isNewReconciler:!1},Rz={readContext:Bn,useCallback:E$,useContext:Bn,useEffect:n1,useImperativeHandle:j$,useInsertionEffect:w$,useLayoutEffect:_$,useMemo:O$,useReducer:Ky,useRef:b$,useState:function(){return Ky(Vd)},useDebugValue:i1,useDeferredValue:function(e){var t=Un();return nr===null?t.memoizedState=e:P$(t,nr.memoizedState,e)},useTransition:function(){var e=Ky(Vd)[0],t=Un().memoizedState;return[e,t]},useMutableSource:h$,useSyncExternalStore:p$,useId:A$,unstable_isNewReconciler:!1};function Xn(e,t){if(e&&e.defaultProps){t=Mt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function $b(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bv={isMounted:function(e){return(e=e._reactInternals)?Ks(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hr(),i=go(e),a=fa(n,i);a.payload=t,r!=null&&(a.callback=r),t=mo(e,a,i),t!==null&&(ci(t,e,i,n),Pp(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hr(),i=go(e),a=fa(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=mo(e,a,i),t!==null&&(ci(t,e,i,n),Pp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hr(),n=go(e),i=fa(r,n);i.tag=2,t!=null&&(i.callback=t),t=mo(e,i,n),t!==null&&(ci(t,e,n,r),Pp(t,e,n))}};function EE(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Md(r,n)||!Md(i,a):!0}function k$(e,t,r){var n=!1,i=_o,a=t.contextType;return typeof a=="object"&&a!==null?a=Bn(a):(i=rn(t)?Ns:$r.current,n=t.contextTypes,a=(n=n!=null)?xc(e,i):_o),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function OE(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bv.enqueueReplaceState(t,t.state,null)}function Rb(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},X_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bn(a):(a=rn(t)?Ns:$r.current,i.context=xc(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($b(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Bv.enqueueReplaceState(i,i.state,null),nm(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Sc(e,t){try{var r="",n=t;do r+=l5(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Gy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ib(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Iz=typeof WeakMap=="function"?WeakMap:Map;function $$(e,t,r){r=fa(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){lm||(lm=!0,qb=n),Ib(e,t)},r}function R$(e,t,r){r=fa(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ib(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ib(e,t),typeof n!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function PE(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Iz;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Yz.bind(null,e,t,r),t.then(e,e))}function AE(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NE(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fa(-1,1),t.tag=2,mo(r,t,1))),r.lanes|=1),e)}var Mz=Pa.ReactCurrentOwner,Zr=!1;function Fr(e,t,r,n){t.child=e===null?c$(t,null,r,n):wc(t,e.child,r,n)}function CE(e,t,r,n,i){r=r.render;var a=t.ref;return ql(t,i),n=t1(e,t,r,n,a,i),r=r1(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ba(e,t,i)):(Ot&&r&&V_(t),t.flags|=1,Fr(e,t,n,i),t.child)}function TE(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!f1(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,I$(e,t,a,n,i)):(e=$p(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Md,r(o,n)&&e.ref===t.ref)return ba(e,t,i)}return t.flags|=1,e=yo(a,n),e.ref=t.ref,e.return=t,t.child=e}function I$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Md(a,n)&&e.ref===t.ref)if(Zr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Zr=!0);else return t.lanes=e.lanes,ba(e,t,i)}return Mb(e,t,r,n,i)}function M$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Il,hn),hn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,mt(Il,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,mt(Il,hn),hn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,mt(Il,hn),hn|=n;return Fr(e,t,i,r),t.child}function D$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mb(e,t,r,n,i){var a=rn(r)?Ns:$r.current;return a=xc(t,a),ql(t,i),r=t1(e,t,r,n,a,i),n=r1(),e!==null&&!Zr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ba(e,t,i)):(Ot&&n&&V_(t),t.flags|=1,Fr(e,t,r,i),t.child)}function kE(e,t,r,n,i){if(rn(r)){var a=!0;Jp(t)}else a=!1;if(ql(t,i),t.stateNode===null)Cp(e,t),k$(t,r,n),Rb(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=rn(r)?Ns:$r.current,u=xc(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||c!==u)&&OE(t,o,n,u),Ua=!1;var h=t.memoizedState;o.state=h,nm(t,n,o,i),c=t.memoizedState,s!==n||h!==c||tn.current||Ua?(typeof d=="function"&&($b(t,r,d,n),c=t.memoizedState),(s=Ua||EE(t,r,s,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,d$(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Xn(t.type,s),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Bn(c):(c=rn(r)?Ns:$r.current,c=xc(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==c)&&OE(t,o,n,c),Ua=!1,h=t.memoizedState,o.state=h,nm(t,n,o,i);var g=t.memoizedState;s!==f||h!==g||tn.current||Ua?(typeof m=="function"&&($b(t,r,m,n),g=t.memoizedState),(u=Ua||EE(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Db(e,t,r,n,a,i)}function Db(e,t,r,n,i,a){D$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&gE(t,r,!1),ba(e,t,a);n=t.stateNode,Mz.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=wc(t,e.child,null,a),t.child=wc(t,null,s,a)):Fr(e,t,s,a),t.memoizedState=n.state,i&&gE(t,r,!0),t.child}function L$(e){var t=e.stateNode;t.pendingContext?vE(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vE(e,t.context,!1),Q_(e,t.containerInfo)}function $E(e,t,r,n,i){return bc(),q_(i),t.flags|=256,Fr(e,t,r,n),t.child}var Lb={dehydrated:null,treeContext:null,retryLane:0};function Fb(e){return{baseLanes:e,cachePool:null,transitions:null}}function F$(e,t,r){var n=t.pendingProps,i=Nt.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),mt(Nt,i&1),e===null)return Tb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Vv(o,n,0,null),e=js(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fb(r),t.memoizedState=Lb,e):a1(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Dz(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yo(i,c),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=yo(s,a):(a=js(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Fb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Lb,n}return a=e.child,e=a.sibling,n=yo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function a1(e,t){return t=Vv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mh(e,t,r,n){return n!==null&&q_(n),wc(t,e.child,null,r),e=a1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dz(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Gy(Error(ce(422))),Mh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Vv({mode:"visible",children:n.children},i,0,null),a=js(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&wc(t,e.child,null,o),t.child.memoizedState=Fb(o),t.memoizedState=Lb,a);if(!(t.mode&1))return Mh(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ce(419)),n=Gy(a,n,void 0),Mh(e,t,o,n)}if(s=(o&e.childLanes)!==0,Zr||s){if(n=hr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,xa(e,i),ci(n,e,i,-1))}return d1(),n=Gy(Error(ce(421))),Mh(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Xz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,xn=po(i.nextSibling),bn=t,Ot=!0,ni=null,e!==null&&(kn[$n++]=sa,kn[$n++]=la,kn[$n++]=Cs,sa=e.id,la=e.overflow,Cs=t),t=a1(t,n.children),t.flags|=4096,t)}function RE(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),kb(e.return,t,r)}function Yy(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function B$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Fr(e,t,n.children,r),n=Nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RE(e,r,t);else if(e.tag===19)RE(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(mt(Nt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&im(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Yy(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&im(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Yy(t,!0,r,null,a);break;case"together":Yy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ba(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ks|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=yo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Lz(e,t,r){switch(t.tag){case 3:L$(t),bc();break;case 5:f$(t);break;case 1:rn(t.type)&&Jp(t);break;case 4:Q_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;mt(tm,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(mt(Nt,Nt.current&1),t.flags|=128,null):r&t.child.childLanes?F$(e,t,r):(mt(Nt,Nt.current&1),e=ba(e,t,r),e!==null?e.sibling:null);mt(Nt,Nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return B$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),mt(Nt,Nt.current),n)break;return null;case 22:case 23:return t.lanes=0,M$(e,t,r)}return ba(e,t,r)}var U$,Bb,z$,V$;U$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bb=function(){};z$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ss($i.current);var a=null;switch(r){case"input":i=lb(e,i),n=lb(e,n),a=[];break;case"select":i=Mt({},i,{value:void 0}),n=Mt({},n,{value:void 0}),a=[];break;case"textarea":i=db(e,i),n=db(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xp)}hb(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nd.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&s[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nd.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yt("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};V$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Iu(e,t){if(!Ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Fz(e,t,r){var n=t.pendingProps;switch(W_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return rn(t.type)&&Qp(),Er(t),null;case 3:return n=t.stateNode,_c(),jt(tn),jt($r),Z_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ni!==null&&(Gb(ni),ni=null))),Bb(e,t),Er(t),null;case 5:J_(t);var i=ss(Ud.current);if(r=t.type,e!==null&&t.stateNode!=null)z$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return Er(t),null}if(e=ss($i.current),Rh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ai]=t,n[Fd]=a,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(i=0;i<td.length;i++)yt(td[i],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":Vj(n,a),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},yt("invalid",n);break;case"textarea":qj(n,a),yt("invalid",n)}hb(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&$h(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&$h(n.textContent,s,e),i=["children",""+s]):Nd.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&yt("scroll",n)}switch(r){case"input":Eh(n),Wj(n,a,!0);break;case"textarea":Eh(n),Hj(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Xp)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gk(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ai]=t,e[Fd]=n,U$(e,t,!1,!1),t.stateNode=e;e:{switch(o=pb(r,n),r){case"dialog":yt("cancel",e),yt("close",e),i=n;break;case"iframe":case"object":case"embed":yt("load",e),i=n;break;case"video":case"audio":for(i=0;i<td.length;i++)yt(td[i],e);i=n;break;case"source":yt("error",e),i=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),i=n;break;case"details":yt("toggle",e),i=n;break;case"input":Vj(e,n),i=lb(e,n),yt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Mt({},n,{value:void 0}),yt("invalid",e);break;case"textarea":qj(e,n),i=db(e,n),yt("invalid",e);break;default:i=n}hb(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?bk(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yk(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cd(e,c):typeof c=="number"&&Cd(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Nd.hasOwnProperty(a)?c!=null&&a==="onScroll"&&yt("scroll",e):c!=null&&N_(e,a,c,o))}switch(r){case"input":Eh(e),Wj(e,n,!1);break;case"textarea":Eh(e),Hj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+wo(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ul(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ul(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Xp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)V$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=ss(Ud.current),ss($i.current),Rh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ai]=t,(a=n.nodeValue!==r)&&(e=bn,e!==null))switch(e.tag){case 3:$h(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$h(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ai]=t,t.stateNode=n}return Er(t),null;case 13:if(jt(Nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ot&&xn!==null&&t.mode&1&&!(t.flags&128))s$(),bc(),t.flags|=98560,a=!1;else if(a=Rh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Ai]=t}else bc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),a=!1}else ni!==null&&(Gb(ni),ni=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nt.current&1?or===0&&(or=3):d1())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return _c(),Bb(e,t),e===null&&Dd(t.stateNode.containerInfo),Er(t),null;case 10:return G_(t.type._context),Er(t),null;case 17:return rn(t.type)&&Qp(),Er(t),null;case 19:if(jt(Nt),a=t.memoizedState,a===null)return Er(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Iu(a,!1);else{if(or!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=im(e),o!==null){for(t.flags|=128,Iu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return mt(Nt,Nt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Vt()>jc&&(t.flags|=128,n=!0,Iu(a,!1),t.lanes=4194304)}else{if(!n)if(e=im(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Iu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ot)return Er(t),null}else 2*Vt()-a.renderingStartTime>jc&&r!==1073741824&&(t.flags|=128,n=!0,Iu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Vt(),t.sibling=null,r=Nt.current,mt(Nt,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return u1(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function Bz(e,t){switch(W_(t),t.tag){case 1:return rn(t.type)&&Qp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _c(),jt(tn),jt($r),Z_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return J_(t),null;case 13:if(jt(Nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));bc()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return jt(Nt),null;case 4:return _c(),null;case 10:return G_(t.type._context),null;case 22:case 23:return u1(),null;case 24:return null;default:return null}}var Dh=!1,Tr=!1,Uz=typeof WeakSet=="function"?WeakSet:Set,we=null;function Rl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(e,t,n)}else r.current=null}function Ub(e,t,r){try{r()}catch(n){Lt(e,t,n)}}var IE=!1;function zz(e,t){if(jb=Kp,e=Gk(),z_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(s=o+i),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Eb={focusedElem:e,selectionRange:r},Kp=!1,we=t;we!==null;)if(t=we,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,we=e;else for(;we!==null;){t=we;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Xn(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(S){Lt(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,we=e;break}we=t.return}return g=IE,IE=!1,g}function pd(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ub(t,r,a)}i=i.next}while(i!==n)}}function Uv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function W$(e){var t=e.alternate;t!==null&&(e.alternate=null,W$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ai],delete t[Fd],delete t[Ab],delete t[jz],delete t[Ez])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function q$(e){return e.tag===5||e.tag===3||e.tag===4}function ME(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||q$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xp));else if(n!==4&&(e=e.child,e!==null))for(Vb(e,t,r),e=e.sibling;e!==null;)Vb(e,t,r),e=e.sibling}function Wb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Wb(e,t,r),e=e.sibling;e!==null;)Wb(e,t,r),e=e.sibling}var yr=null,Zn=!1;function $a(e,t,r){for(r=r.child;r!==null;)H$(e,t,r),r=r.sibling}function H$(e,t,r){if(ki&&typeof ki.onCommitFiberUnmount=="function")try{ki.onCommitFiberUnmount($v,r)}catch{}switch(r.tag){case 5:Tr||Rl(r,t);case 6:var n=yr,i=Zn;yr=null,$a(e,t,r),yr=n,Zn=i,yr!==null&&(Zn?(e=yr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yr.removeChild(r.stateNode));break;case 18:yr!==null&&(Zn?(e=yr,r=r.stateNode,e.nodeType===8?zy(e.parentNode,r):e.nodeType===1&&zy(e,r),Rd(e)):zy(yr,r.stateNode));break;case 4:n=yr,i=Zn,yr=r.stateNode.containerInfo,Zn=!0,$a(e,t,r),yr=n,Zn=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ub(r,t,o),i=i.next}while(i!==n)}$a(e,t,r);break;case 1:if(!Tr&&(Rl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Lt(r,t,s)}$a(e,t,r);break;case 21:$a(e,t,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,$a(e,t,r),Tr=n):$a(e,t,r);break;default:$a(e,t,r)}}function DE(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Uz),t.forEach(function(n){var i=Qz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:yr=s.stateNode,Zn=!1;break e;case 3:yr=s.stateNode.containerInfo,Zn=!0;break e;case 4:yr=s.stateNode.containerInfo,Zn=!0;break e}s=s.return}if(yr===null)throw Error(ce(160));H$(a,o,i),yr=null,Zn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Lt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)K$(t,e),t=t.sibling}function K$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),wi(e),n&4){try{pd(3,e,e.return),Uv(3,e)}catch(p){Lt(e,e.return,p)}try{pd(5,e,e.return)}catch(p){Lt(e,e.return,p)}}break;case 1:Hn(t,e),wi(e),n&512&&r!==null&&Rl(r,r.return);break;case 5:if(Hn(t,e),wi(e),n&512&&r!==null&&Rl(r,r.return),e.flags&32){var i=e.stateNode;try{Cd(i,"")}catch(p){Lt(e,e.return,p)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&mk(i,a),pb(s,o);var u=pb(s,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?bk(i,f):d==="dangerouslySetInnerHTML"?yk(i,f):d==="children"?Cd(i,f):N_(i,d,f,u)}switch(s){case"input":cb(i,a);break;case"textarea":vk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ul(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ul(i,!!a.multiple,a.defaultValue,!0):Ul(i,!!a.multiple,a.multiple?[]:"",!1))}i[Fd]=a}catch(p){Lt(e,e.return,p)}}break;case 6:if(Hn(t,e),wi(e),n&4){if(e.stateNode===null)throw Error(ce(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(p){Lt(e,e.return,p)}}break;case 3:if(Hn(t,e),wi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rd(t.containerInfo)}catch(p){Lt(e,e.return,p)}break;case 4:Hn(t,e),wi(e);break;case 13:Hn(t,e),wi(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(l1=Vt())),n&4&&DE(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tr=(u=Tr)||d,Hn(t,e),Tr=u):Hn(t,e),wi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(we=e,d=e.child;d!==null;){for(f=we=d;we!==null;){switch(h=we,m=h.child,h.tag){case 0:case 11:case 14:case 15:pd(4,h,h.return);break;case 1:Rl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){Lt(n,r,p)}}break;case 5:Rl(h,h.return);break;case 22:if(h.memoizedState!==null){FE(f);continue}}m!==null?(m.return=h,we=m):FE(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=xk("display",o))}catch(p){Lt(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){Lt(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Hn(t,e),wi(e),n&4&&DE(e);break;case 21:break;default:Hn(t,e),wi(e)}}function wi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(q$(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cd(i,""),n.flags&=-33);var a=ME(e);Wb(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=ME(e);Vb(e,s,o);break;default:throw Error(ce(161))}}catch(c){Lt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vz(e,t,r){we=e,G$(e)}function G$(e,t,r){for(var n=(e.mode&1)!==0;we!==null;){var i=we,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Dh;if(!o){var s=i.alternate,c=s!==null&&s.memoizedState!==null||Tr;s=Dh;var u=Tr;if(Dh=o,(Tr=c)&&!u)for(we=i;we!==null;)o=we,c=o.child,o.tag===22&&o.memoizedState!==null?BE(i):c!==null?(c.return=o,we=c):BE(i);for(;a!==null;)we=a,G$(a),a=a.sibling;we=i,Dh=s,Tr=u}LE(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,we=a):LE(e)}}function LE(e){for(;we!==null;){var t=we;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tr||Uv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Xn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&_E(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_E(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Tr||t.flags&512&&zb(t)}catch(h){Lt(t,t.return,h)}}if(t===e){we=null;break}if(r=t.sibling,r!==null){r.return=t.return,we=r;break}we=t.return}}function FE(e){for(;we!==null;){var t=we;if(t===e){we=null;break}var r=t.sibling;if(r!==null){r.return=t.return,we=r;break}we=t.return}}function BE(e){for(;we!==null;){var t=we;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uv(4,t)}catch(c){Lt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Lt(t,i,c)}}var a=t.return;try{zb(t)}catch(c){Lt(t,a,c)}break;case 5:var o=t.return;try{zb(t)}catch(c){Lt(t,o,c)}}}catch(c){Lt(t,t.return,c)}if(t===e){we=null;break}var s=t.sibling;if(s!==null){s.return=t.return,we=s;break}we=t.return}}var Wz=Math.ceil,sm=Pa.ReactCurrentDispatcher,o1=Pa.ReactCurrentOwner,Ln=Pa.ReactCurrentBatchConfig,Ze=0,hr=null,Jt=null,br=0,hn=0,Il=Co(0),or=0,qd=null,ks=0,zv=0,s1=0,md=null,Jr=null,l1=0,jc=1/0,ta=null,lm=!1,qb=null,vo=null,Lh=!1,io=null,cm=0,vd=0,Hb=null,Tp=-1,kp=0;function Hr(){return Ze&6?Vt():Tp!==-1?Tp:Tp=Vt()}function go(e){return e.mode&1?Ze&2&&br!==0?br&-br:Pz.transition!==null?(kp===0&&(kp=kk()),kp):(e=ot,e!==0||(e=window.event,e=e===void 0?16:Fk(e.type)),e):1}function ci(e,t,r,n){if(50<vd)throw vd=0,Hb=null,Error(ce(185));Wf(e,r,n),(!(Ze&2)||e!==hr)&&(e===hr&&(!(Ze&2)&&(zv|=r),or===4&&Wa(e,br)),nn(e,n),r===1&&Ze===0&&!(t.mode&1)&&(jc=Vt()+500,Lv&&To()))}function nn(e,t){var r=e.callbackNode;P5(e,t);var n=Hp(e,e===hr?br:0);if(n===0)r!==null&&Yj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yj(r),t===1)e.tag===0?Oz(UE.bind(null,e)):i$(UE.bind(null,e)),_z(function(){!(Ze&6)&&To()}),r=null;else{switch($k(n)){case 1:r=R_;break;case 4:r=Ck;break;case 16:r=qp;break;case 536870912:r=Tk;break;default:r=qp}r=rR(r,Y$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Y$(e,t){if(Tp=-1,kp=0,Ze&6)throw Error(ce(327));var r=e.callbackNode;if(Hl()&&e.callbackNode!==r)return null;var n=Hp(e,e===hr?br:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=um(e,n);else{t=n;var i=Ze;Ze|=2;var a=Q$();(hr!==e||br!==t)&&(ta=null,jc=Vt()+500,Ss(e,t));do try{Kz();break}catch(s){X$(e,s)}while(!0);K_(),sm.current=a,Ze=i,Jt!==null?t=0:(hr=null,br=0,t=or)}if(t!==0){if(t===2&&(i=xb(e),i!==0&&(n=i,t=Kb(e,i))),t===1)throw r=qd,Ss(e,0),Wa(e,n),nn(e,Vt()),r;if(t===6)Wa(e,n);else{if(i=e.current.alternate,!(n&30)&&!qz(i)&&(t=um(e,n),t===2&&(a=xb(e),a!==0&&(n=a,t=Kb(e,a))),t===1))throw r=qd,Ss(e,0),Wa(e,n),nn(e,Vt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:Xo(e,Jr,ta);break;case 3:if(Wa(e,n),(n&130023424)===n&&(t=l1+500-Vt(),10<t)){if(Hp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Hr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Pb(Xo.bind(null,e,Jr,ta),t);break}Xo(e,Jr,ta);break;case 4:if(Wa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-li(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Vt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Wz(n/1960))-n,10<n){e.timeoutHandle=Pb(Xo.bind(null,e,Jr,ta),n);break}Xo(e,Jr,ta);break;case 5:Xo(e,Jr,ta);break;default:throw Error(ce(329))}}}return nn(e,Vt()),e.callbackNode===r?Y$.bind(null,e):null}function Kb(e,t){var r=md;return e.current.memoizedState.isDehydrated&&(Ss(e,t).flags|=256),e=um(e,t),e!==2&&(t=Jr,Jr=r,t!==null&&Gb(t)),e}function Gb(e){Jr===null?Jr=e:Jr.push.apply(Jr,e)}function qz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!mi(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wa(e,t){for(t&=~s1,t&=~zv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-li(t),n=1<<r;e[r]=-1,t&=~n}}function UE(e){if(Ze&6)throw Error(ce(327));Hl();var t=Hp(e,0);if(!(t&1))return nn(e,Vt()),null;var r=um(e,t);if(e.tag!==0&&r===2){var n=xb(e);n!==0&&(t=n,r=Kb(e,n))}if(r===1)throw r=qd,Ss(e,0),Wa(e,t),nn(e,Vt()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Xo(e,Jr,ta),nn(e,Vt()),null}function c1(e,t){var r=Ze;Ze|=1;try{return e(t)}finally{Ze=r,Ze===0&&(jc=Vt()+500,Lv&&To())}}function $s(e){io!==null&&io.tag===0&&!(Ze&6)&&Hl();var t=Ze;Ze|=1;var r=Ln.transition,n=ot;try{if(Ln.transition=null,ot=1,e)return e()}finally{ot=n,Ln.transition=r,Ze=t,!(Ze&6)&&To()}}function u1(){hn=Il.current,jt(Il)}function Ss(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wz(r)),Jt!==null)for(r=Jt.return;r!==null;){var n=r;switch(W_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Qp();break;case 3:_c(),jt(tn),jt($r),Z_();break;case 5:J_(n);break;case 4:_c();break;case 13:jt(Nt);break;case 19:jt(Nt);break;case 10:G_(n.type._context);break;case 22:case 23:u1()}r=r.return}if(hr=e,Jt=e=yo(e.current,null),br=hn=t,or=0,qd=null,s1=zv=ks=0,Jr=md=null,os!==null){for(t=0;t<os.length;t++)if(r=os[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}os=null}return e}function X$(e,t){do{var r=Jt;try{if(K_(),Ap.current=om,am){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}am=!1}if(Ts=0,dr=nr=It=null,hd=!1,zd=0,o1.current=null,r===null||r.return===null){or=1,qd=t,Jt=null;break}e:{var a=e,o=r.return,s=r,c=t;if(t=br,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AE(o);if(m!==null){m.flags&=-257,NE(m,o,s,a,t),m.mode&1&&PE(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){PE(a,u,t),d1();break e}c=Error(ce(426))}}else if(Ot&&s.mode&1){var x=AE(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),NE(x,o,s,a,t),q_(Sc(c,s));break e}}a=c=Sc(c,s),or!==4&&(or=2),md===null?md=[a]:md.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=$$(a,c,t);wE(a,b);break e;case 1:s=c;var y=a.type,v=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(vo===null||!vo.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=R$(a,s,t);wE(a,S);break e}}a=a.return}while(a!==null)}Z$(r)}catch(_){t=_,Jt===r&&r!==null&&(Jt=r=r.return);continue}break}while(!0)}function Q$(){var e=sm.current;return sm.current=om,e===null?om:e}function d1(){(or===0||or===3||or===2)&&(or=4),hr===null||!(ks&268435455)&&!(zv&268435455)||Wa(hr,br)}function um(e,t){var r=Ze;Ze|=2;var n=Q$();(hr!==e||br!==t)&&(ta=null,Ss(e,t));do try{Hz();break}catch(i){X$(e,i)}while(!0);if(K_(),Ze=r,sm.current=n,Jt!==null)throw Error(ce(261));return hr=null,br=0,or}function Hz(){for(;Jt!==null;)J$(Jt)}function Kz(){for(;Jt!==null&&!y5();)J$(Jt)}function J$(e){var t=tR(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?Z$(e):Jt=t,o1.current=null}function Z$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Bz(r,t),r!==null){r.flags&=32767,Jt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{or=6,Jt=null;return}}else if(r=Fz(r,t,hn),r!==null){Jt=r;return}if(t=t.sibling,t!==null){Jt=t;return}Jt=t=e}while(t!==null);or===0&&(or=5)}function Xo(e,t,r){var n=ot,i=Ln.transition;try{Ln.transition=null,ot=1,Gz(e,t,r,n)}finally{Ln.transition=i,ot=n}return null}function Gz(e,t,r,n){do Hl();while(io!==null);if(Ze&6)throw Error(ce(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(A5(e,a),e===hr&&(Jt=hr=null,br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lh||(Lh=!0,rR(qp,function(){return Hl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ln.transition,Ln.transition=null;var o=ot;ot=1;var s=Ze;Ze|=4,o1.current=null,zz(e,r),K$(r,e),pz(Eb),Kp=!!jb,Eb=jb=null,e.current=r,Vz(r),x5(),Ze=s,ot=o,Ln.transition=a}else e.current=r;if(Lh&&(Lh=!1,io=e,cm=i),a=e.pendingLanes,a===0&&(vo=null),_5(r.stateNode),nn(e,Vt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(lm)throw lm=!1,e=qb,qb=null,e;return cm&1&&e.tag!==0&&Hl(),a=e.pendingLanes,a&1?e===Hb?vd++:(vd=0,Hb=e):vd=0,To(),null}function Hl(){if(io!==null){var e=$k(cm),t=Ln.transition,r=ot;try{if(Ln.transition=null,ot=16>e?16:e,io===null)var n=!1;else{if(e=io,io=null,cm=0,Ze&6)throw Error(ce(331));var i=Ze;for(Ze|=4,we=e.current;we!==null;){var a=we,o=a.child;if(we.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(we=u;we!==null;){var d=we;switch(d.tag){case 0:case 11:case 15:pd(8,d,a)}var f=d.child;if(f!==null)f.return=d,we=f;else for(;we!==null;){d=we;var h=d.sibling,m=d.return;if(W$(d),d===u){we=null;break}if(h!==null){h.return=m,we=h;break}we=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}we=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,we=o;else e:for(;we!==null;){if(a=we,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pd(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,we=b;break e}we=a.return}}var y=e.current;for(we=y;we!==null;){o=we;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,we=v;else e:for(o=y;we!==null;){if(s=we,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uv(9,s)}}catch(_){Lt(s,s.return,_)}if(s===o){we=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,we=S;break e}we=s.return}}if(Ze=i,To(),ki&&typeof ki.onPostCommitFiberRoot=="function")try{ki.onPostCommitFiberRoot($v,e)}catch{}n=!0}return n}finally{ot=r,Ln.transition=t}}return!1}function zE(e,t,r){t=Sc(r,t),t=$$(e,t,1),e=mo(e,t,1),t=Hr(),e!==null&&(Wf(e,1,t),nn(e,t))}function Lt(e,t,r){if(e.tag===3)zE(e,e,r);else for(;t!==null;){if(t.tag===3){zE(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vo===null||!vo.has(n))){e=Sc(r,e),e=R$(t,e,1),t=mo(t,e,1),e=Hr(),t!==null&&(Wf(t,1,e),nn(t,e));break}}t=t.return}}function Yz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hr(),e.pingedLanes|=e.suspendedLanes&r,hr===e&&(br&r)===r&&(or===4||or===3&&(br&130023424)===br&&500>Vt()-l1?Ss(e,0):s1|=r),nn(e,t)}function eR(e,t){t===0&&(e.mode&1?(t=Ah,Ah<<=1,!(Ah&130023424)&&(Ah=4194304)):t=1);var r=Hr();e=xa(e,t),e!==null&&(Wf(e,t,r),nn(e,r))}function Xz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),eR(e,r)}function Qz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),eR(e,r)}var tR;tR=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||tn.current)Zr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Zr=!1,Lz(e,t,r);Zr=!!(e.flags&131072)}else Zr=!1,Ot&&t.flags&1048576&&a$(t,em,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Cp(e,t),e=t.pendingProps;var i=xc(t,$r.current);ql(t,r),i=t1(null,t,n,e,i,r);var a=r1();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rn(n)?(a=!0,Jp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X_(t),i.updater=Bv,t.stateNode=i,i._reactInternals=t,Rb(t,n,e,r),t=Db(null,t,n,!0,a,r)):(t.tag=0,Ot&&a&&V_(t),Fr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Cp(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Zz(n),e=Xn(n,e),i){case 0:t=Mb(null,t,n,e,r);break e;case 1:t=kE(null,t,n,e,r);break e;case 11:t=CE(null,t,n,e,r);break e;case 14:t=TE(null,t,n,Xn(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),Mb(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),kE(e,t,n,i,r);case 3:e:{if(L$(t),e===null)throw Error(ce(387));n=t.pendingProps,a=t.memoizedState,i=a.element,d$(e,t),nm(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Sc(Error(ce(423)),t),t=$E(e,t,n,r,i);break e}else if(n!==i){i=Sc(Error(ce(424)),t),t=$E(e,t,n,r,i);break e}else for(xn=po(t.stateNode.containerInfo.firstChild),bn=t,Ot=!0,ni=null,r=c$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bc(),n===i){t=ba(e,t,r);break e}Fr(e,t,n,r)}t=t.child}return t;case 5:return f$(t),e===null&&Tb(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,Ob(n,i)?o=null:a!==null&&Ob(n,a)&&(t.flags|=32),D$(e,t),Fr(e,t,o,r),t.child;case 6:return e===null&&Tb(t),null;case 13:return F$(e,t,r);case 4:return Q_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=wc(t,null,n,r):Fr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),CE(e,t,n,i,r);case 7:return Fr(e,t,t.pendingProps,r),t.child;case 8:return Fr(e,t,t.pendingProps.children,r),t.child;case 12:return Fr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,mt(tm,n._currentValue),n._currentValue=o,a!==null)if(mi(a.value,o)){if(a.children===i.children&&!tn.current){t=ba(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=fa(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),kb(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ce(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),kb(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Fr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ql(t,r),i=Bn(i),n=n(i),t.flags|=1,Fr(e,t,n,r),t.child;case 14:return n=t.type,i=Xn(n,t.pendingProps),i=Xn(n.type,i),TE(e,t,n,i,r);case 15:return I$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Xn(n,i),Cp(e,t),t.tag=1,rn(n)?(e=!0,Jp(t)):e=!1,ql(t,r),k$(t,n,i),Rb(t,n,i,r),Db(null,t,n,!0,e,r);case 19:return B$(e,t,r);case 22:return M$(e,t,r)}throw Error(ce(156,t.tag))};function rR(e,t){return Nk(e,t)}function Jz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,r,n){return new Jz(e,t,r,n)}function f1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zz(e){if(typeof e=="function")return f1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===T_)return 11;if(e===k_)return 14}return 2}function yo(e,t){var r=e.alternate;return r===null?(r=Mn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $p(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")f1(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case El:return js(r.children,i,a,t);case C_:o=8,i|=8;break;case ib:return e=Mn(12,r,t,i|2),e.elementType=ib,e.lanes=a,e;case ab:return e=Mn(13,r,t,i),e.elementType=ab,e.lanes=a,e;case ob:return e=Mn(19,r,t,i),e.elementType=ob,e.lanes=a,e;case fk:return Vv(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case uk:o=10;break e;case dk:o=9;break e;case T_:o=11;break e;case k_:o=14;break e;case Ba:o=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=Mn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function js(e,t,r,n){return e=Mn(7,e,n,t),e.lanes=r,e}function Vv(e,t,r,n){return e=Mn(22,e,n,t),e.elementType=fk,e.lanes=r,e.stateNode={isHidden:!1},e}function Xy(e,t,r){return e=Mn(6,e,null,t),e.lanes=r,e}function Qy(e,t,r){return t=Mn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ty(0),this.expirationTimes=Ty(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ty(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function h1(e,t,r,n,i,a,o,s,c){return e=new e6(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Mn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},X_(a),e}function t6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function nR(e){if(!e)return _o;e=e._reactInternals;e:{if(Ks(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(rn(r))return n$(e,r,t)}return t}function iR(e,t,r,n,i,a,o,s,c){return e=h1(r,n,!0,e,i,a,o,s,c),e.context=nR(null),r=e.current,n=Hr(),i=go(r),a=fa(n,i),a.callback=t??null,mo(r,a,i),e.current.lanes=i,Wf(e,i,n),nn(e,n),e}function Wv(e,t,r,n){var i=t.current,a=Hr(),o=go(i);return r=nR(r),t.context===null?t.context=r:t.pendingContext=r,t=fa(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=mo(i,t,o),e!==null&&(ci(e,i,o,a),Pp(e,i,o)),o}function dm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VE(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function p1(e,t){VE(e,t),(e=e.alternate)&&VE(e,t)}function r6(){return null}var aR=typeof reportError=="function"?reportError:function(e){console.error(e)};function m1(e){this._internalRoot=e}qv.prototype.render=m1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Wv(e,t,null,null)};qv.prototype.unmount=m1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;$s(function(){Wv(null,e,null,null)}),t[ya]=null}};function qv(e){this._internalRoot=e}qv.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mk();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Va.length&&t!==0&&t<Va[r].priority;r++);Va.splice(r,0,e),r===0&&Lk(e)}};function v1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WE(){}function n6(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=dm(o);a.call(u)}}var o=iR(t,n,e,0,null,!1,!1,"",WE);return e._reactRootContainer=o,e[ya]=o.current,Dd(e.nodeType===8?e.parentNode:e),$s(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=dm(c);s.call(u)}}var c=h1(e,0,!1,null,null,!1,!1,"",WE);return e._reactRootContainer=c,e[ya]=c.current,Dd(e.nodeType===8?e.parentNode:e),$s(function(){Wv(t,c,r,n)}),c}function Kv(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var c=dm(o);s.call(c)}}Wv(t,o,e,i)}else o=n6(r,t,e,i,n);return dm(o)}Rk=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ed(t.pendingLanes);r!==0&&(I_(t,r|1),nn(t,Vt()),!(Ze&6)&&(jc=Vt()+500,To()))}break;case 13:$s(function(){var n=xa(e,1);if(n!==null){var i=Hr();ci(n,e,1,i)}}),p1(e,1)}};M_=function(e){if(e.tag===13){var t=xa(e,134217728);if(t!==null){var r=Hr();ci(t,e,134217728,r)}p1(e,134217728)}};Ik=function(e){if(e.tag===13){var t=go(e),r=xa(e,t);if(r!==null){var n=Hr();ci(r,e,t,n)}p1(e,t)}};Mk=function(){return ot};Dk=function(e,t){var r=ot;try{return ot=e,t()}finally{ot=r}};vb=function(e,t,r){switch(t){case"input":if(cb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Dv(n);if(!i)throw Error(ce(90));pk(n),cb(n,i)}}}break;case"textarea":vk(e,r);break;case"select":t=r.value,t!=null&&Ul(e,!!r.multiple,t,!1)}};Sk=c1;jk=$s;var i6={usingClientEntryPoint:!1,Events:[Hf,Nl,Dv,wk,_k,c1]},Mu={findFiberByHostInstance:as,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a6={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pk(e),e===null?null:e.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||r6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{$v=Fh.inject(a6),ki=Fh}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i6;En.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v1(t))throw Error(ce(200));return t6(e,t,null,r)};En.createRoot=function(e,t){if(!v1(e))throw Error(ce(299));var r=!1,n="",i=aR;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=h1(e,1,!1,null,null,r,!1,n,i),e[ya]=t.current,Dd(e.nodeType===8?e.parentNode:e),new m1(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=Pk(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return $s(e)};En.hydrate=function(e,t,r){if(!Hv(t))throw Error(ce(200));return Kv(null,e,t,!0,r)};En.hydrateRoot=function(e,t,r){if(!v1(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=aR;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=iR(t,null,e,1,r??null,i,!1,a,o),e[ya]=t.current,Dd(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new qv(t)};En.render=function(e,t,r){if(!Hv(t))throw Error(ce(200));return Kv(null,e,t,!1,r)};En.unmountComponentAtNode=function(e){if(!Hv(e))throw Error(ce(40));return e._reactRootContainer?($s(function(){Kv(null,null,e,!1,function(){e._reactRootContainer=null,e[ya]=null})}),!0):!1};En.unstable_batchedUpdates=c1;En.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Hv(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return Kv(e,t,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function oR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oR)}catch(e){console.error(e)}}oR(),ok.exports=En;var Gs=ok.exports;const o6=at(Gs);var sR,qE=Gs;sR=qE.createRoot,qE.hydrateRoot;function s6(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,i,a,o=[],s="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)r=i[0],r==="*"?(o.push(r),s+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~n?n:~a?a:i.length)),s+=~n&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(s+=(~n?"?":"")+"\\"+i.substring(a))):s+="/"+i;return{keys:o,pattern:new RegExp("^"+s+(t?"(?=$|/)":"/?$"),"i")}}var lR={exports:{}},cR={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec=w;function l6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c6=typeof Object.is=="function"?Object.is:l6,u6=Ec.useState,d6=Ec.useEffect,f6=Ec.useLayoutEffect,h6=Ec.useDebugValue;function p6(e,t){var r=t(),n=u6({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return f6(function(){i.value=r,i.getSnapshot=t,Jy(i)&&a({inst:i})},[e,r,t]),d6(function(){return Jy(i)&&a({inst:i}),e(function(){Jy(i)&&a({inst:i})})},[e]),h6(r),r}function Jy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!c6(e,r)}catch{return!0}}function m6(e,t){return t()}var v6=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m6:p6;cR.useSyncExternalStore=Ec.useSyncExternalStore!==void 0?Ec.useSyncExternalStore:v6;lR.exports=cR;var g6=lR.exports;const y6=ik.useInsertionEffect,x6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",b6=x6?w.useLayoutEffect:w.useEffect,w6=y6||b6,uR=e=>{const t=w.useRef([e,(...r)=>t[0](...r)]).current;return w6(()=>{t[0]=e}),t[1]},_6="popstate",g1="pushState",y1="replaceState",S6="hashchange",HE=[_6,g1,y1,S6],j6=e=>{for(const t of HE)addEventListener(t,e);return()=>{for(const t of HE)removeEventListener(t,e)}},dR=(e,t)=>g6.useSyncExternalStore(j6,e,t),E6=()=>location.search,O6=({ssrSearch:e=""}={})=>dR(E6,()=>e),KE=()=>location.pathname,P6=({ssrPath:e}={})=>dR(KE,e?()=>e:KE),A6=(e,{replace:t=!1,state:r=null}={})=>history[t?y1:g1](r,"",e),N6=(e={})=>[P6(e),A6],GE=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[GE]>"u"){for(const e of[g1,y1]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,GE,{value:!0})}const C6=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",fR=(e="")=>e==="/"?"":e,T6=(e,t)=>e[0]==="~"?e.slice(1):fR(t)+e,k6=(e="",t)=>C6(YE(fR(e)),YE(t)),YE=e=>{try{return decodeURI(e)}catch{return e}},hR={hook:N6,searchHook:O6,parser:s6,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},pR=w.createContext(hR),ou=()=>w.useContext(pR),mR={},vR=w.createContext(mR),gR=()=>w.useContext(vR),Gv=e=>{const[t,r]=e.hook(e);return[k6(e.base,t),uR((n,i)=>r(T6(n,e.base),i))]},Aa=()=>Gv(ou()),x1=(e,t,r,n)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=i.exec(r)||[],[s,...c]=o;return s!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[s]:[]]:[!1,null]},yR=e=>x1(ou().parser,e,Aa()[0]),$6=({children:e,...t})=>{var d,f;const r=ou(),n=t.hook?hR:r;let i=n;const[a,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let s=w.useRef({}),c=s.current,u=c;for(let h in n){const m=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&m!==u[h]&&(s.current=u={...u}),u[h]=m,m!==n[h]&&(i=u)}return w.createElement(pR.Provider,{value:i,children:e})},XE=({children:e,component:t},r)=>t?w.createElement(t,{params:r}):typeof e=="function"?e(r):e,R6=e=>{let t=w.useRef(mR),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Rr=({path:e,nest:t,match:r,...n})=>{const i=ou(),[a]=Gv(i),[o,s,c]=r??x1(i.parser,e,a,t),u=R6({...gR(),...s});if(!o)return null;const d=c?w.createElement($6,{base:c},XE(n,u)):XE(n,u);return w.createElement(vR.Provider,{value:u,children:d})},Kl=w.forwardRef((e,t)=>{const r=ou(),[n,i]=Gv(r),{to:a="",href:o=a,onClick:s,asChild:c,children:u,className:d,replace:f,state:h,...m}=e,g=uR(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(s==null||s(x),x.defaultPrevented||(x.preventDefault(),i(o,e)))}),p=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:g,href:p}):w.createElement("a",{...m,onClick:g,href:p,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),xR=e=>Array.isArray(e)?e.flatMap(t=>xR(t&&t.type===w.Fragment?t.props.children:t)):[e],I6=({children:e,location:t})=>{const r=ou(),[n]=Gv(r);for(const i of xR(e)){let a=0;if(w.isValidElement(i)&&(a=x1(r.parser,i.props.path,t||n,i.props.nest))[0])return w.cloneElement(i,{match:a})}return null};var su=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rs=typeof window>"u"||"Deno"in globalThis;function Tn(){}function M6(e,t){return typeof e=="function"?e(t):e}function Yb(e){return typeof e=="number"&&e>=0&&e!==1/0}function bR(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Gl(e,t){return typeof e=="function"?e(t):e}function ii(e,t){return typeof e=="function"?e(t):e}function QE(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:s}=e;if(o){if(n){if(t.queryHash!==b1(o,t.options))return!1}else if(!Hd(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof s=="boolean"&&t.isStale()!==s||i&&i!==t.state.fetchStatus||a&&!a(t))}function JE(e,t){const{exact:r,status:n,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(Is(t.options.mutationKey)!==Is(a))return!1}else if(!Hd(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function b1(e,t){return((t==null?void 0:t.queryKeyHashFn)||Is)(e)}function Is(e){return JSON.stringify(e,(t,r)=>Xb(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Hd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Hd(e[r],t[r])):!1}function wR(e,t){if(e===t)return e;const r=ZE(e)&&ZE(t);if(r||Xb(e)&&Xb(t)){const n=r?e:Object.keys(e),i=n.length,a=r?t:Object.keys(t),o=a.length,s=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(s[d]=void 0,c++):(s[d]=wR(e[d],t[d]),s[d]===e[d]&&e[d]!==void 0&&c++)}return i===o&&c===i?e:s}return t}function fm(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function ZE(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Xb(e){if(!eO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!eO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function eO(e){return Object.prototype.toString.call(e)==="[object Object]"}function D6(e){return new Promise(t=>{setTimeout(t,e)})}function Qb(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?wR(e,t):t}function L6(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function F6(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var w1=Symbol();function _R(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===w1?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var vs,Ga,ac,DT,B6=(DT=class extends su{constructor(){super();Te(this,vs);Te(this,Ga);Te(this,ac);xe(this,ac,t=>{if(!Rs&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){V(this,Ga)||this.setEventListener(V(this,ac))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ga))==null||t.call(this),xe(this,Ga,void 0))}setEventListener(t){var r;xe(this,ac,t),(r=V(this,Ga))==null||r.call(this),xe(this,Ga,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){V(this,vs)!==t&&(xe(this,vs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof V(this,vs)=="boolean"?V(this,vs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},vs=new WeakMap,Ga=new WeakMap,ac=new WeakMap,DT),_1=new B6,oc,Ya,sc,LT,U6=(LT=class extends su{constructor(){super();Te(this,oc,!0);Te(this,Ya);Te(this,sc);xe(this,sc,t=>{if(!Rs&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){V(this,Ya)||this.setEventListener(V(this,sc))}onUnsubscribe(){var t;this.hasListeners()||((t=V(this,Ya))==null||t.call(this),xe(this,Ya,void 0))}setEventListener(t){var r;xe(this,sc,t),(r=V(this,Ya))==null||r.call(this),xe(this,Ya,t(this.setOnline.bind(this)))}setOnline(t){V(this,oc)!==t&&(xe(this,oc,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return V(this,oc)}},oc=new WeakMap,Ya=new WeakMap,sc=new WeakMap,LT),hm=new U6;function Jb(){let e,t;const r=new Promise((i,a)=>{e=i,t=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function z6(e){return Math.min(1e3*2**e,3e4)}function SR(e){return(e??"online")==="online"?hm.isOnline():!0}var jR=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zy(e){return e instanceof jR}function ER(e){let t=!1,r=0,n=!1,i;const a=Jb(),o=p=>{var x;n||(h(new jR(p)),(x=e.abort)==null||x.call(e))},s=()=>{t=!0},c=()=>{t=!1},u=()=>_1.isFocused()&&(e.networkMode==="always"||hm.isOnline())&&e.canRun(),d=()=>SR(e.networkMode)&&e.canRun(),f=p=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,p),i==null||i(),a.resolve(p))},h=p=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,p),i==null||i(),a.reject(p))},m=()=>new Promise(p=>{var x;i=b=>{(n||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;i=void 0,n||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(n)return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var j;if(n)return;const y=e.retry??(Rs?0:3),v=e.retryDelay??z6,S=typeof v=="function"?v(r,b):v,_=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!_){h(b);return}r++,(j=e.onFail)==null||j.call(e,r,b),D6(S).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:s,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),a)}}function V6(){let e=[],t=0,r=s=>{s()},n=s=>{s()},i=s=>setTimeout(s,0);const a=s=>{t?e.push(s):i(()=>{r(s)})},o=()=>{const s=e;e=[],s.length&&i(()=>{n(()=>{s.forEach(c=>{r(c)})})})};return{batch:s=>{let c;t++;try{c=s()}finally{t--,t||o()}return c},batchCalls:s=>(...c)=>{a(()=>{s(...c)})},schedule:a,setNotifyFunction:s=>{r=s},setBatchNotifyFunction:s=>{n=s},setScheduler:s=>{i=s}}}var ir=V6(),gs,FT,OR=(FT=class{constructor(){Te(this,gs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Yb(this.gcTime)&&xe(this,gs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Rs?1/0:5*60*1e3))}clearGcTimeout(){V(this,gs)&&(clearTimeout(V(this,gs)),xe(this,gs,void 0))}},gs=new WeakMap,FT),lc,cc,Cn,Pr,Ff,ys,Jn,ea,BT,W6=(BT=class extends OR{constructor(t){super();Te(this,Jn);Te(this,lc);Te(this,cc);Te(this,Cn);Te(this,Pr);Te(this,Ff);Te(this,ys);xe(this,ys,!1),xe(this,Ff,t.defaultOptions),this.setOptions(t.options),this.observers=[],xe(this,Cn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,xe(this,lc,q6(this.options)),this.state=t.state??V(this,lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=V(this,Pr))==null?void 0:t.promise}setOptions(t){this.options={...V(this,Ff),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Cn).remove(this)}setData(t,r){const n=Qb(this.state.data,t,this.options);return We(this,Jn,ea).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){We(this,Jn,ea).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,i;const r=(n=V(this,Pr))==null?void 0:n.promise;return(i=V(this,Pr))==null||i.cancel(t),r?r.then(Tn).catch(Tn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,lc))}isActive(){return this.observers.some(t=>ii(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===w1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!bR(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,Pr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=V(this,Pr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),V(this,Cn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(V(this,Pr)&&(V(this,ys)?V(this,Pr).cancel({revert:!0}):V(this,Pr).cancelRetry()),this.scheduleGc()),V(this,Cn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||We(this,Jn,ea).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(V(this,Pr))return V(this,Pr).continueRetry(),V(this,Pr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(xe(this,ys,!0),n.signal)})},a=()=>{const f=_R(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),xe(this,ys,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),xe(this,cc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&We(this,Jn,ea).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const s=f=>{var h,m,g,p;Zy(f)&&f.silent||We(this,Jn,ea).call(this,{type:"error",error:f}),Zy(f)||((m=(h=V(this,Cn).config).onError)==null||m.call(h,f,this),(p=(g=V(this,Cn).config).onSettled)==null||p.call(g,this.state.data,f,this)),this.scheduleGc()};return xe(this,Pr,ER({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,m,g,p;if(f===void 0){s(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){s(x);return}(m=(h=V(this,Cn).config).onSuccess)==null||m.call(h,f,this),(p=(g=V(this,Cn).config).onSettled)==null||p.call(g,f,this.state.error,this),this.scheduleGc()},onError:s,onFail:(f,h)=>{We(this,Jn,ea).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{We(this,Jn,ea).call(this,{type:"pause"})},onContinue:()=>{We(this,Jn,ea).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),V(this,Pr).start()}},lc=new WeakMap,cc=new WeakMap,Cn=new WeakMap,Pr=new WeakMap,Ff=new WeakMap,ys=new WeakMap,Jn=new WeakSet,ea=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...PR(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Zy(i)&&i.revert&&V(this,cc)?{...V(this,cc),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),ir.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),V(this,Cn).notify({query:this,type:"updated",action:t})})},BT);function PR(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SR(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q6(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ji,UT,H6=(UT=class extends su{constructor(t={}){super();Te(this,ji);this.config=t,xe(this,ji,new Map)}build(t,r,n){const i=r.queryKey,a=r.queryHash??b1(i,r);let o=this.get(a);return o||(o=new W6({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){V(this,ji).has(t.queryHash)||(V(this,ji).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=V(this,ji).get(t.queryHash);r&&(t.destroy(),r===t&&V(this,ji).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return V(this,ji).get(t)}getAll(){return[...V(this,ji).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>QE(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>QE(t,n)):r}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ir.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ir.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ji=new WeakMap,UT),Ei,Mr,xs,Oi,Da,zT,K6=(zT=class extends OR{constructor(t){super();Te(this,Oi);Te(this,Ei);Te(this,Mr);Te(this,xs);this.mutationId=t.mutationId,xe(this,Mr,t.mutationCache),xe(this,Ei,[]),this.state=t.state||AR(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){V(this,Ei).includes(t)||(V(this,Ei).push(t),this.clearGcTimeout(),V(this,Mr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){xe(this,Ei,V(this,Ei).filter(r=>r!==t)),this.scheduleGc(),V(this,Mr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){V(this,Ei).length||(this.state.status==="pending"?this.scheduleGc():V(this,Mr).remove(this))}continue(){var t;return((t=V(this,xs))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,s,c,u,d,f,h,m,g,p,x,b,y,v,S,_,j,E;xe(this,xs,ER({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,P)=>{We(this,Oi,Da).call(this,{type:"failed",failureCount:O,error:P})},onPause:()=>{We(this,Oi,Da).call(this,{type:"pause"})},onContinue:()=>{We(this,Oi,Da).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,Mr).canRun(this)}));const r=this.state.status==="pending",n=!V(this,xs).canStart();try{if(!r){We(this,Oi,Da).call(this,{type:"pending",variables:t,isPaused:n}),await((a=(i=V(this,Mr).config).onMutate)==null?void 0:a.call(i,t,this));const P=await((s=(o=this.options).onMutate)==null?void 0:s.call(o,t));P!==this.state.context&&We(this,Oi,Da).call(this,{type:"pending",context:P,variables:t,isPaused:n})}const O=await V(this,xs).start();return await((u=(c=V(this,Mr).config).onSuccess)==null?void 0:u.call(c,O,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,O,t,this.state.context)),await((m=(h=V(this,Mr).config).onSettled)==null?void 0:m.call(h,O,null,this.state.variables,this.state.context,this)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,O,null,t,this.state.context)),We(this,Oi,Da).call(this,{type:"success",data:O}),O}catch(O){try{throw await((b=(x=V(this,Mr).config).onError)==null?void 0:b.call(x,O,t,this.state.context,this)),await((v=(y=this.options).onError)==null?void 0:v.call(y,O,t,this.state.context)),await((_=(S=V(this,Mr).config).onSettled)==null?void 0:_.call(S,void 0,O,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,O,t,this.state.context)),O}finally{We(this,Oi,Da).call(this,{type:"error",error:O})}}finally{V(this,Mr).runNext(this)}}},Ei=new WeakMap,Mr=new WeakMap,xs=new WeakMap,Oi=new WeakSet,Da=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ir.batch(()=>{V(this,Ei).forEach(n=>{n.onMutationUpdate(t)}),V(this,Mr).notify({mutation:this,type:"updated",action:t})})},zT);function AR(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fn,Bf,VT,G6=(VT=class extends su{constructor(t={}){super();Te(this,fn);Te(this,Bf);this.config=t,xe(this,fn,new Map),xe(this,Bf,Date.now())}build(t,r,n){const i=new K6({mutationCache:this,mutationId:++wh(this,Bf)._,options:t.defaultMutationOptions(r),state:n});return this.add(i),i}add(t){const r=Bh(t),n=V(this,fn).get(r)??[];n.push(t),V(this,fn).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=Bh(t);if(V(this,fn).has(r)){const i=(n=V(this,fn).get(r))==null?void 0:n.filter(a=>a!==t);i&&(i.length===0?V(this,fn).delete(r):V(this,fn).set(r,i))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=V(this,fn).get(Bh(t)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=V(this,fn).get(Bh(t)))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ir.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...V(this,fn).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>JE(r,n))}findAll(t={}){return this.getAll().filter(r=>JE(t,r))}notify(t){ir.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ir.batch(()=>Promise.all(t.map(r=>r.continue().catch(Tn))))}},fn=new WeakMap,Bf=new WeakMap,VT);function Bh(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function tO(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,i=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let s={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},b=_R(t.options,t.fetchOptions),y=async(v,S,_)=>{if(p)return Promise.reject();if(S==null&&v.pages.length)return Promise.resolve(v);const j={queryKey:t.queryKey,pageParam:S,direction:_?"backward":"forward",meta:t.options.meta};x(j);const E=await b(j),{maxPages:O}=t.options,P=_?F6:L6;return{pages:P(v.pages,E,O),pageParams:P(v.pageParams,S,O)}};if(i&&a.length){const v=i==="backward",S=v?Y6:rO,_={pages:a,pageParams:o},j=S(n,_);s=await y(_,j,v)}else{const v=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:rO(n,s);if(c>0&&S==null)break;s=await y(s,S),c++}while(c<v)}return s};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function rO(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function Y6(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Dt,Xa,Qa,uc,dc,Ja,fc,hc,WT,X6=(WT=class{constructor(e={}){Te(this,Dt);Te(this,Xa);Te(this,Qa);Te(this,uc);Te(this,dc);Te(this,Ja);Te(this,fc);Te(this,hc);xe(this,Dt,e.queryCache||new H6),xe(this,Xa,e.mutationCache||new G6),xe(this,Qa,e.defaultOptions||{}),xe(this,uc,new Map),xe(this,dc,new Map),xe(this,Ja,0)}mount(){wh(this,Ja)._++,V(this,Ja)===1&&(xe(this,fc,_1.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Dt).onFocus())})),xe(this,hc,hm.subscribe(async e=>{e&&(await this.resumePausedMutations(),V(this,Dt).onOnline())})))}unmount(){var e,t;wh(this,Ja)._--,V(this,Ja)===0&&((e=V(this,fc))==null||e.call(this),xe(this,fc,void 0),(t=V(this,hc))==null||t.call(this),xe(this,hc,void 0))}isFetching(e){return V(this,Dt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return V(this,Xa).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Dt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=V(this,Dt).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Gl(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return V(this,Dt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=V(this,Dt).get(n.queryHash),a=i==null?void 0:i.state.data,o=M6(t,a);if(o!==void 0)return V(this,Dt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ir.batch(()=>V(this,Dt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=V(this,Dt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=V(this,Dt);ir.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=V(this,Dt),n={type:"active",...e};return ir.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=ir.batch(()=>V(this,Dt).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Tn).catch(Tn)}invalidateQueries(e={},t={}){return ir.batch(()=>{if(V(this,Dt).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=ir.batch(()=>V(this,Dt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(Tn)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Tn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=V(this,Dt).build(this,t);return r.isStaleByTime(Gl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Tn).catch(Tn)}fetchInfiniteQuery(e){return e.behavior=tO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Tn).catch(Tn)}ensureInfiniteQueryData(e){return e.behavior=tO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return hm.isOnline()?V(this,Xa).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Dt)}getMutationCache(){return V(this,Xa)}getDefaultOptions(){return V(this,Qa)}setDefaultOptions(e){xe(this,Qa,e)}setQueryDefaults(e,t){V(this,uc).set(Is(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...V(this,uc).values()];let r={};return t.forEach(n=>{Hd(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){V(this,dc).set(Is(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...V(this,dc).values()];let r={};return t.forEach(n=>{Hd(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...V(this,Qa).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=b1(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===w1&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...V(this,Qa).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){V(this,Dt).clear(),V(this,Xa).clear()}},Dt=new WeakMap,Xa=new WeakMap,Qa=new WeakMap,uc=new WeakMap,dc=new WeakMap,Ja=new WeakMap,fc=new WeakMap,hc=new WeakMap,WT),Xr,Qe,Uf,Dr,bs,pc,Za,Pi,zf,mc,vc,ws,_s,eo,gc,it,rd,Zb,e0,t0,r0,n0,i0,a0,NR,qT,Q6=(qT=class extends su{constructor(t,r){super();Te(this,it);Te(this,Xr);Te(this,Qe);Te(this,Uf);Te(this,Dr);Te(this,bs);Te(this,pc);Te(this,Za);Te(this,Pi);Te(this,zf);Te(this,mc);Te(this,vc);Te(this,ws);Te(this,_s);Te(this,eo);Te(this,gc,new Set);this.options=r,xe(this,Xr,t),xe(this,Pi,null),xe(this,Za,Jb()),this.options.experimental_prefetchInRender||V(this,Za).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(V(this,Qe).addObserver(this),nO(V(this,Qe),this.options)?We(this,it,rd).call(this):this.updateResult(),We(this,it,r0).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o0(V(this,Qe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o0(V(this,Qe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,We(this,it,n0).call(this),We(this,it,i0).call(this),V(this,Qe).removeObserver(this)}setOptions(t,r){const n=this.options,i=V(this,Qe);if(this.options=V(this,Xr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ii(this.options.enabled,V(this,Qe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");We(this,it,a0).call(this),V(this,Qe).setOptions(this.options),n._defaulted&&!fm(this.options,n)&&V(this,Xr).getQueryCache().notify({type:"observerOptionsUpdated",query:V(this,Qe),observer:this});const a=this.hasListeners();a&&iO(V(this,Qe),i,this.options,n)&&We(this,it,rd).call(this),this.updateResult(r),a&&(V(this,Qe)!==i||ii(this.options.enabled,V(this,Qe))!==ii(n.enabled,V(this,Qe))||Gl(this.options.staleTime,V(this,Qe))!==Gl(n.staleTime,V(this,Qe)))&&We(this,it,Zb).call(this);const o=We(this,it,e0).call(this);a&&(V(this,Qe)!==i||ii(this.options.enabled,V(this,Qe))!==ii(n.enabled,V(this,Qe))||o!==V(this,eo))&&We(this,it,t0).call(this,o)}getOptimisticResult(t){const r=V(this,Xr).getQueryCache().build(V(this,Xr),t),n=this.createResult(r,t);return Z6(this,n)&&(xe(this,Dr,n),xe(this,pc,this.options),xe(this,bs,V(this,Qe).state)),n}getCurrentResult(){return V(this,Dr)}trackResult(t,r){const n={};return Object.keys(t).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),t[i])})}),n}trackProp(t){V(this,gc).add(t)}getCurrentQuery(){return V(this,Qe)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=V(this,Xr).defaultQueryOptions(t),n=V(this,Xr).getQueryCache().build(V(this,Xr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return We(this,it,rd).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),V(this,Dr)))}createResult(t,r){var O;const n=V(this,Qe),i=this.options,a=V(this,Dr),o=V(this,bs),s=V(this,pc),u=t!==n?t.state:V(this,Uf),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const P=this.hasListeners(),M=!P&&nO(t,r),C=P&&iO(t,n,r,i);(M||C)&&(f={...f,...PR(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;if(r.select&&f.data!==void 0)if(a&&f.data===(o==null?void 0:o.data)&&r.select===V(this,zf))m=V(this,mc);else try{xe(this,zf,r.select),m=r.select(f.data),m=Qb(a==null?void 0:a.data,m,r),xe(this,mc,m),xe(this,Pi,null)}catch(P){xe(this,Pi,P)}else m=f.data;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let P;if(a!=null&&a.isPlaceholderData&&r.placeholderData===(s==null?void 0:s.placeholderData))P=a.data;else if(P=typeof r.placeholderData=="function"?r.placeholderData((O=V(this,vc))==null?void 0:O.state.data,V(this,vc)):r.placeholderData,r.select&&P!==void 0)try{P=r.select(P),xe(this,Pi,null)}catch(M){xe(this,Pi,M)}P!==void 0&&(x="success",m=Qb(a==null?void 0:a.data,P,r),h=!0)}V(this,Pi)&&(g=V(this,Pi),m=V(this,mc),p=Date.now(),x="error");const b=f.fetchStatus==="fetching",y=x==="pending",v=x==="error",S=y&&b,_=m!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:v,isInitialLoading:S,isLoading:S,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!y,isLoadingError:v&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:v&&_,isStale:S1(t,r),refetch:this.refetch,promise:V(this,Za)};if(this.options.experimental_prefetchInRender){const P=$=>{E.status==="error"?$.reject(E.error):E.data!==void 0&&$.resolve(E.data)},M=()=>{const $=xe(this,Za,E.promise=Jb());P($)},C=V(this,Za);switch(C.status){case"pending":t.queryHash===n.queryHash&&P(C);break;case"fulfilled":(E.status==="error"||E.data!==C.value)&&M();break;case"rejected":(E.status!=="error"||E.error!==C.reason)&&M();break}}return E}updateResult(t){const r=V(this,Dr),n=this.createResult(V(this,Qe),this.options);if(xe(this,bs,V(this,Qe).state),xe(this,pc,this.options),V(this,bs).data!==void 0&&xe(this,vc,V(this,Qe)),fm(n,r))return;xe(this,Dr,n);const i={},a=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,s=typeof o=="function"?o():o;if(s==="all"||!s&&!V(this,gc).size)return!0;const c=new Set(s??V(this,gc));return this.options.throwOnError&&c.add("error"),Object.keys(V(this,Dr)).some(u=>{const d=u;return V(this,Dr)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),We(this,it,NR).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&We(this,it,r0).call(this)}},Xr=new WeakMap,Qe=new WeakMap,Uf=new WeakMap,Dr=new WeakMap,bs=new WeakMap,pc=new WeakMap,Za=new WeakMap,Pi=new WeakMap,zf=new WeakMap,mc=new WeakMap,vc=new WeakMap,ws=new WeakMap,_s=new WeakMap,eo=new WeakMap,gc=new WeakMap,it=new WeakSet,rd=function(t){We(this,it,a0).call(this);let r=V(this,Qe).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Tn)),r},Zb=function(){We(this,it,n0).call(this);const t=Gl(this.options.staleTime,V(this,Qe));if(Rs||V(this,Dr).isStale||!Yb(t))return;const n=bR(V(this,Dr).dataUpdatedAt,t)+1;xe(this,ws,setTimeout(()=>{V(this,Dr).isStale||this.updateResult()},n))},e0=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(V(this,Qe)):this.options.refetchInterval)??!1},t0=function(t){We(this,it,i0).call(this),xe(this,eo,t),!(Rs||ii(this.options.enabled,V(this,Qe))===!1||!Yb(V(this,eo))||V(this,eo)===0)&&xe(this,_s,setInterval(()=>{(this.options.refetchIntervalInBackground||_1.isFocused())&&We(this,it,rd).call(this)},V(this,eo)))},r0=function(){We(this,it,Zb).call(this),We(this,it,t0).call(this,We(this,it,e0).call(this))},n0=function(){V(this,ws)&&(clearTimeout(V(this,ws)),xe(this,ws,void 0))},i0=function(){V(this,_s)&&(clearInterval(V(this,_s)),xe(this,_s,void 0))},a0=function(){const t=V(this,Xr).getQueryCache().build(V(this,Xr),this.options);if(t===V(this,Qe))return;const r=V(this,Qe);xe(this,Qe,t),xe(this,Uf,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},NR=function(t){ir.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(V(this,Dr))}),V(this,Xr).getQueryCache().notify({query:V(this,Qe),type:"observerResultsUpdated"})})},qT);function J6(e,t){return ii(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function nO(e,t){return J6(e,t)||e.state.data!==void 0&&o0(e,t,t.refetchOnMount)}function o0(e,t,r){if(ii(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&S1(e,t)}return!1}function iO(e,t,r,n){return(e!==t||ii(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&S1(e,r)}function S1(e,t){return ii(t.enabled,e)!==!1&&e.isStaleByTime(Gl(t.staleTime,e))}function Z6(e,t){return!fm(e.getCurrentResult(),t)}var to,ro,Qr,aa,va,Rp,s0,HT,e8=(HT=class extends su{constructor(r,n){super();Te(this,va);Te(this,to);Te(this,ro);Te(this,Qr);Te(this,aa);xe(this,to,r),this.setOptions(n),this.bindMethods(),We(this,va,Rp).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var i;const n=this.options;this.options=V(this,to).defaultMutationOptions(r),fm(this.options,n)||V(this,to).getMutationCache().notify({type:"observerOptionsUpdated",mutation:V(this,Qr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Is(n.mutationKey)!==Is(this.options.mutationKey)?this.reset():((i=V(this,Qr))==null?void 0:i.state.status)==="pending"&&V(this,Qr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=V(this,Qr))==null||r.removeObserver(this)}onMutationUpdate(r){We(this,va,Rp).call(this),We(this,va,s0).call(this,r)}getCurrentResult(){return V(this,ro)}reset(){var r;(r=V(this,Qr))==null||r.removeObserver(this),xe(this,Qr,void 0),We(this,va,Rp).call(this),We(this,va,s0).call(this)}mutate(r,n){var i;return xe(this,aa,n),(i=V(this,Qr))==null||i.removeObserver(this),xe(this,Qr,V(this,to).getMutationCache().build(V(this,to),this.options)),V(this,Qr).addObserver(this),V(this,Qr).execute(r)}},to=new WeakMap,ro=new WeakMap,Qr=new WeakMap,aa=new WeakMap,va=new WeakSet,Rp=function(){var n;const r=((n=V(this,Qr))==null?void 0:n.state)??AR();xe(this,ro,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},s0=function(r){ir.batch(()=>{var n,i,a,o,s,c,u,d;if(V(this,aa)&&this.hasListeners()){const f=V(this,ro).variables,h=V(this,ro).context;(r==null?void 0:r.type)==="success"?((i=(n=V(this,aa)).onSuccess)==null||i.call(n,r.data,f,h),(o=(a=V(this,aa)).onSettled)==null||o.call(a,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(s=V(this,aa)).onError)==null||c.call(s,r.error,f,h),(d=(u=V(this,aa)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(V(this,ro))})})},HT),CR=w.createContext(void 0),Yv=e=>{const t=w.useContext(CR);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},t8=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(CR.Provider,{value:e,children:t})),TR=w.createContext(!1),r8=()=>w.useContext(TR);TR.Provider;function n8(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var i8=w.createContext(n8()),a8=()=>w.useContext(i8);function kR(e,t){return typeof e=="function"?e(...t):!!e}function l0(){}var o8=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},s8=e=>{w.useEffect(()=>{e.clearReset()},[e])},l8=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&kR(r,[e.error,n]),c8=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},u8=(e,t)=>e.isLoading&&e.isFetching&&!t,d8=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,aO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function f8(e,t,r){var d,f,h,m,g;const n=Yv(),i=r8(),a=a8(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",c8(o),o8(o,a),s8(a);const s=!n.getQueryCache().get(o.queryHash),[c]=w.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(w.useSyncExternalStore(w.useCallback(p=>{const x=i?l0:c.subscribe(ir.batchCalls(p));return c.updateResult(),x},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),d8(o,u))throw aO(o,c,a);if(l8({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||m.call(h,o,u),o.experimental_prefetchInRender&&!Rs&&u8(u,i)){const p=s?aO(o,c,a):(g=n.getQueryCache().get(o.queryHash))==null?void 0:g.promise;p==null||p.catch(l0).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function _t(e,t){return f8(e,Q6)}function Yl(e,t){const r=Yv(),[n]=w.useState(()=>new e8(r,e));w.useEffect(()=>{n.setOptions(e)},[n,e]);const i=w.useSyncExternalStore(w.useCallback(o=>n.subscribe(ir.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=w.useCallback((o,s)=>{n.mutate(o,s).catch(l0)},[n]);if(i.error&&kR(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}const h8={totalRevenue:15e4,totalClients:45,pendingPayments:12,activeSubscriptions:28,monthlyRecurringRevenue:25e3,overduePayments:3},$R=[{id:"1",name:"Juan Perez",email:"juan@example.com",phone:"9999-9999",projectName:"Website E-commerce",projectDescription:"Tienda en linea de ropa",paymentType:"cuotas",totalAmount:"15000.00",numberOfPayments:3,createdAt:new Date("2024-01-15"),amountPaid:5e3,amountPending:1e4,payments:[]},{id:"2",name:"Maria Garcia",email:"maria@example.com",phone:"8888-8888",projectName:"Sistema de Inventario",projectDescription:"Sistema para ferreteria",paymentType:"unico",totalAmount:"25000.00",numberOfPayments:1,createdAt:new Date("2024-02-01"),amountPaid:25e3,amountPending:0,payments:[]},{id:"3",name:"Carlos Rodriguez",email:"carlos@example.com",phone:"7777-7777",projectName:"Mantenimiento Mensual",projectDescription:"Soporte tecnico",paymentType:"suscripcion",totalAmount:"1000.00",numberOfPayments:1,createdAt:new Date("2024-03-01"),amountPaid:1e3,amountPending:0,payments:[]}],p8=[{payment:{id:"p1",clientId:"1",amount:"5000.00",status:"pagado",dueDate:new Date("2024-03-15"),paidDate:new Date("2024-03-14"),paymentNumber:1,notes:"Primer pago"},clientName:"Juan Perez"},{payment:{id:"p2",clientId:"2",amount:"25000.00",status:"pagado",dueDate:new Date("2024-02-01"),paidDate:new Date("2024-02-01"),paymentNumber:1,notes:"Pago completo"},clientName:"Maria Garcia"}],m8=[{payment:{id:"p3",clientId:"1",amount:"5000.00",status:"pendiente",dueDate:new Date(new Date().setDate(new Date().getDate()+2)),paidDate:null,paymentNumber:2,notes:"Segundo pago"},clientName:"Juan Perez"},{payment:{id:"p4",clientId:"3",amount:"1000.00",status:"pendiente",dueDate:new Date(new Date().setDate(new Date().getDate()+5)),paidDate:null,paymentNumber:1,notes:"Suscripcion Abril"},clientName:"Carlos Rodriguez"}],v8=[{month:"Ene",revenue:12e3,subscriptions:5e3,oneTime:7e3},{month:"Feb",revenue:18e3,subscriptions:6e3,oneTime:12e3},{month:"Mar",revenue:15e3,subscriptions:7e3,oneTime:8e3},{month:"Abr",revenue:22e3,subscriptions:8e3,oneTime:14e3},{month:"May",revenue:25e3,subscriptions:9e3,oneTime:16e3},{month:"Jun",revenue:28e3,subscriptions:1e4,oneTime:18e3}],g8=({on401:e})=>async({queryKey:t})=>{const r=t.join("/");if(r==="/api/stats")return h8;if(r==="/api/clients")return $R;if(r==="/api/payments/recent")return p8;if(r==="/api/payments/upcoming")return m8;if(r==="/api/stats/revenue")return v8;if(r.startsWith("/api/")){const n=await fetch(r,{credentials:"include"});if(n.status===401){if(e==="returnNull")return null;throw new Error("401 Unauthorized")}if(!n.ok){const a=await n.text();throw new Error(`${n.status}: ${a||n.statusText}`)}return(n.headers.get("content-type")||"").includes("application/json")?await n.json():await n.text()}return console.warn(`No mock data found for path: ${r}`),null},St=new X6({defaultOptions:{queries:{queryFn:g8({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),y8=1,x8=1e6;let ex=0;function b8(){return ex=(ex+1)%Number.MAX_SAFE_INTEGER,ex.toString()}const tx=new Map,oO=e=>{if(tx.has(e))return;const t=setTimeout(()=>{tx.delete(e),gd({type:"REMOVE_TOAST",toastId:e})},x8);tx.set(e,t)},w8=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,y8)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?oO(r):e.toasts.forEach(n=>{oO(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Ip=[];let Mp={toasts:[]};function gd(e){Mp=w8(Mp,e),Ip.forEach(t=>{t(Mp)})}function _8({...e}){const t=b8(),r=i=>gd({type:"UPDATE_TOAST",toast:{...i,id:t}}),n=()=>gd({type:"DISMISS_TOAST",toastId:t});return gd({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||n()}}}),{id:t,dismiss:n,update:r}}function Sr(){const[e,t]=w.useState(Mp);return w.useEffect(()=>(Ip.push(t),()=>{const r=Ip.indexOf(t);r>-1&&Ip.splice(r,1)}),[e]),{...e,toast:_8,dismiss:r=>gd({type:"DISMISS_TOAST",toastId:r})}}function pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e==null||e(i),r===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function wa(...e){return t=>{let r=!1;const n=e.map(i=>{const a=sO(i,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():sO(e[i],null)}}}}function Je(...e){return w.useCallback(wa(...e),e)}function S8(e,t){const r=w.createContext(t),n=a=>{const{children:o,...s}=a,c=w.useMemo(()=>s,Object.values(s));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(a){const o=w.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,i]}function an(e,t=[]){let r=[];function n(a,o){const s=w.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||s,x=w.useMemo(()=>g,Object.values(g));return l.jsx(p.Provider,{value:x,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||s,g=w.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>w.createContext(o));return function(s){const c=(s==null?void 0:s[e])||a;return w.useMemo(()=>({[`__scope${e}`]:{...s,[e]:c}}),[s,c])}};return i.scopeName=e,[n,j8(i,...t)]}function j8(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((s,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...s,...f}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function So(e){const t=E8(e),r=w.forwardRef((n,i)=>{const{children:a,...o}=n,s=w.Children.toArray(a),c=s.find(P8);if(c){const u=c.props.children,d=s.map(f=>f===c?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:i,children:a})});return r.displayName=`${e}.Slot`,r}var Xv=So("Slot");function E8(e){const t=w.forwardRef((r,n)=>{const{children:i,...a}=r;if(w.isValidElement(i)){const o=N8(i),s=A8(a,i.props);return i.type!==w.Fragment&&(s.ref=n?wa(n,o):o),w.cloneElement(i,s)}return w.Children.count(i)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RR=Symbol("radix.slottable");function O8(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=RR,t}function P8(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RR}function A8(e,t){const r={...t};for(const n in t){const i=e[n],a=t[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...s)=>{a(...s),i(...s)}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...e,...r}}function N8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Qv(e){const t=e+"CollectionProvider",[r,n]=an(t),[i,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,y=L.useRef(null),v=L.useRef(new Map).current;return l.jsx(i,{scope:x,itemMap:v,collectionRef:y,children:b})};o.displayName=t;const s=e+"CollectionSlot",c=So(s),u=L.forwardRef((p,x)=>{const{scope:b,children:y}=p,v=a(s,b),S=Je(x,v.collectionRef);return l.jsx(c,{ref:S,children:y})});u.displayName=s;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=So(d),m=L.forwardRef((p,x)=>{const{scope:b,children:y,...v}=p,S=L.useRef(null),_=Je(x,S),j=a(d,b);return L.useEffect(()=>(j.itemMap.set(S,{ref:S,...v}),()=>void j.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:_,children:y})});m.displayName=d;function g(p){const x=a(e+"CollectionConsumer",p);return L.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((j,E)=>v.indexOf(j.ref.current)-v.indexOf(E.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}var C8=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],je=C8.reduce((e,t)=>{const r=So(`Primitive.${t}`),n=w.forwardRef((i,a)=>{const{asChild:o,...s}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function j1(e,t){e&&Gs.flushSync(()=>e.dispatchEvent(t))}function _r(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function T8(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e);w.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var k8="DismissableLayer",c0="dismissableLayer.update",$8="dismissableLayer.pointerDownOutside",R8="dismissableLayer.focusOutside",lO,IR=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ys=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:s,...c}=e,u=w.useContext(IR),[d,f]=w.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=w.useState({}),g=Je(t,E=>f(E)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),y=d?p.indexOf(d):-1,v=u.layersWithOutsidePointerEventsDisabled.size>0,S=y>=b,_=M8(E=>{const O=E.target,P=[...u.branches].some(M=>M.contains(O));!S||P||(i==null||i(E),o==null||o(E),E.defaultPrevented||s==null||s())},h),j=D8(E=>{const O=E.target;[...u.branches].some(M=>M.contains(O))||(a==null||a(E),o==null||o(E),E.defaultPrevented||s==null||s())},h);return T8(E=>{y===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&s&&(E.preventDefault(),s()))},h),w.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(lO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),cO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lO)}},[d,h,r,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),cO())},[d,u]),w.useEffect(()=>{const E=()=>m({});return document.addEventListener(c0,E),()=>document.removeEventListener(c0,E)},[]),l.jsx(je.div,{...c,ref:g,style:{pointerEvents:v?S?"auto":"none":void 0,...e.style},onFocusCapture:pe(e.onFocusCapture,j.onFocusCapture),onBlurCapture:pe(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:pe(e.onPointerDownCapture,_.onPointerDownCapture)})});Ys.displayName=k8;var I8="DismissableLayerBranch",MR=w.forwardRef((e,t)=>{const r=w.useContext(IR),n=w.useRef(null),i=Je(t,n);return w.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),l.jsx(je.div,{...e,ref:i})});MR.displayName=I8;function M8(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),n=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const a=s=>{if(s.target&&!n.current){let c=function(){DR($8,r,u,{discrete:!0})};const u={originalEvent:s};s.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function D8(e,t=globalThis==null?void 0:globalThis.document){const r=_r(e),n=w.useRef(!1);return w.useEffect(()=>{const i=a=>{a.target&&!n.current&&DR(R8,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function cO(){const e=new CustomEvent(c0);document.dispatchEvent(e)}function DR(e,t,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?j1(i,a):i.dispatchEvent(a)}var L8=Ys,F8=MR,lr=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},B8="Portal",lu=w.forwardRef((e,t)=>{var s;const{container:r,...n}=e,[i,a]=w.useState(!1);lr(()=>a(!0),[]);const o=r||i&&((s=globalThis==null?void 0:globalThis.document)==null?void 0:s.body);return o?o6.createPortal(l.jsx(je.div,{...n,ref:t}),o):null});lu.displayName=B8;function U8(e,t){return w.useReducer((r,n)=>t[r][n]??r,e)}var on=e=>{const{present:t,children:r}=e,n=z8(t),i=typeof r=="function"?r({present:n.isPresent}):w.Children.only(r),a=Je(n.ref,V8(i));return typeof r=="function"||n.isPresent?w.cloneElement(i,{ref:a}):null};on.displayName="Presence";function z8(e){const[t,r]=w.useState(),n=w.useRef({}),i=w.useRef(e),a=w.useRef("none"),o=e?"mounted":"unmounted",[s,c]=U8(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Uh(n.current);a.current=s==="mounted"?u:"none"},[s]),lr(()=>{const u=n.current,d=i.current;if(d!==e){const h=a.current,m=Uh(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),lr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Uh(n.current).includes(m.animationName);if(m.target===t&&p&&(c("ANIMATION_END"),!i.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(a.current=Uh(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:w.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Uh(e){return(e==null?void 0:e.animationName)||"none"}function V8(e){var n,i;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vi({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,i]=W8({defaultProp:t,onChange:r}),a=e!==void 0,o=a?e:n,s=_r(r),c=w.useCallback(u=>{if(a){const f=typeof u=="function"?u(e):u;f!==e&&s(f)}else i(u)},[a,e,i,s]);return[o,c]}function W8({defaultProp:e,onChange:t}){const r=w.useState(e),[n]=r,i=w.useRef(n),a=_r(t);return w.useEffect(()=>{i.current!==n&&(a(n),i.current=n)},[n,i,a]),r}var q8="VisuallyHidden",Gf=w.forwardRef((e,t)=>l.jsx(je.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Gf.displayName=q8;var H8=Gf,E1="ToastProvider",[O1,K8,G8]=Qv("Toast"),[LR,oEe]=an("Toast",[G8]),[Y8,Jv]=LR(E1),FR=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[s,c]=w.useState(null),[u,d]=w.useState(0),f=w.useRef(!1),h=w.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${E1}\`. Expected non-empty \`string\`.`),l.jsx(O1.Provider,{scope:t,children:l.jsx(Y8,{scope:t,label:r,duration:n,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:s,onViewportChange:c,onToastAdd:w.useCallback(()=>d(m=>m+1),[]),onToastRemove:w.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};FR.displayName=E1;var BR="ToastViewport",X8=["F8"],u0="toast.viewportPause",d0="toast.viewportResume",UR=w.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=X8,label:i="Notifications ({hotkey})",...a}=e,o=Jv(BR,r),s=K8(r),c=w.useRef(null),u=w.useRef(null),d=w.useRef(null),f=w.useRef(null),h=Je(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;w.useEffect(()=>{const x=b=>{var v;n.length!==0&&n.every(S=>b[S]||b.code===S)&&((v=f.current)==null||v.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),w.useEffect(()=>{const x=c.current,b=f.current;if(g&&x&&b){const y=()=>{if(!o.isClosePausedRef.current){const j=new CustomEvent(u0);b.dispatchEvent(j),o.isClosePausedRef.current=!0}},v=()=>{if(o.isClosePausedRef.current){const j=new CustomEvent(d0);b.dispatchEvent(j),o.isClosePausedRef.current=!1}},S=j=>{!x.contains(j.relatedTarget)&&v()},_=()=>{x.contains(document.activeElement)||v()};return x.addEventListener("focusin",y),x.addEventListener("focusout",S),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",_),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",_),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[g,o.isClosePausedRef]);const p=w.useCallback(({tabbingDirection:x})=>{const y=s().map(v=>{const S=v.ref.current,_=[S,...cV(S)];return x==="forwards"?_:_.reverse()});return(x==="forwards"?y.reverse():y).flat()},[s]);return w.useEffect(()=>{const x=f.current;if(x){const b=y=>{var _,j,E;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const O=document.activeElement,P=y.shiftKey;if(y.target===x&&P){(_=u.current)==null||_.focus();return}const $=p({tabbingDirection:P?"backwards":"forwards"}),N=$.findIndex(A=>A===O);rx($.slice(N+1))?y.preventDefault():P?(j=u.current)==null||j.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",b),()=>x.removeEventListener("keydown",b)}},[s,p]),l.jsxs(F8,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&l.jsx(f0,{ref:u,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"forwards"});rx(x)}}),l.jsx(O1.Slot,{scope:r,children:l.jsx(je.ol,{tabIndex:-1,...a,ref:h})}),g&&l.jsx(f0,{ref:d,onFocusFromOutsideViewport:()=>{const x=p({tabbingDirection:"backwards"});rx(x)}})]})});UR.displayName=BR;var zR="ToastFocusProxy",f0=w.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,a=Jv(zR,r);return l.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const s=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(s))&&n()}})});f0.displayName=zR;var Zv="Toast",Q8="toast.swipeStart",J8="toast.swipeMove",Z8="toast.swipeCancel",eV="toast.swipeEnd",VR=w.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=e,[s=!0,c]=Vi({prop:n,defaultProp:i,onChange:a});return l.jsx(on,{present:r||s,children:l.jsx(nV,{open:s,...o,ref:t,onClose:()=>c(!1),onPause:_r(e.onPause),onResume:_r(e.onResume),onSwipeStart:pe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:pe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});VR.displayName=Zv;var[tV,rV]=LR(Zv,{onClose(){}}),nV=w.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:s,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...g}=e,p=Jv(Zv,r),[x,b]=w.useState(null),y=Je(t,A=>b(A)),v=w.useRef(null),S=w.useRef(null),_=i||p.duration,j=w.useRef(0),E=w.useRef(_),O=w.useRef(0),{onToastAdd:P,onToastRemove:M}=p,C=_r(()=>{var R;(x==null?void 0:x.contains(document.activeElement))&&((R=p.viewport)==null||R.focus()),o()}),$=w.useCallback(A=>{!A||A===1/0||(window.clearTimeout(O.current),j.current=new Date().getTime(),O.current=window.setTimeout(C,A))},[C]);w.useEffect(()=>{const A=p.viewport;if(A){const R=()=>{$(E.current),u==null||u()},I=()=>{const z=new Date().getTime()-j.current;E.current=E.current-z,window.clearTimeout(O.current),c==null||c()};return A.addEventListener(u0,I),A.addEventListener(d0,R),()=>{A.removeEventListener(u0,I),A.removeEventListener(d0,R)}}},[p.viewport,_,c,u,$]),w.useEffect(()=>{a&&!p.isClosePausedRef.current&&$(_)},[a,_,p.isClosePausedRef,$]),w.useEffect(()=>(P(),()=>M()),[P,M]);const N=w.useMemo(()=>x?XR(x):null,[x]);return p.viewport?l.jsxs(l.Fragment,{children:[N&&l.jsx(iV,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),l.jsx(tV,{scope:r,onClose:C,children:Gs.createPortal(l.jsx(O1.ItemSlot,{scope:r,children:l.jsx(L8,{asChild:!0,onEscapeKeyDown:pe(s,()=>{p.isFocusedToastEscapeKeyDownRef.current||C(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":p.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:pe(e.onKeyDown,A=>{A.key==="Escape"&&(s==null||s(A.nativeEvent),A.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,C()))}),onPointerDown:pe(e.onPointerDown,A=>{A.button===0&&(v.current={x:A.clientX,y:A.clientY})}),onPointerMove:pe(e.onPointerMove,A=>{if(!v.current)return;const R=A.clientX-v.current.x,I=A.clientY-v.current.y,z=!!S.current,T=["left","right"].includes(p.swipeDirection),D=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,H=T?D(0,R):0,G=T?0:D(0,I),k=A.pointerType==="touch"?10:2,F={x:H,y:G},K={originalEvent:A,delta:F};z?(S.current=F,zh(J8,f,K,{discrete:!1})):uO(F,p.swipeDirection,k)?(S.current=F,zh(Q8,d,K,{discrete:!1}),A.target.setPointerCapture(A.pointerId)):(Math.abs(R)>k||Math.abs(I)>k)&&(v.current=null)}),onPointerUp:pe(e.onPointerUp,A=>{const R=S.current,I=A.target;if(I.hasPointerCapture(A.pointerId)&&I.releasePointerCapture(A.pointerId),S.current=null,v.current=null,R){const z=A.currentTarget,T={originalEvent:A,delta:R};uO(R,p.swipeDirection,p.swipeThreshold)?zh(eV,m,T,{discrete:!0}):zh(Z8,h,T,{discrete:!0}),z.addEventListener("click",D=>D.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),iV=e=>{const{__scopeToast:t,children:r,...n}=e,i=Jv(Zv,t),[a,o]=w.useState(!1),[s,c]=w.useState(!1);return sV(()=>o(!0)),w.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),s?null:l.jsx(lu,{asChild:!0,children:l.jsx(Gf,{...n,children:a&&l.jsxs(l.Fragment,{children:[i.label," ",r]})})})},aV="ToastTitle",WR=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(je.div,{...n,ref:t})});WR.displayName=aV;var oV="ToastDescription",qR=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(je.div,{...n,ref:t})});qR.displayName=oV;var HR="ToastAction",KR=w.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(YR,{altText:r,asChild:!0,children:l.jsx(P1,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${HR}\`. Expected non-empty \`string\`.`),null)});KR.displayName=HR;var GR="ToastClose",P1=w.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=rV(GR,r);return l.jsx(YR,{asChild:!0,children:l.jsx(je.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,i.onClose)})})});P1.displayName=GR;var YR=w.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return l.jsx(je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function XR(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),lV(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...XR(n))}}),t}function zh(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?j1(i,a):i.dispatchEvent(a)}var uO=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),a=n>i;return t==="left"||t==="right"?a&&n>r:!a&&i>r};function sV(e=()=>{}){const t=_r(e);lr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function lV(e){return e.nodeType===e.ELEMENT_NODE}function cV(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rx(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var uV=FR,QR=UR,JR=VR,ZR=WR,e2=qR,t2=KR,r2=P1;function n2(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=n2(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Le(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=n2(e))&&(n&&(n+=" "),n+=t);return n}const dO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fO=Le,cu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return fO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=dO(d)||dO(f);return i[u][h]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...a,...s}[p]):{...a,...s}[p]===x})?[...u,f,h]:u},[]);return fO(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i2=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:o,...s},c)=>w.createElement("svg",{ref:c,...fV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:i2("lucide",i),...s},[...o.map(([u,d])=>w.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const r=w.forwardRef(({className:n,...i},a)=>w.createElement(hV,{ref:a,iconNode:t,className:i2(`lucide-${dV(e)}`,n),...i}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=Fe("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=Fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=Fe("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=Fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=Fe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Fe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=Fe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=Fe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=Fe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Fe("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=Fe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=Fe("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=Fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),A1="-",DV=e=>{const t=FV(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const s=o.split(A1);return s[0]===""&&s.length!==1&&s.shift(),u2(s,t)||LV(o)},getConflictingClassGroupIds:(o,s)=>{const c=r[o]||[];return s&&n[o]?[...c,...n[o]]:c}}},u2=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?u2(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(A1);return(o=t.validators.find(({validator:s})=>s(a)))==null?void 0:o.classGroupId},mO=/^\[(.+)\]$/,LV=e=>{if(mO.test(e)){const t=mO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},FV=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return UV(Object.entries(e.classGroups),r).forEach(([a,o])=>{v0(o,n,a,t)}),n},v0=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:vO(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(BV(i)){v0(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{v0(o,vO(t,a),r,n)})})},vO=(e,t)=>{let r=e;return t.split(A1).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},BV=e=>e.isThemeGetter,UV=(e,t)=>t?e.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,s])=>[t+o,s])):a);return[r,i]}):e,zV=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},d2="!",VV=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],a=t.length,o=s=>{const c=[];let u=0,d=0,f;for(let x=0;x<s.length;x++){let b=s[x];if(u===0){if(b===i&&(n||s.slice(x,x+a)===t)){c.push(s.slice(d,x)),d=x+a;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?s:s.substring(d),m=h.startsWith(d2),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?s=>r({className:s,parseClassName:o}):o},WV=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},qV=e=>({cache:zV(e.cacheSize),parseClassName:VV(e),...DV(e)}),HV=/\s+/,KV=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(HV);let s="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){s=u+(s.length>0?" "+s:s);continue}if(p=n(h),!p){s=u+(s.length>0?" "+s:s);continue}g=!1}const x=WV(d).join(":"),b=f?x+d2:x,y=b+p;if(a.includes(y))continue;a.push(y);const v=i(p,g);for(let S=0;S<v.length;++S){const _=v[S];a.push(b+_)}s=u+(s.length>0?" "+s:s)}return s};function GV(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=f2(t))&&(n&&(n+=" "),n+=r);return n}const f2=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=f2(e[n]))&&(r&&(r+=" "),r+=t);return r};function YV(e,...t){let r,n,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=qV(u),n=r.cache.get,i=r.cache.set,a=s,s(c)}function s(c){const u=n(c);if(u)return u;const d=KV(c,r);return i(c,d),d}return function(){return a(GV.apply(null,arguments))}}const gt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},h2=/^\[(?:([a-z-]+):)?(.+)\]$/i,XV=/^\d+\/\d+$/,QV=new Set(["px","full","screen"]),JV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ZV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qi=e=>Xl(e)||QV.has(e)||XV.test(e),Ra=e=>uu(e,"length",uW),Xl=e=>!!e&&!Number.isNaN(Number(e)),ix=e=>uu(e,"number",Xl),Du=e=>!!e&&Number.isInteger(Number(e)),nW=e=>e.endsWith("%")&&Xl(e.slice(0,-1)),ze=e=>h2.test(e),Ia=e=>JV.test(e),iW=new Set(["length","size","percentage"]),aW=e=>uu(e,iW,p2),oW=e=>uu(e,"position",p2),sW=new Set(["image","url"]),lW=e=>uu(e,sW,fW),cW=e=>uu(e,"",dW),Lu=()=>!0,uu=(e,t,r)=>{const n=h2.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},uW=e=>ZV.test(e)&&!eW.test(e),p2=()=>!1,dW=e=>tW.test(e),fW=e=>rW.test(e),hW=()=>{const e=gt("colors"),t=gt("spacing"),r=gt("blur"),n=gt("brightness"),i=gt("borderColor"),a=gt("borderRadius"),o=gt("borderSpacing"),s=gt("borderWidth"),c=gt("contrast"),u=gt("grayscale"),d=gt("hueRotate"),f=gt("invert"),h=gt("gap"),m=gt("gradientColorStops"),g=gt("gradientColorStopPositions"),p=gt("inset"),x=gt("margin"),b=gt("opacity"),y=gt("padding"),v=gt("saturate"),S=gt("scale"),_=gt("sepia"),j=gt("skew"),E=gt("space"),O=gt("translate"),P=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],C=()=>["auto",ze,t],$=()=>[ze,t],N=()=>["",Qi,Ra],A=()=>["auto",Xl,ze],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",ze],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Xl,ze];return{cacheSize:500,separator:":",theme:{colors:[Lu],spacing:[Qi,Ra],blur:["none","",Ia,ze],brightness:G(),borderColor:[e],borderRadius:["none","","full",Ia,ze],borderSpacing:$(),borderWidth:N(),contrast:G(),grayscale:D(),hueRotate:G(),invert:D(),gap:$(),gradientColorStops:[e],gradientColorStopPositions:[nW,Ra],inset:C(),margin:C(),opacity:G(),padding:$(),saturate:G(),scale:G(),sepia:D(),skew:G(),space:$(),translate:$()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Ia]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),ze]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Du,ze]}],basis:[{basis:C()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Du,ze]}],"grid-cols":[{"grid-cols":[Lu]}],"col-start-end":[{col:["auto",{span:["full",Du,ze]},ze]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Lu]}],"row-start-end":[{row:["auto",{span:[Du,ze]},ze]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,t]}],"min-w":[{"min-w":[ze,t,"min","max","fit"]}],"max-w":[{"max-w":[ze,t,"none","full","min","max","fit","prose",{screen:[Ia]},Ia]}],h:[{h:[ze,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ia,Ra]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ix]}],"font-family":[{font:[Lu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",Xl,ix]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qi,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qi,Ra]}],"underline-offset":[{"underline-offset":["auto",Qi,ze]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),oW]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",aW]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lW]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:I()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[Qi,ze]}],"outline-w":[{outline:[Qi,Ra]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Qi,Ra]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ia,cW]}],"shadow-color":[{shadow:[Lu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ia,ze]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[v]}],sepia:[{sepia:[_]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[_]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[Du,ze]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qi,Ra,ix]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},pW=YV(hW);function he(...e){return pW(Le(e))}function N1(e){if(!e)return new Date().toISOString();const t=e.includes("T")?e:`${e}T00:00:00`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function mW(e){if(!e)return"";const t=`${e}T00:00:00`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function vW(e){if(!e)return"";const t=`${e}T23:59:59`,r=new Date(t);return r.setHours(r.getHours()+6),r.toISOString()}function Ur(e){if(!e)return null;const t=typeof e=="string"?new Date(e):e;return isNaN(t.getTime())?null:new Date(t.getTime()-6*60*60*1e3)}function g0(){return new Date().toISOString()}function be(e){return new Intl.NumberFormat("es-HN",{style:"currency",currency:"HNL",minimumFractionDigits:2,maximumFractionDigits:2}).format(e).replace("HNL","L")}function Xe(e){if(!e)return"-";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"-";const r=Ur(t);return r?new Intl.DateTimeFormat("es-HN",{day:"2-digit",month:"2-digit",year:"numeric"}).format(r):"-"}function gW(e){if(!e)return"-";const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"-";const r=Ur(t);return r?new Intl.DateTimeFormat("es-HN",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}).format(r):"-"}function m2(e){switch(e){case"unico":return"Pago Unico";case"cuotas":return"Cuotas";case"suscripcion":return"Suscripcion";default:return e}}function Xf(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function Gd(e){const t=typeof e=="string"?new Date(e):e,r=Ur(t);if(!r)return 0;const i=Ur(new Date);if(!i)return 0;i.setHours(0,0,0,0),r.setHours(0,0,0,0);const a=r.getTime()-i.getTime();return Math.ceil(a/(1e3*60*60*24))}const yW=uV,v2=w.forwardRef(({className:e,...t},r)=>l.jsx(QR,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));v2.displayName=QR.displayName;const xW=cu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g2=w.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(JR,{ref:n,className:he(xW({variant:t}),e),...r}));g2.displayName=JR.displayName;const bW=w.forwardRef(({className:e,...t},r)=>l.jsx(t2,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));bW.displayName=t2.displayName;const y2=w.forwardRef(({className:e,...t},r)=>l.jsx(r2,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(rg,{className:"h-4 w-4"})}));y2.displayName=r2.displayName;const x2=w.forwardRef(({className:e,...t},r)=>l.jsx(ZR,{ref:r,className:he("text-sm font-semibold",e),...t}));x2.displayName=ZR.displayName;const b2=w.forwardRef(({className:e,...t},r)=>l.jsx(e2,{ref:r,className:he("text-sm opacity-90",e),...t}));b2.displayName=e2.displayName;function wW(){const{toasts:e}=Sr();return l.jsxs(yW,{children:[e.map(function({id:t,title:r,description:n,action:i,...a}){return l.jsxs(g2,{...a,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(x2,{children:r}),n&&l.jsx(b2,{children:n})]}),i,l.jsx(y2,{})]},t)}),l.jsx(v2,{})]})}var _W=ik[" useId ".trim().toString()]||(()=>{}),SW=0;function pr(e){const[t,r]=w.useState(_W());return lr(()=>{e||r(n=>n??String(SW++))},[e]),e||(t?`radix-${t}`:"")}const jW=["top","right","bottom","left"],Eo=Math.min,mn=Math.max,pm=Math.round,Vh=Math.floor,Ii=e=>({x:e,y:e}),EW={left:"right",right:"left",bottom:"top",top:"bottom"},OW={start:"end",end:"start"};function y0(e,t,r){return mn(e,Eo(t,r))}function _a(e,t){return typeof e=="function"?e(t):e}function Sa(e){return e.split("-")[0]}function du(e){return e.split("-")[1]}function C1(e){return e==="x"?"y":"x"}function T1(e){return e==="y"?"height":"width"}function Oo(e){return["top","bottom"].includes(Sa(e))?"y":"x"}function k1(e){return C1(Oo(e))}function PW(e,t,r){r===void 0&&(r=!1);const n=du(e),i=k1(e),a=T1(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=mm(o)),[o,mm(o)]}function AW(e){const t=mm(e);return[x0(e),t,x0(t)]}function x0(e){return e.replace(/start|end/g,t=>OW[t])}function NW(e,t,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?a:o;default:return[]}}function CW(e,t,r,n){const i=du(e);let a=NW(Sa(e),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(x0)))),a}function mm(e){return e.replace(/left|right|bottom|top/g,t=>EW[t])}function TW(e){return{top:0,right:0,bottom:0,left:0,...e}}function w2(e){return typeof e!="number"?TW(e):{top:e,right:e,bottom:e,left:e}}function vm(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function gO(e,t,r){let{reference:n,floating:i}=e;const a=Oo(t),o=k1(t),s=T1(o),c=Sa(t),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,h=n[s]/2-i[s]/2;let m;switch(c){case"top":m={x:d,y:n.y-i.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-i.width,y:f};break;default:m={x:n.x,y:n.y}}switch(du(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const kW=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,s=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=gO(u,n,c),h=n,m={},g=0;for(let p=0;p<s.length;p++){const{name:x,fn:b}=s[p],{x:y,y:v,data:S,reset:_}=await b({x:d,y:f,initialPlacement:n,placement:h,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=v??f,m={...m,[x]:{...m[x],...S}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):_.rects),{x:d,y:f}=gO(u,h,c)),p=-1)}return{x:d,y:f,placement:h,strategy:i,middlewareData:m}};async function Yd(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:a,rects:o,elements:s,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=_a(t,e),g=w2(m),x=s[h?f==="floating"?"reference":"floating":f],b=vm(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(x)))==null||r?x:x.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,v=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(v))?await(a.getScale==null?void 0:a.getScale(v))||{x:1,y:1}:{x:1,y:1},_=vm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:y,offsetParent:v,strategy:c}):y);return{top:(b.top-_.top+g.top)/S.y,bottom:(_.bottom-b.bottom+g.bottom)/S.y,left:(b.left-_.left+g.left)/S.x,right:(_.right-b.right+g.right)/S.x}}const $W=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:a,platform:o,elements:s,middlewareData:c}=t,{element:u,padding:d=0}=_a(e,t)||{};if(u==null)return{};const f=w2(d),h={x:r,y:n},m=k1(i),g=T1(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",v=x?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[m]-h[m]-a.floating[g],_=h[m]-a.reference[m],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let E=j?j[v]:0;(!E||!await(o.isElement==null?void 0:o.isElement(j)))&&(E=s.floating[v]||a.floating[g]);const O=S/2-_/2,P=E/2-p[g]/2-1,M=Eo(f[b],P),C=Eo(f[y],P),$=M,N=E-p[g]-C,A=E/2-p[g]/2+O,R=y0($,A,N),I=!c.arrow&&du(i)!=null&&A!==R&&a.reference[g]/2-(A<$?M:C)-p[g]/2<0,z=I?A<$?A-$:A-N:0;return{[m]:h[m]+z,data:{[m]:R,centerOffset:A-R-z,...I&&{alignmentOffset:z}},reset:I}}}),RW=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:s,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=_a(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Sa(i),y=Oo(s),v=Sa(s)===s,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=h||(v||!p?[mm(s)]:AW(s)),j=g!=="none";!h&&j&&_.push(...CW(s,p,g,S));const E=[s,..._],O=await Yd(t,x),P=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&P.push(O[b]),f){const A=PW(i,o,S);P.push(O[A[0]],O[A[1]])}if(M=[...M,{placement:i,overflows:P}],!P.every(A=>A<=0)){var C,$;const A=(((C=a.flip)==null?void 0:C.index)||0)+1,R=E[A];if(R)return{data:{index:A,overflows:M},reset:{placement:R}};let I=($=M.filter(z=>z.overflows[0]<=0).sort((z,T)=>z.overflows[1]-T.overflows[1])[0])==null?void 0:$.placement;if(!I)switch(m){case"bestFit":{var N;const z=(N=M.filter(T=>{if(j){const D=Oo(T.placement);return D===y||D==="y"}return!0}).map(T=>[T.placement,T.overflows.filter(D=>D>0).reduce((D,H)=>D+H,0)]).sort((T,D)=>T[1]-D[1])[0])==null?void 0:N[0];z&&(I=z);break}case"initialPlacement":I=s;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function yO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xO(e){return jW.some(t=>e[t]>=0)}const IW=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=_a(e,t);switch(n){case"referenceHidden":{const a=await Yd(t,{...i,elementContext:"reference"}),o=yO(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xO(o)}}}case"escaped":{const a=await Yd(t,{...i,altBoundary:!0}),o=yO(a,r.floating);return{data:{escapedOffsets:o,escaped:xO(o)}}}default:return{}}}}};async function MW(e,t){const{placement:r,platform:n,elements:i}=e,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Sa(r),s=du(r),c=Oo(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=_a(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return s&&typeof g=="number"&&(m=s==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const DW=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:a,placement:o,middlewareData:s}=t,c=await MW(t,e);return o===((r=s.offset)==null?void 0:r.placement)&&(n=s.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},LW=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:s={fn:x=>{let{x:b,y}=x;return{x:b,y}}},...c}=_a(e,t),u={x:r,y:n},d=await Yd(t,c),f=Oo(Sa(i)),h=C1(f);let m=u[h],g=u[f];if(a){const x=h==="y"?"top":"left",b=h==="y"?"bottom":"right",y=m+d[x],v=m-d[b];m=y0(y,m,v)}if(o){const x=f==="y"?"top":"left",b=f==="y"?"bottom":"right",y=g+d[x],v=g-d[b];g=y0(y,g,v)}const p=s.fn({...t,[h]:m,[f]:g});return{...p,data:{x:p.x-r,y:p.y-n,enabled:{[h]:a,[f]:o}}}}}},FW=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=t,{offset:s=0,mainAxis:c=!0,crossAxis:u=!0}=_a(e,t),d={x:r,y:n},f=Oo(i),h=C1(f);let m=d[h],g=d[f];const p=_a(s,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const v=h==="y"?"height":"width",S=a.reference[h]-a.floating[v]+x.mainAxis,_=a.reference[h]+a.reference[v]-x.mainAxis;m<S?m=S:m>_&&(m=_)}if(u){var b,y;const v=h==="y"?"width":"height",S=["top","left"].includes(Sa(i)),_=a.reference[f]-a.floating[v]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:x.crossAxis),j=a.reference[f]+a.reference[v]+(S?0:((y=o.offset)==null?void 0:y[f])||0)-(S?x.crossAxis:0);g<_?g=_:g>j&&(g=j)}return{[h]:m,[f]:g}}}},BW=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:a,platform:o,elements:s}=t,{apply:c=()=>{},...u}=_a(e,t),d=await Yd(t,u),f=Sa(i),h=du(i),m=Oo(i)==="y",{width:g,height:p}=a.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(s.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,v=g-d.left-d.right,S=Eo(p-d[x],y),_=Eo(g-d[b],v),j=!t.middlewareData.shift;let E=S,O=_;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(O=v),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=y),j&&!h){const M=mn(d.left,0),C=mn(d.right,0),$=mn(d.top,0),N=mn(d.bottom,0);m?O=g-2*(M!==0||C!==0?M+C:mn(d.left,d.right)):E=p-2*($!==0||N!==0?$+N:mn(d.top,d.bottom))}await c({...t,availableWidth:O,availableHeight:E});const P=await o.getDimensions(s.floating);return g!==P.width||p!==P.height?{reset:{rects:!0}}:{}}}};function ng(){return typeof window<"u"}function fu(e){return _2(e)?(e.nodeName||"").toLowerCase():"#document"}function wn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hi(e){var t;return(t=(_2(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function _2(e){return ng()?e instanceof Node||e instanceof wn(e).Node:!1}function vi(e){return ng()?e instanceof Element||e instanceof wn(e).Element:!1}function Wi(e){return ng()?e instanceof HTMLElement||e instanceof wn(e).HTMLElement:!1}function bO(e){return!ng()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof wn(e).ShadowRoot}function Qf(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=gi(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function UW(e){return["table","td","th"].includes(fu(e))}function ig(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $1(e){const t=R1(),r=vi(e)?gi(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function zW(e){let t=Po(e);for(;Wi(t)&&!Pc(t);){if($1(t))return t;if(ig(t))return null;t=Po(t)}return null}function R1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Pc(e){return["html","body","#document"].includes(fu(e))}function gi(e){return wn(e).getComputedStyle(e)}function ag(e){return vi(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Po(e){if(fu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bO(e)&&e.host||Hi(e);return bO(t)?t.host:t}function S2(e){const t=Po(e);return Pc(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wi(t)&&Qf(t)?t:S2(t)}function Xd(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=S2(e),a=i===((n=e.ownerDocument)==null?void 0:n.body),o=wn(i);if(a){const s=b0(o);return t.concat(o,o.visualViewport||[],Qf(i)?i:[],s&&r?Xd(s):[])}return t.concat(i,Xd(i,[],r))}function b0(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function j2(e){const t=gi(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Wi(e),a=i?e.offsetWidth:r,o=i?e.offsetHeight:n,s=pm(r)!==a||pm(n)!==o;return s&&(r=a,n=o),{width:r,height:n,$:s}}function I1(e){return vi(e)?e:e.contextElement}function Ql(e){const t=I1(e);if(!Wi(t))return Ii(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:a}=j2(t);let o=(a?pm(r.width):r.width)/n,s=(a?pm(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!s||!Number.isFinite(s))&&(s=1),{x:o,y:s}}const VW=Ii(0);function E2(e){const t=wn(e);return!R1()||!t.visualViewport?VW:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WW(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==wn(e)?!1:t}function Ms(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),a=I1(e);let o=Ii(1);t&&(n?vi(n)&&(o=Ql(n)):o=Ql(e));const s=WW(a,r,n)?E2(a):Ii(0);let c=(i.left+s.x)/o.x,u=(i.top+s.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const h=wn(a),m=n&&vi(n)?wn(n):n;let g=h,p=b0(g);for(;p&&n&&m!==g;){const x=Ql(p),b=p.getBoundingClientRect(),y=gi(p),v=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,S=b.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=v,u+=S,g=wn(p),p=b0(g)}}return vm({width:d,height:f,x:c,y:u})}function M1(e,t){const r=ag(e).scrollLeft;return t?t.left+r:Ms(Hi(e)).left+r}function O2(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:M1(e,n)),a=n.top+t.scrollTop;return{x:i,y:a}}function qW(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const a=i==="fixed",o=Hi(n),s=t?ig(t.floating):!1;if(n===o||s&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Ii(1);const d=Ii(0),f=Wi(n);if((f||!f&&!a)&&((fu(n)!=="body"||Qf(o))&&(c=ag(n)),Wi(n))){const m=Ms(n);u=Ql(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!a?O2(o,c,!0):Ii(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function HW(e){return Array.from(e.getClientRects())}function KW(e){const t=Hi(e),r=ag(e),n=e.ownerDocument.body,i=mn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=mn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+M1(e);const s=-r.scrollTop;return gi(n).direction==="rtl"&&(o+=mn(t.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:s}}function GW(e,t){const r=wn(e),n=Hi(e),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,s=0,c=0;if(i){a=i.width,o=i.height;const u=R1();(!u||u&&t==="fixed")&&(s=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:s,y:c}}function YW(e,t){const r=Ms(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,a=Wi(e)?Ql(e):Ii(1),o=e.clientWidth*a.x,s=e.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:s,x:c,y:u}}function wO(e,t,r){let n;if(t==="viewport")n=GW(e,r);else if(t==="document")n=KW(Hi(e));else if(vi(t))n=YW(t,r);else{const i=E2(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return vm(n)}function P2(e,t){const r=Po(e);return r===t||!vi(r)||Pc(r)?!1:gi(r).position==="fixed"||P2(r,t)}function XW(e,t){const r=t.get(e);if(r)return r;let n=Xd(e,[],!1).filter(s=>vi(s)&&fu(s)!=="body"),i=null;const a=gi(e).position==="fixed";let o=a?Po(e):e;for(;vi(o)&&!Pc(o);){const s=gi(o),c=$1(o);!c&&s.position==="fixed"&&(i=null),(a?!c&&!i:!c&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Qf(o)&&!c&&P2(e,o))?n=n.filter(d=>d!==o):i=s,o=Po(o)}return t.set(e,n),n}function QW(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?ig(t)?[]:XW(t,this._c):[].concat(r),n],s=o[0],c=o.reduce((u,d)=>{const f=wO(t,d,i);return u.top=mn(f.top,u.top),u.right=Eo(f.right,u.right),u.bottom=Eo(f.bottom,u.bottom),u.left=mn(f.left,u.left),u},wO(t,s,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JW(e){const{width:t,height:r}=j2(e);return{width:t,height:r}}function ZW(e,t,r){const n=Wi(t),i=Hi(t),a=r==="fixed",o=Ms(e,!0,a,t);let s={scrollLeft:0,scrollTop:0};const c=Ii(0);if(n||!n&&!a)if((fu(t)!=="body"||Qf(i))&&(s=ag(t)),n){const h=Ms(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&(c.x=M1(i));const u=i&&!n&&!a?O2(i,s):Ii(0),d=o.left+s.scrollLeft-c.x-u.x,f=o.top+s.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function ax(e){return gi(e).position==="static"}function _O(e,t){if(!Wi(e)||gi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Hi(e)===r&&(r=r.ownerDocument.body),r}function A2(e,t){const r=wn(e);if(ig(e))return r;if(!Wi(e)){let i=Po(e);for(;i&&!Pc(i);){if(vi(i)&&!ax(i))return i;i=Po(i)}return r}let n=_O(e,t);for(;n&&UW(n)&&ax(n);)n=_O(n,t);return n&&Pc(n)&&ax(n)&&!$1(n)?r:n||zW(e)||r}const eq=async function(e){const t=this.getOffsetParent||A2,r=this.getDimensions,n=await r(e.floating);return{reference:ZW(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tq(e){return gi(e).direction==="rtl"}const rq={convertOffsetParentRelativeRectToViewportRelativeRect:qW,getDocumentElement:Hi,getClippingRect:QW,getOffsetParent:A2,getElementRects:eq,getClientRects:HW,getDimensions:JW,getScale:Ql,isElement:vi,isRTL:tq};function N2(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nq(e,t){let r=null,n;const i=Hi(e);function a(){var s;clearTimeout(n),(s=r)==null||s.disconnect(),r=null}function o(s,c){s===void 0&&(s=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(s||t(),!h||!m)return;const g=Vh(f),p=Vh(i.clientWidth-(d+h)),x=Vh(i.clientHeight-(f+m)),b=Vh(d),v={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:mn(0,Eo(1,c))||1};let S=!0;function _(j){const E=j[0].intersectionRatio;if(E!==c){if(!S)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!N2(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(_,{...v,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,v)}r.observe(e)}return o(!0),a}function iq(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=I1(e),d=i||a?[...u?Xd(u):[],...Xd(t)]:[];d.forEach(b=>{i&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&s?nq(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?Ms(e):null;c&&x();function x(){const b=Ms(e);p&&!N2(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{i&&y.removeEventListener("scroll",r),a&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const aq=DW,oq=LW,sq=RW,lq=BW,cq=IW,SO=$W,uq=FW,dq=(e,t,r)=>{const n=new Map,i={platform:rq,...r},a={...i.platform,_c:n};return kW(e,t,{...i,platform:a})};var Dp=typeof document<"u"?w.useLayoutEffect:w.useEffect;function gm(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!gm(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&e.$$typeof)&&!gm(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function C2(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function jO(e,t){const r=C2(e);return Math.round(t*r)/r}function ox(e){const t=w.useRef(e);return Dp(()=>{t.current=e}),t}function fq(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:s=!0,whileElementsMounted:c,open:u}=e,[d,f]=w.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=w.useState(n);gm(h,n)||m(n);const[g,p]=w.useState(null),[x,b]=w.useState(null),y=w.useCallback(T=>{T!==j.current&&(j.current=T,p(T))},[]),v=w.useCallback(T=>{T!==E.current&&(E.current=T,b(T))},[]),S=a||g,_=o||x,j=w.useRef(null),E=w.useRef(null),O=w.useRef(d),P=c!=null,M=ox(c),C=ox(i),$=ox(u),N=w.useCallback(()=>{if(!j.current||!E.current)return;const T={placement:t,strategy:r,middleware:h};C.current&&(T.platform=C.current),dq(j.current,E.current,T).then(D=>{const H={...D,isPositioned:$.current!==!1};A.current&&!gm(O.current,H)&&(O.current=H,Gs.flushSync(()=>{f(H)}))})},[h,t,r,C,$]);Dp(()=>{u===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const A=w.useRef(!1);Dp(()=>(A.current=!0,()=>{A.current=!1}),[]),Dp(()=>{if(S&&(j.current=S),_&&(E.current=_),S&&_){if(M.current)return M.current(S,_,N);N()}},[S,_,N,M,P]);const R=w.useMemo(()=>({reference:j,floating:E,setReference:y,setFloating:v}),[y,v]),I=w.useMemo(()=>({reference:S,floating:_}),[S,_]),z=w.useMemo(()=>{const T={position:r,left:0,top:0};if(!I.floating)return T;const D=jO(I.floating,d.x),H=jO(I.floating,d.y);return s?{...T,transform:"translate("+D+"px, "+H+"px)",...C2(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:H}},[r,s,I.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:N,refs:R,elements:I,floatingStyles:z}),[d,N,R,I,z])}const hq=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?SO({element:n.current,padding:i}).fn(r):{}:n?SO({element:n,padding:i}).fn(r):{}}}},pq=(e,t)=>({...aq(e),options:[e,t]}),mq=(e,t)=>({...oq(e),options:[e,t]}),vq=(e,t)=>({...uq(e),options:[e,t]}),gq=(e,t)=>({...sq(e),options:[e,t]}),yq=(e,t)=>({...lq(e),options:[e,t]}),xq=(e,t)=>({...cq(e),options:[e,t]}),bq=(e,t)=>({...hq(e),options:[e,t]});var wq="Arrow",T2=w.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...a}=e;return l.jsx(je.svg,{...a,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});T2.displayName=wq;var _q=T2;function k2(e){const[t,r]=w.useState(void 0);return lr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,s;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,s=u.blockSize}else o=e.offsetWidth,s=e.offsetHeight;r({width:o,height:s})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var D1="Popper",[$2,$o]=an(D1),[Sq,R2]=$2(D1),I2=e=>{const{__scopePopper:t,children:r}=e,[n,i]=w.useState(null);return l.jsx(Sq,{scope:t,anchor:n,onAnchorChange:i,children:r})};I2.displayName=D1;var M2="PopperAnchor",D2=w.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,a=R2(M2,r),o=w.useRef(null),s=Je(t,o);return w.useEffect(()=>{a.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:l.jsx(je.div,{...i,ref:s})});D2.displayName=M2;var L1="PopperContent",[jq,Eq]=$2(L1),L2=w.forwardRef((e,t)=>{var te,ae,Y,de,ue,X;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:s=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=R2(L1,r),[b,y]=w.useState(null),v=Je(t,De=>y(De)),[S,_]=w.useState(null),j=k2(S),E=(j==null?void 0:j.width)??0,O=(j==null?void 0:j.height)??0,P=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},C=Array.isArray(u)?u:[u],$=C.length>0,N={padding:M,boundary:C.filter(Pq),altBoundary:$},{refs:A,floatingStyles:R,placement:I,isPositioned:z,middlewareData:T}=fq({strategy:"fixed",placement:P,whileElementsMounted:(...De)=>iq(...De,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[pq({mainAxis:i+O,alignmentAxis:o}),c&&mq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vq():void 0,...N}),c&&gq({...N}),yq({...N,apply:({elements:De,rects:Ce,availableWidth:et,availableHeight:Ye})=>{const{width:W,height:me}=Ce.reference,le=De.floating.style;le.setProperty("--radix-popper-available-width",`${et}px`),le.setProperty("--radix-popper-available-height",`${Ye}px`),le.setProperty("--radix-popper-anchor-width",`${W}px`),le.setProperty("--radix-popper-anchor-height",`${me}px`)}}),S&&bq({element:S,padding:s}),Aq({arrowWidth:E,arrowHeight:O}),h&&xq({strategy:"referenceHidden",...N})]}),[D,H]=U2(I),G=_r(g);lr(()=>{z&&(G==null||G())},[z,G]);const k=(te=T.arrow)==null?void 0:te.x,F=(ae=T.arrow)==null?void 0:ae.y,K=((Y=T.arrow)==null?void 0:Y.centerOffset)!==0,[J,se]=w.useState();return lr(()=>{b&&se(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:z?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:J,"--radix-popper-transform-origin":[(de=T.transformOrigin)==null?void 0:de.x,(ue=T.transformOrigin)==null?void 0:ue.y].join(" "),...((X=T.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(jq,{scope:r,placedSide:D,onArrowChange:_,arrowX:k,arrowY:F,shouldHideArrow:K,children:l.jsx(je.div,{"data-side":D,"data-align":H,...p,ref:v,style:{...p.style,animation:z?void 0:"none"}})})})});L2.displayName=L1;var F2="PopperArrow",Oq={top:"bottom",right:"left",bottom:"top",left:"right"},B2=w.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,a=Eq(F2,n),o=Oq[a.placedSide];return l.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:l.jsx(_q,{...i,ref:r,style:{...i.style,display:"block"}})})});B2.displayName=F2;function Pq(e){return e!==null}var Aq=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:i}=t,o=((x=i.arrow)==null?void 0:x.centerOffset)!==0,s=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=U2(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=i.arrow)==null?void 0:b.x)??0)+s/2,m=(((y=i.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function U2(e){const[t,r="center"]=e.split("-");return[t,r]}var og=I2,Jf=D2,sg=L2,lg=B2,[cg,sEe]=an("Tooltip",[$o]),ug=$o(),z2="TooltipProvider",Nq=700,w0="tooltip.open",[Cq,F1]=cg(z2),V2=e=>{const{__scopeTooltip:t,delayDuration:r=Nq,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=e,o=w.useRef(!0),s=w.useRef(!1),c=w.useRef(0);return w.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),l.jsx(Cq,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:w.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:s,onPointerInTransitChange:w.useCallback(u=>{s.current=u},[]),disableHoverableContent:i,children:a})};V2.displayName=z2;var dg="Tooltip",[Tq,fg]=cg(dg),W2=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i=!1,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=F1(dg,e.__scopeTooltip),u=ug(t),[d,f]=w.useState(null),h=pr(),m=w.useRef(0),g=o??c.disableHoverableContent,p=s??c.delayDuration,x=w.useRef(!1),[b=!1,y]=Vi({prop:n,defaultProp:i,onChange:E=>{E?(c.onOpen(),document.dispatchEvent(new CustomEvent(w0))):c.onClose(),a==null||a(E)}}),v=w.useMemo(()=>b?x.current?"delayed-open":"instant-open":"closed",[b]),S=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,y(!0)},[y]),_=w.useCallback(()=>{window.clearTimeout(m.current),m.current=0,y(!1)},[y]),j=w.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,y(!0),m.current=0},p)},[p,y]);return w.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(og,{...u,children:l.jsx(Tq,{scope:t,contentId:h,open:b,stateAttribute:v,trigger:d,onTriggerChange:f,onTriggerEnter:w.useCallback(()=>{c.isOpenDelayedRef.current?j():S()},[c.isOpenDelayedRef,j,S]),onTriggerLeave:w.useCallback(()=>{g?_():(window.clearTimeout(m.current),m.current=0)},[_,g]),onOpen:S,onClose:_,disableHoverableContent:g,children:r})})};W2.displayName=dg;var _0="TooltipTrigger",q2=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=fg(_0,r),a=F1(_0,r),o=ug(r),s=w.useRef(null),c=Je(t,s,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Jf,{asChild:!0,...o,children:l.jsx(je.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:pe(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:pe(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:pe(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pe(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:pe(e.onBlur,i.onClose),onClick:pe(e.onClick,i.onClose)})})});q2.displayName=_0;var kq="TooltipPortal",[lEe,$q]=cg(kq,{forceMount:void 0}),Ac="TooltipContent",H2=w.forwardRef((e,t)=>{const r=$q(Ac,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=e,o=fg(Ac,e.__scopeTooltip);return l.jsx(on,{present:n||o.open,children:o.disableHoverableContent?l.jsx(K2,{side:i,...a,ref:t}):l.jsx(Rq,{side:i,...a,ref:t})})}),Rq=w.forwardRef((e,t)=>{const r=fg(Ac,e.__scopeTooltip),n=F1(Ac,e.__scopeTooltip),i=w.useRef(null),a=Je(t,i),[o,s]=w.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,h=w.useCallback(()=>{s(null),f(!1)},[f]),m=w.useCallback((g,p)=>{const x=g.currentTarget,b={x:g.clientX,y:g.clientY},y=Fq(b,x.getBoundingClientRect()),v=Bq(b,y),S=Uq(p.getBoundingClientRect()),_=Vq([...v,...S]);s(_),f(!0)},[f]);return w.useEffect(()=>()=>h(),[h]),w.useEffect(()=>{if(c&&d){const g=x=>m(x,d),p=x=>m(x,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",p),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",p)}}},[c,d,m,h]),w.useEffect(()=>{if(o){const g=p=>{const x=p.target,b={x:p.clientX,y:p.clientY},y=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),v=!zq(b,o);y?h():v&&(h(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,h]),l.jsx(K2,{...e,ref:a})}),[Iq,Mq]=cg(dg,{isInside:!1}),Dq=O8("TooltipContent"),K2=w.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=fg(Ac,r),u=ug(r),{onClose:d}=c;return w.useEffect(()=>(document.addEventListener(w0,d),()=>document.removeEventListener(w0,d)),[d]),w.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Ys,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(sg,{"data-state":c.stateAttribute,...u,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Dq,{children:n}),l.jsx(Iq,{scope:r,isInside:!0,children:l.jsx(H8,{id:c.contentId,role:"tooltip",children:i||n})})]})})});H2.displayName=Ac;var G2="TooltipArrow",Lq=w.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=ug(r);return Mq(G2,r).isInside?null:l.jsx(lg,{...i,...n,ref:t})});Lq.displayName=G2;function Fq(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Bq(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function Uq(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function zq(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-s)*(n-c)/(d-c)+s&&(i=!i)}return i}function Vq(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Wq(t)}function Wq(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var qq=V2,Hq=W2,Kq=q2,Y2=H2;const X2=qq,Gq=Hq,Yq=Kq,Q2=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Y2,{ref:n,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Q2.displayName=Y2.displayName;const Xq={theme:"system",setTheme:()=>null},J2=w.createContext(Xq);function Qq({children:e,defaultTheme:t="system",storageKey:r="visonixro-theme",...n}){const[i,a]=w.useState(()=>localStorage.getItem(r)||t);w.useEffect(()=>{const s=window.document.documentElement;if(s.classList.remove("light","dark"),i==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";s.classList.add(c);return}s.classList.add(i)},[i]);const o={theme:i,setTheme:s=>{localStorage.setItem(r,s),a(s)}};return l.jsx(J2.Provider,{...n,value:o,children:e})}const Jq=()=>{const e=w.useContext(J2);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Zq=cu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"w-full sm:w-auto min-h-9 px-4 py-2",sm:"w-full sm:w-auto min-h-8 rounded-md px-3 text-xs",lg:"w-full sm:w-auto min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),re=w.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},a)=>{const o=n?Xv:"button";return l.jsx(o,{className:he(Zq({variant:t,size:r,className:e})),ref:a,...i})});re.displayName="Button";function eH(){const{theme:e,setTheme:t}=Jq();return l.jsxs(re,{variant:"ghost",size:"icon",onClick:()=>t(e==="light"?"dark":"light"),"data-testid":"button-theme-toggle",children:[l.jsx($V,{className:"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),l.jsx(OV,{className:"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),l.jsx("span",{className:"sr-only",children:"Cambiar tema"})]})}const sx=768;function tH(){const[e,t]=w.useState(void 0);return w.useEffect(()=>{const r=window.matchMedia(`(max-width: ${sx-1}px)`),n=()=>{t(window.innerWidth<sx)};return r.addEventListener("change",n),t(window.innerWidth<sx),()=>r.removeEventListener("change",n)},[]),!!e}const Ue=w.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:he("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ue.displayName="Input";var rH="Separator",EO="horizontal",nH=["horizontal","vertical"],Z2=w.forwardRef((e,t)=>{const{decorative:r,orientation:n=EO,...i}=e,a=iH(n)?n:EO,s=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return l.jsx(je.div,{"data-orientation":a,...s,...i,ref:t})});Z2.displayName=rH;function iH(e){return nH.includes(e)}var eI=Z2;const aH=w.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>l.jsx(eI,{ref:i,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));aH.displayName=eI.displayName;var lx="focusScope.autoFocusOnMount",cx="focusScope.autoFocusOnUnmount",OO={bubbles:!1,cancelable:!0},oH="FocusScope",Zf=w.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[s,c]=w.useState(null),u=_r(i),d=_r(a),f=w.useRef(null),h=Je(t,p=>c(p)),m=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(n){let p=function(v){if(m.paused||!s)return;const S=v.target;s.contains(S)?f.current=S:La(f.current,{select:!0})},x=function(v){if(m.paused||!s)return;const S=v.relatedTarget;S!==null&&(s.contains(S)||La(f.current,{select:!0}))},b=function(v){if(document.activeElement===document.body)for(const _ of v)_.removedNodes.length>0&&La(s)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(b);return s&&y.observe(s,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,s,m.paused]),w.useEffect(()=>{if(s){AO.add(m);const p=document.activeElement;if(!s.contains(p)){const b=new CustomEvent(lx,OO);s.addEventListener(lx,u),s.dispatchEvent(b),b.defaultPrevented||(sH(fH(tI(s)),{select:!0}),document.activeElement===p&&La(s))}return()=>{s.removeEventListener(lx,u),setTimeout(()=>{const b=new CustomEvent(cx,OO);s.addEventListener(cx,d),s.dispatchEvent(b),b.defaultPrevented||La(p??document.body,{select:!0}),s.removeEventListener(cx,d),AO.remove(m)},0)}}},[s,u,d,m]);const g=w.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const y=p.currentTarget,[v,S]=lH(y);v&&S?!p.shiftKey&&b===S?(p.preventDefault(),r&&La(v,{select:!0})):p.shiftKey&&b===v&&(p.preventDefault(),r&&La(S,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return l.jsx(je.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Zf.displayName=oH;function sH(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(La(n,{select:t}),document.activeElement!==r)return}function lH(e){const t=tI(e),r=PO(t,e),n=PO(t.reverse(),e);return[r,n]}function tI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PO(e,t){for(const r of e)if(!cH(r,{upTo:t}))return r}function cH(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uH(e){return e instanceof HTMLInputElement&&"select"in e}function La(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uH(e)&&t&&e.select()}}var AO=dH();function dH(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=NO(e,t),e.unshift(t)},remove(t){var r;e=NO(e,t),(r=e[0])==null||r.resume()}}}function NO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function fH(e){return e.filter(t=>t.tagName!=="A")}var ux=0;function hg(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??CO()),document.body.insertAdjacentElement("beforeend",e[1]??CO()),ux++,()=>{ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ux--}},[])}function CO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var S0=function(e,t){return S0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},S0(e,t)};function rI(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");S0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Rn=function(){return Rn=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Rn.apply(this,arguments)};function Ro(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function nI(e,t,r,n){var i=arguments.length,a=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function iI(e,t){return function(r,n){t(r,n,e)}}function aI(e,t,r,n,i,a){function o(b){if(b!==void 0&&typeof b!="function")throw new TypeError("Function expected");return b}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var p in n)g[p]=p==="access"?{}:n[p];for(var p in n.access)g.access[p]=n.access[p];g.addInitializer=function(b){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(o(b||null))};var x=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],g);if(s==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(f=o(x.get))&&(d.get=f),(f=o(x.set))&&(d.set=f),(f=o(x.init))&&i.unshift(f)}else(f=o(x))&&(s==="field"?i.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function oI(e,t,r){for(var n=arguments.length>2,i=0;i<t.length;i++)r=n?t[i].call(e,r):t[i].call(e);return n?r:void 0}function sI(e){return typeof e=="symbol"?e:"".concat(e)}function lI(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function cI(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function Se(e,t,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function uI(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(a=u[0]&2?i.return:u[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,u[1])).done)return a;switch(i=0,a&&(u=[u[0]&2,a.value]),u[0]){case 0:case 1:a=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!a||u[1]>a[0]&&u[1]<a[3])){r.label=u[1];break}if(u[0]===6&&r.label<a[1]){r.label=a[1],a=u;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(u);break}a[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],i=0}finally{n=a=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var pg=Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function dI(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&pg(t,e,r)}function ym(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function B1(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return a}function fI(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(B1(arguments[t]));return e}function hI(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function U1(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function Nc(e){return this instanceof Nc?(this.v=e,this):new Nc(e)}function pI(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(m){return function(g){return Promise.resolve(g).then(m,f)}}function s(m,g){n[m]&&(i[m]=function(p){return new Promise(function(x,b){a.push([m,p,x,b])>1||c(m,p)})},g&&(i[m]=g(i[m])))}function c(m,g){try{u(n[m](g))}catch(p){h(a[0][3],p)}}function u(m){m.value instanceof Nc?Promise.resolve(m.value.v).then(d,f):h(a[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,g){m(g),a.shift(),a.length&&c(a[0][0],a[0][1])}}function mI(e){var t,r;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,a){t[i]=e[i]?function(o){return(r=!r)?{value:Nc(e[i](o)),done:!1}:a?a(o):o}:a}}function vI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof ym=="function"?ym(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(a){r[a]=e[a]&&function(o){return new Promise(function(s,c){o=e[a](o),i(s,c,o.done,o.value)})}}function i(a,o,s,c){Promise.resolve(c).then(function(u){a({value:u,done:s})},o)}}function gI(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var hH=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},j0=function(e){return j0=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},j0(e)};function yI(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=j0(e),n=0;n<r.length;n++)r[n]!=="default"&&pg(t,e,r[n]);return hH(t,e),t}function xI(e){return e&&e.__esModule?e:{default:e}}function bI(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function wI(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}function _I(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function SI(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(a){return Promise.reject(a)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var pH=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function jI(e){function t(a){e.error=e.hasError?new pH(a,e.error,"An error was suppressed during disposal."):a,e.hasError=!0}var r,n=0;function i(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(i);if(r.dispose){var a=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(a).then(i,function(o){return t(o),i()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function EI(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,a,o){return n?t?".jsx":".js":i&&(!a||!o)?r:i+a+"."+o.toLowerCase()+"js"}):e}const mH={__extends:rI,__assign:Rn,__rest:Ro,__decorate:nI,__param:iI,__esDecorate:aI,__runInitializers:oI,__propKey:sI,__setFunctionName:lI,__metadata:cI,__awaiter:Se,__generator:uI,__createBinding:pg,__exportStar:dI,__values:ym,__read:B1,__spread:fI,__spreadArrays:hI,__spreadArray:U1,__await:Nc,__asyncGenerator:pI,__asyncDelegator:mI,__asyncValues:vI,__makeTemplateObject:gI,__importStar:yI,__importDefault:xI,__classPrivateFieldGet:bI,__classPrivateFieldSet:wI,__classPrivateFieldIn:_I,__addDisposableResource:SI,__disposeResources:jI,__rewriteRelativeImportExtension:EI},vH=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:SI,get __assign(){return Rn},__asyncDelegator:mI,__asyncGenerator:pI,__asyncValues:vI,__await:Nc,__awaiter:Se,__classPrivateFieldGet:bI,__classPrivateFieldIn:_I,__classPrivateFieldSet:wI,__createBinding:pg,__decorate:nI,__disposeResources:jI,__esDecorate:aI,__exportStar:dI,__extends:rI,__generator:uI,__importDefault:xI,__importStar:yI,__makeTemplateObject:gI,__metadata:cI,__param:iI,__propKey:sI,__read:B1,__rest:Ro,__rewriteRelativeImportExtension:EI,__runInitializers:oI,__setFunctionName:lI,__spread:fI,__spreadArray:U1,__spreadArrays:hI,__values:ym,default:mH},Symbol.toStringTag,{value:"Module"}));var Lp="right-scroll-bar-position",Fp="width-before-scroll-bar",gH="with-scroll-bars-hidden",yH="--removed-body-scroll-bar-size";function dx(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function xH(e,t){var r=w.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var bH=typeof window<"u"?w.useLayoutEffect:w.useEffect,TO=new WeakMap;function wH(e,t){var r=xH(null,function(n){return e.forEach(function(i){return dx(i,n)})});return bH(function(){var n=TO.get(r);if(n){var i=new Set(n),a=new Set(e),o=r.current;i.forEach(function(s){a.has(s)||dx(s,null)}),a.forEach(function(s){i.has(s)||dx(s,o)})}TO.set(r,e)},[e]),r}function _H(e){return e}function SH(e,t){t===void 0&&(t=_H);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(s){return s!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(s){return a(s)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var s=r;r=[],s.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function jH(e){e===void 0&&(e={});var t=SH(null);return t.options=Rn({async:!0,ssr:!1},e),t}var OI=function(e){var t=e.sideCar,r=Ro(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return w.createElement(n,Rn({},r))};OI.isSideCarExport=!0;function EH(e,t){return e.useMedium(t),OI}var PI=jH(),fx=function(){},mg=w.forwardRef(function(e,t){var r=w.useRef(null),n=w.useState({onScrollCapture:fx,onWheelCapture:fx,onTouchMoveCapture:fx}),i=n[0],a=n[1],o=e.forwardProps,s=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,g=e.inert,p=e.allowPinchZoom,x=e.as,b=x===void 0?"div":x,y=e.gapMode,v=Ro(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,_=wH([r,t]),j=Rn(Rn({},v),i);return w.createElement(w.Fragment,null,d&&w.createElement(S,{sideCar:PI,removeScrollBar:u,shards:f,noIsolation:m,inert:g,setCallbacks:a,allowPinchZoom:!!p,lockRef:r,gapMode:y}),o?w.cloneElement(w.Children.only(s),Rn(Rn({},j),{ref:_})):w.createElement(b,Rn({},j,{className:c,ref:_}),s))});mg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mg.classNames={fullWidth:Fp,zeroRight:Lp};var OH=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function PH(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=OH();return t&&e.setAttribute("nonce",t),e}function AH(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NH(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CH=function(){var e=0,t=null;return{add:function(r){e==0&&(t=PH())&&(AH(t,r),NH(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TH=function(){var e=CH();return function(t,r){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},AI=function(){var e=TH(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},kH={left:0,top:0,right:0,gap:0},hx=function(e){return parseInt(e||"",10)||0},$H=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[hx(r),hx(n),hx(i)]},RH=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return kH;var t=$H(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},IH=AI(),Jl="data-scroll-locked",MH=function(e,t,r,n){var i=e.left,a=e.top,o=e.right,s=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gH,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(s,"px ").concat(n,`;
  }
  body[`).concat(Jl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(s,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(s,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Lp,` {
    right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Fp,` {
    margin-right: `).concat(s,"px ").concat(n,`;
  }
  
  .`).concat(Lp," .").concat(Lp,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fp," .").concat(Fp,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Jl,`] {
    `).concat(yH,": ").concat(s,`px;
  }
`)},kO=function(){var e=parseInt(document.body.getAttribute(Jl)||"0",10);return isFinite(e)?e:0},DH=function(){w.useEffect(function(){return document.body.setAttribute(Jl,(kO()+1).toString()),function(){var e=kO()-1;e<=0?document.body.removeAttribute(Jl):document.body.setAttribute(Jl,e.toString())}},[])},LH=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;DH();var a=w.useMemo(function(){return RH(i)},[i]);return w.createElement(IH,{styles:MH(a,!t,i,r?"":"!important")})},E0=!1;if(typeof window<"u")try{var Wh=Object.defineProperty({},"passive",{get:function(){return E0=!0,!0}});window.addEventListener("test",Wh,Wh),window.removeEventListener("test",Wh,Wh)}catch{E0=!1}var ol=E0?{passive:!1}:!1,FH=function(e){return e.tagName==="TEXTAREA"},NI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!FH(e)&&r[t]==="visible")},BH=function(e){return NI(e,"overflowY")},UH=function(e){return NI(e,"overflowX")},$O=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=CI(e,n);if(i){var a=TI(e,n),o=a[1],s=a[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zH=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},VH=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},CI=function(e,t){return e==="v"?BH(t):UH(t)},TI=function(e,t){return e==="v"?zH(t):VH(t)},WH=function(e,t){return e==="h"&&t==="rtl"?-1:1},qH=function(e,t,r,n,i){var a=WH(e,window.getComputedStyle(t).direction),o=a*n,s=r.target,c=t.contains(s),u=!1,d=o>0,f=0,h=0;do{var m=TI(e,s),g=m[0],p=m[1],x=m[2],b=p-x-a*g;(g||b)&&CI(e,s)&&(f+=b,h+=g),s instanceof ShadowRoot?s=s.host:s=s.parentNode}while(!c&&s!==document.body||c&&(t.contains(s)||t===s));return(d&&(Math.abs(f)<1||!i)||!d&&(Math.abs(h)<1||!i))&&(u=!0),u},qh=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},RO=function(e){return[e.deltaX,e.deltaY]},IO=function(e){return e&&"current"in e?e.current:e},HH=function(e,t){return e[0]===t[0]&&e[1]===t[1]},KH=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GH=0,sl=[];function YH(e){var t=w.useRef([]),r=w.useRef([0,0]),n=w.useRef(),i=w.useState(GH++)[0],a=w.useState(AI)[0],o=w.useRef(e);w.useEffect(function(){o.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var p=U1([e.lockRef.current],(e.shards||[]).map(IO),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var s=w.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=qh(p),y=r.current,v="deltaX"in p?p.deltaX:y[0]-b[0],S="deltaY"in p?p.deltaY:y[1]-b[1],_,j=p.target,E=Math.abs(v)>Math.abs(S)?"h":"v";if("touches"in p&&E==="h"&&j.type==="range")return!1;var O=$O(E,j);if(!O)return!0;if(O?_=E:(_=E==="v"?"h":"v",O=$O(E,j)),!O)return!1;if(!n.current&&"changedTouches"in p&&(v||S)&&(n.current=_),!_)return!0;var P=n.current||_;return qH(P,x,p,P==="h"?v:S,!0)},[]),c=w.useCallback(function(p){var x=p;if(!(!sl.length||sl[sl.length-1]!==a)){var b="deltaY"in x?RO(x):qh(x),y=t.current.filter(function(_){return _.name===x.type&&(_.target===x.target||x.target===_.shadowParent)&&HH(_.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var v=(o.current.shards||[]).map(IO).filter(Boolean).filter(function(_){return _.contains(x.target)}),S=v.length>0?s(x,v[0]):!o.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),u=w.useCallback(function(p,x,b,y){var v={name:p,delta:x,target:b,should:y,shadowParent:XH(b)};t.current.push(v),setTimeout(function(){t.current=t.current.filter(function(S){return S!==v})},1)},[]),d=w.useCallback(function(p){r.current=qh(p),n.current=void 0},[]),f=w.useCallback(function(p){u(p.type,RO(p),p.target,s(p,e.lockRef.current))},[]),h=w.useCallback(function(p){u(p.type,qh(p),p.target,s(p,e.lockRef.current))},[]);w.useEffect(function(){return sl.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ol),document.addEventListener("touchmove",c,ol),document.addEventListener("touchstart",d,ol),function(){sl=sl.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,ol),document.removeEventListener("touchmove",c,ol),document.removeEventListener("touchstart",d,ol)}},[]);var m=e.removeScrollBar,g=e.inert;return w.createElement(w.Fragment,null,g?w.createElement(a,{styles:KH(i)}):null,m?w.createElement(LH,{gapMode:e.gapMode}):null)}function XH(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QH=EH(PI,YH);var eh=w.forwardRef(function(e,t){return w.createElement(mg,Rn({},e,{ref:t,sideCar:QH}))});eh.classNames=mg.classNames;var JH=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ll=new WeakMap,Hh=new WeakMap,Kh={},px=0,kI=function(e){return e&&(e.host||kI(e.parentNode))},ZH=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=kI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},eK=function(e,t,r,n){var i=ZH(t,Array.isArray(e)?e:[e]);Kh[r]||(Kh[r]=new WeakMap);var a=Kh[r],o=[],s=new Set,c=new Set(i),u=function(f){!f||s.has(f)||(s.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(s.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(ll.get(h)||0)+1,x=(a.get(h)||0)+1;ll.set(h,p),a.set(h,x),o.push(h),p===1&&g&&Hh.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),s.clear(),px++,function(){o.forEach(function(f){var h=ll.get(f)-1,m=a.get(f)-1;ll.set(f,h),a.set(f,m),h||(Hh.has(f)||f.removeAttribute(n),Hh.delete(f)),m||f.removeAttribute(r)}),px--,px||(ll=new WeakMap,ll=new WeakMap,Hh=new WeakMap,Kh={})}},vg=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=JH(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),eK(n,i,r,"aria-hidden")):function(){return null}},z1="Dialog",[$I,cEe]=an(z1),[tK,xi]=$I(z1),RI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=w.useRef(null),c=w.useRef(null),[u=!1,d]=Vi({prop:n,defaultProp:i,onChange:a});return l.jsx(tK,{scope:t,triggerRef:s,contentRef:c,contentId:pr(),titleId:pr(),descriptionId:pr(),open:u,onOpenChange:d,onOpenToggle:w.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};RI.displayName=z1;var II="DialogTrigger",rK=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xi(II,r),a=Je(t,i.triggerRef);return l.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":q1(i.open),...n,ref:a,onClick:pe(e.onClick,i.onOpenToggle)})});rK.displayName=II;var V1="DialogPortal",[nK,MI]=$I(V1,{forceMount:void 0}),DI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=xi(V1,t);return l.jsx(nK,{scope:t,forceMount:r,children:w.Children.map(n,o=>l.jsx(on,{present:r||a.open,children:l.jsx(lu,{asChild:!0,container:i,children:o})}))})};DI.displayName=V1;var xm="DialogOverlay",LI=w.forwardRef((e,t)=>{const r=MI(xm,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xi(xm,e.__scopeDialog);return a.modal?l.jsx(on,{present:n||a.open,children:l.jsx(aK,{...i,ref:t})}):null});LI.displayName=xm;var iK=So("DialogOverlay.RemoveScroll"),aK=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xi(xm,r);return l.jsx(eh,{as:iK,allowPinchZoom:!0,shards:[i.contentRef],children:l.jsx(je.div,{"data-state":q1(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ds="DialogContent",FI=w.forwardRef((e,t)=>{const r=MI(Ds,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=xi(Ds,e.__scopeDialog);return l.jsx(on,{present:n||a.open,children:a.modal?l.jsx(oK,{...i,ref:t}):l.jsx(sK,{...i,ref:t})})});FI.displayName=Ds;var oK=w.forwardRef((e,t)=>{const r=xi(Ds,e.__scopeDialog),n=w.useRef(null),i=Je(t,r.contentRef,n);return w.useEffect(()=>{const a=n.current;if(a)return vg(a)},[]),l.jsx(BI,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,s=o.button===0&&o.ctrlKey===!0;(o.button===2||s)&&a.preventDefault()}),onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault())})}),sK=w.forwardRef((e,t)=>{const r=xi(Ds,e.__scopeDialog),n=w.useRef(!1),i=w.useRef(!1);return l.jsx(BI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),BI=w.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=xi(Ds,r),c=w.useRef(null),u=Je(t,c);return hg(),l.jsxs(l.Fragment,{children:[l.jsx(Zf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Ys,{role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":q1(s.open),...o,ref:u,onDismiss:()=>s.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(lK,{titleId:s.titleId}),l.jsx(uK,{contentRef:c,descriptionId:s.descriptionId})]})]})}),W1="DialogTitle",UI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xi(W1,r);return l.jsx(je.h2,{id:i.titleId,...n,ref:t})});UI.displayName=W1;var zI="DialogDescription",VI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xi(zI,r);return l.jsx(je.p,{id:i.descriptionId,...n,ref:t})});VI.displayName=zI;var WI="DialogClose",qI=w.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=xi(WI,r);return l.jsx(je.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});qI.displayName=WI;function q1(e){return e?"open":"closed"}var HI="DialogTitleWarning",[uEe,KI]=S8(HI,{contentName:Ds,titleName:W1,docsSlug:"dialog"}),lK=({titleId:e})=>{const t=KI(HI),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return w.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},cK="DialogDescriptionWarning",uK=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${KI(cK).contentName}}.`;return w.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},H1=RI,K1=DI,th=LI,rh=FI,gg=UI,yg=VI,GI=qI;const dK=H1,fK=K1,YI=w.forwardRef(({className:e,...t},r)=>l.jsx(th,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));YI.displayName=th.displayName;const hK=cu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),XI=w.forwardRef(({side:e="right",className:t,children:r,...n},i)=>l.jsx(fK,{children:l.jsxs(l.Fragment,{children:[l.jsx(YI,{}),l.jsxs(rh,{ref:i,className:he(hK({side:e}),t),...n,children:[r,l.jsxs(GI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[l.jsx(rg,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));XI.displayName=rh.displayName;const QI=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",e),...t});QI.displayName="SheetHeader";const JI=w.forwardRef(({className:e,...t},r)=>l.jsx(gg,{ref:r,className:he("text-lg font-semibold text-foreground",e),...t}));JI.displayName=gg.displayName;const ZI=w.forwardRef(({className:e,...t},r)=>l.jsx(yg,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));ZI.displayName=yg.displayName;function Bt({className:e,...t}){return l.jsx("div",{className:he("animate-pulse rounded-md bg-muted",e),...t})}const pK="sidebar_state",mK=60*60*24*7,vK="16rem",gK="18rem",yK="3rem",xK="b",eM=w.createContext(null);function xg(){const e=w.useContext(eM);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function bK({defaultOpen:e=!0,open:t,onOpenChange:r,className:n,style:i,children:a,...o}){const s=tH(),[c,u]=w.useState(!1),[d,f]=w.useState(e),h=t??d,m=w.useCallback(b=>{const y=typeof b=="function"?b(h):b;r?r(y):f(y),document.cookie=`${pK}=${y}; path=/; max-age=${mK}`},[r,h]),g=w.useCallback(()=>s?u(b=>!b):m(b=>!b),[s,m,u]);w.useEffect(()=>{const b=y=>{y.key===xK&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),g())};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[g]);const p=h?"expanded":"collapsed",x=w.useMemo(()=>({state:p,open:h,setOpen:m,isMobile:s,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[p,h,m,s,c,u,g]);return l.jsx(eM.Provider,{value:x,children:l.jsx(X2,{delayDuration:0,children:l.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":vK,"--sidebar-width-icon":yK,...i},className:he("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",n),...o,children:a})})})}function wK({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:n,children:i,...a}){const{isMobile:o,state:s,openMobile:c,setOpenMobile:u}=xg();return r==="none"?l.jsx("div",{"data-slot":"sidebar",className:he("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",n),...a,children:i}):o?l.jsx(dK,{open:c,onOpenChange:u,...a,children:l.jsxs(XI,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":gK},side:e,children:[l.jsxs(QI,{className:"sr-only",children:[l.jsx(JI,{children:"Sidebar"}),l.jsx(ZI,{children:"Displays the mobile sidebar."})]}),l.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):l.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":s,"data-collapsible":s==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[l.jsx("div",{"data-slot":"sidebar-gap",className:he("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),l.jsx("div",{"data-slot":"sidebar-container",className:he("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...a,children:l.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function _K({className:e,onClick:t,...r}){const{toggleSidebar:n}=xg();return l.jsxs(re,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:he("h-7 w-7",e),onClick:i=>{t==null||t(i),n()},...r,children:[l.jsx(PV,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function SK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:he("flex flex-col gap-2 p-2",e),...t})}function jK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:he("flex flex-col gap-2 p-2",e),...t})}function EK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:he("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function OK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:he("relative flex w-full min-w-0 flex-col p-2",e),...t})}function PK({className:e,asChild:t=!1,...r}){const n=t?Xv:"div";return l.jsx(n,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:he("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})}function AK({className:e,...t}){return l.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:he("w-full text-sm",e),...t})}function MO({className:e,...t}){return l.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:he("flex w-full min-w-0 flex-col gap-1",e),...t})}function DO({className:e,...t}){return l.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:he("group/menu-item relative",e),...t})}const NK=cu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function LO({asChild:e=!1,isActive:t=!1,variant:r="default",size:n="default",tooltip:i,className:a,...o}){const s=e?Xv:"button",{isMobile:c,state:u}=xg(),d=l.jsx(s,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":t,className:he(NK({variant:r,size:n}),a),...o});return i?(typeof i=="string"&&(i={children:i}),l.jsxs(Gq,{children:[l.jsx(Yq,{asChild:!0,children:d}),l.jsx(Q2,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d}const CK=[{title:"Dashboard",url:"/",icon:SV},{title:"Clientes",url:"/clientes",icon:Kd},{title:"Proyecto",url:"/clientes/proyecto",icon:wV},{title:"Venta",url:"/clientes/proyecto/ventas",icon:kV},{title:"Contratos Activos",url:"/contratos-activos",icon:m0},{title:"Suscripciones",url:"/suscripciones",icon:eg},{title:"Pagos",url:"/pagos",icon:Oc},{title:"Estado de cuentas",url:"/pagos/estado-de-cuentas",icon:m0},{title:"Avances",url:"/avances",icon:jo},{title:"Estadisticas",url:"/estadisticas",icon:mV}];function TK(){const[e]=Aa(),{isMobile:t,setOpenMobile:r}=xg();if(typeof window<"u")try{if(localStorage.getItem("admon-auth")!=="true")return null}catch{return null}return l.jsxs(wK,{children:[l.jsx(SK,{className:"border-b border-sidebar-border p-4",children:l.jsxs(Kl,{href:"/",className:"flex items-center gap-3","data-testid":"link-logo",onClick:()=>{t&&r(!1)},children:[l.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-transparent",children:l.jsx("img",{src:"/vsr.png",alt:"Visonixro",className:"h-10 w-10 object-contain"})}),l.jsx("div",{className:"flex flex-col",children:l.jsx("span",{className:"text-lg font-bold tracking-tight",children:"Visonixro"})})]})}),l.jsx(EK,{children:l.jsxs(OK,{children:[l.jsx(PK,{className:"px-4 text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Menu Principal"}),l.jsx(AK,{children:l.jsx(MO,{children:CK.map(n=>{const i=e===n.url||n.url!=="/"&&e.startsWith(n.url);return l.jsx(DO,{children:l.jsx(LO,{asChild:!0,isActive:i,className:"transition-colors",children:l.jsxs(Kl,{href:n.url,"data-testid":`link-nav-${n.title.toLowerCase()}`,onClick:()=>{t&&r(!1)},children:[l.jsx(n.icon,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:n.title})]})})},n.title)})})})]})}),l.jsx(jK,{className:"border-t border-sidebar-border p-4",children:l.jsx(MO,{children:l.jsx(DO,{children:l.jsx(LO,{asChild:!0,children:l.jsxs(Kl,{href:"/configuracion","data-testid":"link-nav-settings",onClick:()=>{t&&r(!1)},children:[l.jsx(TV,{className:"h-5 w-5"}),l.jsx("span",{className:"font-medium",children:"Configuracion"})]})})})})})]})}const ve=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));ve.displayName="Card";const ht=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-4 md:p-6",e),...t}));ht.displayName="CardHeader";const pt=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("text-lg md:text-2xl font-semibold leading-none tracking-tight",e),...t}));pt.displayName="CardTitle";const tM=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));tM.displayName="CardDescription";const ge=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("p-4 md:p-6 pt-0",e),...t}));ge.displayName="CardContent";const kK=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:he("flex flex-col sm:flex-row items-center p-4 md:p-6 pt-0 sm:justify-end sm:space-x-2",e),...t}));kK.displayName="CardFooter";const $K=cu("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function xr({className:e,variant:t,...r}){return l.jsx("div",{className:he($K({variant:t}),e),...r})}var G1="Avatar",[RK,dEe]=an(G1),[IK,rM]=RK(G1),nM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,a]=w.useState("idle");return l.jsx(IK,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:l.jsx(je.span,{...n,ref:t})})});nM.displayName=G1;var iM="AvatarImage",aM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=e,o=rM(iM,r),s=MK(n,a),c=_r(u=>{i(u),o.onImageLoadingStatusChange(u)});return lr(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(je.img,{...a,ref:t,src:n}):null});aM.displayName=iM;var oM="AvatarFallback",sM=w.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,a=rM(oM,r),[o,s]=w.useState(n===void 0);return w.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>s(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?l.jsx(je.span,{...i,ref:t}):null});sM.displayName=oM;function FO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function MK(e,{referrerPolicy:t,crossOrigin:r}){const n=LK(),i=w.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,s]=w.useState(()=>FO(a,e));return lr(()=>{s(FO(a,e))},[a,e]),lr(()=>{const c=f=>()=>{s(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}function DK(){return()=>{}}function LK(){return w.useSyncExternalStore(DK,()=>!0,()=>!1)}var lM=nM,cM=aM,uM=sM;const Xs=w.forwardRef(({className:e,...t},r)=>l.jsx(lM,{ref:r,className:he(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Xs.displayName=lM.displayName;const FK=w.forwardRef(({className:e,...t},r)=>l.jsx(cM,{ref:r,className:he("aspect-square h-full w-full",e),...t}));FK.displayName=cM.displayName;const Qs=w.forwardRef(({className:e,...t},r)=>l.jsx(uM,{ref:r,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Qs.displayName=uM.displayName;var BK=Array.isArray,sn=BK,UK=typeof _h=="object"&&_h&&_h.Object===Object&&_h,dM=UK,zK=dM,VK=typeof self=="object"&&self&&self.Object===Object&&self,WK=zK||VK||Function("return this")(),Ki=WK,qK=Ki,HK=qK.Symbol,nh=HK,BO=nh,fM=Object.prototype,KK=fM.hasOwnProperty,GK=fM.toString,Fu=BO?BO.toStringTag:void 0;function YK(e){var t=KK.call(e,Fu),r=e[Fu];try{e[Fu]=void 0;var n=!0}catch{}var i=GK.call(e);return n&&(t?e[Fu]=r:delete e[Fu]),i}var XK=YK,QK=Object.prototype,JK=QK.toString;function ZK(e){return JK.call(e)}var eG=ZK,UO=nh,tG=XK,rG=eG,nG="[object Null]",iG="[object Undefined]",zO=UO?UO.toStringTag:void 0;function aG(e){return e==null?e===void 0?iG:nG:zO&&zO in Object(e)?tG(e):rG(e)}var Na=aG;function oG(e){return e!=null&&typeof e=="object"}var Ca=oG,sG=Na,lG=Ca,cG="[object Symbol]";function uG(e){return typeof e=="symbol"||lG(e)&&sG(e)==cG}var hu=uG,dG=sn,fG=hu,hG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pG=/^\w*$/;function mG(e,t){if(dG(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||fG(e)?!0:pG.test(e)||!hG.test(e)||t!=null&&e in Object(t)}var Y1=mG;function vG(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Io=vG;const pu=at(Io);var gG=Na,yG=Io,xG="[object AsyncFunction]",bG="[object Function]",wG="[object GeneratorFunction]",_G="[object Proxy]";function SG(e){if(!yG(e))return!1;var t=gG(e);return t==bG||t==wG||t==xG||t==_G}var X1=SG;const Re=at(X1);var jG=Ki,EG=jG["__core-js_shared__"],OG=EG,mx=OG,VO=function(){var e=/[^.]+$/.exec(mx&&mx.keys&&mx.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PG(e){return!!VO&&VO in e}var AG=PG,NG=Function.prototype,CG=NG.toString;function TG(e){if(e!=null){try{return CG.call(e)}catch{}try{return e+""}catch{}}return""}var hM=TG,kG=X1,$G=AG,RG=Io,IG=hM,MG=/[\\^$.*+?()[\]{}|]/g,DG=/^\[object .+?Constructor\]$/,LG=Function.prototype,FG=Object.prototype,BG=LG.toString,UG=FG.hasOwnProperty,zG=RegExp("^"+BG.call(UG).replace(MG,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VG(e){if(!RG(e)||$G(e))return!1;var t=kG(e)?zG:DG;return t.test(IG(e))}var WG=VG;function qG(e,t){return e==null?void 0:e[t]}var HG=qG,KG=WG,GG=HG;function YG(e,t){var r=GG(e,t);return KG(r)?r:void 0}var Js=YG,XG=Js,QG=XG(Object,"create"),bg=QG,WO=bg;function JG(){this.__data__=WO?WO(null):{},this.size=0}var ZG=JG;function e9(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var t9=e9,r9=bg,n9="__lodash_hash_undefined__",i9=Object.prototype,a9=i9.hasOwnProperty;function o9(e){var t=this.__data__;if(r9){var r=t[e];return r===n9?void 0:r}return a9.call(t,e)?t[e]:void 0}var s9=o9,l9=bg,c9=Object.prototype,u9=c9.hasOwnProperty;function d9(e){var t=this.__data__;return l9?t[e]!==void 0:u9.call(t,e)}var f9=d9,h9=bg,p9="__lodash_hash_undefined__";function m9(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=h9&&t===void 0?p9:t,this}var v9=m9,g9=ZG,y9=t9,x9=s9,b9=f9,w9=v9;function mu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mu.prototype.clear=g9;mu.prototype.delete=y9;mu.prototype.get=x9;mu.prototype.has=b9;mu.prototype.set=w9;var _9=mu;function S9(){this.__data__=[],this.size=0}var j9=S9;function E9(e,t){return e===t||e!==e&&t!==t}var Q1=E9,O9=Q1;function P9(e,t){for(var r=e.length;r--;)if(O9(e[r][0],t))return r;return-1}var wg=P9,A9=wg,N9=Array.prototype,C9=N9.splice;function T9(e){var t=this.__data__,r=A9(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():C9.call(t,r,1),--this.size,!0}var k9=T9,$9=wg;function R9(e){var t=this.__data__,r=$9(t,e);return r<0?void 0:t[r][1]}var I9=R9,M9=wg;function D9(e){return M9(this.__data__,e)>-1}var L9=D9,F9=wg;function B9(e,t){var r=this.__data__,n=F9(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var U9=B9,z9=j9,V9=k9,W9=I9,q9=L9,H9=U9;function vu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}vu.prototype.clear=z9;vu.prototype.delete=V9;vu.prototype.get=W9;vu.prototype.has=q9;vu.prototype.set=H9;var _g=vu,K9=Js,G9=Ki,Y9=K9(G9,"Map"),J1=Y9,qO=_9,X9=_g,Q9=J1;function J9(){this.size=0,this.__data__={hash:new qO,map:new(Q9||X9),string:new qO}}var Z9=J9;function e7(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var t7=e7,r7=t7;function n7(e,t){var r=e.__data__;return r7(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Sg=n7,i7=Sg;function a7(e){var t=i7(this,e).delete(e);return this.size-=t?1:0,t}var o7=a7,s7=Sg;function l7(e){return s7(this,e).get(e)}var c7=l7,u7=Sg;function d7(e){return u7(this,e).has(e)}var f7=d7,h7=Sg;function p7(e,t){var r=h7(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var m7=p7,v7=Z9,g7=o7,y7=c7,x7=f7,b7=m7;function gu(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}gu.prototype.clear=v7;gu.prototype.delete=g7;gu.prototype.get=y7;gu.prototype.has=x7;gu.prototype.set=b7;var Z1=gu,pM=Z1,w7="Expected a function";function eS(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(w7);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=e.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(eS.Cache||pM),r}eS.Cache=pM;var mM=eS;const _7=at(mM);var S7=mM,j7=500;function E7(e){var t=S7(e,function(n){return r.size===j7&&r.clear(),n}),r=t.cache;return t}var O7=E7,P7=O7,A7=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N7=/\\(\\)?/g,C7=P7(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(A7,function(r,n,i,a){t.push(i?a.replace(N7,"$1"):n||r)}),t}),T7=C7;function k7(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var tS=k7,HO=nh,$7=tS,R7=sn,I7=hu,M7=1/0,KO=HO?HO.prototype:void 0,GO=KO?KO.toString:void 0;function vM(e){if(typeof e=="string")return e;if(R7(e))return $7(e,vM)+"";if(I7(e))return GO?GO.call(e):"";var t=e+"";return t=="0"&&1/e==-M7?"-0":t}var D7=vM,L7=D7;function F7(e){return e==null?"":L7(e)}var gM=F7,B7=sn,U7=Y1,z7=T7,V7=gM;function W7(e,t){return B7(e)?e:U7(e,t)?[e]:z7(V7(e))}var yM=W7,q7=hu,H7=1/0;function K7(e){if(typeof e=="string"||q7(e))return e;var t=e+"";return t=="0"&&1/e==-H7?"-0":t}var jg=K7,G7=yM,Y7=jg;function X7(e,t){t=G7(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Y7(t[r++])];return r&&r==n?e:void 0}var rS=X7,Q7=rS;function J7(e,t,r){var n=e==null?void 0:Q7(e,t);return n===void 0?r:n}var xM=J7;const _n=at(xM);function Z7(e){return e==null}var eY=Z7;const Me=at(eY);var tY=Na,rY=sn,nY=Ca,iY="[object String]";function aY(e){return typeof e=="string"||!rY(e)&&nY(e)&&tY(e)==iY}var oY=aY;const ih=at(oY);var bM={exports:{}},st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=Symbol.for("react.element"),iS=Symbol.for("react.portal"),Eg=Symbol.for("react.fragment"),Og=Symbol.for("react.strict_mode"),Pg=Symbol.for("react.profiler"),Ag=Symbol.for("react.provider"),Ng=Symbol.for("react.context"),sY=Symbol.for("react.server_context"),Cg=Symbol.for("react.forward_ref"),Tg=Symbol.for("react.suspense"),kg=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),Rg=Symbol.for("react.lazy"),lY=Symbol.for("react.offscreen"),wM;wM=Symbol.for("react.module.reference");function Vn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nS:switch(e=e.type,e){case Eg:case Pg:case Og:case Tg:case kg:return e;default:switch(e=e&&e.$$typeof,e){case sY:case Ng:case Cg:case Rg:case $g:case Ag:return e;default:return t}}case iS:return t}}}st.ContextConsumer=Ng;st.ContextProvider=Ag;st.Element=nS;st.ForwardRef=Cg;st.Fragment=Eg;st.Lazy=Rg;st.Memo=$g;st.Portal=iS;st.Profiler=Pg;st.StrictMode=Og;st.Suspense=Tg;st.SuspenseList=kg;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(e){return Vn(e)===Ng};st.isContextProvider=function(e){return Vn(e)===Ag};st.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nS};st.isForwardRef=function(e){return Vn(e)===Cg};st.isFragment=function(e){return Vn(e)===Eg};st.isLazy=function(e){return Vn(e)===Rg};st.isMemo=function(e){return Vn(e)===$g};st.isPortal=function(e){return Vn(e)===iS};st.isProfiler=function(e){return Vn(e)===Pg};st.isStrictMode=function(e){return Vn(e)===Og};st.isSuspense=function(e){return Vn(e)===Tg};st.isSuspenseList=function(e){return Vn(e)===kg};st.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Eg||e===Pg||e===Og||e===Tg||e===kg||e===lY||typeof e=="object"&&e!==null&&(e.$$typeof===Rg||e.$$typeof===$g||e.$$typeof===Ag||e.$$typeof===Ng||e.$$typeof===Cg||e.$$typeof===wM||e.getModuleId!==void 0)};st.typeOf=Vn;bM.exports=st;var cY=bM.exports,uY=Na,dY=Ca,fY="[object Number]";function hY(e){return typeof e=="number"||dY(e)&&uY(e)==fY}var _M=hY;const pY=at(_M);var mY=_M;function vY(e){return mY(e)&&e!=+e}var gY=vY;const yu=at(gY);var Vr=function(t){return t===0?0:t>0?1:-1},ls=function(t){return ih(t)&&t.indexOf("%")===t.length-1},fe=function(t){return pY(t)&&!yu(t)},sr=function(t){return fe(t)||ih(t)},yY=0,Zs=function(t){var r=++yY;return"".concat(t||"").concat(r)},Wr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fe(t)&&!ih(t))return n;var a;if(ls(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return yu(a)&&(a=n),i&&a>r&&(a=r),a},qa=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},xY=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},ar=function(t,r){return fe(t)&&fe(r)?function(n){return t+n*(r-t)}:function(){return r}};function bm(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):_n(n,t))===r})}function Zl(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function O0(e){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O0(e)}var bY=["viewBox","children"],wY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YO=["points","pathLength"],vx={svg:bY,polygon:YO,polyline:YO},aS=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wm=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(w.isValidElement(t)&&(n=t.props),!pu(n))return null;var i={};return Object.keys(n).forEach(function(a){aS.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},_Y=function(t,r,n){return function(i){return t(r,n,i),null}},Ls=function(t,r,n){if(!pu(t)||O0(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];aS.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_Y(o,r,n))}),i},SY=["children"],jY=["children"];function XO(e,t){if(e==null)return{};var r=EY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function EY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function P0(e){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P0(e)}var QO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pa=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JO=null,gx=null,oS=function e(t){if(t===JO&&Array.isArray(gx))return gx;var r=[];return w.Children.forEach(t,function(n){Me(n)||(cY.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),gx=r,JO=t,r};function Sn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return pa(i)}):n=[pa(t)],oS(e).forEach(function(i){var a=_n(i,"type.displayName")||_n(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function pn(e,t){var r=Sn(e,t);return r&&r[0]}var ZO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!fe(n)||n<=0||!fe(i)||i<=0)},OY=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],PY=function(t){return t&&t.type&&ih(t.type)&&OY.indexOf(t.type)>=0},SM=function(t){return t&&P0(t)==="object"&&"clipDot"in t},AY=function(t,r,n,i){var a,o=(a=vx==null?void 0:vx[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!Re(t)&&(i&&o.includes(r)||wY.includes(r))||n&&aS.includes(r)},Ae=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(w.isValidElement(t)&&(i=t.props),!pu(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;AY((s=i)===null||s===void 0?void 0:s[o],o,r,n)&&(a[o]=i[o])}),a},A0=function e(t,r){if(t===r)return!0;var n=w.Children.count(t);if(n!==w.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eP(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=t[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!eP(a,o))return!1}return!0},eP=function(t,r){if(Me(t)&&Me(r))return!0;if(!Me(t)&&!Me(r)){var n=t.props||{},i=n.children,a=XO(n,SY),o=r.props||{},s=o.children,c=XO(o,jY);return i&&s?Zl(a,c)&&A0(i,s):!i&&!s?Zl(a,c):!1}return!1},tP=function(t,r){var n=[],i={};return oS(t).forEach(function(a,o){if(PY(a))n.push(a);else if(a){var s=pa(a.type),c=r[s]||{},u=c.handler,d=c.once;if(u&&(!d||!i[s])){var f=u(a,s,o);n.push(f),i[s]=!0}}}),n},NY=function(t){var r=t&&t.type;return r&&QO[r]?QO[r]:null},CY=function(t,r){return oS(r).indexOf(t)},TY=["children","width","height","viewBox","className","style","title","desc"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(this,arguments)}function kY(e,t){if(e==null)return{};var r=$Y(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function C0(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,a=e.className,o=e.style,s=e.title,c=e.desc,u=kY(e,TY),d=i||{width:r,height:n,x:0,y:0},f=Le("recharts-surface",a);return L.createElement("svg",N0({},Ae(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),L.createElement("title",null,s),L.createElement("desc",null,c),t)}var RY=["children","className"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(this,arguments)}function IY(e,t){if(e==null)return{};var r=MY(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ke=L.forwardRef(function(e,t){var r=e.children,n=e.className,i=IY(e,RY),a=Le("recharts-layer",n);return L.createElement("g",T0({className:a},Ae(i,!0),{ref:t}),r)}),ui=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function DY(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(i);++n<i;)a[n]=e[n+t];return a}var LY=DY,FY=LY;function BY(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:FY(e,t,r)}var UY=BY,zY="\\ud800-\\udfff",VY="\\u0300-\\u036f",WY="\\ufe20-\\ufe2f",qY="\\u20d0-\\u20ff",HY=VY+WY+qY,KY="\\ufe0e\\ufe0f",GY="\\u200d",YY=RegExp("["+GY+zY+HY+KY+"]");function XY(e){return YY.test(e)}var jM=XY;function QY(e){return e.split("")}var JY=QY,EM="\\ud800-\\udfff",ZY="\\u0300-\\u036f",eX="\\ufe20-\\ufe2f",tX="\\u20d0-\\u20ff",rX=ZY+eX+tX,nX="\\ufe0e\\ufe0f",iX="["+EM+"]",k0="["+rX+"]",$0="\\ud83c[\\udffb-\\udfff]",aX="(?:"+k0+"|"+$0+")",OM="[^"+EM+"]",PM="(?:\\ud83c[\\udde6-\\uddff]){2}",AM="[\\ud800-\\udbff][\\udc00-\\udfff]",oX="\\u200d",NM=aX+"?",CM="["+nX+"]?",sX="(?:"+oX+"(?:"+[OM,PM,AM].join("|")+")"+CM+NM+")*",lX=CM+NM+sX,cX="(?:"+[OM+k0+"?",k0,PM,AM,iX].join("|")+")",uX=RegExp($0+"(?="+$0+")|"+cX+lX,"g");function dX(e){return e.match(uX)||[]}var fX=dX,hX=JY,pX=jM,mX=fX;function vX(e){return pX(e)?mX(e):hX(e)}var gX=vX,yX=UY,xX=jM,bX=gX,wX=gM;function _X(e){return function(t){t=wX(t);var r=xX(t)?bX(t):void 0,n=r?r[0]:t.charAt(0),i=r?yX(r,1).join(""):t.slice(1);return n[e]()+i}}var SX=_X,jX=SX,EX=jX("toUpperCase"),OX=EX;const Ig=at(OX);function ft(e){return function(){return e}}const TM=Math.cos,_m=Math.sin,bi=Math.sqrt,Sm=Math.PI,Mg=2*Sm,R0=Math.PI,I0=2*R0,Qo=1e-6,PX=I0-Qo;function kM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function AX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kM:AX(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,c=n-t,u=i-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Qo)if(!(Math.abs(f*c-u*d)>Qo)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=i-s,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),y=Math.sqrt(h),v=a*Math.tan((R0-Math.acos((p+h-x)/(2*b*y)))/2),S=v/y,_=v/b;Math.abs(S-1)>Qo&&this._append`L${t+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+_*c},${this._y1=r+_*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),c=n*Math.sin(i),u=t+s,d=r+c,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Qo||Math.abs(this._y1-d)>Qo)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%I0+I0),h>PX?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Qo&&this._append`A${n},${n},0,${+(h>=R0)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function sS(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new NX(t)}function lS(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $M(e){this._context=e}$M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dg(e){return new $M(e)}function RM(e){return e[0]}function IM(e){return e[1]}function MM(e,t){var r=ft(!0),n=null,i=Dg,a=null,o=sS(s);e=typeof e=="function"?e:e===void 0?RM:ft(e),t=typeof t=="function"?t:t===void 0?IM:ft(t);function s(c){var u,d=(c=lS(c)).length,f,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:ft(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:ft(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ft(!!c),s):r},s.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),s):i},s.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),s):n},s}function Gh(e,t,r){var n=null,i=ft(!0),a=null,o=Dg,s=null,c=sS(u);e=typeof e=="function"?e:e===void 0?RM:ft(+e),t=typeof t=="function"?t:ft(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?IM:ft(+r);function u(f){var h,m,g,p=(f=lS(f)).length,x,b=!1,y,v=new Array(p),S=new Array(p);for(a==null&&(s=o(y=c())),h=0;h<=p;++h){if(!(h<p&&i(x=f[h],h,f))===b)if(b=!b)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(v[g],S[g]);s.lineEnd(),s.areaEnd()}b&&(v[h]=+e(x,h,f),S[h]=+t(x,h,f),s.point(n?+n(x,h,f):v[h],r?+r(x,h,f):S[h]))}if(y)return s=null,y+""||null}function d(){return MM().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ft(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ft(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ft(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ft(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ft(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class DM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function CX(e){return new DM(e,!0)}function TX(e){return new DM(e,!1)}const cS={draw(e,t){const r=bi(t/Sm);e.moveTo(r,0),e.arc(0,0,r,0,Mg)}},kX={draw(e,t){const r=bi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LM=bi(1/3),$X=LM*2,RX={draw(e,t){const r=bi(t/$X),n=r*LM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},IX={draw(e,t){const r=bi(t),n=-r/2;e.rect(n,n,r,r)}},MX=.8908130915292852,FM=_m(Sm/10)/_m(7*Sm/10),DX=_m(Mg/10)*FM,LX=-TM(Mg/10)*FM,FX={draw(e,t){const r=bi(t*MX),n=DX*r,i=LX*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Mg*a/5,s=TM(o),c=_m(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*i,c*n+s*i)}e.closePath()}},yx=bi(3),BX={draw(e,t){const r=-bi(t/(yx*3));e.moveTo(0,r*2),e.lineTo(-yx*r,-r),e.lineTo(yx*r,-r),e.closePath()}},Pn=-.5,An=bi(3)/2,M0=1/bi(12),UX=(M0/2+1)*3,zX={draw(e,t){const r=bi(t/UX),n=r/2,i=r*M0,a=n,o=r*M0+r,s=-a,c=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,c),e.lineTo(Pn*n-An*i,An*n+Pn*i),e.lineTo(Pn*a-An*o,An*a+Pn*o),e.lineTo(Pn*s-An*c,An*s+Pn*c),e.lineTo(Pn*n+An*i,Pn*i-An*n),e.lineTo(Pn*a+An*o,Pn*o-An*a),e.lineTo(Pn*s+An*c,Pn*c-An*s),e.closePath()}};function VX(e,t){let r=null,n=sS(i);e=typeof e=="function"?e:ft(e||cS),t=typeof t=="function"?t:ft(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ft(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ft(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function jm(){}function Em(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function BM(e){this._context=e}BM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Em(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WX(e){return new BM(e)}function UM(e){this._context=e}UM.prototype={areaStart:jm,areaEnd:jm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function qX(e){return new UM(e)}function zM(e){this._context=e}zM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Em(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HX(e){return new zM(e)}function VM(e){this._context=e}VM.prototype={areaStart:jm,areaEnd:jm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function KX(e){return new VM(e)}function rP(e){return e<0?-1:1}function nP(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(rP(a)+rP(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function iP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function xx(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Om(e){this._context=e}Om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xx(this,this._t0,iP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xx(this,iP(this,r=nP(this,e,t)),r);break;default:xx(this,this._t0,r=nP(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function WM(e){this._context=new qM(e)}(WM.prototype=Object.create(Om.prototype)).point=function(e,t){Om.prototype.point.call(this,t,e)};function qM(e){this._context=e}qM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function GX(e){return new Om(e)}function YX(e){return new WM(e)}function HM(e){this._context=e}HM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=aP(e),i=aP(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aP(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function XX(e){return new HM(e)}function Lg(e,t){this._context=e,this._t=t}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function QX(e){return new Lg(e,.5)}function JX(e){return new Lg(e,0)}function ZX(e){return new Lg(e,1)}function Cc(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function D0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function eQ(e,t){return e[t]}function tQ(e){const t=[];return t.key=e,t}function rQ(){var e=ft([]),t=D0,r=Cc,n=eQ;function i(a){var o=Array.from(e.apply(this,arguments),tQ),s,c=o.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,a)]).data=f;for(s=0,d=lS(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ft(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:ft(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?D0:typeof a=="function"?a:ft(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Cc,i):r},i}function nQ(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Cc(e,t)}}function iQ(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Cc(e,t)}}function aQ(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Cc(e,t)}}function Qd(e){"@babel/helpers - typeof";return Qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qd(e)}var oQ=["type","size","sizeType"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){sQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sQ(e,t,r){return t=lQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lQ(e){var t=cQ(e,"string");return Qd(t)=="symbol"?t:t+""}function cQ(e,t){if(Qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uQ(e,t){if(e==null)return{};var r=dQ(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KM={symbolCircle:cS,symbolCross:kX,symbolDiamond:RX,symbolSquare:IX,symbolStar:FX,symbolTriangle:BX,symbolWye:zX},fQ=Math.PI/180,hQ=function(t){var r="symbol".concat(Ig(t));return KM[r]||cS},pQ=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*fQ;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},mQ=function(t,r){KM["symbol".concat(Ig(t))]=r},uS=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,a=i===void 0?64:i,o=t.sizeType,s=o===void 0?"area":o,c=uQ(t,oQ),u=sP(sP({},c),{},{type:n,size:a,sizeType:s}),d=function(){var x=hQ(n),b=VX().type(x).size(pQ(a,s,n));return b()},f=u.className,h=u.cx,m=u.cy,g=Ae(u,!0);return h===+h&&m===+m&&a===+a?L.createElement("path",L0({},g,{className:Le("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};uS.registerSymbol=mQ;function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){Jd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YM(n.key),n)}}function xQ(e,t,r){return t&&yQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bQ(e,t,r){return t=Pm(t),wQ(e,GM()?Reflect.construct(t,r||[],Pm(e).constructor):t.apply(e,r))}function wQ(e,t){if(t&&(Tc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Q(e)}function _Q(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!e})()}function Pm(e){return Pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pm(e)}function SQ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B0(e,t)}function B0(e,t){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},B0(e,t)}function Jd(e,t,r){return t=YM(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YM(e){var t=jQ(e,"string");return Tc(t)=="symbol"?t:t+""}function jQ(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nn=32,dS=function(e){function t(){return gQ(this,t),bQ(this,t,arguments)}return SQ(t,e),xQ(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Nn/2,o=Nn/6,s=Nn/3,c=n.inactive?i:n.color;if(n.type==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Nn,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Nn,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return L.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Nn/8,"h").concat(Nn,"v").concat(Nn*3/4,"h").concat(-Nn,"z"),className:"recharts-legend-icon"});if(L.isValidElement(n.legendIcon)){var u=vQ({},n);return delete u.legendIcon,L.cloneElement(n.legendIcon,u)}return L.createElement(uS,{fill:c,cx:a,cy:a,size:Nn,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Nn,height:Nn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,x=Le(Jd(Jd({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=Re(m.value)?null:m.value;ui(!Re(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return L.createElement("li",F0({className:x,style:f,key:"legend-item-".concat(g)},Ls(n.props,m,g)),L.createElement(C0,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(w.PureComponent);Jd(dS,"displayName","Legend");Jd(dS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var EQ=_g;function OQ(){this.__data__=new EQ,this.size=0}var PQ=OQ;function AQ(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var NQ=AQ;function CQ(e){return this.__data__.get(e)}var TQ=CQ;function kQ(e){return this.__data__.has(e)}var $Q=kQ,RQ=_g,IQ=J1,MQ=Z1,DQ=200;function LQ(e,t){var r=this.__data__;if(r instanceof RQ){var n=r.__data__;if(!IQ||n.length<DQ-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new MQ(n)}return r.set(e,t),this.size=r.size,this}var FQ=LQ,BQ=_g,UQ=PQ,zQ=NQ,VQ=TQ,WQ=$Q,qQ=FQ;function xu(e){var t=this.__data__=new BQ(e);this.size=t.size}xu.prototype.clear=UQ;xu.prototype.delete=zQ;xu.prototype.get=VQ;xu.prototype.has=WQ;xu.prototype.set=qQ;var XM=xu,HQ="__lodash_hash_undefined__";function KQ(e){return this.__data__.set(e,HQ),this}var GQ=KQ;function YQ(e){return this.__data__.has(e)}var XQ=YQ,QQ=Z1,JQ=GQ,ZQ=XQ;function Am(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new QQ;++t<r;)this.add(e[t])}Am.prototype.add=Am.prototype.push=JQ;Am.prototype.has=ZQ;var QM=Am;function eJ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var JM=eJ;function tJ(e,t){return e.has(t)}var ZM=tJ,rJ=QM,nJ=JM,iJ=ZM,aJ=1,oJ=2;function sJ(e,t,r,n,i,a){var o=r&aJ,s=e.length,c=t.length;if(s!=c&&!(o&&c>s))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&oJ?new rJ:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,a):n(g,p,f,e,t,a);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!nJ(t,function(b,y){if(!iJ(m,y)&&(g===b||i(g,b,r,n,a)))return m.push(y)})){h=!1;break}}else if(!(g===p||i(g,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var eD=sJ,lJ=Ki,cJ=lJ.Uint8Array,uJ=cJ;function dJ(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var fJ=dJ;function hJ(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var fS=hJ,cP=nh,uP=uJ,pJ=Q1,mJ=eD,vJ=fJ,gJ=fS,yJ=1,xJ=2,bJ="[object Boolean]",wJ="[object Date]",_J="[object Error]",SJ="[object Map]",jJ="[object Number]",EJ="[object RegExp]",OJ="[object Set]",PJ="[object String]",AJ="[object Symbol]",NJ="[object ArrayBuffer]",CJ="[object DataView]",dP=cP?cP.prototype:void 0,bx=dP?dP.valueOf:void 0;function TJ(e,t,r,n,i,a,o){switch(r){case CJ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case NJ:return!(e.byteLength!=t.byteLength||!a(new uP(e),new uP(t)));case bJ:case wJ:case jJ:return pJ(+e,+t);case _J:return e.name==t.name&&e.message==t.message;case EJ:case PJ:return e==t+"";case SJ:var s=vJ;case OJ:var c=n&yJ;if(s||(s=gJ),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=xJ,o.set(e,t);var d=mJ(s(e),s(t),n,i,a,o);return o.delete(e),d;case AJ:if(bx)return bx.call(e)==bx.call(t)}return!1}var kJ=TJ;function $J(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var tD=$J,RJ=tD,IJ=sn;function MJ(e,t,r){var n=t(e);return IJ(e)?n:RJ(n,r(e))}var DJ=MJ;function LJ(e,t){for(var r=-1,n=e==null?0:e.length,i=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[i++]=o)}return a}var FJ=LJ;function BJ(){return[]}var UJ=BJ,zJ=FJ,VJ=UJ,WJ=Object.prototype,qJ=WJ.propertyIsEnumerable,fP=Object.getOwnPropertySymbols,HJ=fP?function(e){return e==null?[]:(e=Object(e),zJ(fP(e),function(t){return qJ.call(e,t)}))}:VJ,KJ=HJ;function GJ(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var YJ=GJ,XJ=Na,QJ=Ca,JJ="[object Arguments]";function ZJ(e){return QJ(e)&&XJ(e)==JJ}var eZ=ZJ,hP=eZ,tZ=Ca,rD=Object.prototype,rZ=rD.hasOwnProperty,nZ=rD.propertyIsEnumerable,iZ=hP(function(){return arguments}())?hP:function(e){return tZ(e)&&rZ.call(e,"callee")&&!nZ.call(e,"callee")},hS=iZ,Nm={exports:{}};function aZ(){return!1}var oZ=aZ;Nm.exports;(function(e,t){var r=Ki,n=oZ,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,s=o?r.Buffer:void 0,c=s?s.isBuffer:void 0,u=c||n;e.exports=u})(Nm,Nm.exports);var nD=Nm.exports,sZ=9007199254740991,lZ=/^(?:0|[1-9]\d*)$/;function cZ(e,t){var r=typeof e;return t=t??sZ,!!t&&(r=="number"||r!="symbol"&&lZ.test(e))&&e>-1&&e%1==0&&e<t}var pS=cZ,uZ=9007199254740991;function dZ(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=uZ}var mS=dZ,fZ=Na,hZ=mS,pZ=Ca,mZ="[object Arguments]",vZ="[object Array]",gZ="[object Boolean]",yZ="[object Date]",xZ="[object Error]",bZ="[object Function]",wZ="[object Map]",_Z="[object Number]",SZ="[object Object]",jZ="[object RegExp]",EZ="[object Set]",OZ="[object String]",PZ="[object WeakMap]",AZ="[object ArrayBuffer]",NZ="[object DataView]",CZ="[object Float32Array]",TZ="[object Float64Array]",kZ="[object Int8Array]",$Z="[object Int16Array]",RZ="[object Int32Array]",IZ="[object Uint8Array]",MZ="[object Uint8ClampedArray]",DZ="[object Uint16Array]",LZ="[object Uint32Array]",bt={};bt[CZ]=bt[TZ]=bt[kZ]=bt[$Z]=bt[RZ]=bt[IZ]=bt[MZ]=bt[DZ]=bt[LZ]=!0;bt[mZ]=bt[vZ]=bt[AZ]=bt[gZ]=bt[NZ]=bt[yZ]=bt[xZ]=bt[bZ]=bt[wZ]=bt[_Z]=bt[SZ]=bt[jZ]=bt[EZ]=bt[OZ]=bt[PZ]=!1;function FZ(e){return pZ(e)&&hZ(e.length)&&!!bt[fZ(e)]}var BZ=FZ;function UZ(e){return function(t){return e(t)}}var iD=UZ,Cm={exports:{}};Cm.exports;(function(e,t){var r=dM,n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=s})(Cm,Cm.exports);var zZ=Cm.exports,VZ=BZ,WZ=iD,pP=zZ,mP=pP&&pP.isTypedArray,qZ=mP?WZ(mP):VZ,aD=qZ,HZ=YJ,KZ=hS,GZ=sn,YZ=nD,XZ=pS,QZ=aD,JZ=Object.prototype,ZZ=JZ.hasOwnProperty;function eee(e,t){var r=GZ(e),n=!r&&KZ(e),i=!r&&!n&&YZ(e),a=!r&&!n&&!i&&QZ(e),o=r||n||i||a,s=o?HZ(e.length,String):[],c=s.length;for(var u in e)(t||ZZ.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||XZ(u,c)))&&s.push(u);return s}var tee=eee,ree=Object.prototype;function nee(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ree;return e===r}var iee=nee;function aee(e,t){return function(r){return e(t(r))}}var oD=aee,oee=oD,see=oee(Object.keys,Object),lee=see,cee=iee,uee=lee,dee=Object.prototype,fee=dee.hasOwnProperty;function hee(e){if(!cee(e))return uee(e);var t=[];for(var r in Object(e))fee.call(e,r)&&r!="constructor"&&t.push(r);return t}var pee=hee,mee=X1,vee=mS;function gee(e){return e!=null&&vee(e.length)&&!mee(e)}var ah=gee,yee=tee,xee=pee,bee=ah;function wee(e){return bee(e)?yee(e):xee(e)}var Fg=wee,_ee=DJ,See=KJ,jee=Fg;function Eee(e){return _ee(e,jee,See)}var Oee=Eee,vP=Oee,Pee=1,Aee=Object.prototype,Nee=Aee.hasOwnProperty;function Cee(e,t,r,n,i,a){var o=r&Pee,s=vP(e),c=s.length,u=vP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=s[f];if(!(o?h in t:Nee.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var x=o;++f<c;){h=s[f];var b=e[h],y=t[h];if(n)var v=o?n(y,b,h,t,e,a):n(b,y,h,e,t,a);if(!(v===void 0?b===y||i(b,y,r,n,a):v)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var S=e.constructor,_=t.constructor;S!=_&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof _=="function"&&_ instanceof _)&&(p=!1)}return a.delete(e),a.delete(t),p}var Tee=Cee,kee=Js,$ee=Ki,Ree=kee($ee,"DataView"),Iee=Ree,Mee=Js,Dee=Ki,Lee=Mee(Dee,"Promise"),Fee=Lee,Bee=Js,Uee=Ki,zee=Bee(Uee,"Set"),sD=zee,Vee=Js,Wee=Ki,qee=Vee(Wee,"WeakMap"),Hee=qee,U0=Iee,z0=J1,V0=Fee,W0=sD,q0=Hee,lD=Na,bu=hM,gP="[object Map]",Kee="[object Object]",yP="[object Promise]",xP="[object Set]",bP="[object WeakMap]",wP="[object DataView]",Gee=bu(U0),Yee=bu(z0),Xee=bu(V0),Qee=bu(W0),Jee=bu(q0),Jo=lD;(U0&&Jo(new U0(new ArrayBuffer(1)))!=wP||z0&&Jo(new z0)!=gP||V0&&Jo(V0.resolve())!=yP||W0&&Jo(new W0)!=xP||q0&&Jo(new q0)!=bP)&&(Jo=function(e){var t=lD(e),r=t==Kee?e.constructor:void 0,n=r?bu(r):"";if(n)switch(n){case Gee:return wP;case Yee:return gP;case Xee:return yP;case Qee:return xP;case Jee:return bP}return t});var Zee=Jo,wx=XM,ete=eD,tte=kJ,rte=Tee,_P=Zee,SP=sn,jP=nD,nte=aD,ite=1,EP="[object Arguments]",OP="[object Array]",Yh="[object Object]",ate=Object.prototype,PP=ate.hasOwnProperty;function ote(e,t,r,n,i,a){var o=SP(e),s=SP(t),c=o?OP:_P(e),u=s?OP:_P(t);c=c==EP?Yh:c,u=u==EP?Yh:u;var d=c==Yh,f=u==Yh,h=c==u;if(h&&jP(e)){if(!jP(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new wx),o||nte(e)?ete(e,t,r,n,i,a):tte(e,t,c,r,n,i,a);if(!(r&ite)){var m=d&&PP.call(e,"__wrapped__"),g=f&&PP.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return a||(a=new wx),i(p,x,r,n,a)}}return h?(a||(a=new wx),rte(e,t,r,n,i,a)):!1}var ste=ote,lte=ste,AP=Ca;function cD(e,t,r,n,i){return e===t?!0:e==null||t==null||!AP(e)&&!AP(t)?e!==e&&t!==t:lte(e,t,r,n,cD,i)}var vS=cD,cte=XM,ute=vS,dte=1,fte=2;function hte(e,t,r,n){var i=r.length,a=i,o=!n;if(e==null)return!a;for(e=Object(e);i--;){var s=r[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){s=r[i];var c=s[0],u=e[c],d=s[1];if(o&&s[2]){if(u===void 0&&!(c in e))return!1}else{var f=new cte;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?ute(d,u,dte|fte,n,f):h))return!1}}return!0}var pte=hte,mte=Io;function vte(e){return e===e&&!mte(e)}var uD=vte,gte=uD,yte=Fg;function xte(e){for(var t=yte(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,gte(i)]}return t}var bte=xte;function wte(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var dD=wte,_te=pte,Ste=bte,jte=dD;function Ete(e){var t=Ste(e);return t.length==1&&t[0][2]?jte(t[0][0],t[0][1]):function(r){return r===e||_te(r,e,t)}}var Ote=Ete;function Pte(e,t){return e!=null&&t in Object(e)}var Ate=Pte,Nte=yM,Cte=hS,Tte=sn,kte=pS,$te=mS,Rte=jg;function Ite(e,t,r){t=Nte(t,e);for(var n=-1,i=t.length,a=!1;++n<i;){var o=Rte(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=i?a:(i=e==null?0:e.length,!!i&&$te(i)&&kte(o,i)&&(Tte(e)||Cte(e)))}var Mte=Ite,Dte=Ate,Lte=Mte;function Fte(e,t){return e!=null&&Lte(e,t,Dte)}var Bte=Fte,Ute=vS,zte=xM,Vte=Bte,Wte=Y1,qte=uD,Hte=dD,Kte=jg,Gte=1,Yte=2;function Xte(e,t){return Wte(e)&&qte(t)?Hte(Kte(e),t):function(r){var n=zte(r,e);return n===void 0&&n===t?Vte(r,e):Ute(t,n,Gte|Yte)}}var Qte=Xte;function Jte(e){return e}var wu=Jte;function Zte(e){return function(t){return t==null?void 0:t[e]}}var ere=Zte,tre=rS;function rre(e){return function(t){return tre(t,e)}}var nre=rre,ire=ere,are=nre,ore=Y1,sre=jg;function lre(e){return ore(e)?ire(sre(e)):are(e)}var cre=lre,ure=Ote,dre=Qte,fre=wu,hre=sn,pre=cre;function mre(e){return typeof e=="function"?e:e==null?fre:typeof e=="object"?hre(e)?dre(e[0],e[1]):ure(e):pre(e)}var Gi=mre;function vre(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var fD=vre;function gre(e){return e!==e}var yre=gre;function xre(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var bre=xre,wre=fD,_re=yre,Sre=bre;function jre(e,t,r){return t===t?Sre(e,t,r):wre(e,_re,r)}var Ere=jre,Ore=Ere;function Pre(e,t){var r=e==null?0:e.length;return!!r&&Ore(e,t,0)>-1}var Are=Pre;function Nre(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Cre=Nre;function Tre(){}var kre=Tre,_x=sD,$re=kre,Rre=fS,Ire=1/0,Mre=_x&&1/Rre(new _x([,-0]))[1]==Ire?function(e){return new _x(e)}:$re,Dre=Mre,Lre=QM,Fre=Are,Bre=Cre,Ure=ZM,zre=Dre,Vre=fS,Wre=200;function qre(e,t,r){var n=-1,i=Fre,a=e.length,o=!0,s=[],c=s;if(r)o=!1,i=Bre;else if(a>=Wre){var u=t?null:zre(e);if(u)return Vre(u);o=!1,i=Ure,c=new Lre}else c=t?[]:s;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),s.push(d)}else i(c,f,r)||(c!==s&&c.push(f),s.push(d))}return s}var Hre=qre,Kre=Gi,Gre=Hre;function Yre(e,t){return e&&e.length?Gre(e,Kre(t)):[]}var Xre=Yre;const NP=at(Xre);function hD(e,t,r){return t===!0?NP(e,r):Re(t)?NP(e,t):e}function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}var Qre=["ref"];function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Bg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mD(n.key),n)}}function Zre(e,t,r){return t&&TP(e.prototype,t),r&&TP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ene(e,t,r){return t=Tm(t),tne(e,pD()?Reflect.construct(t,r||[],Tm(e).constructor):t.apply(e,r))}function tne(e,t){if(t&&(kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rne(e)}function rne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!e})()}function Tm(e){return Tm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tm(e)}function nne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H0(e,t)}function H0(e,t){return H0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},H0(e,t)}function Bg(e,t,r){return t=mD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mD(e){var t=ine(e,"string");return kc(t)=="symbol"?t:t+""}function ine(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e,t){if(e==null)return{};var r=one(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function one(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function sne(e){return e.value}function lne(e,t){if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return L.createElement(e,t);t.ref;var r=ane(t,Qre);return L.createElement(dS,r)}var kP=1,Es=function(e){function t(){var r;Jre(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=ene(this,t,[].concat(i)),Bg(r,"lastBoundingBox",{width:-1,height:-1}),r}return nne(t,e),Zre(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kP||Math.abs(i.height-this.lastBoundingBox.height)>kP)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ji({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=s==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Ji(Ji({},f),h)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,s=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Ji(Ji({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(c)),c);return L.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},lne(a,Ji(Ji({},this.props),{},{payload:hD(d,u,sne)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Ji(Ji({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&fe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(w.PureComponent);Bg(Es,"displayName","Legend");Bg(Es,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $P=nh,cne=hS,une=sn,RP=$P?$P.isConcatSpreadable:void 0;function dne(e){return une(e)||cne(e)||!!(RP&&e&&e[RP])}var fne=dne,hne=tD,pne=fne;function vD(e,t,r,n,i){var a=-1,o=e.length;for(r||(r=pne),i||(i=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?vD(s,t-1,r,n,i):hne(i,s):n||(i[i.length]=s)}return i}var gD=vD;function mne(e){return function(t,r,n){for(var i=-1,a=Object(t),o=n(t),s=o.length;s--;){var c=o[e?s:++i];if(r(a[c],c,a)===!1)break}return t}}var vne=mne,gne=vne,yne=gne(),xne=yne,bne=xne,wne=Fg;function _ne(e,t){return e&&bne(e,t,wne)}var yD=_ne,Sne=ah;function jne(e,t){return function(r,n){if(r==null)return r;if(!Sne(r))return e(r,n);for(var i=r.length,a=t?i:-1,o=Object(r);(t?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var Ene=jne,One=yD,Pne=Ene,Ane=Pne(One),gS=Ane,Nne=gS,Cne=ah;function Tne(e,t){var r=-1,n=Cne(e)?Array(e.length):[];return Nne(e,function(i,a,o){n[++r]=t(i,a,o)}),n}var xD=Tne;function kne(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var $ne=kne,IP=hu;function Rne(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,a=IP(e),o=t!==void 0,s=t===null,c=t===t,u=IP(t);if(!s&&!u&&!a&&e>t||a&&o&&c&&!s&&!u||n&&o&&c||!r&&c||!i)return 1;if(!n&&!a&&!u&&e<t||u&&r&&i&&!n&&!a||s&&r&&i||!o&&i||!c)return-1}return 0}var Ine=Rne,Mne=Ine;function Dne(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,o=i.length,s=r.length;++n<o;){var c=Mne(i[n],a[n]);if(c){if(n>=s)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Lne=Dne,Sx=tS,Fne=rS,Bne=Gi,Une=xD,zne=$ne,Vne=iD,Wne=Lne,qne=wu,Hne=sn;function Kne(e,t,r){t.length?t=Sx(t,function(a){return Hne(a)?function(o){return Fne(o,a.length===1?a[0]:a)}:a}):t=[qne];var n=-1;t=Sx(t,Vne(Bne));var i=Une(e,function(a,o,s){var c=Sx(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return zne(i,function(a,o){return Wne(a,o,r)})}var Gne=Kne;function Yne(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Xne=Yne,Qne=Xne,MP=Math.max;function Jne(e,t,r){return t=MP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=MP(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(o),Qne(e,this,s)}}var Zne=Jne;function eie(e){return function(){return e}}var tie=eie,rie=Js,nie=function(){try{var e=rie(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bD=nie,iie=tie,DP=bD,aie=wu,oie=DP?function(e,t){return DP(e,"toString",{configurable:!0,enumerable:!1,value:iie(t),writable:!0})}:aie,sie=oie,lie=800,cie=16,uie=Date.now;function die(e){var t=0,r=0;return function(){var n=uie(),i=cie-(n-r);if(r=n,i>0){if(++t>=lie)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var fie=die,hie=sie,pie=fie,mie=pie(hie),vie=mie,gie=wu,yie=Zne,xie=vie;function bie(e,t){return xie(yie(e,t,gie),e+"")}var wie=bie,_ie=Q1,Sie=ah,jie=pS,Eie=Io;function Oie(e,t,r){if(!Eie(r))return!1;var n=typeof t;return(n=="number"?Sie(r)&&jie(t,r.length):n=="string"&&t in r)?_ie(r[t],e):!1}var Ug=Oie,Pie=gD,Aie=Gne,Nie=wie,LP=Ug,Cie=Nie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&LP(e,t[0],t[1])?t=[]:r>2&&LP(t[0],t[1],t[2])&&(t=[t[0]]),Aie(e,Pie(t,1),[])}),Tie=Cie;const yS=at(Tie);function Zd(e){"@babel/helpers - typeof";return Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zd(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function kie(e,t){return Mie(e)||Iie(e,t)||Rie(e,t)||$ie()}function $ie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rie(e,t){if(e){if(typeof e=="string")return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Iie(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mie(e){if(Array.isArray(e))return e}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){Die(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Die(e,t,r){return t=Lie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lie(e){var t=Fie(e,"string");return Zd(t)=="symbol"?t:t+""}function Fie(e,t){if(Zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bie(e){return Array.isArray(e)&&sr(e[0])&&sr(e[1])?e.join(" ~ "):e}var Uie=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,s=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,v=function(){if(d&&d.length){var $={padding:0,margin:0},N=(h?yS(d,h):d).map(function(A,R){if(A.type==="none")return null;var I=jx({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},s),z=A.formatter||f||Bie,T=A.value,D=A.name,H=T,G=D;if(z&&H!=null&&G!=null){var k=z(T,D,A,R,d);if(Array.isArray(k)){var F=kie(k,2);H=F[0],G=F[1]}else H=k}return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:I},sr(G)?L.createElement("span",{className:"recharts-tooltip-item-name"},G):null,sr(G)?L.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,L.createElement("span",{className:"recharts-tooltip-item-value"},H),L.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:$},N)}return null},S=jx({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),_=jx({margin:0},u),j=!Me(p),E=j?p:"",O=Le("recharts-default-tooltip",m),P=Le("recharts-tooltip-label",g);j&&x&&d!==void 0&&d!==null&&(E=x(p,d));var M=y?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",K0({className:O,style:S},M),L.createElement("p",{className:P,style:_},L.isValidElement(E)?E:"".concat(E)),v())};function ef(e){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ef(e)}function Xh(e,t,r){return t=zie(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zie(e){var t=Vie(e,"string");return ef(t)=="symbol"?t:t+""}function Vie(e,t){if(ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bu="recharts-tooltip-wrapper",Wie={visibility:"hidden"};function qie(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Le(Bu,Xh(Xh(Xh(Xh({},"".concat(Bu,"-right"),fe(r)&&t&&fe(t.x)&&r>=t.x),"".concat(Bu,"-left"),fe(r)&&t&&fe(t.x)&&r<t.x),"".concat(Bu,"-bottom"),fe(n)&&t&&fe(t.y)&&n>=t.y),"".concat(Bu,"-top"),fe(n)&&t&&fe(t.y)&&n<t.y))}function UP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&fe(a[n]))return a[n];var d=r[n]-s-i,f=r[n]+i;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+s,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Hie(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Kie(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,s=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=UP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=UP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Hie({translateX:d,translateY:f,useTranslate3d:s})):u=Wie,{cssProperties:u,cssClasses:qie({translateX:d,translateY:f,coordinate:r})}}function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Y0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_D(n.key),n)}}function Xie(e,t,r){return t&&Yie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qie(e,t,r){return t=km(t),Jie(e,wD()?Reflect.construct(t,r||[],km(e).constructor):t.apply(e,r))}function Jie(e,t){if(t&&($c(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zie(e)}function Zie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wD=function(){return!!e})()}function km(e){return km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},km(e)}function eae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G0(e,t)}function G0(e,t){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},G0(e,t)}function Y0(e,t,r){return t=_D(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _D(e){var t=tae(e,"string");return $c(t)=="symbol"?t:t+""}function tae(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WP=1,rae=function(e){function t(){var r;Gie(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Qie(this,t,[].concat(i)),Y0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Y0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var s,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&s!==void 0?s:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return eae(t,e),Xie(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WP||Math.abs(n.height-this.state.lastBoundingBox.height)>WP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,p=i.reverseDirection,x=i.useTranslate3d,b=i.viewBox,y=i.wrapperStyle,v=Kie({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),S=v.cssClasses,_=v.cssProperties,j=VP(VP({transition:h&&a?"transform ".concat(s,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return L.createElement("div",{tabIndex:-1,className:S,style:j,ref:function(O){n.wrapperNode=O}},u)}}])}(w.PureComponent),nae=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},di={isSsr:nae(),get:function(t){return di[t]},set:function(t,r){if(typeof t=="string")di[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(i){di[i]=t[i]})}}};function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){xS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jD(n.key),n)}}function oae(e,t,r){return t&&aae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sae(e,t,r){return t=$m(t),lae(e,SD()?Reflect.construct(t,r||[],$m(e).constructor):t.apply(e,r))}function lae(e,t){if(t&&(Rc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cae(e)}function cae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SD=function(){return!!e})()}function $m(e){return $m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$m(e)}function uae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X0(e,t)}function X0(e,t){return X0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},X0(e,t)}function xS(e,t,r){return t=jD(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jD(e){var t=dae(e,"string");return Rc(t)=="symbol"?t:t+""}function dae(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fae(e){return e.dataKey}function hae(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(Uie,t)}var Cr=function(e){function t(){return iae(this,t),sae(this,t,arguments)}return uae(t,e),oae(t,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,p=i.payloadUniqBy,x=i.position,b=i.reverseDirection,y=i.useTranslate3d,v=i.viewBox,S=i.wrapperStyle,_=g??[];f&&_.length&&(_=hD(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),p,fae));var j=_.length>0;return L.createElement(rae,{allowEscapeViewBox:o,animationDuration:s,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:j,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:v,wrapperStyle:S},hae(u,HP(HP({},this.props),{},{payload:_})))}}])}(w.PureComponent);xS(Cr,"displayName","Tooltip");xS(Cr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!di.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pae=Ki,mae=function(){return pae.Date.now()},vae=mae,gae=/\s/;function yae(e){for(var t=e.length;t--&&gae.test(e.charAt(t)););return t}var xae=yae,bae=xae,wae=/^\s+/;function _ae(e){return e&&e.slice(0,bae(e)+1).replace(wae,"")}var Sae=_ae,jae=Sae,KP=Io,Eae=hu,GP=NaN,Oae=/^[-+]0x[0-9a-f]+$/i,Pae=/^0b[01]+$/i,Aae=/^0o[0-7]+$/i,Nae=parseInt;function Cae(e){if(typeof e=="number")return e;if(Eae(e))return GP;if(KP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=KP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=jae(e);var r=Pae.test(e);return r||Aae.test(e)?Nae(e.slice(2),r?2:8):Oae.test(e)?GP:+e}var ED=Cae,Tae=Io,Ex=vae,YP=ED,kae="Expected a function",$ae=Math.max,Rae=Math.min;function Iae(e,t,r){var n,i,a,o,s,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(kae);t=YP(t)||0,Tae(r)&&(d=!!r.leading,f="maxWait"in r,a=f?$ae(YP(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(j){var E=n,O=i;return n=i=void 0,u=j,o=e.apply(O,E),o}function g(j){return u=j,s=setTimeout(b,t),d?m(j):o}function p(j){var E=j-c,O=j-u,P=t-E;return f?Rae(P,a-O):P}function x(j){var E=j-c,O=j-u;return c===void 0||E>=t||E<0||f&&O>=a}function b(){var j=Ex();if(x(j))return y(j);s=setTimeout(b,p(j))}function y(j){return s=void 0,h&&n?m(j):(n=i=void 0,o)}function v(){s!==void 0&&clearTimeout(s),u=0,n=c=i=s=void 0}function S(){return s===void 0?o:y(Ex())}function _(){var j=Ex(),E=x(j);if(n=arguments,i=this,c=j,E){if(s===void 0)return g(c);if(f)return clearTimeout(s),s=setTimeout(b,t),m(c)}return s===void 0&&(s=setTimeout(b,t)),o}return _.cancel=v,_.flush=S,_}var Mae=Iae,Dae=Mae,Lae=Io,Fae="Expected a function";function Bae(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Fae);return Lae(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Dae(e,t,{leading:n,maxWait:t,trailing:i})}var Uae=Bae;const OD=at(Uae);function tf(e){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return t=Vae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vae(e){var t=Wae(e,"string");return tf(t)=="symbol"?t:t+""}function Wae(e,t){if(tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qae(e,t){return Yae(e)||Gae(e,t)||Kae(e,t)||Hae()}function Hae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kae(e,t){if(e){if(typeof e=="string")return QP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(e,t)}}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Yae(e){if(Array.isArray(e))return e}var cs=w.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,s=e.height,c=s===void 0?"100%":s,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,v=e.style,S=v===void 0?{}:v,_=w.useRef(null),j=w.useRef();j.current=y,w.useImperativeHandle(t,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=w.useState({containerWidth:i.width,containerHeight:i.height}),O=qae(E,2),P=O[0],M=O[1],C=w.useCallback(function(N,A){M(function(R){var I=Math.round(N),z=Math.round(A);return R.containerWidth===I&&R.containerHeight===z?R:{containerWidth:I,containerHeight:z}})},[]);w.useEffect(function(){var N=function(D){var H,G=D[0].contentRect,k=G.width,F=G.height;C(k,F),(H=j.current)===null||H===void 0||H.call(j,k,F)};p>0&&(N=OD(N,p,{trailing:!0,leading:!1}));var A=new ResizeObserver(N),R=_.current.getBoundingClientRect(),I=R.width,z=R.height;return C(I,z),A.observe(_.current),function(){A.disconnect()}},[C,p]);var $=w.useMemo(function(){var N=P.containerWidth,A=P.containerHeight;if(N<0||A<0)return null;ui(ls(o)||ls(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ui(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=ls(o)?N:o,I=ls(c)?A:c;r&&r>0&&(R?I=R/r:I&&(R=I*r),h&&I>h&&(I=h)),ui(R>0||I>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,I,o,c,d,f,r);var z=!Array.isArray(m)&&pa(m.type).endsWith("Chart");return L.Children.map(m,function(T){return L.isValidElement(T)?w.cloneElement(T,Qh({width:R,height:I},z?{style:Qh({height:"100%",width:"100%",maxHeight:I,maxWidth:R},T.props.style)}:{})):T})},[r,m,c,h,f,d,P,o]);return L.createElement("div",{id:x?"".concat(x):void 0,className:Le("recharts-responsive-container",b),style:Qh(Qh({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:_},$)}),oh=function(t){return null};oh.displayName="Cell";function rf(e){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rf(e)}function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return t=Qae(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Jae(e,"string");return rf(t)=="symbol"?t:t+""}function Jae(e,t){if(rf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cl={widthCache:{},cacheCount:0},Zae=2e3,eoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZP="recharts_measurement_span";function toe(e){var t=Q0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||di.isSsr)return{width:0,height:0};var n=toe(r),i=JSON.stringify({text:t,copyStyle:n});if(cl.widthCache[i])return cl.widthCache[i];try{var a=document.getElementById(ZP);a||(a=document.createElement("span"),a.setAttribute("id",ZP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=Q0(Q0({},eoe),n);Object.assign(a.style,o),a.textContent="".concat(t);var s=a.getBoundingClientRect(),c={width:s.width,height:s.height};return cl.widthCache[i]=c,++cl.cacheCount>Zae&&(cl.cacheCount=0,cl.widthCache={}),c}catch{return{width:0,height:0}}},roe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function nf(e){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nf(e)}function Rm(e,t){return ooe(e)||aoe(e,t)||ioe(e,t)||noe()}function noe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ioe(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aoe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ooe(e){if(Array.isArray(e))return e}function soe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,coe(n.key),n)}}function loe(e,t,r){return t&&tA(e.prototype,t),r&&tA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function coe(e){var t=uoe(e,"string");return nf(t)=="symbol"?t:t+""}function uoe(e,t){if(nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,doe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,foe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hoe=Object.keys(PD),Ml="NaN";function poe(e,t){return e*PD[t]}var Jh=function(){function e(t,r){soe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!doe.test(r)&&(this.num=NaN,this.unit=""),hoe.includes(r)&&(this.num=poe(t,r),this.unit="px")}return loe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=foe.exec(r))!==null&&n!==void 0?n:[],a=Rm(i,3),o=a[1],s=a[2];return new e(parseFloat(o),s??"")}}])}();function AD(e){if(e.includes(Ml))return Ml;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=rA.exec(t))!==null&&r!==void 0?r:[],i=Rm(n,4),a=i[1],o=i[2],s=i[3],c=Jh.parse(a??""),u=Jh.parse(s??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ml;t=t.replace(rA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=nA.exec(t))!==null&&f!==void 0?f:[],m=Rm(h,4),g=m[1],p=m[2],x=m[3],b=Jh.parse(g??""),y=Jh.parse(x??""),v=p==="+"?b.add(y):b.subtract(y);if(v.isNaN())return Ml;t=t.replace(nA,v.toString())}return t}var iA=/\(([^()]*)\)/;function moe(e){for(var t=e;t.includes("(");){var r=iA.exec(t),n=Rm(r,2),i=n[1];t=t.replace(iA,AD(i))}return t}function voe(e){var t=e.replace(/\s+/g,"");return t=moe(t),t=AD(t),t}function goe(e){try{return voe(e)}catch{return Ml}}function Ox(e){var t=goe(e.slice(5,-1));return t===Ml?"":t}var yoe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xoe=["dx","dy","angle","className","breakAll"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(this,arguments)}function aA(e,t){if(e==null)return{};var r=boe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function boe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oA(e,t){return joe(e)||Soe(e,t)||_oe(e,t)||woe()}function woe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _oe(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Soe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function joe(e){if(Array.isArray(e))return e}var ND=/[ \f\n\r\t\v\u2028\u2029]+/,CD=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var a=[];Me(r)||(n?a=r.toString().split(""):a=r.toString().split(ND));var o=a.map(function(c){return{word:c,width:yd(c,i).width}}),s=n?0:yd("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},Eoe=function(t,r,n,i,a){var o=t.maxLines,s=t.children,c=t.style,u=t.breakAll,d=fe(o),f=s,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(I,z){var T=z.word,D=z.width,H=I[I.length-1];if(H&&(i==null||a||H.width+D+n<Number(i)))H.words.push(T),H.width+=D+n;else{var G={words:[T],width:D};I.push(G)}return I},[])},m=h(r),g=function(R){return R.reduce(function(I,z){return I.width>z.width?I:z})};if(!d)return m;for(var p="",x=function(R){var I=f.slice(0,R),z=CD({breakAll:u,style:c,children:I+p}).wordsWithComputedWidth,T=h(z),D=T.length>o||g(T).width>Number(i);return[D,T]},b=0,y=f.length-1,v=0,S;b<=y&&v<=f.length-1;){var _=Math.floor((b+y)/2),j=_-1,E=x(j),O=oA(E,2),P=O[0],M=O[1],C=x(_),$=oA(C,1),N=$[0];if(!P&&!N&&(b=_+1),P&&N&&(y=_-1),!P&&N){S=M;break}v++}return S||m},lA=function(t){var r=Me(t)?[]:t.toString().split(ND);return[{words:r}]},Ooe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,s=t.maxLines;if((r||n)&&!di.isSsr){var c,u,d=CD({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return lA(i);return Eoe({breakAll:o,children:i,maxLines:s,style:a},c,u,r,n)}return lA(i)},cA="#808080",Fs=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.lineHeight,s=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?cA:x,y=aA(t,yoe),v=w.useMemo(function(){return Ooe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),S=y.dx,_=y.dy,j=y.angle,E=y.className,O=y.breakAll,P=aA(y,xoe);if(!sr(n)||!sr(a))return null;var M=n+(fe(S)?S:0),C=a+(fe(_)?_:0),$;switch(p){case"start":$=Ox("calc(".concat(u,")"));break;case"middle":$=Ox("calc(".concat((v.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:$=Ox("calc(".concat(v.length-1," * -").concat(s,")"));break}var N=[];if(f){var A=v[0].width,R=y.width;N.push("scale(".concat((fe(R)?R/A:1)/A,")"))}return j&&N.push("rotate(".concat(j,", ").concat(M,", ").concat(C,")")),N.length&&(P.transform=N.join(" ")),L.createElement("text",J0({},Ae(P,!0),{x:M,y:C,className:Le("recharts-text",E),textAnchor:m,fill:b.includes("url")?cA:b}),v.map(function(I,z){var T=I.words.join(O?"":" ");return L.createElement("tspan",{x:M,dy:z===0?$:s,key:"".concat(T,"-").concat(z)},T)}))};function xo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Poe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bS(e){let t,r,n;e.length!==2?(t=xo,r=(s,c)=>xo(e(s),c),n=(s,c)=>e(s)-c):(t=e===xo||e===Poe?e:Aoe,r=e,n=e);function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=i(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:i,center:o,right:a}}function Aoe(){return 0}function TD(e){return e===null?NaN:+e}function*Noe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Coe=bS(xo),sh=Coe.right;bS(TD).center;class uA extends Map{constructor(t,r=$oe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(dA(this,t))}has(t){return super.has(dA(this,t))}set(t,r){return super.set(Toe(this,t),r)}delete(t){return super.delete(koe(this,t))}}function dA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Toe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function koe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function $oe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Roe(e=xo){if(e===xo)return kD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function kD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ioe=Math.sqrt(50),Moe=Math.sqrt(10),Doe=Math.sqrt(2);function Im(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Ioe?10:a>=Moe?5:a>=Doe?2:1;let s,c,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?Im(e,t,r*2):[s,c,u]}function Z0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Im(t,e,r):Im(e,t,r);if(!(a>=i))return[];const s=a-i+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(a-u)/-o;else for(let u=0;u<s;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(i+u)/-o;else for(let u=0;u<s;++u)c[u]=(i+u)*o;return c}function ew(e,t,r){return t=+t,e=+e,r=+r,Im(e,t,r)[2]}function tw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?ew(t,e,r):ew(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function fA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function $D(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?kD:Roe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));$D(e,t,m,g,i)}const a=e[t];let o=r,s=n;for(Uu(e,r,t),i(e[n],a)>0&&Uu(e,r,n);o<s;){for(Uu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Uu(e,r,s):(++s,Uu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Uu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Loe(e,t,r){if(e=Float64Array.from(Noe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return hA(e);if(t>=1)return fA(e);var n,i=(n-1)*t,a=Math.floor(i),o=fA($D(e,a).subarray(0,a+1)),s=hA(e.subarray(a+1));return o+(s-o)*(i-a)}}function Foe(e,t,r=TD){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function Boe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Wn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ta(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rw=Symbol("implicit");function wS(){var e=new uA,t=[],r=[],n=rw;function i(a){let o=e.get(a);if(o===void 0){if(n!==rw)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new uA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return wS(t,r).unknown(n)},Wn.apply(i,arguments),i}function af(){var e=wS().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,p=m?n:i;a=(p-g)/Math.max(1,h-c+u*2),s&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,o=a*(1-c),s&&(g=Math.round(g),o=Math.round(o));var x=Boe(h).map(function(b){return g+a*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return af(t(),[n,i]).round(s).paddingInner(c).paddingOuter(u).align(d)},Wn.apply(f(),arguments)}function RD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RD(t())},e}function xd(){return RD(af.apply(null,arguments).paddingInner(1))}function _S(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function ID(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function lh(){}var of=.7,Mm=1/of,ec="\\s*([+-]?\\d+)\\s*",sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Mi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uoe=/^#([0-9a-f]{3,8})$/,zoe=new RegExp(`^rgb\\(${ec},${ec},${ec}\\)$`),Voe=new RegExp(`^rgb\\(${Mi},${Mi},${Mi}\\)$`),Woe=new RegExp(`^rgba\\(${ec},${ec},${ec},${sf}\\)$`),qoe=new RegExp(`^rgba\\(${Mi},${Mi},${Mi},${sf}\\)$`),Hoe=new RegExp(`^hsl\\(${sf},${Mi},${Mi}\\)$`),Koe=new RegExp(`^hsla\\(${sf},${Mi},${Mi},${sf}\\)$`),pA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_S(lh,lf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mA,formatHex:mA,formatHex8:Goe,formatHsl:Yoe,formatRgb:vA,toString:vA});function mA(){return this.rgb().formatHex()}function Goe(){return this.rgb().formatHex8()}function Yoe(){return MD(this).formatHsl()}function vA(){return this.rgb().formatRgb()}function lf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Uoe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gA(t):r===3?new en(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Zh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Zh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=zoe.exec(e))?new en(t[1],t[2],t[3],1):(t=Voe.exec(e))?new en(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Woe.exec(e))?Zh(t[1],t[2],t[3],t[4]):(t=qoe.exec(e))?Zh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hoe.exec(e))?bA(t[1],t[2]/100,t[3]/100,1):(t=Koe.exec(e))?bA(t[1],t[2]/100,t[3]/100,t[4]):pA.hasOwnProperty(e)?gA(pA[e]):e==="transparent"?new en(NaN,NaN,NaN,0):null}function gA(e){return new en(e>>16&255,e>>8&255,e&255,1)}function Zh(e,t,r,n){return n<=0&&(e=t=r=NaN),new en(e,t,r,n)}function Xoe(e){return e instanceof lh||(e=lf(e)),e?(e=e.rgb(),new en(e.r,e.g,e.b,e.opacity)):new en}function nw(e,t,r,n){return arguments.length===1?Xoe(e):new en(e,t,r,n??1)}function en(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}_S(en,nw,ID(lh,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?of:Math.pow(of,e),new en(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new en(Os(this.r),Os(this.g),Os(this.b),Dm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yA,formatHex:yA,formatHex8:Qoe,formatRgb:xA,toString:xA}));function yA(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function Qoe(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function xA(){const e=Dm(this.opacity);return`${e===1?"rgb(":"rgba("}${Os(this.r)}, ${Os(this.g)}, ${Os(this.b)}${e===1?")":`, ${e})`}`}function Dm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function us(e){return e=Os(e),(e<16?"0":"")+e.toString(16)}function bA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ai(e,t,r,n)}function MD(e){if(e instanceof ai)return new ai(e.h,e.s,e.l,e.opacity);if(e instanceof lh||(e=lf(e)),!e)return new ai;if(e instanceof ai)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,c=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?a+i:2-a-i,o*=60):s=c>0&&c<1?0:o,new ai(o,s,c,e.opacity)}function Joe(e,t,r,n){return arguments.length===1?MD(e):new ai(e,t,r,n??1)}function ai(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}_S(ai,Joe,ID(lh,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new ai(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?of:Math.pow(of,e),new ai(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new en(Px(e>=240?e-240:e+120,i,n),Px(e,i,n),Px(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new ai(wA(this.h),ep(this.s),ep(this.l),Dm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dm(this.opacity);return`${e===1?"hsl(":"hsla("}${wA(this.h)}, ${ep(this.s)*100}%, ${ep(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wA(e){return e=(e||0)%360,e<0?e+360:e}function ep(e){return Math.max(0,Math.min(1,e||0))}function Px(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const SS=e=>()=>e;function Zoe(e,t){return function(r){return e+r*t}}function ese(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function tse(e){return(e=+e)==1?DD:function(t,r){return r-t?ese(t,r,e):SS(isNaN(t)?r:t)}}function DD(e,t){var r=t-e;return r?Zoe(e,r):SS(isNaN(e)?t:e)}const _A=function e(t){var r=tse(t);function n(i,a){var o=r((i=nw(i)).r,(a=nw(a)).r),s=r(i.g,a.g),c=r(i.b,a.b),u=DD(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=s(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function rse(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function nse(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ise(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=_u(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function ase(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Lm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ose(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=_u(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ax=new RegExp(iw.source,"g");function sse(e){return function(){return e}}function lse(e){return function(t){return e(t)+""}}function cse(e,t){var r=iw.lastIndex=Ax.lastIndex=0,n,i,a,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=iw.exec(e))&&(i=Ax.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,c.push({i:o,x:Lm(n,i)})),r=Ax.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?c[0]?lse(c[0].x):sse(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function _u(e,t){var r=typeof t,n;return t==null||r==="boolean"?SS(t):(r==="number"?Lm:r==="string"?(n=lf(t))?(t=n,_A):cse:t instanceof lf?_A:t instanceof Date?ase:nse(t)?rse:Array.isArray(t)?ise:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ose:Lm)(e,t)}function jS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function use(e,t){t===void 0&&(t=e,e=_u);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function dse(e){return function(){return e}}function Fm(e){return+e}var SA=[0,1];function qr(e){return e}function aw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dse(isNaN(t)?NaN:.5)}function fse(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function hse(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=aw(i,n),a=r(o,a)):(n=aw(n,i),a=r(a,o)),function(s){return a(n(s))}}function pse(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=aw(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var c=sh(e,s,1,n)-1;return a[c](i[c](s))}}function ch(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zg(){var e=SA,t=SA,r=_u,n,i,a,o=qr,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==qr&&(o=fse(e[0],e[h-1])),s=h>2?pse:hse,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(i((u||(u=s(t,e.map(n),Lm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Fm),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jS,d()},f.clamp=function(h){return arguments.length?(o=h?!0:qr,d()):o!==qr},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,i=m,d()}}function ES(){return zg()(qr,qr)}function mse(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ic(e){return e=Bm(Math.abs(e)),e?e[1]:NaN}function vse(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],c=0;i>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(i-=s,i+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function gse(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var yse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cf(e){if(!(t=yse.exec(e)))throw new Error("invalid format: "+e);var t;return new OS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cf.prototype=OS.prototype;function OS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}OS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xse(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var LD;function bse(e,t){var r=Bm(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(LD=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Bm(e,Math.max(0,t+a-1))[0]}function jA(e,t){var r=Bm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const EA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mse,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jA(e*100,t),r:jA,s:bse,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function OA(e){return e}var PA=Array.prototype.map,AA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wse(e){var t=e.grouping===void 0||e.thousands===void 0?OA:vse(PA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?OA:gse(PA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=cf(f);var h=f.fill,m=f.align,g=f.sign,p=f.symbol,x=f.zero,b=f.width,y=f.comma,v=f.precision,S=f.trim,_=f.type;_==="n"?(y=!0,_="g"):EA[_]||(v===void 0&&(v=12),S=!0,_="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var j=p==="$"?r:p==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=p==="$"?n:/[%p]/.test(_)?o:"",O=EA[_],P=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function M(C){var $=j,N=E,A,R,I;if(_==="c")N=O(C)+N,C="";else{C=+C;var z=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),v),S&&(C=xse(C)),z&&+C==0&&g!=="+"&&(z=!1),$=(z?g==="("?g:s:g==="-"||g==="("?"":g)+$,N=(_==="s"?AA[8+LD/3]:"")+N+(z&&g==="("?")":""),P){for(A=-1,R=C.length;++A<R;)if(I=C.charCodeAt(A),48>I||I>57){N=(I===46?i+C.slice(A+1):C.slice(A))+N,C=C.slice(0,A);break}}}y&&!x&&(C=t(C,1/0));var T=$.length+C.length+N.length,D=T<b?new Array(b-T+1).join(h):"";switch(y&&x&&(C=t(D+C,D.length?b-N.length:1/0),D=""),m){case"<":C=$+C+N+D;break;case"=":C=$+D+C+N;break;case"^":C=D.slice(0,T=D.length>>1)+$+C+N+D.slice(T);break;default:C=D+$+C+N;break}return a(C)}return M.toString=function(){return f+""},M}function d(f,h){var m=u((f=cf(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Ic(h)/3)))*3,p=Math.pow(10,-g),x=AA[8+g/3];return function(b){return m(p*b)+x}}return{format:u,formatPrefix:d}}var tp,PS,FD;_se({thousands:",",grouping:[3],currency:["$",""]});function _se(e){return tp=wse(e),PS=tp.format,FD=tp.formatPrefix,tp}function Sse(e){return Math.max(0,-Ic(Math.abs(e)))}function jse(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ic(t)/3)))*3-Ic(Math.abs(e)))}function Ese(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ic(t)-Ic(e))+1}function BD(e,t,r,n){var i=tw(e,t,r),a;switch(n=cf(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=jse(i,o))&&(n.precision=a),FD(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Ese(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Sse(i))&&(n.precision=a-(n.type==="%")*2);break}}return PS(n)}function Mo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Z0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return BD(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);d-- >0;){if(u=ew(o,s,r),u===c)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function Um(){var e=ES();return e.copy=function(){return ch(e,Um())},Wn.apply(e,arguments),Mo(e)}function UD(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UD(e).unknown(t)},e=arguments.length?Array.from(e,Fm):[0,1],Mo(r)}function zD(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function NA(e){return Math.log(e)}function CA(e){return Math.exp(e)}function Ose(e){return-Math.log(-e)}function Pse(e){return-Math.exp(-e)}function Ase(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nse(e){return e===10?Ase:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cse(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TA(e){return(t,r)=>-e(-t,r)}function AS(e){const t=e(NA,CA),r=t.domain;let n=10,i,a;function o(){return i=Cse(n),a=Nse(n),r()[0]<0?(i=TA(i),a=TA(a),e(Ose,Pse)):e(NA,CA),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,p;const x=s==null?10:+s;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=Z0(u,d,x))}else b=Z0(h,m,Math.min(m-h,x)).map(a);return f?b.reverse():b},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=cf(c)).precision==null&&(c.trim=!0),c=PS(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(zD(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function VD(){const e=AS(zg()).domain([1,10]);return e.copy=()=>ch(e,VD()).base(e.base()),Wn.apply(e,arguments),e}function kA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $A(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function NS(e){var t=1,r=e(kA(t),$A(t));return r.constant=function(n){return arguments.length?e(kA(t=+n),$A(t)):t},Mo(r)}function WD(){var e=NS(zg());return e.copy=function(){return ch(e,WD()).constant(e.constant())},Wn.apply(e,arguments)}function RA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Tse(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kse(e){return e<0?-e*e:e*e}function CS(e){var t=e(qr,qr),r=1;function n(){return r===1?e(qr,qr):r===.5?e(Tse,kse):e(RA(r),RA(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Mo(t)}function TS(){var e=CS(zg());return e.copy=function(){return ch(e,TS()).exponent(e.exponent())},Wn.apply(e,arguments),e}function $se(){return TS.apply(null,arguments).exponent(.5)}function IA(e){return Math.sign(e)*e*e}function Rse(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qD(){var e=ES(),t=[0,1],r=!1,n;function i(a){var o=Rse(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(IA(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Fm)).map(IA)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return qD(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Wn.apply(i,arguments),Mo(i)}function HD(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=Foe(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[sh(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(xo),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return HD().domain(e).range(t).unknown(n)},Wn.apply(a,arguments)}function KD(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[sh(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,s()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KD().domain([e,t]).range(i).unknown(a)},Wn.apply(Mo(o),arguments)}function GD(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[sh(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return GD().domain(e).range(t).unknown(r)},Wn.apply(i,arguments)}const Nx=new Date,Cx=new Date;function cr(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const c=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return c},i.filter=a=>cr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Nx.setTime(+a),Cx.setTime(+o),e(Nx),e(Cx),Math.floor(r(Nx,Cx))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const zm=cr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?cr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):zm);zm.range;const ca=1e3,Dn=ca*60,ua=Dn*60,ja=ua*24,kS=ja*7,MA=ja*30,Tx=ja*365,ds=cr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ca)},(e,t)=>(t-e)/ca,e=>e.getUTCSeconds());ds.range;const $S=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ca)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getMinutes());$S.range;const RS=cr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Dn)},(e,t)=>(t-e)/Dn,e=>e.getUTCMinutes());RS.range;const IS=cr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ca-e.getMinutes()*Dn)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getHours());IS.range;const MS=cr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ua)},(e,t)=>(t-e)/ua,e=>e.getUTCHours());MS.range;const uh=cr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Dn)/ja,e=>e.getDate()-1);uh.range;const Vg=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>e.getUTCDate()-1);Vg.range;const YD=cr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ja,e=>Math.floor(e/ja));YD.range;function el(e){return cr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Dn)/kS)}const Wg=el(0),Vm=el(1),Ise=el(2),Mse=el(3),Mc=el(4),Dse=el(5),Lse=el(6);Wg.range;Vm.range;Ise.range;Mse.range;Mc.range;Dse.range;Lse.range;function tl(e){return cr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kS)}const qg=tl(0),Wm=tl(1),Fse=tl(2),Bse=tl(3),Dc=tl(4),Use=tl(5),zse=tl(6);qg.range;Wm.range;Fse.range;Bse.range;Dc.range;Use.range;zse.range;const DS=cr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());DS.range;const LS=cr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());LS.range;const Ea=cr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ea.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ea.range;const Oa=cr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:cr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Oa.range;function XD(e,t,r,n,i,a){const o=[[ds,1,ca],[ds,5,5*ca],[ds,15,15*ca],[ds,30,30*ca],[a,1,Dn],[a,5,5*Dn],[a,15,15*Dn],[a,30,30*Dn],[i,1,ua],[i,3,3*ua],[i,6,6*ua],[i,12,12*ua],[n,1,ja],[n,2,2*ja],[r,1,kS],[t,1,MA],[t,3,3*MA],[e,1,Tx]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=bS(([,,x])=>x).right(o,h);if(m===o.length)return e.every(tw(u/Tx,d/Tx,f));if(m===0)return zm.every(Math.max(tw(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[s,c]}const[Vse,Wse]=XD(Oa,LS,qg,YD,MS,RS),[qse,Hse]=XD(Ea,DS,Wg,uh,IS,$S);function kx(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function $x(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Kse(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=Vu(i),d=Wu(i),f=Vu(a),h=Wu(a),m=Vu(o),g=Wu(o),p=Vu(s),x=Wu(s),b=Vu(c),y=Wu(c),v={a:z,A:T,b:D,B:H,c:null,d:zA,e:zA,f:vle,g:Ole,G:Ale,H:hle,I:ple,j:mle,L:QD,m:gle,M:yle,p:G,q:k,Q:qA,s:HA,S:xle,u:ble,U:wle,V:_le,w:Sle,W:jle,x:null,X:null,y:Ele,Y:Ple,Z:Nle,"%":WA},S={a:F,A:K,b:J,B:se,c:null,d:VA,e:VA,f:$le,g:Vle,G:qle,H:Cle,I:Tle,j:kle,L:ZD,m:Rle,M:Ile,p:te,q:ae,Q:qA,s:HA,S:Mle,u:Dle,U:Lle,V:Fle,w:Ble,W:Ule,x:null,X:null,y:zle,Y:Wle,Z:Hle,"%":WA},_={a:M,A:C,b:$,B:N,c:A,d:BA,e:BA,f:cle,g:FA,G:LA,H:UA,I:UA,j:ale,L:lle,m:ile,M:ole,p:P,q:nle,Q:dle,s:fle,S:sle,u:Jse,U:Zse,V:ele,w:Qse,W:tle,x:R,X:I,y:FA,Y:LA,Z:rle,"%":ule};v.x=j(r,v),v.X=j(n,v),v.c=j(t,v),S.x=j(r,S),S.X=j(n,S),S.c=j(t,S);function j(Y,de){return function(ue){var X=[],De=-1,Ce=0,et=Y.length,Ye,W,me;for(ue instanceof Date||(ue=new Date(+ue));++De<et;)Y.charCodeAt(De)===37&&(X.push(Y.slice(Ce,De)),(W=DA[Ye=Y.charAt(++De)])!=null?Ye=Y.charAt(++De):W=Ye==="e"?" ":"0",(me=de[Ye])&&(Ye=me(ue,W)),X.push(Ye),Ce=De+1);return X.push(Y.slice(Ce,De)),X.join("")}}function E(Y,de){return function(ue){var X=zu(1900,void 0,1),De=O(X,Y,ue+="",0),Ce,et;if(De!=ue.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(de&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(Ce=$x(zu(X.y,0,1)),et=Ce.getUTCDay(),Ce=et>4||et===0?Wm.ceil(Ce):Wm(Ce),Ce=Vg.offset(Ce,(X.V-1)*7),X.y=Ce.getUTCFullYear(),X.m=Ce.getUTCMonth(),X.d=Ce.getUTCDate()+(X.w+6)%7):(Ce=kx(zu(X.y,0,1)),et=Ce.getDay(),Ce=et>4||et===0?Vm.ceil(Ce):Vm(Ce),Ce=uh.offset(Ce,(X.V-1)*7),X.y=Ce.getFullYear(),X.m=Ce.getMonth(),X.d=Ce.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),et="Z"in X?$x(zu(X.y,0,1)).getUTCDay():kx(zu(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(et+5)%7:X.w+X.U*7-(et+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,$x(X)):kx(X)}}function O(Y,de,ue,X){for(var De=0,Ce=de.length,et=ue.length,Ye,W;De<Ce;){if(X>=et)return-1;if(Ye=de.charCodeAt(De++),Ye===37){if(Ye=de.charAt(De++),W=_[Ye in DA?de.charAt(De++):Ye],!W||(X=W(Y,ue,X))<0)return-1}else if(Ye!=ue.charCodeAt(X++))return-1}return X}function P(Y,de,ue){var X=u.exec(de.slice(ue));return X?(Y.p=d.get(X[0].toLowerCase()),ue+X[0].length):-1}function M(Y,de,ue){var X=m.exec(de.slice(ue));return X?(Y.w=g.get(X[0].toLowerCase()),ue+X[0].length):-1}function C(Y,de,ue){var X=f.exec(de.slice(ue));return X?(Y.w=h.get(X[0].toLowerCase()),ue+X[0].length):-1}function $(Y,de,ue){var X=b.exec(de.slice(ue));return X?(Y.m=y.get(X[0].toLowerCase()),ue+X[0].length):-1}function N(Y,de,ue){var X=p.exec(de.slice(ue));return X?(Y.m=x.get(X[0].toLowerCase()),ue+X[0].length):-1}function A(Y,de,ue){return O(Y,t,de,ue)}function R(Y,de,ue){return O(Y,r,de,ue)}function I(Y,de,ue){return O(Y,n,de,ue)}function z(Y){return o[Y.getDay()]}function T(Y){return a[Y.getDay()]}function D(Y){return c[Y.getMonth()]}function H(Y){return s[Y.getMonth()]}function G(Y){return i[+(Y.getHours()>=12)]}function k(Y){return 1+~~(Y.getMonth()/3)}function F(Y){return o[Y.getUTCDay()]}function K(Y){return a[Y.getUTCDay()]}function J(Y){return c[Y.getUTCMonth()]}function se(Y){return s[Y.getUTCMonth()]}function te(Y){return i[+(Y.getUTCHours()>=12)]}function ae(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var de=j(Y+="",v);return de.toString=function(){return Y},de},parse:function(Y){var de=E(Y+="",!1);return de.toString=function(){return Y},de},utcFormat:function(Y){var de=j(Y+="",S);return de.toString=function(){return Y},de},utcParse:function(Y){var de=E(Y+="",!0);return de.toString=function(){return Y},de}}}var DA={"-":"",_:" ",0:"0"},mr=/^\s*\d+/,Gse=/^%/,Yse=/[\\^$*+?|[\]().{}]/g;function tt(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Xse(e){return e.replace(Yse,"\\$&")}function Vu(e){return new RegExp("^(?:"+e.map(Xse).join("|")+")","i")}function Wu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Qse(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Jse(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Zse(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function ele(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function tle(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LA(e,t,r){var n=mr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function FA(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function rle(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function nle(e,t,r){var n=mr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function ile(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function BA(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ale(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function UA(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function ole(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sle(e,t,r){var n=mr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lle(e,t,r){var n=mr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cle(e,t,r){var n=mr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ule(e,t,r){var n=Gse.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dle(e,t,r){var n=mr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fle(e,t,r){var n=mr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function zA(e,t){return tt(e.getDate(),t,2)}function hle(e,t){return tt(e.getHours(),t,2)}function ple(e,t){return tt(e.getHours()%12||12,t,2)}function mle(e,t){return tt(1+uh.count(Ea(e),e),t,3)}function QD(e,t){return tt(e.getMilliseconds(),t,3)}function vle(e,t){return QD(e,t)+"000"}function gle(e,t){return tt(e.getMonth()+1,t,2)}function yle(e,t){return tt(e.getMinutes(),t,2)}function xle(e,t){return tt(e.getSeconds(),t,2)}function ble(e){var t=e.getDay();return t===0?7:t}function wle(e,t){return tt(Wg.count(Ea(e)-1,e),t,2)}function JD(e){var t=e.getDay();return t>=4||t===0?Mc(e):Mc.ceil(e)}function _le(e,t){return e=JD(e),tt(Mc.count(Ea(e),e)+(Ea(e).getDay()===4),t,2)}function Sle(e){return e.getDay()}function jle(e,t){return tt(Vm.count(Ea(e)-1,e),t,2)}function Ele(e,t){return tt(e.getFullYear()%100,t,2)}function Ole(e,t){return e=JD(e),tt(e.getFullYear()%100,t,2)}function Ple(e,t){return tt(e.getFullYear()%1e4,t,4)}function Ale(e,t){var r=e.getDay();return e=r>=4||r===0?Mc(e):Mc.ceil(e),tt(e.getFullYear()%1e4,t,4)}function Nle(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+tt(t/60|0,"0",2)+tt(t%60,"0",2)}function VA(e,t){return tt(e.getUTCDate(),t,2)}function Cle(e,t){return tt(e.getUTCHours(),t,2)}function Tle(e,t){return tt(e.getUTCHours()%12||12,t,2)}function kle(e,t){return tt(1+Vg.count(Oa(e),e),t,3)}function ZD(e,t){return tt(e.getUTCMilliseconds(),t,3)}function $le(e,t){return ZD(e,t)+"000"}function Rle(e,t){return tt(e.getUTCMonth()+1,t,2)}function Ile(e,t){return tt(e.getUTCMinutes(),t,2)}function Mle(e,t){return tt(e.getUTCSeconds(),t,2)}function Dle(e){var t=e.getUTCDay();return t===0?7:t}function Lle(e,t){return tt(qg.count(Oa(e)-1,e),t,2)}function eL(e){var t=e.getUTCDay();return t>=4||t===0?Dc(e):Dc.ceil(e)}function Fle(e,t){return e=eL(e),tt(Dc.count(Oa(e),e)+(Oa(e).getUTCDay()===4),t,2)}function Ble(e){return e.getUTCDay()}function Ule(e,t){return tt(Wm.count(Oa(e)-1,e),t,2)}function zle(e,t){return tt(e.getUTCFullYear()%100,t,2)}function Vle(e,t){return e=eL(e),tt(e.getUTCFullYear()%100,t,2)}function Wle(e,t){return tt(e.getUTCFullYear()%1e4,t,4)}function qle(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Dc(e):Dc.ceil(e),tt(e.getUTCFullYear()%1e4,t,4)}function Hle(){return"+0000"}function WA(){return"%"}function qA(e){return+e}function HA(e){return Math.floor(+e/1e3)}var ul,tL,rL;Kle({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kle(e){return ul=Kse(e),tL=ul.format,ul.parse,rL=ul.utcFormat,ul.utcParse,ul}function Gle(e){return new Date(e)}function Yle(e){return e instanceof Date?+e:+new Date(+e)}function FS(e,t,r,n,i,a,o,s,c,u){var d=ES(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),v=u("%B"),S=u("%Y");function _(j){return(c(j)<j?m:s(j)<j?g:o(j)<j?p:a(j)<j?x:n(j)<j?i(j)<j?b:y:r(j)<j?v:S)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,Yle)):h().map(Gle)},d.ticks=function(j){var E=h();return e(E[0],E[E.length-1],j??10)},d.tickFormat=function(j,E){return E==null?_:u(E)},d.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?h(zD(E,j)):d},d.copy=function(){return ch(d,FS(e,t,r,n,i,a,o,s,c,u))},d}function Xle(){return Wn.apply(FS(qse,Hse,Ea,DS,Wg,uh,IS,$S,ds,tL).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qle(){return Wn.apply(FS(Vse,Wse,Oa,LS,qg,Vg,MS,RS,ds,rL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hg(){var e=0,t=1,r,n,i,a,o=qr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(_u),u.rangeRound=d(jS),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Do(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nL(){var e=Mo(Hg()(qr));return e.copy=function(){return Do(e,nL())},Ta.apply(e,arguments)}function iL(){var e=AS(Hg()).domain([1,10]);return e.copy=function(){return Do(e,iL()).base(e.base())},Ta.apply(e,arguments)}function aL(){var e=NS(Hg());return e.copy=function(){return Do(e,aL()).constant(e.constant())},Ta.apply(e,arguments)}function BS(){var e=CS(Hg());return e.copy=function(){return Do(e,BS()).exponent(e.exponent())},Ta.apply(e,arguments)}function Jle(){return BS.apply(null,arguments).exponent(.5)}function oL(){var e=[],t=qr;function r(n){if(n!=null&&!isNaN(n=+n))return t((sh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(xo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Loe(e,a/n))},r.copy=function(){return oL(t).domain(e)},Ta.apply(r,arguments)}function Kg(){var e=0,t=.5,r=1,n=1,i,a,o,s,c,u=qr,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?s:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,i=d(e=+e),a=d(t=+t),o=d(r=+r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,y,v;return arguments.length?([b,y,v]=x,u=use(p,[b,y,v]),m):[u(0),u(.5),u(1)]}}return m.range=g(_u),m.rangeRound=g(jS),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,i=p(e),a=p(t),o=p(r),s=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function sL(){var e=Mo(Kg()(qr));return e.copy=function(){return Do(e,sL())},Ta.apply(e,arguments)}function lL(){var e=AS(Kg()).domain([.1,1,10]);return e.copy=function(){return Do(e,lL()).base(e.base())},Ta.apply(e,arguments)}function cL(){var e=NS(Kg());return e.copy=function(){return Do(e,cL()).constant(e.constant())},Ta.apply(e,arguments)}function US(){var e=CS(Kg());return e.copy=function(){return Do(e,US()).exponent(e.exponent())},Ta.apply(e,arguments)}function Zle(){return US.apply(null,arguments).exponent(.5)}const KA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:af,scaleDiverging:sL,scaleDivergingLog:lL,scaleDivergingPow:US,scaleDivergingSqrt:Zle,scaleDivergingSymlog:cL,scaleIdentity:UD,scaleImplicit:rw,scaleLinear:Um,scaleLog:VD,scaleOrdinal:wS,scalePoint:xd,scalePow:TS,scaleQuantile:HD,scaleQuantize:KD,scaleRadial:qD,scaleSequential:nL,scaleSequentialLog:iL,scaleSequentialPow:BS,scaleSequentialQuantile:oL,scaleSequentialSqrt:Jle,scaleSequentialSymlog:aL,scaleSqrt:$se,scaleSymlog:WD,scaleThreshold:GD,scaleTime:Xle,scaleUtc:Qle,tickFormat:BD},Symbol.toStringTag,{value:"Module"}));var ece=hu;function tce(e,t,r){for(var n=-1,i=e.length;++n<i;){var a=e[n],o=t(a);if(o!=null&&(s===void 0?o===o&&!ece(o):r(o,s)))var s=o,c=a}return c}var Gg=tce;function rce(e,t){return e>t}var uL=rce,nce=Gg,ice=uL,ace=wu;function oce(e){return e&&e.length?nce(e,ace,ice):void 0}var sce=oce;const ao=at(sce);function lce(e,t){return e<t}var dL=lce,cce=Gg,uce=dL,dce=wu;function fce(e){return e&&e.length?cce(e,dce,uce):void 0}var hce=fce;const Yg=at(hce);var pce=tS,mce=Gi,vce=xD,gce=sn;function yce(e,t){var r=gce(e)?pce:vce;return r(e,mce(t))}var xce=yce,bce=gD,wce=xce;function _ce(e,t){return bce(wce(e,t),1)}var Sce=_ce;const jce=at(Sce);var Ece=vS;function Oce(e,t){return Ece(e,t)}var Pce=Oce;const Bs=at(Pce);var Su=1e9,Ace={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VS,Pt=!0,zn="[DecimalError] ",Ps=zn+"Invalid argument: ",zS=zn+"Exponent out of range: ",ju=Math.floor,Zo=Math.pow,Nce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vn,ur=1e7,wt=7,fL=9007199254740991,qm=ju(fL/wt),_e={};_e.absoluteValue=_e.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};_e.comparedTo=_e.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};_e.dividedBy=_e.div=function(e){return ma(this,new this.constructor(e))};_e.dividedToIntegerBy=_e.idiv=function(e){var t=this,r=t.constructor;return ct(ma(t,new r(e),0,1),r.precision)};_e.equals=_e.eq=function(e){return!this.cmp(e)};_e.exponent=function(){return Zt(this)};_e.greaterThan=_e.gt=function(e){return this.cmp(e)>0};_e.greaterThanOrEqualTo=_e.gte=function(e){return this.cmp(e)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(e){return this.cmp(e)<0};_e.lessThanOrEqualTo=_e.lte=function(e){return this.cmp(e)<1};_e.logarithm=_e.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(vn)?new n(0):(Pt=!1,t=ma(uf(r,a),uf(e,a),a),Pt=!0,ct(t,i))};_e.minus=_e.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mL(t,e):hL(t,(e.s=-e.s,e))};_e.modulo=_e.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zn+"NaN");return r.s?(Pt=!1,t=ma(r,e,0,1).times(e),Pt=!0,r.minus(t)):ct(new n(r),i)};_e.naturalExponential=_e.exp=function(){return pL(this)};_e.naturalLogarithm=_e.ln=function(){return uf(this)};_e.negated=_e.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};_e.plus=_e.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hL(t,e):mL(t,(e.s=-e.s,e))};_e.precision=_e.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ps+e);if(t=Zt(i)+1,n=i.d.length-1,r=n*wt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};_e.squareRoot=_e.sqrt=function(){var e,t,r,n,i,a,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(zn+"NaN")}for(e=Zt(s),Pt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Ni(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=ju((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(ma(s,a,o+2)).times(.5),Ni(a.d).slice(0,o)===(t=Ni(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ct(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return Pt=!0,ct(n,r)};_e.times=_e.mul=function(e){var t,r,n,i,a,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%ur|0,t=s/ur|0;a[i]=(a[i]+t)%ur|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Pt?ct(e,f.precision):e};_e.toDecimalPlaces=_e.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(qi(e,0,Su),t===void 0?t=n.rounding:qi(t,0,8),ct(r,e+Zt(r)+1,t))};_e.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Us(n,!0):(qi(e,0,Su),t===void 0?t=i.rounding:qi(t,0,8),n=ct(new i(n),e+1,t),r=Us(n,!0,e+1)),r};_e.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Us(i):(qi(e,0,Su),t===void 0?t=a.rounding:qi(t,0,8),n=ct(new a(i),e+Zt(i)+1,t),r=Us(n.abs(),!1,e+Zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};_e.toInteger=_e.toint=function(){var e=this,t=e.constructor;return ct(new t(e),Zt(e)+1,t.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(e){var t,r,n,i,a,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vn);if(s=new c(s),!s.s){if(e.s<1)throw Error(zn+"Infinity");return s}if(s.eq(vn))return s;if(n=c.precision,e.eq(vn))return ct(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=d<0?-d:d)<=fL){for(i=new c(vn),t=Math.ceil(n/wt+4),Pt=!1;r%2&&(i=i.times(s),YA(i.d,t)),r=ju(r/2),r!==0;)s=s.times(s),YA(s.d,t);return Pt=!0,e.s<0?new c(vn).div(i):ct(i,n)}}else if(a<0)throw Error(zn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Pt=!1,i=e.times(uf(s,n+u)),Pt=!0,i=pL(i),i.s=a,i};_e.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Zt(i),n=Us(i,r<=a.toExpNeg||r>=a.toExpPos)):(qi(e,1,Su),t===void 0?t=a.rounding:qi(t,0,8),i=ct(new a(i),e,t),r=Zt(i),n=Us(i,e<=r||r<=a.toExpNeg,e)),n};_e.toSignificantDigits=_e.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(qi(e,1,Su),t===void 0?t=n.rounding:qi(t,0,8)),ct(new n(r),e,t)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Zt(e),r=e.constructor;return Us(e,t<=r.toExpNeg||t>=r.toExpPos)};function hL(e,t){var r,n,i,a,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Pt?ct(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,i=o,s=c.length),o=Math.ceil(f/wt),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/ur|0,c[a]%=ur;for(r&&(c.unshift(r),++i),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=i,Pt?ct(t,f):t}function qi(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ps+e)}function Ni(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=wt-n.length,r&&(a+=za(r)),a+=n;o=e[t],n=o+"",r=wt-n.length,r&&(a+=za(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ma=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%ur|0,o=a/ur|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,c;if(a!=o)c=a>o?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=i[s]){c=n[s]>i[s]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*ur+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,c,u,d,f,h,m,g,p,x,b,y,v,S,_,j,E,O,P=n.constructor,M=n.s==i.s?1:-1,C=n.d,$=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(zn+"Division by zero");for(c=n.e-i.e,E=$.length,_=C.length,m=new P(M),g=m.d=[],u=0;$[u]==(C[u]||0);)++u;if($[u]>(C[u]||0)&&--c,a==null?y=a=P.precision:o?y=a+(Zt(n)-Zt(i))+1:y=a,y<0)return new P(0);if(y=y/wt+2|0,u=0,E==1)for(d=0,$=$[0],y++;(u<_||d)&&y--;u++)v=d*ur+(C[u]||0),g[u]=v/$|0,d=v%$|0;else{for(d=ur/($[0]+1)|0,d>1&&($=e($,d),C=e(C,d),E=$.length,_=C.length),S=E,p=C.slice(0,E),x=p.length;x<E;)p[x++]=0;O=$.slice(),O.unshift(0),j=$[0],$[1]>=ur/2&&++j;do d=0,s=t($,p,E,x),s<0?(b=p[0],E!=x&&(b=b*ur+(p[1]||0)),d=b/j|0,d>1?(d>=ur&&(d=ur-1),f=e($,d),h=f.length,x=p.length,s=t(f,p,h,x),s==1&&(d--,r(f,E<h?O:$,h))):(d==0&&(s=d=1),f=$.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),s==-1&&(x=p.length,s=t($,p,E,x),s<1&&(d++,r(p,E<x?O:$,x))),x=p.length):s===0&&(d++,p=[0]),g[u++]=d,s&&p[0]?p[x++]=C[S]||0:(p=[C[S]],x=1);while((S++<_||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,ct(m,o?a+Zt(m)+1:a)}}();function pL(e,t){var r,n,i,a,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(Zt(e)>16)throw Error(zS+Zt(e));if(!e.s)return new d(vn);for(t==null?(Pt=!1,s=f):s=t,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Zo(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new d(vn),d.precision=s;;){if(i=ct(i.times(e),s),r=r.times(++c),o=a.plus(ma(i,r,s)),Ni(o.d).slice(0,s)===Ni(a.d).slice(0,s)){for(;u--;)a=ct(a.times(a),s);return d.precision=f,t==null?(Pt=!0,ct(a,f)):a}a=o}}function Zt(e){for(var t=e.e*wt,r=e.d[0];r>=10;r/=10)t++;return t}function Rx(e,t,r){if(t>e.LN10.sd())throw Pt=!0,r&&(e.precision=r),Error(zn+"LN10 precision limit exceeded");return ct(new e(e.LN10),t)}function za(e){for(var t="";e--;)t+="0";return t}function uf(e,t){var r,n,i,a,o,s,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(zn+(m.s?"NaN":"-Infinity"));if(m.eq(vn))return new p(0);if(t==null?(Pt=!1,u=x):u=t,m.eq(10))return t==null&&(Pt=!0),Rx(p,u);if(u+=h,p.precision=u,r=Ni(g),n=r.charAt(0),a=Zt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ni(m.d),n=r.charAt(0),f++;a=Zt(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=Rx(p,u+2,x).times(a+""),m=uf(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(Pt=!0,ct(m,x)):m;for(s=o=m=ma(m.minus(vn),m.plus(vn),u),d=ct(m.times(m),u),i=3;;){if(o=ct(o.times(d),u),c=s.plus(ma(o,new p(i),u)),Ni(c.d).slice(0,u)===Ni(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(Rx(p,u+2,x).times(a+""))),s=ma(s,new p(f),u),p.precision=x,t==null?(Pt=!0,ct(s,x)):s;s=c,i+=2}}function GA(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=ju(r/wt),e.d=[],n=(r+1)%wt,r<0&&(n+=wt),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=wt;n<i;)e.d.push(+t.slice(n,n+=wt));t=t.slice(n),n=wt-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Pt&&(e.e>qm||e.e<-qm))throw Error(zS+r)}else e.s=0,e.e=0,e.d=[0];return e}function ct(e,t,r){var n,i,a,o,s,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=wt,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/wt),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=wt,i=n-wt+o}if(r!==void 0&&(a=Zo(10,o-i-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?i>0?u/Zo(10,o-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Zt(e),f.length=1,t=t-a-1,f[0]=Zo(10,(wt-t%wt)%wt),e.e=ju(-t/wt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Zo(10,wt-n),f[d]=i>0?(u/Zo(10,o-i)%Zo(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==ur&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=ur)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Pt&&(e.e>qm||e.e<-qm))throw Error(zS+Zt(e));return e}function mL(e,t){var r,n,i,a,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Pt?ct(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),i=Math.max(Math.ceil(m/wt),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,s=f.length,d=i<s,d&&(s=i),i=0;i<s;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,i=f.length-s;i>0;--i)c[s++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=ur-1;--c[a],c[i]+=ur}c[i]-=f[i]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Pt?ct(t,m):t):new h(0)}function Us(e,t,r){var n,i=Zt(e),a=Ni(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+za(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+za(-i-1)+a,r&&(n=r-o)>0&&(a+=za(n))):i>=o?(a+=za(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+za(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=za(n))),e.s<0?"-"+a:a}function YA(e,t){if(e.length>t)return e.length=t,!0}function vL(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ps+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return GA(o,a.toString())}else if(typeof a!="string")throw Error(Ps+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Nce.test(a))GA(o,a);else throw Error(Ps+a)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=vL,i.config=i.set=Cce,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Cce(e){if(!e||typeof e!="object")throw Error(zn+"Object expected");var t,r,n,i=["precision",1,Su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(ju(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ps+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ps+r+": "+n);return this}var VS=vL(Ace);vn=new VS(1);const lt=VS;function Tce(e){return Ice(e)||Rce(e)||$ce(e)||kce()}function kce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ce(e,t){if(e){if(typeof e=="string")return ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ow(e,t)}}function Rce(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Ice(e){if(Array.isArray(e))return ow(e)}function ow(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mce=function(t){return t},gL={"@@functional/placeholder":!0},yL=function(t){return t===gL},XA=function(t){return function r(){return arguments.length===0||arguments.length===1&&yL(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Dce=function e(t,r){return t===1?r:XA(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==gL}).length;return o>=t?r.apply(void 0,i):e(t-o,XA(function(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var d=i.map(function(f){return yL(f)?c.shift():f});return r.apply(void 0,Tce(d).concat(c))}))})},Xg=function(t){return Dce(t.length,t)},sw=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},Lce=Xg(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),Fce=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Mce;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,c){return c(s)},a.apply(void 0,arguments))}},lw=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},xL=function(t){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(s,c){return s===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function Bce(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function Uce(e,t,r){for(var n=new lt(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var zce=Xg(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),Vce=Xg(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),Wce=Xg(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Qg={rangeStep:Uce,getDigitCount:Bce,interpolateNumber:zce,uninterpolateNumber:Vce,uninterpolateTruncation:Wce};function cw(e){return Kce(e)||Hce(e)||bL(e)||qce()}function qce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hce(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Kce(e){if(Array.isArray(e))return uw(e)}function df(e,t){return Xce(e)||Yce(e,t)||bL(e,t)||Gce()}function Gce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bL(e,t){if(e){if(typeof e=="string")return uw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uw(e,t)}}function uw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yce(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),s;!(n=(s=o.next()).done)&&(r.push(s.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Xce(e){if(Array.isArray(e))return e}function wL(e){var t=df(e,2),r=t[0],n=t[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function _L(e,t,r){if(e.lte(0))return new lt(0);var n=Qg.getDigitCount(e.toNumber()),i=new lt(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new lt(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=s.mul(i);return t?c:new lt(Math.ceil(c))}function Qce(e,t,r){var n=1,i=new lt(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new lt(10).pow(Qg.getDigitCount(e)-1),i=new lt(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new lt(Math.floor(e)))}else e===0?i=new lt(Math.floor((t-1)/2)):r||(i=new lt(Math.floor(e)));var o=Math.floor((t-1)/2),s=Fce(Lce(function(c){return i.add(new lt(c-o).mul(n)).toNumber()}),sw);return s(0,t)}function SL(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var a=_L(new lt(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new lt(0):(o=new lt(e).add(t).div(2),o=o.sub(new lt(o).mod(a)));var s=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new lt(t).sub(o).div(a).toNumber()),u=s+c+1;return u>r?SL(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,s=t>0?s:s+(r-u)),{step:a,tickMin:o.sub(new lt(s).mul(a)),tickMax:o.add(new lt(c).mul(a))})}function Jce(e){var t=df(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=wL([r,n]),c=df(s,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(cw(sw(0,i-1).map(function(){return 1/0}))):[].concat(cw(sw(0,i-1).map(function(){return-1/0})),[d]);return r>n?lw(f):f}if(u===d)return Qce(u,i,a);var h=SL(u,d,o,a),m=h.step,g=h.tickMin,p=h.tickMax,x=Qg.rangeStep(g,p.add(new lt(.1).mul(m)),m);return r>n?lw(x):x}function Zce(e,t){var r=df(e,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=wL([n,i]),s=df(o,2),c=s[0],u=s[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(t,2),f=_L(new lt(u).sub(c).div(d-1),a,0),h=[].concat(cw(Qg.rangeStep(new lt(c),new lt(u).sub(new lt(.99).mul(f)),f)),[u]);return n>i?lw(h):h}var eue=xL(Jce),tue=xL(Zce),rue="Invariant failed";function zs(e,t){throw new Error(rue)}var nue=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(this,arguments)}function iue(e,t){return lue(e)||sue(e,t)||oue(e,t)||aue()}function aue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oue(e,t){if(e){if(typeof e=="string")return QA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QA(e,t)}}function QA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function lue(e){if(Array.isArray(e))return e}function cue(e,t){if(e==null)return{};var r=uue(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function due(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OL(n.key),n)}}function hue(e,t,r){return t&&fue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pue(e,t,r){return t=Km(t),mue(e,jL()?Reflect.construct(t,r||[],Km(e).constructor):t.apply(e,r))}function mue(e,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vue(e)}function vue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jL=function(){return!!e})()}function Km(e){return Km=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Km(e)}function gue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dw(e,t)}function dw(e,t){return dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dw(e,t)}function EL(e,t,r){return t=OL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OL(e){var t=yue(e,"string");return Lc(t)=="symbol"?t:t+""}function yue(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dh=function(e){function t(){return due(this,t),pue(this,t,arguments)}return gue(t,e),hue(t,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,s=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=cue(n,nue),m=Ae(h,!1);this.props.direction==="x"&&d.type!=="number"&&zs();var g=c.map(function(p){var x=u(p,s),b=x.x,y=x.y,v=x.value,S=x.errorVal;if(!S)return null;var _=[],j,E;if(Array.isArray(S)){var O=iue(S,2);j=O[0],E=O[1]}else j=E=S;if(a==="vertical"){var P=d.scale,M=y+i,C=M+o,$=M-o,N=P(v-j),A=P(v+E);_.push({x1:A,y1:C,x2:A,y2:$}),_.push({x1:N,y1:M,x2:A,y2:M}),_.push({x1:N,y1:C,x2:N,y2:$})}else if(a==="horizontal"){var R=f.scale,I=b+i,z=I-o,T=I+o,D=R(v-j),H=R(v+E);_.push({x1:z,y1:H,x2:T,y2:H}),_.push({x1:I,y1:D,x2:I,y2:H}),_.push({x1:z,y1:D,x2:T,y2:D})}return L.createElement(Ke,Hm({className:"recharts-errorBar",key:"bar-".concat(_.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},m),_.map(function(G){return L.createElement("line",Hm({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return L.createElement(Ke,{className:"recharts-errorBars"},g)}}])}(L.Component);EL(dh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EL(dh,"displayName","ErrorBar");function ff(e){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ff(e)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return t=bue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bue(e){var t=wue(e,"string");return ff(t)=="symbol"?t:t+""}function wue(e,t){if(ff(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ff(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PL=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=pn(r,Es);if(!o)return null;var s=Es.defaultProps,c=s!==void 0?Wo(Wo({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?Wo(Wo({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:WS(f),value:p||g,payload:m}}),Wo(Wo(Wo({},c),Es.getWithHeight(o,i)),{},{payload:u,item:o})};function hf(e){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hf(e)}function ZA(e){return Eue(e)||jue(e)||Sue(e)||_ue()}function _ue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sue(e,t){if(e){if(typeof e=="string")return fw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fw(e,t)}}function jue(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Eue(e){if(Array.isArray(e))return fw(e)}function fw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){tc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tc(e,t,r){return t=Oue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Pue(e,"string");return hf(t)=="symbol"?t:t+""}function Pue(e,t){if(hf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wt(e,t,r){return Me(e)||Me(t)?r:sr(t)?_n(e,t,r):Re(t)?t(e):r}function bd(e,t,r,n){var i=jce(e,function(s){return Wt(s,t)});if(r==="number"){var a=i.filter(function(s){return fe(s)||parseFloat(s)});return a.length?[Yg(a),ao(a)]:[1/0,-1/0]}var o=n?i.filter(function(s){return!Me(s)}):i;return o.map(function(s){return sr(s)||s instanceof Date?s:""})}var Aue=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<s;u++){var d=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Vr(f-d)!==Vr(h-f)){var g=[];if(Vr(h-f)===Vr(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=i[u].index;break}}else{var y=Math.min(d,h),v=Math.max(d,h);if(t>(y+f)/2&&t<=(v+f)/2){o=i[u].index;break}}}else for(var S=0;S<s;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===s-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},WS=function(t){var r,n=t,i=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,o=a.stroke,s=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:s;break;default:c=s;break}return c},Nue=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),c=0,u=s.length;c<u;c++)for(var d=a[s[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,b=p.filter(function(E){return pa(E.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,v=y!==void 0?Ft(Ft({},y),b[0].props):b[0].props,S=v.barSize,_=v[x];o[_]||(o[_]=[]);var j=Me(S)?r:S;o[_].push({item:b[0],stackList:b.slice(1),barSize:Me(j)?void 0:Wr(j,n,0)})}}return o},Cue=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,s=t.maxBarSize,c=o.length;if(c<1)return null;var u=Wr(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/c,g=o.reduce(function(S,_){return S+_.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=c*m);var p=(i-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(S,_){var j={item:_.item,position:{offset:x.offset+x.size+u,size:h?m:_.barSize}},E=[].concat(ZA(S),[j]);return x=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(O){E.push({item:O,position:x})}),E},f)}else{var b=Wr(n,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var y=(i-2*b-(c-1)*u)/c;y>1&&(y>>=0);var v=s===+s?Math.min(y,s):y;d=o.reduce(function(S,_,j){var E=[].concat(ZA(S),[{item:_.item,position:{offset:b+(y+u)*j+(y-v)/2,size:v}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(O){E.push({item:O,position:E[E.length-1].position})}),E},f)}return d},Tue=function(t,r,n,i){var a=n.children,o=n.width,s=n.margin,c=o-(s.left||0)-(s.right||0),u=PL({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&fe(t[m]))return Ft(Ft({},t),{},tc({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&fe(t[g]))return Ft(Ft({},t),{},tc({},g,t[g]+(h||0)))}return t},kue=function(t,r,n){return Me(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},AL=function(t,r,n,i,a){var o=r.props.children,s=Sn(o,dh).filter(function(u){return kue(i,a,u.props.direction)});if(s&&s.length){var c=s.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Wt(d,n);if(Me(f))return u;var h=Array.isArray(f)?[Yg(f),ao(f)]:[f,f],m=c.reduce(function(g,p){var x=Wt(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},$ue=function(t,r,n,i,a){var o=r.map(function(s){return AL(t,s,n,a,i)}).filter(function(s){return!Me(s)});return o&&o.length?o.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]):null},NL=function(t,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&AL(t,c,u,i)||bd(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)s[u[d]]||(s[u[d]]=!0,c.push(u[d]));return c},[])},CL=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},TL=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var a,o,s=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||s.push(r),o||s.push(n),s},da=function(t,r,n){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,s=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vr(s[0]-s[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return d.filter(function(f){return!yu(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},Ix=new WeakMap,rp=function(t,r){if(typeof r!="function")return t;Ix.has(t)||Ix.set(t,new WeakMap);var n=Ix.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},kL=function(t,r,n){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:af(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:Um(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xd(),realScaleType:"point"}:a==="category"?{scale:af(),realScaleType:"band"}:{scale:Um(),realScaleType:"linear"};if(ih(i)){var c="scale".concat(Ig(i));return{scale:(KA[c]||xd)(),realScaleType:KA[c]?c:"point"}}return Re(i)?{scale:i}:{scale:xd(),realScaleType:"point"}},tN=1e-4,$L=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),a=Math.min(i[0],i[1])-tN,o=Math.max(i[0],i[1])+tN,s=t(r[0]),c=t(r[n-1]);(s<a||s>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},Rue=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},Iue=function(t,r){if(!r||r.length!==2||!fe(r[0])||!fe(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!fe(t[0])||t[0]<n)&&(a[0]=n),(!fe(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},Mue=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0,s=0;s<r;++s){var c=yu(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+c,o=t[s][n][1])}},Due=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var s=yu(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=a,t[o][n][1]=a+s,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Lue={sign:Mue,expand:nQ,none:Cc,silhouette:iQ,wiggle:aQ,positive:Due},Fue=function(t,r,n){var i=r.map(function(s){return s.props.dataKey}),a=Lue[n],o=rQ().keys(i).value(function(s,c){return+Wt(s,c,0)}).order(D0).offset(a);return o(t)},Bue=function(t,r,n,i,a,o){if(!t)return null;var s=o?r.reverse():r,c={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Ft(Ft({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(sr(p)){var v=y.stackGroups[p]||{numericAxisId:n,cateAxisId:i,items:[]};v.items.push(h),y.hasStack=!0,y.stackGroups[p]=v}else y.stackGroups[Zs("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[h]};return Ft(Ft({},f),{},tc({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return Ft(Ft({},p),{},tc({},x,{numericAxisId:n,cateAxisId:i,items:b.items,stackedData:Fue(t,b.items,a)}))},g)}return Ft(Ft({},f),{},tc({},h,m))},d)},RL=function(t,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,s=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=eue(u,a,s);return t.domain([Yg(d),ao(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),h=tue(f,a,s);return{niceTicks:h}}return null};function Gm(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Me(i[t.dataKey])){var s=bm(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=Wt(i,Me(o)?t.dataKey:o);return Me(c)?null:t.scale(c)}var rN=function(t){var r=t.axis,n=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,s=t.index;if(r.type==="category")return n[s]?n[s].coordinate+i:null;var c=Wt(o,r.dataKey,r.domain[s]);return Me(c)?null:r.scale(c)-a/2+i},Uue=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},zue=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(sr(a)){var o=r[a];if(o){var s=o.items.indexOf(t);return s>=0?o.stackedData[s]:null}}return null},Vue=function(t){return t.reduce(function(r,n){return[Yg(n.concat([r[0]]).filter(fe)),ao(n.concat([r[1]]).filter(fe))]},[1/0,-1/0])},IL=function(t,r,n){return Object.keys(t).reduce(function(i,a){var o=t[a],s=o.stackedData,c=s.reduce(function(u,d){var f=Vue(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,iN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hw=function(t,r,n){if(Re(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(fe(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(nN.test(t[0])){var a=+nN.exec(t[0])[1];i[0]=r[0]-a}else Re(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(fe(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(iN.test(t[1])){var o=+iN.exec(t[1])[1];i[1]=r[1]+o}else Re(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Ym=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var a=yS(r,function(f){return f.coordinate}),o=1/0,s=1,c=a.length;s<c;s++){var u=a[s],d=a[s-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},aN=function(t,r,n){return!t||!t.length||Bs(t,_n(n,"type.defaultProps.domain"))?r:t},ML=function(t,r){var n=t.type.defaultProps?Ft(Ft({},t.type.defaultProps),t.props):t.props,i=n.dataKey,a=n.name,o=n.unit,s=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return Ft(Ft({},Ae(t,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:WS(t),value:Wt(r,i),type:c,payload:r,chartType:u,hide:d})};function pf(e){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pf(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){DL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DL(e,t,r){return t=Wue(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wue(e){var t=que(e,"string");return pf(t)=="symbol"?t:t+""}function que(e,t){if(pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hue(e,t){return Xue(e)||Yue(e,t)||Gue(e,t)||Kue()}function Kue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gue(e,t){if(e){if(typeof e=="string")return sN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sN(e,t)}}function sN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yue(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Xue(e){if(Array.isArray(e))return e}var Xm=Math.PI/180,Que=function(t){return t*180/Math.PI},vt=function(t,r,n,i){return{x:t+Math.cos(-Xm*i)*n,y:r+Math.sin(-Xm*i)*n}},LL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Jue=function(t,r,n,i,a){var o=t.width,s=t.height,c=t.startAngle,u=t.endAngle,d=Wr(t.cx,o,o/2),f=Wr(t.cy,s,s/2),h=LL(o,s,n),m=Wr(t.innerRadius,h,0),g=Wr(t.outerRadius,h,h*.8),p=Object.keys(r);return p.reduce(function(x,b){var y=r[b],v=y.domain,S=y.reversed,_;if(Me(y.range))i==="angleAxis"?_=[c,u]:i==="radiusAxis"&&(_=[m,g]),S&&(_=[_[1],_[0]]);else{_=y.range;var j=_,E=Hue(j,2);c=E[0],u=E[1]}var O=kL(y,a),P=O.realScaleType,M=O.scale;M.domain(v).range(_),$L(M);var C=RL(M,ra(ra({},y),{},{realScaleType:P})),$=ra(ra(ra({},y),C),{},{range:_,radius:g,realScaleType:P,scale:M,cx:d,cy:f,innerRadius:m,outerRadius:g,startAngle:c,endAngle:u});return ra(ra({},x),{},DL({},b,$))},{})},Zue=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},ede=function(t,r){var n=t.x,i=t.y,a=r.cx,o=r.cy,s=Zue({x:n,y:i},{x:a,y:o});if(s<=0)return{radius:s};var c=(n-a)/s,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Que(u),angleInRadian:u}},tde=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},rde=function(t,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),s=Math.min(a,o);return t+s*360},lN=function(t,r){var n=t.x,i=t.y,a=ede({x:n,y:i},r),o=a.radius,s=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=tde(r),f=d.startAngle,h=d.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?ra(ra({},r),{},{radius:o,angle:rde(m,r)}):null},FL=function(t){return!w.isValidElement(t)&&!Re(t)&&typeof t!="boolean"?t.className:""};function mf(e){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mf(e)}var nde=["offset"];function ide(e){return lde(e)||sde(e)||ode(e)||ade()}function ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ode(e,t){if(e){if(typeof e=="string")return pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pw(e,t)}}function sde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lde(e){if(Array.isArray(e))return pw(e)}function pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cde(e,t){if(e==null)return{};var r=ude(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ude(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){dde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dde(e,t,r){return t=fde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fde(e){var t=hde(e,"string");return mf(t)=="symbol"?t:t+""}function hde(e,t){if(mf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(this,arguments)}var pde=function(t){var r=t.value,n=t.formatter,i=Me(t.children)?r:t.children;return Re(n)?n(i):i},mde=function(t,r){var n=Vr(r-t),i=Math.min(Math.abs(r-t),360);return n*i},vde=function(t,r,n){var i=t.position,a=t.viewBox,o=t.offset,s=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,b=mde(m,g),y=b>=0?1:-1,v,S;i==="insideStart"?(v=m+y*o,S=p):i==="insideEnd"?(v=g-y*o,S=!p):i==="end"&&(v=g+y*o,S=p),S=b<=0?S:!S;var _=vt(u,d,x,v),j=vt(u,d,x,v+(S?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(j.x,",").concat(j.y),O=Me(t.id)?Zs("recharts-radial-line-"):t.id;return L.createElement("text",vf({},n,{dominantBaseline:"central",className:Le("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:O,d:E})),L.createElement("textPath",{xlinkHref:"#".concat(O)},r))},gde=function(t){var r=t.viewBox,n=t.offset,i=t.position,a=r,o=a.cx,s=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(i==="outside"){var m=vt(o,s,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=vt(o,s,x,h),y=b.x,v=b.y;return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},yde=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,a=t.position,o=r,s=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*i,b=p>0?"end":"start",y=p>0?"start":"end";if(a==="top"){var v={x:s+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:m};return er(er({},v),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:s+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return er(er({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var _={x:s-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return er(er({},_),n?{width:Math.max(_.x-n.x,0),height:d}:{})}if(a==="right"){var j={x:s+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return er(er({},j),n?{width:Math.max(n.x+n.width-j.x,0),height:d}:{})}var E=n?{width:u,height:d}:{};return a==="insideLeft"?er({x:s+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},E):a==="insideRight"?er({x:s+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},E):a==="insideTop"?er({x:s+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},E):a==="insideBottom"?er({x:s+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},E):a==="insideTopLeft"?er({x:s+x,y:c+h,textAnchor:y,verticalAnchor:g},E):a==="insideTopRight"?er({x:s+u-x,y:c+h,textAnchor:b,verticalAnchor:g},E):a==="insideBottomLeft"?er({x:s+x,y:c+d-h,textAnchor:y,verticalAnchor:m},E):a==="insideBottomRight"?er({x:s+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},E):pu(a)&&(fe(a.x)||ls(a.x))&&(fe(a.y)||ls(a.y))?er({x:s+Wr(a.x,u),y:c+Wr(a.y,d),textAnchor:"end",verticalAnchor:"end"},E):er({x:s+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},E)},xde=function(t){return"cx"in t&&fe(t.cx)};function fr(e){var t=e.offset,r=t===void 0?5:t,n=cde(e,nde),i=er({offset:r},n),a=i.viewBox,o=i.position,s=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,h=i.textBreakAll;if(!a||Me(s)&&Me(c)&&!w.isValidElement(u)&&!Re(u))return null;if(w.isValidElement(u))return w.cloneElement(u,i);var m;if(Re(u)){if(m=w.createElement(u,i),w.isValidElement(m))return m}else m=pde(i);var g=xde(a),p=Ae(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return vde(i,m,p);var x=g?gde(i):yde(i);return L.createElement(Fs,vf({className:Le("recharts-label",f)},p,x,{breakAll:h}),m)}fr.displayName="Label";var BL=function(t){var r=t.cx,n=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,s=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(fe(p)&&fe(x)){if(fe(f)&&fe(h))return{x:f,y:h,width:p,height:x};if(fe(m)&&fe(g))return{x:m,y:g,width:p,height:x}}return fe(f)&&fe(h)?{x:f,y:h,width:0,height:0}:fe(r)&&fe(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||s||0,clockWise:b}:t.viewBox?t.viewBox:{}},bde=function(t,r){return t?t===!0?L.createElement(fr,{key:"label-implicit",viewBox:r}):sr(t)?L.createElement(fr,{key:"label-implicit",viewBox:r,value:t}):w.isValidElement(t)?t.type===fr?w.cloneElement(t,{key:"label-implicit",viewBox:r}):L.createElement(fr,{key:"label-implicit",content:t,viewBox:r}):Re(t)?L.createElement(fr,{key:"label-implicit",content:t,viewBox:r}):pu(t)?L.createElement(fr,vf({viewBox:r},t,{key:"label-implicit"})):null:null},wde=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,a=BL(t),o=Sn(i,fr).map(function(c,u){return w.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var s=bde(t.label,r||a);return[s].concat(ide(o))};fr.parseViewBox=BL;fr.renderCallByParent=wde;function _de(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Sde=_de;const jde=at(Sde);function gf(e){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(e)}var Ede=["valueAccessor"],Ode=["data","dataKey","clockWise","id","textBreakAll"];function Pde(e){return Tde(e)||Cde(e)||Nde(e)||Ade()}function Ade(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nde(e,t){if(e){if(typeof e=="string")return mw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mw(e,t)}}function Cde(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tde(e){if(Array.isArray(e))return mw(e)}function mw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(this,arguments)}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kde(e,t,r){return t=$de(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $de(e){var t=Rde(e,"string");return gf(t)=="symbol"?t:t+""}function Rde(e,t){if(gf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fN(e,t){if(e==null)return{};var r=Ide(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ide(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Mde=function(t){return Array.isArray(t.value)?jde(t.value):t.value};function Di(e){var t=e.valueAccessor,r=t===void 0?Mde:t,n=fN(e,Ede),i=n.data,a=n.dataKey,o=n.clockWise,s=n.id,c=n.textBreakAll,u=fN(n,Ode);return!i||!i.length?null:L.createElement(Ke,{className:"recharts-label-list"},i.map(function(d,f){var h=Me(a)?r(d,f):Wt(d&&d.payload,a),m=Me(s)?{}:{id:"".concat(s,"-").concat(f)};return L.createElement(fr,Qm({},Ae(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:fr.parseViewBox(Me(o)?d:dN(dN({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Di.displayName="LabelList";function Dde(e,t){return e?e===!0?L.createElement(Di,{key:"labelList-implicit",data:t}):L.isValidElement(e)||Re(e)?L.createElement(Di,{key:"labelList-implicit",data:t,content:e}):pu(e)?L.createElement(Di,Qm({data:t},e,{key:"labelList-implicit"})):null:null}function Lde(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Sn(n,Di).map(function(o,s){return w.cloneElement(o,{data:t,key:"labelList-".concat(s)})});if(!r)return i;var a=Dde(e.label,t);return[a].concat(Pde(i))}Di.renderCallByParent=Lde;function yf(e){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yf(e)}function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vw.apply(this,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return t=Bde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bde(e){var t=Ude(e,"string");return yf(t)=="symbol"?t:t+""}function Ude(e,t){if(yf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zde=function(t,r){var n=Vr(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},np=function(t){var r=t.cx,n=t.cy,i=t.radius,a=t.angle,o=t.sign,s=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(s?1:-1)+i,f=Math.asin(c/d)/Xm,h=u?a:a+o*f,m=vt(r,n,d,h),g=vt(r,n,i,h),p=u?a-o*f:a,x=vt(r,n,d*Math.cos(f*Xm),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},UL=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,s=t.endAngle,c=zde(o,s),u=o+c,d=vt(r,n,a,o),f=vt(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=vt(r,n,i,o),g=vt(r,n,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Vde=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,s=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=Vr(d-u),h=np({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=np({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,v=x.theta,S=c?Math.abs(u-d):Math.abs(u-d)-p-v;if(S<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):UL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var _="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var j=np({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=j.circleTangency,O=j.lineTangency,P=j.theta,M=np({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),C=M.circleTangency,$=M.lineTangency,N=M.theta,A=c?Math.abs(u-d):Math.abs(u-d)-P-N;if(A<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat($.x,",").concat($.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},Wde={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zL=function(t){var r=pN(pN({},Wde),t),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,s=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var m=Le("recharts-sector",h),g=o-a,p=Wr(s,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=Vde({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=UL({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),L.createElement("path",vw({},Ae(r,!0),{className:m,d:x,role:"img"}))};function xf(e){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(e)}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){qde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qde(e,t,r){return t=Hde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hde(e){var t=Kde(e,"string");return xf(t)=="symbol"?t:t+""}function Kde(e,t){if(xf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gN={curveBasisClosed:qX,curveBasisOpen:HX,curveBasis:WX,curveBumpX:CX,curveBumpY:TX,curveLinearClosed:KX,curveLinear:Dg,curveMonotoneX:GX,curveMonotoneY:YX,curveNatural:XX,curveStep:QX,curveStepAfter:ZX,curveStepBefore:JX},ip=function(t){return t.x===+t.x&&t.y===+t.y},qu=function(t){return t.x},Hu=function(t){return t.y},Gde=function(t,r){if(Re(t))return t;var n="curve".concat(Ig(t));return(n==="curveMonotone"||n==="curveBump")&&r?gN["".concat(n).concat(r==="vertical"?"Y":"X")]:gN[n]||Dg},Yde=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,a=i===void 0?[]:i,o=t.baseLine,s=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=Gde(n,s),f=u?a.filter(function(p){return ip(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return ip(p)}):o,g=f.map(function(p,x){return vN(vN({},p),{},{base:m[x]})});return s==="vertical"?h=Gh().y(Hu).x1(qu).x0(function(p){return p.base.x}):h=Gh().x(qu).y1(Hu).y0(function(p){return p.base.y}),h.defined(ip).curve(d),h(g)}return s==="vertical"&&fe(o)?h=Gh().y(Hu).x1(qu).x0(o):fe(o)?h=Gh().x(qu).y1(Hu).y0(o):h=MM().x(qu).y(Hu),h.defined(ip).curve(d),h(f)},As=function(t){var r=t.className,n=t.points,i=t.path,a=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?Yde(t):i;return L.createElement("path",gw({},Ae(t,!1),wm(t),{className:Le("recharts-curve",r),d:o,ref:a}))},VL={exports:{}},Xde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qde=Xde,Jde=Qde;function WL(){}function qL(){}qL.resetWarningCache=WL;var Zde=function(){function e(n,i,a,o,s,c){if(c!==Jde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:qL,resetWarningCache:WL};return r.PropTypes=r,r};VL.exports=Zde();var efe=VL.exports;const nt=at(efe);var tfe=Object.getOwnPropertyNames,rfe=Object.getOwnPropertySymbols,nfe=Object.prototype.hasOwnProperty;function yN(e,t){return function(n,i,a){return e(n,i,a)&&t(n,i,a)}}function ap(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var a=i.cache,o=a.get(r),s=a.get(n);if(o&&s)return o===n&&s===r;a.set(r,n),a.set(n,r);var c=e(r,n,i);return a.delete(r),a.delete(n),c}}function xN(e){return tfe(e).concat(rfe(e))}var ife=Object.hasOwn||function(e,t){return nfe.call(e,t)};function rl(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var afe="__v",ofe="__o",sfe="_owner",bN=Object.getOwnPropertyDescriptor,wN=Object.keys;function lfe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function cfe(e,t){return rl(e.getTime(),t.getTime())}function ufe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function dfe(e,t){return e===t}function _N(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.entries(),o,s,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var ffe=rl;function hfe(e,t,r){var n=wN(e),i=n.length;if(wN(t).length!==i)return!1;for(;i-- >0;)if(!HL(e,t,r,n[i]))return!1;return!0}function Ku(e,t,r){var n=xN(e),i=n.length;if(xN(t).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=n[i],!HL(e,t,r,a)||(o=bN(e,a),s=bN(t,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function pfe(e,t){return rl(e.valueOf(),t.valueOf())}function mfe(e,t){return e.source===t.source&&e.flags===t.flags}function SN(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),a=e.values(),o,s;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(s=c.next())&&!s.done;){if(!i[d]&&r.equals(o.value,s.value,o.value,s.value,e,t,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function vfe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function gfe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function HL(e,t,r,n){return(n===sfe||n===ofe||n===afe)&&(e.$$typeof||t.$$typeof)?!0:ife(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var yfe="[object Arguments]",xfe="[object Boolean]",bfe="[object Date]",wfe="[object Error]",_fe="[object Map]",Sfe="[object Number]",jfe="[object Object]",Efe="[object RegExp]",Ofe="[object Set]",Pfe="[object String]",Afe="[object URL]",Nfe=Array.isArray,jN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,EN=Object.assign,Cfe=Object.prototype.toString.call.bind(Object.prototype.toString);function Tfe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,p,x){if(g===p)return!0;if(g==null||p==null)return!1;var b=typeof g;if(b!==typeof p)return!1;if(b!=="object")return b==="number"?o(g,p,x):b==="function"?i(g,p,x):!1;var y=g.constructor;if(y!==p.constructor)return!1;if(y===Object)return s(g,p,x);if(Nfe(g))return t(g,p,x);if(jN!=null&&jN(g))return f(g,p,x);if(y===Date)return r(g,p,x);if(y===RegExp)return u(g,p,x);if(y===Map)return a(g,p,x);if(y===Set)return d(g,p,x);var v=Cfe(g);return v===bfe?r(g,p,x):v===Efe?u(g,p,x):v===_fe?a(g,p,x):v===Ofe?d(g,p,x):v===jfe?typeof g.then!="function"&&typeof p.then!="function"&&s(g,p,x):v===Afe?h(g,p,x):v===wfe?n(g,p,x):v===yfe?s(g,p,x):v===xfe||v===Sfe||v===Pfe?c(g,p,x):!1}}function kfe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?Ku:lfe,areDatesEqual:cfe,areErrorsEqual:ufe,areFunctionsEqual:dfe,areMapsEqual:n?yN(_N,Ku):_N,areNumbersEqual:ffe,areObjectsEqual:n?Ku:hfe,arePrimitiveWrappersEqual:pfe,areRegExpsEqual:mfe,areSetsEqual:n?yN(SN,Ku):SN,areTypedArraysEqual:n?Ku:vfe,areUrlsEqual:gfe};if(r&&(i=EN({},i,r(i))),t){var a=ap(i.areArraysEqual),o=ap(i.areMapsEqual),s=ap(i.areObjectsEqual),c=ap(i.areSetsEqual);i=EN({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:c})}return i}function $fe(e){return function(t,r,n,i,a,o,s){return e(t,r,s)}}function Rfe(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,a=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,m=d.meta;return r(c,u,{cache:h,equals:i,meta:m,strict:a})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var Ife=Lo();Lo({strict:!0});Lo({circular:!0});Lo({circular:!0,strict:!0});Lo({createInternalComparator:function(){return rl}});Lo({strict:!0,createInternalComparator:function(){return rl}});Lo({circular:!0,createInternalComparator:function(){return rl}});Lo({circular:!0,createInternalComparator:function(){return rl},strict:!0});function Lo(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,s=kfe(e),c=Tfe(s),u=n?n(c):$fe(c);return Rfe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function Mfe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ON(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>t?(e(a),r=-1):Mfe(i)};requestAnimationFrame(n)}function yw(e){"@babel/helpers - typeof";return yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yw(e)}function Dfe(e){return Ufe(e)||Bfe(e)||Ffe(e)||Lfe()}function Lfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ffe(e,t){if(e){if(typeof e=="string")return PN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(e,t)}}function PN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bfe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ufe(e){if(Array.isArray(e))return e}function zfe(){var e={},t=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Dfe(o),c=s[0],u=s.slice(1);if(typeof c=="number"){ON(i.bind(null,u),c);return}i(c),ON(i.bind(null,u));return}yw(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function bf(e){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bf(e)}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){KL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KL(e,t,r){return t=Vfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vfe(e){var t=Wfe(e,"string");return bf(t)==="symbol"?t:String(t)}function Wfe(e,t){if(bf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qfe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},Hfe=function(t){return t},Kfe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},wd=function(t,r){return Object.keys(r).reduce(function(n,i){return NN(NN({},n),{},KL({},i,t(i,r[i])))},{})},CN=function(t,r,n){return t.map(function(i){return"".concat(Kfe(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Gfe(e,t){return Qfe(e)||Xfe(e,t)||GL(e,t)||Yfe()}function Yfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xfe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qfe(e){if(Array.isArray(e))return e}function Jfe(e){return the(e)||ehe(e)||GL(e)||Zfe()}function Zfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GL(e,t){if(e){if(typeof e=="string")return xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xw(e,t)}}function ehe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function the(e){if(Array.isArray(e))return xw(e)}function xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Jm=1e-4,YL=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},XL=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},TN=function(t,r){return function(n){var i=YL(t,r);return XL(i,n)}},rhe=function(t,r){return function(n){var i=YL(t,r),a=[].concat(Jfe(i.map(function(o,s){return o*s}).slice(1)),[0]);return XL(a,n)}},kN=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],s=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Gfe(u,4);i=d[0],a=d[1],o=d[2],s=d[3]}}}var f=TN(i,o),h=TN(a,s),m=rhe(i,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,v=y,S=0;S<8;++S){var _=f(v)-y,j=m(v);if(Math.abs(_-y)<Jm||j<Jm)return h(v);v=g(v-_/j)}return h(v)};return p.isStepper=!1,p},nhe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,a=i===void 0?8:i,o=t.dt,s=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*a,p=h+(m-g)*s/1e3,x=h*s/1e3+d;return Math.abs(x-f)<Jm&&Math.abs(p)<Jm?[f,0]:[x,p]};return c.isStepper=!0,c.dt=s,c},ihe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kN(i);case"spring":return nhe();default:if(i.split("(")[0]==="cubic-bezier")return kN(i)}return typeof i=="function"?i:null};function wf(e){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wf(e)}function $N(e){return she(e)||ohe(e)||QL(e)||ahe()}function ahe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ohe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function she(e){if(Array.isArray(e))return ww(e)}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){bw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bw(e,t,r){return t=lhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lhe(e){var t=che(e,"string");return wf(t)==="symbol"?t:String(t)}function che(e,t){if(wf(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wf(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uhe(e,t){return hhe(e)||fhe(e,t)||QL(e,t)||dhe()}function dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QL(e,t){if(e){if(typeof e=="string")return ww(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ww(e,t)}}function ww(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fhe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function hhe(e){if(Array.isArray(e))return e}var Zm=function(t,r,n){return t+(r-t)*n},_w=function(t){var r=t.from,n=t.to;return r!==n},phe=function e(t,r,n){var i=wd(function(a,o){if(_w(o)){var s=t(o.from,o.to,o.velocity),c=uhe(s,2),u=c[0],d=c[1];return gr(gr({},o),{},{from:u,velocity:d})}return o},r);return n<1?wd(function(a,o){return _w(o)?gr(gr({},o),{},{velocity:Zm(o.velocity,i[a].velocity,n),from:Zm(o.from,i[a].from,n)}):o},r):e(t,i,n-1)};const mhe=function(e,t,r,n,i){var a=qfe(e,t),o=a.reduce(function(x,b){return gr(gr({},x),{},bw({},b,[e[b],t[b]]))},{}),s=a.reduce(function(x,b){return gr(gr({},x),{},bw({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return wd(function(b,y){return y.from},s)},m=function(){return!Object.values(s).filter(_w).length},g=function(b){u||(u=b);var y=b-u,v=y/r.dt;s=phe(r,s,v),i(gr(gr(gr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var y=(b-d)/n,v=wd(function(_,j){return Zm.apply(void 0,$N(j).concat([r(y)]))},o);if(i(gr(gr(gr({},e),t),v)),y<1)c=requestAnimationFrame(f);else{var S=wd(function(_,j){return Zm.apply(void 0,$N(j).concat([r(1)]))},o);i(gr(gr(gr({},e),t),S))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}var vhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function ghe(e,t){if(e==null)return{};var r=yhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yhe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Mx(e){return _he(e)||whe(e)||bhe(e)||xhe()}function xhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bhe(e,t){if(e){if(typeof e=="string")return Sw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Sw(e,t)}}function whe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _he(e){if(Array.isArray(e))return Sw(e)}function Sw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){nd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nd(e,t,r){return t=JL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function She(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jhe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JL(n.key),n)}}function Ehe(e,t,r){return t&&jhe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JL(e){var t=Ohe(e,"string");return Fc(t)==="symbol"?t:String(t)}function Ohe(e,t){if(Fc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Phe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jw(e,t)}function jw(e,t){return jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jw(e,t)}function Ahe(e){var t=Nhe();return function(){var n=ev(e),i;if(t){var a=ev(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Ew(this,i)}}function Ew(e,t){if(t&&(Fc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ow(e)}function Ow(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ev(e){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ev(e)}var yi=function(e){Phe(r,e);var t=Ahe(r);function r(n,i){var a;She(this,r),a=t.call(this,n,i);var o=a.props,s=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(Ow(a)),a.changeStyle=a.changeStyle.bind(Ow(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),Ew(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},Ew(a);a.state={style:c?nd({},c,u):u}}else a.state={style:{}};return a}return Ehe(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:c?nd({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(Ife(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:i.to;if(this.state&&h){var x={style:c?nd({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(Kn(Kn({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=mhe(o,s,ihe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var y=x.duration,v=x.easing,S=v===void 0?"ease":v,_=x.style,j=x.properties,E=x.onAnimationEnd,O=b>0?o[b-1]:x,P=j||Object.keys(_);if(typeof S=="function"||S==="spring")return[].concat(Mx(p),[a.runJSAnimation.bind(a,{from:O.style,to:_,duration:y,easing:S}),y]);var M=CN(P,y,S),C=Kn(Kn(Kn({},O.style),_),{},{transition:M});return[].concat(Mx(p),[C,y,E]).filter(Hfe)};return this.manager.start([c].concat(Mx(o.reduce(m,[d,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=zfe());var a=i.begin,o=i.duration,s=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var p=s?nd({},s,c):c,x=CN(Object.keys(p),o,u);g.start([d,a,Kn(Kn({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=ghe(i,vhe),u=w.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,y=w.cloneElement(m,Kn(Kn({},c),{},{style:Kn(Kn({},x),d),className:b}));return y};return u===1?f(w.Children.only(a)):L.createElement("div",null,w.Children.map(a,function(h){return f(h)}))}}]),r}(w.PureComponent);yi.displayName="Animate";yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};yi.propTypes={from:nt.oneOfType([nt.object,nt.string]),to:nt.oneOfType([nt.object,nt.string]),attributeName:nt.string,duration:nt.number,begin:nt.number,easing:nt.oneOfType([nt.string,nt.func]),steps:nt.arrayOf(nt.shape({duration:nt.number.isRequired,style:nt.object.isRequired,easing:nt.oneOfType([nt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),nt.func]),properties:nt.arrayOf("string"),onAnimationEnd:nt.func})),children:nt.oneOfType([nt.node,nt.func]),isActive:nt.bool,canBegin:nt.bool,onAnimationEnd:nt.func,shouldReAnimate:nt.bool,onAnimationStart:nt.func,onAnimationReStart:nt.func};function _f(e){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_f(e)}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(this,arguments)}function Che(e,t){return Rhe(e)||$he(e,t)||khe(e,t)||The()}function The(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function khe(e,t){if(e){if(typeof e=="string")return MN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MN(e,t)}}function MN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $he(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Rhe(e){if(Array.isArray(e))return e}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){Ihe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ihe(e,t,r){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mhe(e){var t=Dhe(e,"string");return _f(t)=="symbol"?t:t+""}function Dhe(e,t){if(_f(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_f(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FN=function(t,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),s=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+s*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+s*f[1])),d+="L ".concat(t+n,",").concat(r+i-s*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+i)),d+="L ".concat(t+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-s*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(r+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+s*g,`
            L `).concat(t+n,",").concat(r+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+i,`
            L `).concat(t+c*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+i-s*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},Lhe=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,a=r.x,o=r.y,s=r.width,c=r.height;if(Math.abs(s)>0&&Math.abs(c)>0){var u=Math.min(a,a+s),d=Math.max(a,a+s),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=h}return!1},Fhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qS=function(t){var r=LN(LN({},Fhe),t),n=w.useRef(),i=w.useState(-1),a=Che(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var v=Le("recharts-rectangle",m);return y?L.createElement(yi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(S){var _=S.width,j=S.height,E=S.x,O=S.y;return L.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},L.createElement("path",tv({},Ae(r,!0),{className:v,d:FN(E,O,_,j,h),ref:n})))}):L.createElement("path",tv({},Ae(r,!0),{className:v,d:FN(c,u,d,f,h)}))},Bhe=["points","className","baseLinePoints","connectNulls"];function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function Uhe(e,t){if(e==null)return{};var r=zhe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zhe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BN(e){return Hhe(e)||qhe(e)||Whe(e)||Vhe()}function Vhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(e,t){if(e){if(typeof e=="string")return Pw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pw(e,t)}}function qhe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hhe(e){if(Array.isArray(e))return Pw(e)}function Pw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var UN=function(t){return t&&t.x===+t.x&&t.y===+t.y},Khe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){UN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),UN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},_d=function(t,r){var n=Khe(t);r&&(n=[n.reduce(function(a,o){return[].concat(BN(a),BN(o))},[])]);var i=n.map(function(a){return a.reduce(function(o,s,c){return"".concat(o).concat(c===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ghe=function(t,r,n){var i=_d(t,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(_d(r.reverse(),n).slice(1))},Yhe=function(t){var r=t.points,n=t.className,i=t.baseLinePoints,a=t.connectNulls,o=Uhe(t,Bhe);if(!r||!r.length)return null;var s=Le("recharts-polygon",n);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=Ghe(r,i,a);return L.createElement("g",{className:s},L.createElement("path",Dl({},Ae(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?L.createElement("path",Dl({},Ae(o,!0),{fill:"none",d:_d(r,a)})):null,c?L.createElement("path",Dl({},Ae(o,!0),{fill:"none",d:_d(i,a)})):null)}var d=_d(r,a);return L.createElement("path",Dl({},Ae(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:s,d}))};function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(this,arguments)}var fh=function(t){var r=t.cx,n=t.cy,i=t.r,a=t.className,o=Le("recharts-dot",a);return r===+r&&n===+n&&i===+i?L.createElement("circle",Aw({},Ae(t,!1),wm(t),{className:o,cx:r,cy:n,r:i})):null};function Sf(e){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sf(e)}var Xhe=["x","y","top","left","width","height","className"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(this,arguments)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){Jhe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jhe(e,t,r){return t=Zhe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zhe(e){var t=epe(e,"string");return Sf(t)=="symbol"?t:t+""}function epe(e,t){if(Sf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tpe(e,t){if(e==null)return{};var r=rpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var npe=function(t,r,n,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},ipe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,a=i===void 0?0:i,o=t.top,s=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=tpe(t,Xhe),x=Qhe({x:n,y:a,top:s,left:u,width:f,height:m},p);return!fe(n)||!fe(a)||!fe(f)||!fe(m)||!fe(s)||!fe(u)?null:L.createElement("path",Nw({},Ae(x,!0),{className:Le("recharts-cross",g),d:npe(n,a,f,m,s,u)}))},ape=Gg,ope=uL,spe=Gi;function lpe(e,t){return e&&e.length?ape(e,spe(t),ope):void 0}var cpe=lpe;const upe=at(cpe);var dpe=Gg,fpe=Gi,hpe=dL;function ppe(e,t){return e&&e.length?dpe(e,fpe(t),hpe):void 0}var mpe=ppe;const vpe=at(mpe);var gpe=["cx","cy","angle","ticks","axisLine"],ype=["ticks","tick","angle","tickFormatter","stroke"];function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sd.apply(this,arguments)}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){Jg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WN(e,t){if(e==null)return{};var r=xpe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xpe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bpe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eF(n.key),n)}}function wpe(e,t,r){return t&&qN(e.prototype,t),r&&qN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _pe(e,t,r){return t=rv(t),Spe(e,ZL()?Reflect.construct(t,r||[],rv(e).constructor):t.apply(e,r))}function Spe(e,t){if(t&&(Bc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jpe(e)}function jpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!e})()}function rv(e){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rv(e)}function Epe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Cw(e,t)}function Cw(e,t){return Cw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Cw(e,t)}function Jg(e,t,r){return t=eF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eF(e){var t=Ope(e,"string");return Bc(t)=="symbol"?t:t+""}function Ope(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zg=function(e){function t(){return bpe(this,t),_pe(this,t,arguments)}return Epe(t,e),wpe(t,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,a=this.props,o=a.angle,s=a.cx,c=a.cy;return vt(s,c,i,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=upe(s,function(d){return d.coordinate||0}),u=vpe(s,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.angle,s=n.ticks,c=n.axisLine,u=WN(n,gpe),d=s.reduce(function(g,p){return[Math.min(g[0],p.coordinate),Math.max(g[1],p.coordinate)]},[1/0,-1/0]),f=vt(i,a,d[0],o),h=vt(i,a,d[1],o),m=qo(qo(qo({},Ae(u,!1)),{},{fill:"none"},Ae(c,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return L.createElement("line",Sd({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.angle,c=i.tickFormatter,u=i.stroke,d=WN(i,ype),f=this.getTickTextAnchor(),h=Ae(d,!1),m=Ae(o,!1),g=a.map(function(p,x){var b=n.getTickValueCoord(p),y=qo(qo(qo(qo({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(b.x,", ").concat(b.y,")")},h),{},{stroke:"none",fill:u},m),{},{index:x},b),{},{payload:p});return L.createElement(Ke,Sd({className:Le("recharts-polar-radius-axis-tick",FL(o)),key:"tick-".concat(p.coordinate)},Ls(n.props,p,x)),t.renderTickItem(o,y,c?c(p.value,x):p.value))});return L.createElement(Ke,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.axisLine,o=n.tick;return!i||!i.length?null:L.createElement(Ke,{className:Le("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),fr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Fs,Sd({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(w.PureComponent);Jg(Zg,"displayName","PolarRadiusAxis");Jg(Zg,"axisType","radiusAxis");Jg(Zg,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function ts(){return ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ts.apply(this,arguments)}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ppe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rF(n.key),n)}}function Ape(e,t,r){return t&&KN(e.prototype,t),r&&KN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Npe(e,t,r){return t=nv(t),Cpe(e,tF()?Reflect.construct(t,r||[],nv(e).constructor):t.apply(e,r))}function Cpe(e,t){if(t&&(Uc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tpe(e)}function Tpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!e})()}function nv(e){return nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nv(e)}function kpe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tw(e,t)}function Tw(e,t){return Tw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Tw(e,t)}function ey(e,t,r){return t=rF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rF(e){var t=$pe(e,"string");return Uc(t)=="symbol"?t:t+""}function $pe(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rpe=Math.PI/180,GN=1e-5,ty=function(e){function t(){return Ppe(this,t),Npe(this,t,arguments)}return kpe(t,e),Ape(t,[{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.cx,o=i.cy,s=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=vt(a,o,s,n.coordinate),h=vt(a,o,s+(c==="inner"?-1:1)*d,n.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,a=Math.cos(-n.coordinate*Rpe),o;return a>GN?o=i==="outer"?"start":"end":a<-GN?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,a=n.cy,o=n.radius,s=n.axisLine,c=n.axisLineType,u=Ho(Ho({},Ae(this.props,!1)),{},{fill:"none"},Ae(s,!1));if(c==="circle")return L.createElement(fh,ts({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(h){return vt(i,a,o,h.coordinate)});return L.createElement(Yhe,ts({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,a=i.ticks,o=i.tick,s=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Ae(this.props,!1),f=Ae(o,!1),h=Ho(Ho({},d),{},{fill:"none"},Ae(s,!1)),m=a.map(function(g,p){var x=n.getTickLineCoord(g),b=n.getTickTextAnchor(g),y=Ho(Ho(Ho({textAnchor:b},d),{},{stroke:"none",fill:u},f),{},{index:p,payload:g,x:x.x2,y:x.y2});return L.createElement(Ke,ts({className:Le("recharts-polar-angle-axis-tick",FL(o)),key:"tick-".concat(g.coordinate)},Ls(n.props,g,p)),s&&L.createElement("line",ts({className:"recharts-polar-angle-axis-tick-line"},h,x)),o&&t.renderTickItem(o,y,c?c(g.value,p):g.value))});return L.createElement(Ke,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var n=this.props,i=n.ticks,a=n.radius,o=n.axisLine;return a<=0||!i||!i.length?null:L.createElement(Ke,{className:Le("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Fs,ts({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(w.PureComponent);ey(ty,"displayName","PolarAngleAxis");ey(ty,"axisType","angleAxis");ey(ty,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Ipe=oD,Mpe=Ipe(Object.getPrototypeOf,Object),Dpe=Mpe,Lpe=Na,Fpe=Dpe,Bpe=Ca,Upe="[object Object]",zpe=Function.prototype,Vpe=Object.prototype,nF=zpe.toString,Wpe=Vpe.hasOwnProperty,qpe=nF.call(Object);function Hpe(e){if(!Bpe(e)||Lpe(e)!=Upe)return!1;var t=Fpe(e);if(t===null)return!0;var r=Wpe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&nF.call(r)==qpe}var Kpe=Hpe;const Gpe=at(Kpe);var Ype=Na,Xpe=Ca,Qpe="[object Boolean]";function Jpe(e){return e===!0||e===!1||Xpe(e)&&Ype(e)==Qpe}var Zpe=Jpe;const eme=at(Zpe);function jf(e){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jf(e)}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(this,arguments)}function tme(e,t){return ame(e)||ime(e,t)||nme(e,t)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nme(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ime(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ame(e){if(Array.isArray(e))return e}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){ome(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ome(e,t,r){return t=sme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sme(e){var t=lme(e,"string");return jf(t)=="symbol"?t:t+""}function lme(e,t){if(jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JN=function(t,r,n,i,a){var o=n-i,s;return s="M ".concat(t,",").concat(r),s+="L ".concat(t+n,",").concat(r),s+="L ".concat(t+n-o/2,",").concat(r+a),s+="L ".concat(t+n-o/2-i,",").concat(r+a),s+="L ".concat(t,",").concat(r," Z"),s},cme={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ume=function(t){var r=QN(QN({},cme),t),n=w.useRef(),i=w.useState(-1),a=tme(i,2),o=a[0],s=a[1];w.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&s(v)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=Le("recharts-trapezoid",m);return b?L.createElement(yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(v){var S=v.upperWidth,_=v.lowerWidth,j=v.height,E=v.x,O=v.y;return L.createElement(yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},L.createElement("path",iv({},Ae(r,!0),{className:y,d:JN(E,O,S,_,j),ref:n})))}):L.createElement("g",null,L.createElement("path",iv({},Ae(r,!0),{className:y,d:JN(c,u,d,f,h)})))},dme=["option","shapeType","propTransformer","activeClassName","isActive"];function Ef(e){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ef(e)}function fme(e,t){if(e==null)return{};var r=hme(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){pme(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pme(e,t,r){return t=mme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mme(e){var t=vme(e,"string");return Ef(t)=="symbol"?t:t+""}function vme(e,t){if(Ef(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ef(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gme(e,t){return av(av({},t),e)}function yme(e,t){return e==="symbols"}function eC(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return L.createElement(qS,r);case"trapezoid":return L.createElement(ume,r);case"sector":return L.createElement(zL,r);case"symbols":if(yme(t))return L.createElement(uS,r);break;default:return null}}function xme(e){return w.isValidElement(e)?e.props:e}function iF(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?gme:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,s=e.isActive,c=fme(e,dme),u;if(w.isValidElement(t))u=w.cloneElement(t,av(av({},c),xme(t)));else if(Re(t))u=t(c);else if(Gpe(t)&&!eme(t)){var d=i(t,c);u=L.createElement(eC,{shapeType:r,elementProps:d})}else{var f=c;u=L.createElement(eC,{shapeType:r,elementProps:f})}return s?L.createElement(Ke,{className:o},u):u}function ry(e,t){return t!=null&&"trapezoids"in e.props}function ny(e,t){return t!=null&&"sectors"in e.props}function Of(e,t){return t!=null&&"points"in e.props}function bme(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&a}function wme(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function _me(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function Sme(e,t){var r;return ry(e,t)?r=bme:ny(e,t)?r=wme:Of(e,t)&&(r=_me),r}function jme(e,t){var r;return ry(e,t)?r="trapezoids":ny(e,t)?r="sectors":Of(e,t)&&(r="points"),r}function Eme(e,t){if(ry(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ny(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Of(e,t)?t.payload:{}}function Ome(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=jme(r,t),a=Eme(r,t),o=n.filter(function(c,u){var d=Bs(a,c),f=r.props[i].filter(function(g){var p=Sme(r,t);return p(g,t)}),h=r.props[i].indexOf(f[f.length-1]),m=u===h;return d&&m}),s=n.indexOf(o[o.length-1]);return s}var Bp;function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){In(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oF(n.key),n)}}function Ame(e,t,r){return t&&rC(e.prototype,t),r&&rC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nme(e,t,r){return t=ov(t),Cme(e,aF()?Reflect.construct(t,r||[],ov(e).constructor):t.apply(e,r))}function Cme(e,t){if(t&&(zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tme(e)}function Tme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aF=function(){return!!e})()}function ov(e){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ov(e)}function kme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kw(e,t)}function kw(e,t){return kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kw(e,t)}function In(e,t,r){return t=oF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oF(e){var t=$me(e,"string");return zc(t)=="symbol"?t:t+""}function $me(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yi=function(e){function t(r){var n;return Pme(this,t),n=Nme(this,t,[r]),In(n,"pieRef",null),In(n,"sectorRefs",[]),In(n,"id",Zs("recharts-pie-")),In(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Re(i)&&i()}),In(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Re(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return kme(t,e),Ame(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,s=a.labelLine,c=a.dataKey,u=a.valueKey,d=Ae(this.props,!1),f=Ae(o,!1),h=Ae(s,!1),m=o&&o.offsetRadius||20,g=n.map(function(p,x){var b=(p.startAngle+p.endAngle)/2,y=vt(p.cx,p.cy,p.outerRadius+m,b),v=dt(dt(dt(dt({},d),p),{},{stroke:"none"},f),{},{index:x,textAnchor:t.getTextAnchor(y.x,p.cx)},y),S=dt(dt(dt(dt({},d),p),{},{fill:"none",stroke:p.fill},h),{},{index:x,points:[vt(p.cx,p.cy,p.outerRadius,b),y]}),_=c;return Me(c)&&Me(u)?_="value":Me(c)&&(_=u),L.createElement(Ke,{key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(x)},s&&t.renderLabelLineItem(s,S,"line"),t.renderLabelItem(o,v,Wt(p,_)))});return L.createElement(Ke,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,s=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var f=i.isActiveIndex(d),h=c&&i.hasActiveIndex()?c:null,m=f?o:h,g=dt(dt({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return L.createElement(Ke,Ll({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Ls(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),L.createElement(iF,Ll({option:m,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,s=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,h=f.prevSectors,m=f.prevIsAnimationActive;return L.createElement(yi,{begin:s,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var p=g.t,x=[],b=a&&a[0],y=b.startAngle;return a.forEach(function(v,S){var _=h&&h[S],j=S>0?_n(v,"paddingAngle",0):0;if(_){var E=ar(_.endAngle-_.startAngle,v.endAngle-v.startAngle),O=dt(dt({},v),{},{startAngle:y+j,endAngle:y+E(p)+j});x.push(O),y=O.endAngle}else{var P=v.endAngle,M=v.startAngle,C=ar(0,P-M),$=C(p),N=dt(dt({},v),{},{startAngle:y+j,endAngle:y+$+j});x.push(N),y=N.endAngle}}),L.createElement(Ke,null,n.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Bs(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,s=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,h=i.outerRadius,m=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!fe(u)||!fe(d)||!fe(f)||!fe(h))return null;var p=Le("recharts-pie",s);return L.createElement(Ke,{tabIndex:this.props.rootTabIndex,className:p,ref:function(b){n.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),fr.renderCallByParent(this.props,null,!1),(!m||g)&&Di.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);if(Re(n))return n(i);var o=Le("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return L.createElement(As,Ll({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(L.isValidElement(n))return L.cloneElement(n,i);var o=a;if(Re(n)&&(o=n(i),L.isValidElement(o)))return o;var s=Le("recharts-pie-label-text",typeof n!="boolean"&&!Re(n)?n.className:"");return L.createElement(Fs,Ll({},i,{alignmentBaseline:"middle",className:s}),o)}}])}(w.PureComponent);Bp=Yi;In(Yi,"displayName","Pie");In(Yi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!di.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});In(Yi,"parseDeltaAngle",function(e,t){var r=Vr(t-e),n=Math.min(Math.abs(t-e),360);return r*n});In(Yi,"getRealPieData",function(e){var t=e.data,r=e.children,n=Ae(e,!1),i=Sn(r,oh);return t&&t.length?t.map(function(a,o){return dt(dt(dt({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return dt(dt({},n),a.props)}):[]});In(Yi,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,a=t.height,o=LL(i,a),s=n+Wr(e.cx,i,i/2),c=r+Wr(e.cy,a,a/2),u=Wr(e.innerRadius,o,0),d=Wr(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:s,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});In(Yi,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?dt(dt({},t.type.defaultProps),t.props):t.props,i=Bp.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,s=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,h=n.tooltipType,m=Math.abs(n.minAngle),g=Bp.parseCoordinateOfPie(n,r),p=Bp.parseDeltaAngle(o,s),x=Math.abs(p),b=u;Me(u)&&Me(f)?(ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Me(u)&&(ui(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=f);var y=i.filter(function(O){return Wt(O,b,0)!==0}).length,v=(x>=360?y:y-1)*c,S=x-y*m-v,_=i.reduce(function(O,P){var M=Wt(P,b,0);return O+(fe(M)?M:0)},0),j;if(_>0){var E;j=i.map(function(O,P){var M=Wt(O,b,0),C=Wt(O,d,P),$=(fe(M)?M:0)/_,N;P?N=E.endAngle+Vr(p)*c*(M!==0?1:0):N=o;var A=N+Vr(p)*((M!==0?m:0)+$*S),R=(N+A)/2,I=(g.innerRadius+g.outerRadius)/2,z=[{name:C,value:M,payload:O,dataKey:b,type:h}],T=vt(g.cx,g.cy,I,R);return E=dt(dt(dt({percent:$,cornerRadius:a,name:C,tooltipPayload:z,midAngle:R,middleRadius:I,tooltipPosition:T},O),g),{},{value:Wt(O,b),startAngle:N,endAngle:A,payload:O,paddingAngle:Vr(p)*c}),E})}return dt(dt({},g),{},{sectors:j,data:i})});var Rme=Math.ceil,Ime=Math.max;function Mme(e,t,r,n){for(var i=-1,a=Ime(Rme((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=e,e+=r;return o}var Dme=Mme,Lme=ED,nC=1/0,Fme=17976931348623157e292;function Bme(e){if(!e)return e===0?e:0;if(e=Lme(e),e===nC||e===-nC){var t=e<0?-1:1;return t*Fme}return e===e?e:0}var sF=Bme,Ume=Dme,zme=Ug,Dx=sF;function Vme(e){return function(t,r,n){return n&&typeof n!="number"&&zme(t,r,n)&&(r=n=void 0),t=Dx(t),r===void 0?(r=t,t=0):r=Dx(r),n=n===void 0?t<r?1:-1:Dx(n),Ume(t,r,n,e)}}var Wme=Vme,qme=Wme,Hme=qme(),Kme=Hme;const sv=at(Kme);function Pf(e){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pf(e)}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){lF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lF(e,t,r){return t=Gme(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gme(e){var t=Yme(e,"string");return Pf(t)=="symbol"?t:t+""}function Yme(e,t){if(Pf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xme=["Webkit","Moz","O","ms"],Qme=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Xme.reduce(function(a,o){return aC(aC({},a),{},lF({},o+n,r))},{});return i[t]=r,i};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(this,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){dn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uF(n.key),n)}}function Zme(e,t,r){return t&&sC(e.prototype,t),r&&sC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eve(e,t,r){return t=cv(t),tve(e,cF()?Reflect.construct(t,r||[],cv(e).constructor):t.apply(e,r))}function tve(e,t){if(t&&(Vc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rve(e)}function rve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cF=function(){return!!e})()}function cv(e){return cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cv(e)}function nve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$w(e,t)}function $w(e,t){return $w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$w(e,t)}function dn(e,t,r){return t=uF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uF(e){var t=ive(e,"string");return Vc(t)=="symbol"?t:t+""}function ive(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ave=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,a=t.x,o=t.width,s=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xd().domain(sv(0,c)).range([a,a+o-s]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},lC=function(t){return t.changedTouches&&!!t.changedTouches.length},Wc=function(e){function t(r){var n;return Jme(this,t),n=eve(this,t,[r]),dn(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),dn(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),dn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),n.detachDragEndListener()}),dn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),dn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),dn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),dn(n,"handleSlideDragStart",function(i){var a=lC(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return nve(t,e),Zme(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,s=this.props,c=s.gap,u=s.data,d=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,c=Wt(a[n],s,n);return Re(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-s,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-s));var x=this.getIndex({startX:o+p,endX:s+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:s+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=lC(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-a;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var v=this.getIndex(b),S=v.startIndex,_=v.endIndex,j=function(){var O=x.length-1;return o==="startX"&&(s>c?S%p===0:_%p===0)||s<c&&_===O||o==="endX"&&(s>c?_%p===0:S%p===0)||s>c&&_===O};this.setState(dn(dn({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&j()&&g(v)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,s=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=s.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(dn({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.fill,u=n.stroke;return L.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.data,u=n.children,d=n.padding,f=w.Children.only(u);return f?L.cloneElement(f,{x:i,y:a,width:o,height:s,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,s=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=Lx(Lx({},Ae(this.props,!1)),{},{x:b,y:u,width:d,height:f}),v=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return L.createElement(Ke,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),s.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,s=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return L.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:s})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,s=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return L.createElement(Ke,{className:"recharts-brush-texts"},L.createElement(Fs,lv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},g),this.getTextOfTick(i)),L.createElement(Fs,lv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,s=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!fe(s)||!fe(c)||!fe(u)||!fe(d)||u<=0||d<=0)return null;var v=Le("recharts-brush",a),S=L.Children.count(o)===1,_=Qme("userSelect","none");return L.createElement(Ke,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,s=n.height,c=n.stroke,u=Math.floor(a+s/2)-1;return L.createElement(L.Fragment,null,L.createElement("rect",{x:i,y:a,width:o,height:s,fill:c,stroke:"none"}),L.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),L.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return L.isValidElement(n)?a=L.cloneElement(n,i):Re(n)?a=n(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,s=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Lx({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?ave({data:a,width:o,x:s,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([s,s+o-c]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,s=a-1;s-o>1;){var c=Math.floor((o+s)/2);n[c]>i?s=c:o=c}return i>=n[s]?s:o}}])}(w.PureComponent);dn(Wc,"displayName","Brush");dn(Wc,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ove=gS;function sve(e,t){var r;return ove(e,function(n,i,a){return r=t(n,i,a),!r}),!!r}var lve=sve,cve=JM,uve=Gi,dve=lve,fve=sn,hve=Ug;function pve(e,t,r){var n=fve(e)?cve:dve;return r&&hve(e,t,r)&&(t=void 0),n(e,uve(t))}var mve=pve;const vve=at(mve);var Li=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},cC=bD;function gve(e,t,r){t=="__proto__"&&cC?cC(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var yve=gve,xve=yve,bve=yD,wve=Gi;function _ve(e,t){var r={};return t=wve(t),bve(e,function(n,i,a){xve(r,i,t(n,i,a))}),r}var Sve=_ve;const jve=at(Sve);function Eve(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Ove=Eve,Pve=gS;function Ave(e,t){var r=!0;return Pve(e,function(n,i,a){return r=!!t(n,i,a),r}),r}var Nve=Ave,Cve=Ove,Tve=Nve,kve=Gi,$ve=sn,Rve=Ug;function Ive(e,t,r){var n=$ve(e)?Cve:Tve;return r&&Rve(e,t,r)&&(t=void 0),n(e,kve(t))}var Mve=Ive;const dF=at(Mve);var Dve=["x","y"];function Af(e){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Af(e)}function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(this,arguments)}function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){Lve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lve(e,t,r){return t=Fve(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fve(e){var t=Bve(e,"string");return Af(t)=="symbol"?t:t+""}function Bve(e,t){if(Af(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Af(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uve(e,t){if(e==null)return{};var r=zve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vve(e,t){var r=e.x,n=e.y,i=Uve(e,Dve),a="".concat(r),o=parseInt(a,10),s="".concat(n),c=parseInt(s,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Gu(Gu(Gu(Gu(Gu({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function dC(e){return L.createElement(iF,Rw({shapeType:"rectangle",propTransformer:Vve,activeClassName:"recharts-active-bar"},e))}var Wve=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var a=typeof n=="number";return a?t(n,i):(a||zs(),r)}},qve=["value","background"],fF;function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Hve(e,t){if(e==null)return{};var r=Kve(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kve(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(this,arguments)}function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){oo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pF(n.key),n)}}function Yve(e,t,r){return t&&hC(e.prototype,t),r&&hC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xve(e,t,r){return t=dv(t),Qve(e,hF()?Reflect.construct(t,r||[],dv(e).constructor):t.apply(e,r))}function Qve(e,t){if(t&&(qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jve(e)}function Jve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hF=function(){return!!e})()}function dv(e){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dv(e)}function Zve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Iw(e,t)}function Iw(e,t){return Iw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Iw(e,t)}function oo(e,t,r){return t=pF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pF(e){var t=ege(e,"string");return qc(t)=="symbol"?t:t+""}function ege(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fi=function(e){function t(){var r;Gve(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=Xve(this,t,[].concat(i)),oo(r,"state",{isAnimationFinished:!1}),oo(r,"id",Zs("recharts-bar-")),oo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),oo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return Zve(t,e),Yve(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,s=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Ae(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Ht(Ht(Ht({},d),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return L.createElement(Ke,uv({className:"recharts-bar-rectangle"},Ls(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),L.createElement(dC,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,h=this.state.prevData;return L.createElement(yi,{begin:c,duration:u,isActive:s,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=a.map(function(x,b){var y=h&&h[b];if(y){var v=ar(y.x,x.x),S=ar(y.y,x.y),_=ar(y.width,x.width),j=ar(y.height,x.height);return Ht(Ht({},x),{},{x:v(g),y:S(g),width:_(g),height:j(g)})}if(o==="horizontal"){var E=ar(0,x.height),O=E(g);return Ht(Ht({},x),{},{y:x.y+x.height-O,height:O})}var P=ar(0,x.width),M=P(g);return Ht(Ht({},x),{},{width:M})});return L.createElement(Ke,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Bs(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,c=Ae(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=Hve(u,qve);if(!f)return null;var m=Ht(Ht(Ht(Ht(Ht({},h),{},{fill:"#eee"},f),c),Ls(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return L.createElement(dC,uv({key:"background-bar-".concat(d),option:n.props.background,isActive:d===s},m))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Sn(d,dh);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:Wt(x,b)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(Ke,g,f.map(function(p){return L.cloneElement(p,{key:"error-bar-".concat(i,"-").concat(p.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,s=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,b=Le("recharts-bar",o),y=s&&s.allowDataOverflow,v=c&&c.allowDataOverflow,S=y||v,_=Me(p)?this.id:p;return L.createElement(Ke,{className:b},y||v?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(_)},L.createElement("rect",{x:y?u:u-f/2,y:v?d:d-h/2,width:y?f:f*2,height:v?h:h*2}))):null,L.createElement(Ke,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(_,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,_),(!m||x)&&Di.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(w.PureComponent);fF=fi;oo(fi,"displayName","Bar");oo(fi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});oo(fi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Rue(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Ht(Ht({},p),r.props):r.props,b=x.dataKey,y=x.children,v=x.minPointSize,S=g==="horizontal"?o:a,_=u?S.scale.domain():null,j=Uue({numericAxis:S}),E=Sn(y,oh),O=f.map(function(P,M){var C,$,N,A,R,I;u?C=Iue(u[d+M],_):(C=Wt(P,b),Array.isArray(C)||(C=[j,C]));var z=Wve(v,fF.defaultProps.minPointSize)(C[1],M);if(g==="horizontal"){var T,D=[o.scale(C[0]),o.scale(C[1])],H=D[0],G=D[1];$=rN({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:P,index:M}),N=(T=G??H)!==null&&T!==void 0?T:void 0,A=m.size;var k=H-G;if(R=Number.isNaN(k)?0:k,I={x:$,y:o.y,width:A,height:o.height},Math.abs(z)>0&&Math.abs(R)<Math.abs(z)){var F=Vr(R||z)*(Math.abs(z)-Math.abs(R));N-=F,R+=F}}else{var K=[a.scale(C[0]),a.scale(C[1])],J=K[0],se=K[1];if($=J,N=rN({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:P,index:M}),A=se-J,R=m.size,I={x:a.x,y:N,width:a.width,height:R},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var te=Vr(A||z)*(Math.abs(z)-Math.abs(A));A+=te}}return Ht(Ht(Ht({},P),{},{x:$,y:N,width:A,height:R,value:u?C:C[1],payload:P,background:I},E&&E[M]&&E[M].props),{},{tooltipPayload:[ML(r,P)],tooltipPosition:{x:$+A/2,y:N+R/2}})});return Ht({data:O,layout:g},h)});function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function tge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mF(n.key),n)}}function rge(e,t,r){return t&&pC(e.prototype,t),r&&pC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){iy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iy(e,t,r){return t=mF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mF(e){var t=nge(e,"string");return Nf(t)=="symbol"?t:t+""}function nge(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HS=function(t,r,n,i,a){var o=t.width,s=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:s-n.bottom,bottomMirror:s-n.bottom},h=!!pn(u,fi);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,y=p.padding,v=y===void 0?{}:y,S=p.mirror,_=p.reversed,j="".concat(x).concat(S?"Mirror":""),E,O,P,M,C;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var $=b[1]-b[0],N=1/0,A=p.categoricalDomain.sort();if(A.forEach(function(K,J){J>0&&(N=Math.min((K||0)-(A[J-1]||0),N))}),Number.isFinite(N)){var R=N/$,I=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(E=R*I/2),p.padding==="no-gap"){var z=Wr(t.barCategoryGap,R*I),T=R*I/2;E=T-z-(T-z)/I*z}}}i==="xAxis"?O=[n.left+(v.left||0)+(E||0),n.left+n.width-(v.right||0)-(E||0)]:i==="yAxis"?O=c==="horizontal"?[n.top+n.height-(v.bottom||0),n.top+(v.top||0)]:[n.top+(v.top||0)+(E||0),n.top+n.height-(v.bottom||0)-(E||0)]:O=p.range,_&&(O=[O[1],O[0]]);var D=kL(p,a,h),H=D.scale,G=D.realScaleType;H.domain(b).range(O),$L(H);var k=RL(H,ei(ei({},p),{},{realScaleType:G}));i==="xAxis"?(C=x==="top"&&!S||x==="bottom"&&S,P=n.left,M=f[j]-C*p.height):i==="yAxis"&&(C=x==="left"&&!S||x==="right"&&S,P=f[j]-C*p.width,M=n.top);var F=ei(ei(ei({},p),k),{},{realScaleType:G,x:P,y:M,scale:H,width:i==="xAxis"?n.width:p.width,height:i==="yAxis"?n.height:p.height});return F.bandSize=Ym(F,k),!p.hide&&i==="xAxis"?f[j]+=(C?-1:1)*F.height:p.hide||(f[j]+=(C?-1:1)*F.width),ei(ei({},m),{},iy({},g,F))},{})},vF=function(t,r){var n=t.x,i=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},ige=function(t){var r=t.x1,n=t.y1,i=t.x2,a=t.y2;return vF({x:r,y:n},{x:i,y:a})},gF=function(){function e(t){tge(this,e),this.scale=t}return rge(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(r)+s}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();iy(gF,"EPS",1e-4);var KS=function(t){var r=Object.keys(t).reduce(function(n,i){return ei(ei({},n),{},iy({},i,gF.create(t[i])))},{});return ei(ei({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return jve(i,function(c,u){return r[u].apply(c,{bandAware:o,position:s})})},isInRange:function(i){return dF(i,function(a,o){return r[o].isInRange(a)})}})};function age(e){return(e%180+180)%180}var oge=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=age(i),o=a*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},sge=Gi,lge=ah,cge=Fg;function uge(e){return function(t,r,n){var i=Object(t);if(!lge(t)){var a=sge(r);t=cge(t),r=function(s){return a(i[s],s,i)}}var o=e(t,r,n);return o>-1?i[a?t[o]:o]:void 0}}var dge=uge,fge=sF;function hge(e){var t=fge(e),r=t%1;return t===t?r?t-r:t:0}var pge=hge,mge=fD,vge=Gi,gge=pge,yge=Math.max;function xge(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:gge(r);return i<0&&(i=yge(n+i,0)),mge(e,vge(t),i)}var bge=xge,wge=dge,_ge=bge,Sge=wge(_ge),jge=Sge;const Ege=at(jge);var Oge=_7(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GS=w.createContext(void 0),YS=w.createContext(void 0),yF=w.createContext(void 0),xF=w.createContext({}),bF=w.createContext(void 0),wF=w.createContext(0),_F=w.createContext(0),vC=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=t.clipPathId,s=t.children,c=t.width,u=t.height,d=Oge(a);return L.createElement(GS.Provider,{value:n},L.createElement(YS.Provider,{value:i},L.createElement(xF.Provider,{value:a},L.createElement(yF.Provider,{value:d},L.createElement(bF.Provider,{value:o},L.createElement(wF.Provider,{value:u},L.createElement(_F.Provider,{value:c},s)))))))},Pge=function(){return w.useContext(bF)},SF=function(t){var r=w.useContext(GS);r==null&&zs();var n=r[t];return n==null&&zs(),n},Age=function(){var t=w.useContext(GS);return qa(t)},Nge=function(){var t=w.useContext(YS),r=Ege(t,function(n){return dF(n.domain,Number.isFinite)});return r||qa(t)},jF=function(t){var r=w.useContext(YS);r==null&&zs();var n=r[t];return n==null&&zs(),n},Cge=function(){var t=w.useContext(yF);return t},Tge=function(){return w.useContext(xF)},XS=function(){return w.useContext(_F)},QS=function(){return w.useContext(wF)};function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function kge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OF(n.key),n)}}function Rge(e,t,r){return t&&$ge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ige(e,t,r){return t=fv(t),Mge(e,EF()?Reflect.construct(t,r||[],fv(e).constructor):t.apply(e,r))}function Mge(e,t){if(t&&(Hc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dge(e)}function Dge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EF=function(){return!!e})()}function fv(e){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fv(e)}function Lge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mw(e,t)}function Mw(e,t){return Mw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Mw(e,t)}function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){JS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JS(e,t,r){return t=OF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OF(e){var t=Fge(e,"string");return Hc(t)=="symbol"?t:t+""}function Fge(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bge(e,t){return Wge(e)||Vge(e,t)||zge(e,t)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zge(e,t){if(e){if(typeof e=="string")return xC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xC(e,t)}}function xC(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vge(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Wge(e){if(Array.isArray(e))return e}function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dw.apply(this,arguments)}var qge=function(t,r){var n;return L.isValidElement(t)?n=L.cloneElement(t,r):Re(t)?n=t(r):n=L.createElement("line",Dw({},r,{className:"recharts-reference-line-line"})),n},Hge=function(t,r,n,i,a,o,s,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Li(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(Li(u,"discard")&&!t.x.isInRange(y))return null;var v=[{x:y,y:f+m},{x:y,y:f}];return s==="top"?v.reverse():v}if(i){var S=u.segment,_=S.map(function(j){return t.apply(j,{position:o})});return Li(u,"discard")&&vve(_,function(j){return!t.isInRange(j)})?null:_}return null};function Kge(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,s=e.className,c=e.alwaysShow,u=Pge(),d=SF(i),f=jF(a),h=Cge();if(!u||!h)return null;ui(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=KS({x:d.scale,y:f.scale}),g=sr(t),p=sr(r),x=n&&n.length===2,b=Hge(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=Bge(b,2),v=y[0],S=v.x,_=v.y,j=y[1],E=j.x,O=j.y,P=Li(e,"hidden")?"url(#".concat(u,")"):void 0,M=yC(yC({clipPath:P},Ae(e,!0)),{},{x1:S,y1:_,x2:E,y2:O});return L.createElement(Ke,{className:Le("recharts-reference-line",s)},qge(o,M),fr.renderCallByParent(e,ige({x1:S,y1:_,x2:E,y2:O})))}var ZS=function(e){function t(){return kge(this,t),Ige(this,t,arguments)}return Lge(t,e),Rge(t,[{key:"render",value:function(){return L.createElement(Kge,this.props)}}])}(L.Component);JS(ZS,"displayName","ReferenceLine");JS(ZS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lw.apply(this,arguments)}function Kc(e){"@babel/helpers - typeof";return Kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kc(e)}function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){ay(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AF(n.key),n)}}function Xge(e,t,r){return t&&Yge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qge(e,t,r){return t=hv(t),Jge(e,PF()?Reflect.construct(t,r||[],hv(e).constructor):t.apply(e,r))}function Jge(e,t){if(t&&(Kc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zge(e)}function Zge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PF=function(){return!!e})()}function hv(e){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hv(e)}function eye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fw(e,t)}function Fw(e,t){return Fw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Fw(e,t)}function ay(e,t,r){return t=AF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AF(e){var t=tye(e,"string");return Kc(t)=="symbol"?t:t+""}function tye(e,t){if(Kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rye=function(t){var r=t.x,n=t.y,i=t.xAxis,a=t.yAxis,o=KS({x:i.scale,y:a.scale}),s=o.apply({x:r,y:n},{bandAware:!0});return Li(t,"discard")&&!o.isInRange(s)?null:s},oy=function(e){function t(){return Gge(this,t),Qge(this,t,arguments)}return eye(t,e),Xge(t,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,s=n.alwaysShow,c=n.clipPathId,u=sr(i),d=sr(a);if(ui(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=rye(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,b=Li(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=wC(wC({clipPath:b},Ae(this.props,!0)),{},{cx:h,cy:m});return L.createElement(Ke,{className:Le("recharts-reference-dot",x)},t.renderDot(p,y),fr.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(L.Component);ay(oy,"displayName","ReferenceDot");ay(oy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ay(oy,"renderDot",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Re(e)?r=e(t):r=L.createElement(fh,Lw({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(this,arguments)}function Gc(e){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(e)}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(n){sy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iye(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CF(n.key),n)}}function aye(e,t,r){return t&&iye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oye(e,t,r){return t=pv(t),sye(e,NF()?Reflect.construct(t,r||[],pv(e).constructor):t.apply(e,r))}function sye(e,t){if(t&&(Gc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lye(e)}function lye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NF=function(){return!!e})()}function pv(e){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pv(e)}function cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uw(e,t)}function Uw(e,t){return Uw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Uw(e,t)}function sy(e,t,r){return t=CF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CF(e){var t=uye(e,"string");return Gc(t)=="symbol"?t:t+""}function uye(e,t){if(Gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dye=function(t,r,n,i,a){var o=a.x1,s=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=KS({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Li(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:vF(m,g)},ly=function(e){function t(){return nye(this,t),oye(this,t,arguments)}return cye(t,e),aye(t,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,s=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;ui(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=sr(i),h=sr(a),m=sr(o),g=sr(s),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=dye(f,h,m,g,this.props);if(!x&&!p)return null;var b=Li(this.props,"hidden")?"url(#".concat(d,")"):void 0;return L.createElement(Ke,{className:Le("recharts-reference-area",c)},t.renderRect(p,SC(SC({clipPath:b},Ae(this.props,!0)),x)),fr.renderCallByParent(this.props,x))}}])}(L.Component);sy(ly,"displayName","ReferenceArea");sy(ly,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});sy(ly,"renderRect",function(e,t){var r;return L.isValidElement(e)?r=L.cloneElement(e,t):Re(e)?r=e(t):r=L.createElement(qS,Bw({},t,{className:"recharts-reference-area-rect"})),r});function TF(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function fye(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return oge(n,r)}function hye(e,t,r){var n=r==="width",i=e.x,a=e.y,o=e.width,s=e.height;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function mv(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function pye(e,t){return TF(e,t+1)}function mye(e,t,r,n,i){for(var a=(n||[]).slice(),o=t.start,s=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:TF(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},y=g.coordinate,v=c===0||mv(e,y,b,d,s);v||(c=0,d=o,u+=1),v&&(d=y+e*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Cf(e){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cf(e)}function jC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(r),!0).forEach(function(n){vye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vye(e,t,r){return t=gye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gye(e){var t=yye(e,"string");return Cf(t)=="symbol"?t:t+""}function yye(e,t){if(Cf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xye(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,s=t.start,c=t.end,u=function(h){var m=a[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);a[h]=m=Ar(Ar({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[h]=m=Ar(Ar({},m),{},{tickCoord:m.coordinate});var b=mv(e,m.tickCoord,p,s,c);b&&(c=m.tickCoord-e*(p()/2+i),a[h]=Ar(Ar({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function bye(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,c=t.start,u=t.end;if(a){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);o[s-1]=d=Ar(Ar({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=mv(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+i),o[s-1]=Ar(Ar({},d),{},{isShow:!0}))}for(var g=a?s-1:s,p=function(y){var v=o[y],S,_=function(){return S===void 0&&(S=r(v,y)),S};if(y===0){var j=e*(v.coordinate-e*_()/2-c);o[y]=v=Ar(Ar({},v),{},{tickCoord:j<0?v.coordinate-j*e:v.coordinate})}else o[y]=v=Ar(Ar({},v),{},{tickCoord:v.coordinate});var E=mv(e,v.tickCoord,_,c,u);E&&(c=v.tickCoord+e*(_()/2+i),o[y]=Ar(Ar({},v),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function ej(e,t,r){var n=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!n)return[];if(fe(c)||di.isSsr)return pye(i,typeof c=="number"&&fe(c)?c:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=d&&m==="width"?yd(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(v,S){var _=Re(u)?u(v.value,S):v.value;return m==="width"?fye(yd(_,{fontSize:t,letterSpacing:r}),g,f):yd(_,{fontSize:t,letterSpacing:r})[m]},x=i.length>=2?Vr(i[1].coordinate-i[0].coordinate):1,b=hye(a,x,m);return c==="equidistantPreserveStart"?mye(x,b,p,i,o):(c==="preserveStart"||c==="preserveStartEnd"?h=bye(x,b,p,i,o,c==="preserveStartEnd"):h=xye(x,b,p,i,o),h.filter(function(y){return y.isShow}))}var wye=["viewBox"],_ye=["viewBox"],Sye=["ticks"];function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){tj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fx(e,t){if(e==null)return{};var r=jye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$F(n.key),n)}}function Oye(e,t,r){return t&&OC(e.prototype,t),r&&OC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pye(e,t,r){return t=vv(t),Aye(e,kF()?Reflect.construct(t,r||[],vv(e).constructor):t.apply(e,r))}function Aye(e,t){if(t&&(Yc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nye(e)}function Nye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kF=function(){return!!e})()}function vv(e){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vv(e)}function Cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zw(e,t)}function zw(e,t){return zw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zw(e,t)}function tj(e,t,r){return t=$F(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $F(e){var t=Tye(e,"string");return Yc(t)=="symbol"?t:t+""}function Tye(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eu=function(e){function t(r){var n;return Eye(this,t),n=Pye(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Cye(t,e),Oye(t,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=Fx(n,wye),s=this.props,c=s.viewBox,u=Fx(s,_ye);return!Zl(a,c)||!Zl(o,u)||!Zl(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,s=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,p,x,b,y,v=f?-1:1,S=n.tickSize||d,_=fe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-v*S,y=p-v*h,b=_;break;case"left":p=x=n.coordinate,g=a+ +!f*s,m=g-v*S,b=m-v*h,y=_;break;case"right":p=x=n.coordinate,g=a+ +f*s,m=g+v*S,b=m+v*h,y=_;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+v*S,y=p+v*h,b=_;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,s=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Ir(Ir(Ir({},Ae(this.props,!1)),Ae(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Ir(Ir({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Ir(Ir({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return L.createElement("line",Fl({},f,{className:Le("recharts-cartesian-axis-line",_n(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,s=this.props,c=s.tickLine,u=s.stroke,d=s.tick,f=s.tickFormatter,h=s.unit,m=ej(Ir(Ir({},this.props),{},{ticks:n}),i,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=Ae(this.props,!1),b=Ae(d,!1),y=Ir(Ir({},x),{},{fill:"none"},Ae(c,!1)),v=m.map(function(S,_){var j=o.getTickLineCoord(S),E=j.line,O=j.tick,P=Ir(Ir(Ir(Ir({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),O),{},{index:_,payload:S,visibleTicksCount:m.length,tickFormatter:f});return L.createElement(Ke,Fl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Ls(o.props,S,_)),c&&L.createElement("line",Fl({},y,E,{className:Le("recharts-cartesian-axis-tick-line",_n(c,"className"))})),d&&t.renderTickItem(d,P,"".concat(Re(f)?f(S.value,_):S.value).concat(h||"")))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,h=f.ticks,m=Fx(f,Sye),g=h;return Re(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||s<=0||!g||!g.length?null:L.createElement(Ke,{className:Le("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),fr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o;return L.isValidElement(n)?o=L.cloneElement(n,i):Re(n)?o=n(i):o=L.createElement(Fs,Fl({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(w.Component);tj(Eu,"displayName","CartesianAxis");tj(Eu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var kye=["x1","y1","x2","y2","key"],$ye=["offset"];function Vs(e){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(e)}function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(n){Rye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rye(e,t,r){return t=Iye(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iye(e){var t=Mye(e,"string");return Vs(t)=="symbol"?t:t+""}function Mye(e,t){if(Vs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Vs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}function AC(e,t){if(e==null)return{};var r=Dye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Lye=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,a=t.y,o=t.width,s=t.height,c=t.ry;return L.createElement("rect",{x:i,y:a,ry:c,width:o,height:s,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function RF(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=t.x1,i=t.y1,a=t.x2,o=t.y2,s=t.key,c=AC(t,kye),u=Ae(c,!1);u.offset;var d=AC(u,$ye);r=L.createElement("line",fs({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:s}))}return r}function Fye(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=kr(kr({},e),{},{x1:t,y1:s,x2:t+r,y2:s,key:"line-".concat(c),index:c});return RF(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Bye(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,c){var u=kr(kr({},e),{},{x1:s,y1:t,x2:s,y2:t+r,key:"line-".concat(c),index:c});return RF(i,u)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Uye(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,a=e.width,o=e.height,s=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return L.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zye(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,s=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+s-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return L.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Vye=function(t,r){var n=t.xAxis,i=t.width,a=t.height,o=t.offset;return TL(ej(kr(kr(kr({},Eu.defaultProps),n),{},{ticks:da(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},Wye=function(t,r){var n=t.yAxis,i=t.width,a=t.height,o=t.offset;return TL(ej(kr(kr(kr({},Eu.defaultProps),n),{},{ticks:da(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},dl={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rc(e){var t,r,n,i,a,o,s=XS(),c=QS(),u=Tge(),d=kr(kr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:dl.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:dl.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:dl.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:dl.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:dl.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:dl.verticalFill,x:fe(e.x)?e.x:u.left,y:fe(e.y)?e.y:u.top,width:fe(e.width)?e.width:u.width,height:fe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=Age(),v=Nge();if(!fe(m)||m<=0||!fe(g)||g<=0||!fe(f)||f!==+f||!fe(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||Vye,_=d.horizontalCoordinatesGenerator||Wye,j=d.horizontalPoints,E=d.verticalPoints;if((!j||!j.length)&&Re(_)){var O=x&&x.length,P=_({yAxis:v?kr(kr({},v),{},{ticks:O?x:v.ticks}):void 0,width:s,height:c,offset:u},O?!0:p);ui(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(P),"]")),Array.isArray(P)&&(j=P)}if((!E||!E.length)&&Re(S)){var M=b&&b.length,C=S({xAxis:y?kr(kr({},y),{},{ticks:M?b:y.ticks}):void 0,width:s,height:c,offset:u},M?!0:p);ui(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Vs(C),"]")),Array.isArray(C)&&(E=C)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(Lye,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),L.createElement(Fye,fs({},d,{offset:u,horizontalPoints:j,xAxis:y,yAxis:v})),L.createElement(Bye,fs({},d,{offset:u,verticalPoints:E,xAxis:y,yAxis:v})),L.createElement(Uye,fs({},d,{horizontalPoints:j})),L.createElement(zye,fs({},d,{verticalPoints:E})))}rc.displayName="CartesianGrid";var qye=["type","layout","connectNulls","ref"],Hye=["key"];function Xc(e){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xc(e)}function NC(e,t){if(e==null)return{};var r=Kye(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function jd(){return jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jd.apply(this,arguments)}function CC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CC(Object(r),!0).forEach(function(n){ti(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fl(e){return Qye(e)||Xye(e)||Yye(e)||Gye()}function Gye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yye(e,t){if(e){if(typeof e=="string")return Vw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vw(e,t)}}function Xye(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qye(e){if(Array.isArray(e))return Vw(e)}function Vw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MF(n.key),n)}}function Zye(e,t,r){return t&&TC(e.prototype,t),r&&TC(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function exe(e,t,r){return t=gv(t),txe(e,IF()?Reflect.construct(t,r||[],gv(e).constructor):t.apply(e,r))}function txe(e,t){if(t&&(Xc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rxe(e)}function rxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IF=function(){return!!e})()}function gv(e){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gv(e)}function nxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ww(e,t)}function Ww(e,t){return Ww=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ww(e,t)}function ti(e,t,r){return t=MF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MF(e){var t=ixe(e,"string");return Xc(t)=="symbol"?t:t+""}function ixe(e,t){if(Xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hh=function(e){function t(){var r;Jye(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=exe(this,t,[].concat(i)),ti(r,"state",{isAnimationFinished:!0,totalLength:0}),ti(r,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ti(r,"getStrokeDasharray",function(o,s,c){var u=c.reduce(function(b,y){return b+y});if(!u)return r.generateSimpleStrokeDasharray(s,o);for(var d=Math.floor(o/u),f=o%u,h=s-o,m=[],g=0,p=0;g<c.length;p+=c[g],++g)if(p+c[g]>f){m=[].concat(fl(c.slice(0,g)),[f-p]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(fl(t.repeat(c,d)),fl(m),x).map(function(b){return"".concat(b,"px")}).join(", ")}),ti(r,"id",Zs("recharts-line-")),ti(r,"pathRef",function(o){r.mainCurve=o}),ti(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ti(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return nxe(t,e),Zye(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Sn(d,dh);if(!f)return null;var h=function(p,x){return{x:p.x,y:p.y,value:p.value,errorVal:Wt(p.payload,x)}},m={clipPath:n?"url(#clipPath-".concat(i,")"):null};return L.createElement(Ke,m,f.map(function(g){return L.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,c=s.dot,u=s.points,d=s.dataKey,f=Ae(this.props,!1),h=Ae(c,!0),m=u.map(function(p,x){var b=cn(cn(cn({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:p.x,cy:p.y,value:p.value,dataKey:d,payload:p.payload,points:u});return t.renderDotItem(c,b)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(Ke,jd({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(n,i,a,o){var s=this.props,c=s.type,u=s.layout,d=s.connectNulls;s.ref;var f=NC(s,qye),h=cn(cn(cn({},Ae(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return L.createElement(As,jd({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,p=o.width,x=o.height,b=this.state,y=b.prevPoints,v=b.totalLength;return L.createElement(yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var _=S.t;if(y){var j=y.length/s.length,E=s.map(function($,N){var A=Math.floor(N*j);if(y[A]){var R=y[A],I=ar(R.x,$.x),z=ar(R.y,$.y);return cn(cn({},$),{},{x:I(_),y:z(_)})}if(g){var T=ar(p*2,$.x),D=ar(x/2,$.y);return cn(cn({},$),{},{x:T(_),y:D(_)})}return cn(cn({},$),{},{x:$.x,y:$.y})});return a.renderCurveStatically(E,n,i)}var O=ar(0,v),P=O(_),M;if(c){var C="".concat(c).split(/[,\s]+/gim).map(function($){return parseFloat($)});M=a.getStrokeDasharray(P,v,C)}else M=a.generateSimpleStrokeDasharray(v,P);return a.renderCurveStatically(s,n,i,{strokeDasharray:M})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,s=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return s&&o&&o.length&&(!u&&d>0||!Bs(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,h=i.left,m=i.width,g=i.height,p=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=s.length===1,v=Le("recharts-line",c),S=u&&u.allowDataOverflow,_=d&&d.allowDataOverflow,j=S||_,E=Me(x)?this.id:x,O=(n=Ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,M=P===void 0?3:P,C=O.strokeWidth,$=C===void 0?2:C,N=SM(o)?o:{},A=N.clipDot,R=A===void 0?!0:A,I=M*2+$;return L.createElement(Ke,{className:v},S||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:S?h:h-m/2,y:_?f:f-g/2,width:S?m:m*2,height:_?g:g*2})),!R&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:h-I/2,y:f-I/2,width:m+I,height:g+I}))):null,!y&&this.renderCurve(j,E),this.renderErrorBar(j,E),(y||o)&&this.renderDots(j,R,E),(!p||b)&&Di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(fl(n),[0]):n,o=[],s=0;s<i;++s)o=[].concat(fl(o),fl(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(L.isValidElement(n))a=L.cloneElement(n,i);else if(Re(n))a=n(i);else{var o=i.key,s=NC(i,Hye),c=Le("recharts-line-dot",typeof n!="boolean"?n.className:"");a=L.createElement(fh,jd({key:o},s,{className:c}))}return a}}])}(w.PureComponent);ti(hh,"displayName","Line");ti(hh,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!di.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ti(hh,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,m){var g=Wt(h,o);return d==="horizontal"?{x:Gm({axis:r,ticks:i,bandSize:s,entry:h,index:m}),y:Me(g)?null:n.scale(g),value:g,payload:h}:{x:Me(g)?null:r.scale(g),y:Gm({axis:n,ticks:a,bandSize:s,entry:h,index:m}),value:g,payload:h}});return cn({points:f,layout:d},u)});var axe=["layout","type","stroke","connectNulls","isRange","ref"],oxe=["key"],DF;function Qc(e){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qc(e)}function LF(e,t){if(e==null)return{};var r=sxe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sxe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){Ci(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BF(n.key),n)}}function cxe(e,t,r){return t&&$C(e.prototype,t),r&&$C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uxe(e,t,r){return t=yv(t),dxe(e,FF()?Reflect.construct(t,r||[],yv(e).constructor):t.apply(e,r))}function dxe(e,t){if(t&&(Qc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fxe(e)}function fxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function yv(e){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yv(e)}function hxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qw(e,t)}function qw(e,t){return qw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qw(e,t)}function Ci(e,t,r){return t=BF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BF(e){var t=pxe(e,"string");return Qc(t)=="symbol"?t:t+""}function pxe(e,t){if(Qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fo=function(e){function t(){var r;lxe(this,t);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=uxe(this,t,[].concat(i)),Ci(r,"state",{isAnimationFinished:!0}),Ci(r,"id",Zs("recharts-area-")),Ci(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Re(o)&&o()}),Ci(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Re(o)&&o()}),r}return hxe(t,e),cxe(t,[{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive,s=this.state.isAnimationFinished;if(o&&!s)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Ae(this.props,!1),m=Ae(u,!0),g=d.map(function(x,b){var y=Fa(Fa(Fa({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return L.createElement(Ke,hs({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=ao(o.map(function(h){return h.y||0}));return fe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ao(a.map(function(h){return h.y||0})),f)),fe(f)?L.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var i=this.props,a=i.baseLine,o=i.points,s=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=ao(o.map(function(h){return h.x||0}));return fe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(ao(a.map(function(h){return h.x||0})),f)),fe(f)?L.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,i,a,o){var s=this.props,c=s.layout,u=s.type,d=s.stroke,f=s.connectNulls,h=s.isRange;s.ref;var m=LF(s,axe);return L.createElement(Ke,{clipPath:a?"url(#clipPath-".concat(o,")"):null},L.createElement(As,hs({},Ae(m,!0),{points:n,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&L.createElement(As,hs({},Ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&L.createElement(As,hs({},Ae(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(n,i){var a=this,o=this.props,s=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return L.createElement(yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(p){var v=p.length/s.length,S=s.map(function(O,P){var M=Math.floor(P*v);if(p[M]){var C=p[M],$=ar(C.x,O.x),N=ar(C.y,O.y);return Fa(Fa({},O),{},{x:$(y),y:N(y)})}return O}),_;if(fe(c)&&typeof c=="number"){var j=ar(x,c);_=j(y)}else if(Me(c)||yu(c)){var E=ar(x,0);_=E(y)}else _=c.map(function(O,P){var M=Math.floor(P*v);if(x[M]){var C=x[M],$=ar(C.x,O.x),N=ar(C.y,O.y);return Fa(Fa({},O),{},{x:$(y),y:N(y)})}return O});return a.renderAreaStatically(S,_,n,i)}return L.createElement(Ke,null,L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(y))),L.createElement(Ke,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(s,c,n,i)))})}},{key:"renderArea",value:function(n,i){var a=this.props,o=a.points,s=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Bs(d,o)||!Bs(f,s))?this.renderAreaWithAnimation(n,i):this.renderAreaStatically(o,s,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,s=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,h=i.yAxis,m=i.width,g=i.height,p=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=s.length===1,v=Le("recharts-area",c),S=f&&f.allowDataOverflow,_=h&&h.allowDataOverflow,j=S||_,E=Me(x)?this.id:x,O=(n=Ae(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=O.r,M=P===void 0?3:P,C=O.strokeWidth,$=C===void 0?2:C,N=SM(o)?o:{},A=N.clipDot,R=A===void 0?!0:A,I=M*2+$;return L.createElement(Ke,{className:v},S||_?L.createElement("defs",null,L.createElement("clipPath",{id:"clipPath-".concat(E)},L.createElement("rect",{x:S?d:d-m/2,y:_?u:u-g/2,width:S?m:m*2,height:_?g:g*2})),!R&&L.createElement("clipPath",{id:"clipPath-dots-".concat(E)},L.createElement("rect",{x:d-I/2,y:u-I/2,width:m+I,height:g+I}))):null,y?null:this.renderArea(j,E),(o||y)&&this.renderDots(j,R,E),(!p||b)&&Di.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:n.points!==i.curPoints||n.baseLine!==i.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(w.PureComponent);DF=Fo;Ci(Fo,"displayName","Area");Ci(Fo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!di.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ci(Fo,"getBaseValue",function(e,t,r,n){var i=e.layout,a=e.baseValue,o=t.props.baseValue,s=o??a;if(fe(s)&&typeof s=="number")return s;var c=i==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]});Ci(Fo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,s=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=DF.getBaseValue(t,r,n,i),x=m==="horizontal",b=!1,y=f.map(function(S,_){var j;g?j=u[d+_]:(j=Wt(S,c),Array.isArray(j)?b=!0:j=[p,j]);var E=j[1]==null||g&&Wt(S,c)==null;return x?{x:Gm({axis:n,ticks:a,bandSize:s,entry:S,index:_}),y:E?null:i.scale(j[1]),value:j,payload:S}:{x:E?null:n.scale(j[1]),y:Gm({axis:i,ticks:o,bandSize:s,entry:S,index:_}),value:j,payload:S}}),v;return g||b?v=y.map(function(S){var _=Array.isArray(S.value)?S.value[0]:null;return x?{x:S.x,y:_!=null&&S.y!=null?i.scale(_):null}:{x:_!=null?n.scale(_):null,y:S.y}}):v=x?i.scale(p):n.scale(p),Fa({points:y,baseLine:v,layout:m,isRange:b},h)});Ci(Fo,"renderDotItem",function(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(Re(e))r=e(t);else{var n=Le("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=LF(t,oxe);r=L.createElement(fh,hs({},a,{key:i,className:n}))}return r});function Jc(e){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jc(e)}function mxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VF(n.key),n)}}function gxe(e,t,r){return t&&vxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yxe(e,t,r){return t=xv(t),xxe(e,UF()?Reflect.construct(t,r||[],xv(e).constructor):t.apply(e,r))}function xxe(e,t){if(t&&(Jc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bxe(e)}function bxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UF=function(){return!!e})()}function xv(e){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xv(e)}function wxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hw(e,t)}function Hw(e,t){return Hw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Hw(e,t)}function zF(e,t,r){return t=VF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VF(e){var t=_xe(e,"string");return Jc(t)=="symbol"?t:t+""}function _xe(e,t){if(Jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(this,arguments)}function Sxe(e){var t=e.xAxisId,r=XS(),n=QS(),i=SF(t);return i==null?null:L.createElement(Eu,Kw({},i,{className:Le("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return da(o,!0)}}))}var Fi=function(e){function t(){return mxe(this,t),yxe(this,t,arguments)}return wxe(t,e),gxe(t,[{key:"render",value:function(){return L.createElement(Sxe,this.props)}}])}(L.Component);zF(Fi,"displayName","XAxis");zF(Fi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Zc(e){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zc(e)}function jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Exe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HF(n.key),n)}}function Oxe(e,t,r){return t&&Exe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pxe(e,t,r){return t=bv(t),Axe(e,WF()?Reflect.construct(t,r||[],bv(e).constructor):t.apply(e,r))}function Axe(e,t){if(t&&(Zc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nxe(e)}function Nxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WF=function(){return!!e})()}function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bv(e)}function Cxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gw(e,t)}function Gw(e,t){return Gw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gw(e,t)}function qF(e,t,r){return t=HF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HF(e){var t=Txe(e,"string");return Zc(t)=="symbol"?t:t+""}function Txe(e,t){if(Zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}var kxe=function(t){var r=t.yAxisId,n=XS(),i=QS(),a=jF(r);return a==null?null:L.createElement(Eu,Yw({},a,{className:Le("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(s){return da(s,!0)}}))},Bi=function(e){function t(){return jxe(this,t),Pxe(this,t,arguments)}return Cxe(t,e),Oxe(t,[{key:"render",value:function(){return L.createElement(kxe,this.props)}}])}(L.Component);qF(Bi,"displayName","YAxis");qF(Bi,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function RC(e){return Mxe(e)||Ixe(e)||Rxe(e)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(e,t){if(e){if(typeof e=="string")return Xw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xw(e,t)}}function Ixe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mxe(e){if(Array.isArray(e))return Xw(e)}function Xw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qw=function(t,r,n,i,a){var o=Sn(t,ZS),s=Sn(t,oy),c=[].concat(RC(o),RC(s)),u=Sn(t,ly),d="".concat(i,"Id"),f=i[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&Li(x.props,"extendDomain")&&fe(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&Li(x.props,"extendDomain")&&fe(x.props[m])&&fe(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,x){return fe(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},KF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,y,v;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(v=1,y=new Array(b-1);v<b;v++)y[v-1]=arguments[v];x.fn.apply(x.context,y)}else{var S=x.length,_;for(v=0;v<S;v++)switch(x[v].once&&this.removeListener(u,x[v].fn,void 0,!0),b){case 1:x[v].fn.call(x[v].context);break;case 2:x[v].fn.call(x[v].context,d);break;case 3:x[v].fn.call(x[v].context,d,f);break;case 4:x[v].fn.call(x[v].context,d,f,h);break;default:if(!y)for(_=1,y=new Array(b-1);_<b;_++)y[_-1]=arguments[_];x[v].fn.apply(x[v].context,y)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(KF);var Dxe=KF.exports;const Lxe=at(Dxe);var Bx=new Lxe,Ux="recharts.syncMouseEvents";function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function Fxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GF(n.key),n)}}function Uxe(e,t,r){return t&&Bxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zx(e,t,r){return t=GF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=zxe(e,"string");return Tf(t)=="symbol"?t:t+""}function zxe(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Vxe=function(){function e(){Fxe(this,e),zx(this,"activeIndex",0),zx(this,"coordinateList",[]),zx(this,"layout","horizontal")}return Uxe(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,s=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+s/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Wxe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],i=e==null?void 0:e[1];if(n&&i&&fe(n)&&fe(i))return!0}return!1}function qxe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function YF(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,a=e.endAngle,o=vt(t,r,n,i),s=vt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Hxe(e,t,r){var n,i,a,o;if(e==="horizontal")n=t.x,a=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var s=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=vt(s,c,u,f),m=vt(s,c,d,f);n=h.x,i=h.y,a=m.x,o=m.y}else return YF(t);return[{x:n,y:i},{x:a,y:o}]}function kf(e){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kf(e)}function IC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IC(Object(r),!0).forEach(function(n){Kxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kxe(e,t,r){return t=Gxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gxe(e){var t=Yxe(e,"string");return kf(t)=="symbol"?t:t+""}function Yxe(e,t){if(kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xxe(e){var t,r,n=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,s=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,p=As;if(h==="ScatterChart")g=o,p=ipe;else if(h==="BarChart")g=qxe(f,o,c,d),p=qS;else if(f==="radial"){var x=YF(o),b=x.cx,y=x.cy,v=x.radius,S=x.startAngle,_=x.endAngle;g={cx:b,cy:y,startAngle:S,endAngle:_,innerRadius:v,outerRadius:v},p=zL}else g={points:Hxe(f,o,c)},p=As;var j=op(op(op(op({stroke:"#ccc",pointerEvents:"none"},c),g),Ae(m,!1)),{},{payload:s,payloadIndex:u,className:Le("recharts-tooltip-cursor",m.className)});return w.isValidElement(m)?w.cloneElement(m,j):w.createElement(p,j)}var Qxe=["item"],Jxe=["children","className","width","height","style","compact","title","desc"];function eu(e){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eu(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}function MC(e,t){return tbe(e)||ebe(e,t)||QF(e,t)||Zxe()}function Zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ebe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,o,s=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function tbe(e){if(Array.isArray(e))return e}function DC(e,t){if(e==null)return{};var r=rbe(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function nbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ibe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JF(n.key),n)}}function abe(e,t,r){return t&&ibe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function obe(e,t,r){return t=wv(t),sbe(e,XF()?Reflect.construct(t,r||[],wv(e).constructor):t.apply(e,r))}function sbe(e,t){if(t&&(eu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lbe(e)}function lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XF=function(){return!!e})()}function wv(e){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wv(e)}function cbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jw(e,t)}function Jw(e,t){return Jw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jw(e,t)}function tu(e){return fbe(e)||dbe(e)||QF(e)||ube()}function ube(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QF(e,t){if(e){if(typeof e=="string")return Zw(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zw(e,t)}}function dbe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fbe(e){if(Array.isArray(e))return Zw(e)}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){ke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ke(e,t,r){return t=JF(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JF(e){var t=hbe(e,"string");return eu(t)=="symbol"?t:t+""}function hbe(e,t){if(eu(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eu(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pbe={xAxis:["bottom","top"],yAxis:["left","right"]},mbe={width:"100%",height:"100%"},ZF={x:0,y:0};function sp(e){return e}var vbe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},gbe=function(t,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,s=i.radius;return Z(Z(Z({},i),vt(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var c=a.coordinate,u=i.angle;return Z(Z(Z({},i),vt(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return ZF},cy=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(s,c){var u=c.props.data;return u&&u.length?[].concat(tu(s),tu(u)):s},[]);return o.length>0?o:t&&t.length&&fe(i)&&fe(a)?t.slice(i,a+1):[]};function e3(e){return e==="number"?[0,"auto"]:void 0}var e_=function(t,r,n,i){var a=t.graphicalItems,o=t.tooltipAxis,s=cy(r,t);return n<0||!a||!a.length||n>=s.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=bm(m,o.dataKey,i)}else h=f&&f[n]||s[n];return h?[].concat(tu(c),[ML(u,h)]):c},[])},FC=function(t,r,n,i){var a=i||{x:t.chartX,y:t.chartY},o=vbe(a,n),s=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=Aue(o,s,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=e_(t,r,d,f),m=gbe(n,s,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},ybe=function(t,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=CL(d,a);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?Z(Z({},p.type.defaultProps),p.props):p.props,y=b.type,v=b.dataKey,S=b.allowDataOverflow,_=b.allowDuplicatedCategory,j=b.scale,E=b.ticks,O=b.includeHidden,P=b[o];if(g[P])return g;var M=cy(t.data,{graphicalItems:i.filter(function(k){var F,K=o in k.props?k.props[o]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[o];return K===P}),dataStartIndex:c,dataEndIndex:u}),C=M.length,$,N,A;Wxe(b.domain,S,y)&&($=hw(b.domain,null,S),m&&(y==="number"||j!=="auto")&&(A=bd(M,v,"category")));var R=e3(y);if(!$||$.length===0){var I,z=(I=b.domain)!==null&&I!==void 0?I:R;if(v){if($=bd(M,v,y),y==="category"&&m){var T=xY($);_&&T?(N=$,$=sv(0,C)):_||($=aN(z,$,p).reduce(function(k,F){return k.indexOf(F)>=0?k:[].concat(tu(k),[F])},[]))}else if(y==="category")_?$=$.filter(function(k){return k!==""&&!Me(k)}):$=aN(z,$,p).reduce(function(k,F){return k.indexOf(F)>=0||F===""||Me(F)?k:[].concat(tu(k),[F])},[]);else if(y==="number"){var D=$ue(M,i.filter(function(k){var F,K,J=o in k.props?k.props[o]:(F=k.type.defaultProps)===null||F===void 0?void 0:F[o],se="hide"in k.props?k.props.hide:(K=k.type.defaultProps)===null||K===void 0?void 0:K.hide;return J===P&&(O||!se)}),v,a,d);D&&($=D)}m&&(y==="number"||j!=="auto")&&(A=bd(M,v,"category"))}else m?$=sv(0,C):s&&s[P]&&s[P].hasStack&&y==="number"?$=h==="expand"?[0,1]:IL(s[P].stackGroups,c,u):$=NL(M,i.filter(function(k){var F=o in k.props?k.props[o]:k.type.defaultProps[o],K="hide"in k.props?k.props.hide:k.type.defaultProps.hide;return F===P&&(O||!K)}),y,d,!0);if(y==="number")$=Qw(f,$,P,a,E),z&&($=hw(z,$,S));else if(y==="category"&&z){var H=z,G=$.every(function(k){return H.indexOf(k)>=0});G&&($=H)}}return Z(Z({},g),{},ke({},P,Z(Z({},b),{},{axisType:a,domain:$,categoricalDomain:A,duplicateDomain:N,originalDomain:(x=b.domain)!==null&&x!==void 0?x:R,isCategorical:m,layout:d})))},{})},xbe=function(t,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=cy(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=CL(d,a),p=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?Z(Z({},b.type.defaultProps),b.props):b.props,v=y[o],S=e3("number");if(!x[v]){p++;var _;return g?_=sv(0,m):s&&s[v]&&s[v].hasStack?(_=IL(s[v].stackGroups,c,u),_=Qw(f,_,v,a)):(_=hw(S,NL(h,n.filter(function(j){var E,O,P=o in j.props?j.props[o]:(E=j.type.defaultProps)===null||E===void 0?void 0:E[o],M="hide"in j.props?j.props.hide:(O=j.type.defaultProps)===null||O===void 0?void 0:O.hide;return P===v&&!M}),"number",d),i.defaultProps.allowDataOverflow),_=Qw(f,_,v,a)),Z(Z({},x),{},ke({},v,Z(Z({axisType:a},i.defaultProps),{},{hide:!0,orientation:_n(pbe,"".concat(a,".").concat(p%2),null),domain:_,originalDomain:S,isCategorical:g,layout:d})))}return x},{})},bbe=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,s=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(i,"Id"),h=Sn(d,a),m={};return h&&h.length?m=ybe(t,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=xbe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:c,dataEndIndex:u})),m},wbe=function(t){var r=qa(t),n=da(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:yS(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Ym(r,n)}},BC=function(t){var r=t.children,n=t.defaultShowTooltip,i=pn(r,Wc),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},_be=function(t){return!t||!t.length?!1:t.some(function(r){var n=pa(r&&r.type);return n&&n.indexOf("Bar")>=0})},UC=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Sbe=function(t,r){var n=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,s=t.yAxisMap,c=s===void 0?{}:s,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=pn(f,Wc),g=pn(f,Es),p=Object.keys(c).reduce(function(_,j){var E=c[j],O=E.orientation;return!E.mirror&&!E.hide?Z(Z({},_),{},ke({},O,_[O]+E.width)):_},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(_,j){var E=o[j],O=E.orientation;return!E.mirror&&!E.hide?Z(Z({},_),{},ke({},O,_n(_,"".concat(O))+E.height)):_},{top:h.top||0,bottom:h.bottom||0}),b=Z(Z({},x),p),y=b.bottom;m&&(b.bottom+=m.props.height||Wc.defaultProps.height),g&&r&&(b=Tue(b,i,n,r));var v=u-b.left-b.right,S=d-b.top-b.bottom;return Z(Z({brushBottom:y},b),{},{width:Math.max(v,0),height:Math.max(S,0)})},jbe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},uy=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,s=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var v=y.graphicalItems,S=y.stackGroups,_=y.offset,j=y.updateId,E=y.dataStartIndex,O=y.dataEndIndex,P=b.barSize,M=b.layout,C=b.barGap,$=b.barCategoryGap,N=b.maxBarSize,A=UC(M),R=A.numericAxisName,I=A.cateAxisName,z=_be(v),T=[];return v.forEach(function(D,H){var G=cy(b.data,{graphicalItems:[D],dataStartIndex:E,dataEndIndex:O}),k=D.type.defaultProps!==void 0?Z(Z({},D.type.defaultProps),D.props):D.props,F=k.dataKey,K=k.maxBarSize,J=k["".concat(R,"Id")],se=k["".concat(I,"Id")],te={},ae=c.reduce(function(Ve,B){var q=y["".concat(B.axisType,"Map")],Q=k["".concat(B.axisType,"Id")];q&&q[Q]||B.axisType==="zAxis"||zs();var ne=q[Q];return Z(Z({},Ve),{},ke(ke({},B.axisType,ne),"".concat(B.axisType,"Ticks"),da(ne)))},te),Y=ae[I],de=ae["".concat(I,"Ticks")],ue=S&&S[J]&&S[J].hasStack&&zue(D,S[J].stackGroups),X=pa(D.type).indexOf("Bar")>=0,De=Ym(Y,de),Ce=[],et=z&&Nue({barSize:P,stackGroups:S,totalSize:jbe(ae,I)});if(X){var Ye,W,me=Me(K)?N:K,le=(Ye=(W=Ym(Y,de,!0))!==null&&W!==void 0?W:me)!==null&&Ye!==void 0?Ye:0;Ce=Cue({barGap:C,barCategoryGap:$,bandSize:le!==De?le:De,sizeList:et[se],maxBarSize:me}),le!==De&&(Ce=Ce.map(function(Ve){return Z(Z({},Ve),{},{position:Z(Z({},Ve.position),{},{offset:Ve.position.offset-le/2})})}))}var Ie=D&&D.type&&D.type.getComposedData;Ie&&T.push({props:Z(Z({},Ie(Z(Z({},ae),{},{displayedData:G,props:b,dataKey:F,item:D,bandSize:De,barPosition:Ce,offset:_,stackedData:ue,layout:M,dataStartIndex:E,dataEndIndex:O}))),{},ke(ke(ke({key:D.key||"item-".concat(H)},R,ae[R]),I,ae[I]),"animationId",j)),childIndex:CY(D,b.children),item:D})}),T},m=function(b,y){var v=b.props,S=b.dataStartIndex,_=b.dataEndIndex,j=b.updateId;if(!ZO({props:v}))return null;var E=v.children,O=v.layout,P=v.stackOffset,M=v.data,C=v.reverseStackOrder,$=UC(O),N=$.numericAxisName,A=$.cateAxisName,R=Sn(E,n),I=Bue(M,R,"".concat(N,"Id"),"".concat(A,"Id"),P,C),z=c.reduce(function(k,F){var K="".concat(F.axisType,"Map");return Z(Z({},k),{},ke({},K,bbe(v,Z(Z({},F),{},{graphicalItems:R,stackGroups:F.axisType===N&&I,dataStartIndex:S,dataEndIndex:_}))))},{}),T=Sbe(Z(Z({},z),{},{props:v,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(z).forEach(function(k){z[k]=d(v,z[k],T,k.replace("Map",""),r)});var D=z["".concat(A,"Map")],H=wbe(D),G=h(v,Z(Z({},z),{},{dataStartIndex:S,dataEndIndex:_,updateId:j,graphicalItems:R,stackGroups:I,offset:T}));return Z(Z({formattedGraphicalItems:G,graphicalItems:R,offset:T,stackGroups:I},H),z)},g=function(x){function b(y){var v,S,_;return nbe(this,b),_=obe(this,b,[y]),ke(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ke(_,"accessibilityManager",new Vxe),ke(_,"handleLegendBBoxUpdate",function(j){if(j){var E=_.state,O=E.dataStartIndex,P=E.dataEndIndex,M=E.updateId;_.setState(Z({legendBBox:j},m({props:_.props,dataStartIndex:O,dataEndIndex:P,updateId:M},Z(Z({},_.state),{},{legendBBox:j}))))}}),ke(_,"handleReceiveSyncEvent",function(j,E,O){if(_.props.syncId===j){if(O===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),ke(_,"handleBrushChange",function(j){var E=j.startIndex,O=j.endIndex;if(E!==_.state.dataStartIndex||O!==_.state.dataEndIndex){var P=_.state.updateId;_.setState(function(){return Z({dataStartIndex:E,dataEndIndex:O},m({props:_.props,dataStartIndex:E,dataEndIndex:O,updateId:P},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:O})}}),ke(_,"handleMouseEnter",function(j){var E=_.getMouseInfo(j);if(E){var O=Z(Z({},E),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var P=_.props.onMouseEnter;Re(P)&&P(O,j)}}),ke(_,"triggeredAfterMouseMove",function(j){var E=_.getMouseInfo(j),O=E?Z(Z({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(O),_.triggerSyncEvent(O);var P=_.props.onMouseMove;Re(P)&&P(O,j)}),ke(_,"handleItemMouseEnter",function(j){_.setState(function(){return{isTooltipActive:!0,activeItem:j,activePayload:j.tooltipPayload,activeCoordinate:j.tooltipPosition||{x:j.cx,y:j.cy}}})}),ke(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ke(_,"handleMouseMove",function(j){j.persist(),_.throttleTriggeredAfterMouseMove(j)}),ke(_,"handleMouseLeave",function(j){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var O=_.props.onMouseLeave;Re(O)&&O(E,j)}),ke(_,"handleOuterEvent",function(j){var E=NY(j),O=_n(_.props,"".concat(E));if(E&&Re(O)){var P,M;/.*touch.*/i.test(E)?M=_.getMouseInfo(j.changedTouches[0]):M=_.getMouseInfo(j),O((P=M)!==null&&P!==void 0?P:{},j)}}),ke(_,"handleClick",function(j){var E=_.getMouseInfo(j);if(E){var O=Z(Z({},E),{},{isTooltipActive:!0});_.setState(O),_.triggerSyncEvent(O);var P=_.props.onClick;Re(P)&&P(O,j)}}),ke(_,"handleMouseDown",function(j){var E=_.props.onMouseDown;if(Re(E)){var O=_.getMouseInfo(j);E(O,j)}}),ke(_,"handleMouseUp",function(j){var E=_.props.onMouseUp;if(Re(E)){var O=_.getMouseInfo(j);E(O,j)}}),ke(_,"handleTouchMove",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(j.changedTouches[0])}),ke(_,"handleTouchStart",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseDown(j.changedTouches[0])}),ke(_,"handleTouchEnd",function(j){j.changedTouches!=null&&j.changedTouches.length>0&&_.handleMouseUp(j.changedTouches[0])}),ke(_,"handleDoubleClick",function(j){var E=_.props.onDoubleClick;if(Re(E)){var O=_.getMouseInfo(j);E(O,j)}}),ke(_,"handleContextMenu",function(j){var E=_.props.onContextMenu;if(Re(E)){var O=_.getMouseInfo(j);E(O,j)}}),ke(_,"triggerSyncEvent",function(j){_.props.syncId!==void 0&&Bx.emit(Ux,_.props.syncId,j,_.eventEmitterSymbol)}),ke(_,"applySyncEvent",function(j){var E=_.props,O=E.layout,P=E.syncMethod,M=_.state.updateId,C=j.dataStartIndex,$=j.dataEndIndex;if(j.dataStartIndex!==void 0||j.dataEndIndex!==void 0)_.setState(Z({dataStartIndex:C,dataEndIndex:$},m({props:_.props,dataStartIndex:C,dataEndIndex:$,updateId:M},_.state)));else if(j.activeTooltipIndex!==void 0){var N=j.chartX,A=j.chartY,R=j.activeTooltipIndex,I=_.state,z=I.offset,T=I.tooltipTicks;if(!z)return;if(typeof P=="function")R=P(T,j);else if(P==="value"){R=-1;for(var D=0;D<T.length;D++)if(T[D].value===j.activeLabel){R=D;break}}var H=Z(Z({},z),{},{x:z.left,y:z.top}),G=Math.min(N,H.x+H.width),k=Math.min(A,H.y+H.height),F=T[R]&&T[R].value,K=e_(_.state,_.props.data,R),J=T[R]?{x:O==="horizontal"?T[R].coordinate:G,y:O==="horizontal"?k:T[R].coordinate}:ZF;_.setState(Z(Z({},j),{},{activeLabel:F,activeCoordinate:J,activePayload:K,activeTooltipIndex:R}))}else _.setState(j)}),ke(_,"renderCursor",function(j){var E,O=_.state,P=O.isTooltipActive,M=O.activeCoordinate,C=O.activePayload,$=O.offset,N=O.activeTooltipIndex,A=O.tooltipAxisBandSize,R=_.getTooltipEventType(),I=(E=j.props.active)!==null&&E!==void 0?E:P,z=_.props.layout,T=j.key||"_recharts-cursor";return L.createElement(Xxe,{key:T,activeCoordinate:M,activePayload:C,activeTooltipIndex:N,chartName:r,element:j,isActive:I,layout:z,offset:$,tooltipAxisBandSize:A,tooltipEventType:R})}),ke(_,"renderPolarAxis",function(j,E,O){var P=_n(j,"type.axisType"),M=_n(_.state,"".concat(P,"Map")),C=j.type.defaultProps,$=C!==void 0?Z(Z({},C),j.props):j.props,N=M&&M[$["".concat(P,"Id")]];return w.cloneElement(j,Z(Z({},N),{},{className:Le(P,N.className),key:j.key||"".concat(E,"-").concat(O),ticks:da(N,!0)}))}),ke(_,"renderPolarGrid",function(j){var E=j.props,O=E.radialLines,P=E.polarAngles,M=E.polarRadius,C=_.state,$=C.radiusAxisMap,N=C.angleAxisMap,A=qa($),R=qa(N),I=R.cx,z=R.cy,T=R.innerRadius,D=R.outerRadius;return w.cloneElement(j,{polarAngles:Array.isArray(P)?P:da(R,!0).map(function(H){return H.coordinate}),polarRadius:Array.isArray(M)?M:da(A,!0).map(function(H){return H.coordinate}),cx:I,cy:z,innerRadius:T,outerRadius:D,key:j.key||"polar-grid",radialLines:O})}),ke(_,"renderLegend",function(){var j=_.state.formattedGraphicalItems,E=_.props,O=E.children,P=E.width,M=E.height,C=_.props.margin||{},$=P-(C.left||0)-(C.right||0),N=PL({children:O,formattedGraphicalItems:j,legendWidth:$,legendContent:u});if(!N)return null;var A=N.item,R=DC(N,Qxe);return w.cloneElement(A,Z(Z({},R),{},{chartWidth:P,chartHeight:M,margin:C,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ke(_,"renderTooltip",function(){var j,E=_.props,O=E.children,P=E.accessibilityLayer,M=pn(O,Cr);if(!M)return null;var C=_.state,$=C.isTooltipActive,N=C.activeCoordinate,A=C.activePayload,R=C.activeLabel,I=C.offset,z=(j=M.props.active)!==null&&j!==void 0?j:$;return w.cloneElement(M,{viewBox:Z(Z({},I),{},{x:I.left,y:I.top}),active:z,label:R,payload:z?A:[],coordinate:N,accessibilityLayer:P})}),ke(_,"renderBrush",function(j){var E=_.props,O=E.margin,P=E.data,M=_.state,C=M.offset,$=M.dataStartIndex,N=M.dataEndIndex,A=M.updateId;return w.cloneElement(j,{key:j.key||"_recharts-brush",onChange:rp(_.handleBrushChange,j.props.onChange),data:P,x:fe(j.props.x)?j.props.x:C.left,y:fe(j.props.y)?j.props.y:C.top+C.height+C.brushBottom-(O.bottom||0),width:fe(j.props.width)?j.props.width:C.width,startIndex:$,endIndex:N,updateId:"brush-".concat(A)})}),ke(_,"renderReferenceElement",function(j,E,O){if(!j)return null;var P=_,M=P.clipPathId,C=_.state,$=C.xAxisMap,N=C.yAxisMap,A=C.offset,R=j.type.defaultProps||{},I=j.props,z=I.xAxisId,T=z===void 0?R.xAxisId:z,D=I.yAxisId,H=D===void 0?R.yAxisId:D;return w.cloneElement(j,{key:j.key||"".concat(E,"-").concat(O),xAxis:$[T],yAxis:N[H],viewBox:{x:A.left,y:A.top,width:A.width,height:A.height},clipPathId:M})}),ke(_,"renderActivePoints",function(j){var E=j.item,O=j.activePoint,P=j.basePoint,M=j.childIndex,C=j.isRange,$=[],N=E.props.key,A=E.item.type.defaultProps!==void 0?Z(Z({},E.item.type.defaultProps),E.item.props):E.item.props,R=A.activeDot,I=A.dataKey,z=Z(Z({index:M,dataKey:I,cx:O.x,cy:O.y,r:4,fill:WS(E.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Ae(R,!1)),wm(R));return $.push(b.renderActiveDot(R,z,"".concat(N,"-activePoint-").concat(M))),P?$.push(b.renderActiveDot(R,Z(Z({},z),{},{cx:P.x,cy:P.y}),"".concat(N,"-basePoint-").concat(M))):C&&$.push(null),$}),ke(_,"renderGraphicChild",function(j,E,O){var P=_.filterFormatItem(j,E,O);if(!P)return null;var M=_.getTooltipEventType(),C=_.state,$=C.isTooltipActive,N=C.tooltipAxis,A=C.activeTooltipIndex,R=C.activeLabel,I=_.props.children,z=pn(I,Cr),T=P.props,D=T.points,H=T.isRange,G=T.baseLine,k=P.item.type.defaultProps!==void 0?Z(Z({},P.item.type.defaultProps),P.item.props):P.item.props,F=k.activeDot,K=k.hide,J=k.activeBar,se=k.activeShape,te=!!(!K&&$&&z&&(F||J||se)),ae={};M!=="axis"&&z&&z.props.trigger==="click"?ae={onClick:rp(_.handleItemMouseEnter,j.props.onClick)}:M!=="axis"&&(ae={onMouseLeave:rp(_.handleItemMouseLeave,j.props.onMouseLeave),onMouseEnter:rp(_.handleItemMouseEnter,j.props.onMouseEnter)});var Y=w.cloneElement(j,Z(Z({},P.props),ae));function de(B){return typeof N.dataKey=="function"?N.dataKey(B.payload):null}if(te)if(A>=0){var ue,X;if(N.dataKey&&!N.allowDuplicatedCategory){var De=typeof N.dataKey=="function"?de:"payload.".concat(N.dataKey.toString());ue=bm(D,De,R),X=H&&G&&bm(G,De,R)}else ue=D==null?void 0:D[A],X=H&&G&&G[A];if(se||J){var Ce=j.props.activeIndex!==void 0?j.props.activeIndex:A;return[w.cloneElement(j,Z(Z(Z({},P.props),ae),{},{activeIndex:Ce})),null,null]}if(!Me(ue))return[Y].concat(tu(_.renderActivePoints({item:P,activePoint:ue,basePoint:X,childIndex:A,isRange:H})))}else{var et,Ye=(et=_.getItemByXY(_.state.activeCoordinate))!==null&&et!==void 0?et:{graphicalItem:Y},W=Ye.graphicalItem,me=W.item,le=me===void 0?j:me,Ie=W.childIndex,Ve=Z(Z(Z({},P.props),ae),{},{activeIndex:Ie});return[w.cloneElement(le,Ve),null,null]}return H?[Y,null,null]:[Y,null]}),ke(_,"renderCustomized",function(j,E,O){return w.cloneElement(j,Z(Z({key:"recharts-customized-".concat(O)},_.props),_.state))}),ke(_,"renderMap",{CartesianGrid:{handler:sp,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:sp},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:sp},YAxis:{handler:sp},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((v=y.id)!==null&&v!==void 0?v:Zs("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=OD(_.triggeredAfterMouseMove,(S=y.throttleDelay)!==null&&S!==void 0?S:1e3/60),_.state={},_}return cbe(b,x),abe(b,[{key:"componentDidMount",value:function(){var v,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(v=this.props.margin.left)!==null&&v!==void 0?v:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var v=this.props,S=v.children,_=v.data,j=v.height,E=v.layout,O=pn(S,Cr);if(O){var P=O.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var M=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,C=e_(this.state,_,P,M),$=this.state.tooltipTicks[P].coordinate,N=(this.state.offset.top+j)/2,A=E==="horizontal",R=A?{x:$,y:N}:{y:$,x:N},I=this.state.formattedGraphicalItems.find(function(T){var D=T.item;return D.type.name==="Scatter"});I&&(R=Z(Z({},R),I.props.points[P].tooltipPosition),C=I.props.points[P].tooltipPayload);var z={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:M,activePayload:C,activeCoordinate:R};this.setState(z),this.renderCursor(O),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(v,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==v.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==v.margin){var _,j;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0}})}return null}},{key:"componentDidUpdate",value:function(v){A0([pn(v.children,Cr)],[pn(this.props.children,Cr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var v=pn(this.props.children,Cr);if(v&&typeof v.props.shared=="boolean"){var S=v.props.shared?"axis":"item";return s.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(v){if(!this.container)return null;var S=this.container,_=S.getBoundingClientRect(),j=roe(_),E={chartX:Math.round(v.pageX-j.left),chartY:Math.round(v.pageY-j.top)},O=_.width/S.offsetWidth||1,P=this.inRange(E.chartX,E.chartY,O);if(!P)return null;var M=this.state,C=M.xAxisMap,$=M.yAxisMap,N=this.getTooltipEventType(),A=FC(this.state,this.props.data,this.props.layout,P);if(N!=="axis"&&C&&$){var R=qa(C).scale,I=qa($).scale,z=R&&R.invert?R.invert(E.chartX):null,T=I&&I.invert?I.invert(E.chartY):null;return Z(Z({},E),{},{xValue:z,yValue:T},A)}return A?Z(Z({},E),A):null}},{key:"inRange",value:function(v,S){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,j=this.props.layout,E=v/_,O=S/_;if(j==="horizontal"||j==="vertical"){var P=this.state.offset,M=E>=P.left&&E<=P.left+P.width&&O>=P.top&&O<=P.top+P.height;return M?{x:E,y:O}:null}var C=this.state,$=C.angleAxisMap,N=C.radiusAxisMap;if($&&N){var A=qa($);return lN({x:E,y:O},A)}return null}},{key:"parseEventsOfWrapper",value:function(){var v=this.props.children,S=this.getTooltipEventType(),_=pn(v,Cr),j={};_&&S==="axis"&&(_.props.trigger==="click"?j={onClick:this.handleClick}:j={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=wm(this.props,this.handleOuterEvent);return Z(Z({},E),j)}},{key:"addListener",value:function(){Bx.on(Ux,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bx.removeListener(Ux,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(v,S,_){for(var j=this.state.formattedGraphicalItems,E=0,O=j.length;E<O;E++){var P=j[E];if(P.item===v||P.props.key===v.key||S===pa(P.item.type)&&_===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var v=this.clipPathId,S=this.state.offset,_=S.left,j=S.top,E=S.height,O=S.width;return L.createElement("defs",null,L.createElement("clipPath",{id:v},L.createElement("rect",{x:_,y:j,height:E,width:O})))}},{key:"getXScales",value:function(){var v=this.state.xAxisMap;return v?Object.entries(v).reduce(function(S,_){var j=MC(_,2),E=j[0],O=j[1];return Z(Z({},S),{},ke({},E,O.scale))},{}):null}},{key:"getYScales",value:function(){var v=this.state.yAxisMap;return v?Object.entries(v).reduce(function(S,_){var j=MC(_,2),E=j[0],O=j[1];return Z(Z({},S),{},ke({},E,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(v){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(v){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[v])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(v){var S=this.state,_=S.formattedGraphicalItems,j=S.activeItem;if(_&&_.length)for(var E=0,O=_.length;E<O;E++){var P=_[E],M=P.props,C=P.item,$=C.type.defaultProps!==void 0?Z(Z({},C.type.defaultProps),C.props):C.props,N=pa(C.type);if(N==="Bar"){var A=(M.data||[]).find(function(T){return Lhe(v,T)});if(A)return{graphicalItem:P,payload:A}}else if(N==="RadialBar"){var R=(M.data||[]).find(function(T){return lN(v,T)});if(R)return{graphicalItem:P,payload:R}}else if(ry(P,j)||ny(P,j)||Of(P,j)){var I=Ome({graphicalItem:P,activeTooltipItem:j,itemData:$.data}),z=$.activeIndex===void 0?I:$.activeIndex;return{graphicalItem:Z(Z({},P),{},{childIndex:z}),payload:Of(P,j)?$.data[I]:P.props.data[I]}}}return null}},{key:"render",value:function(){var v=this;if(!ZO(this))return null;var S=this.props,_=S.children,j=S.className,E=S.width,O=S.height,P=S.style,M=S.compact,C=S.title,$=S.desc,N=DC(S,Jxe),A=Ae(N,!1);if(M)return L.createElement(vC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement(C0,Bl({},A,{width:E,height:O,title:C,desc:$}),this.renderClipPath(),tP(_,this.renderMap)));if(this.props.accessibilityLayer){var R,I;A.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,A.role=(I=this.props.role)!==null&&I!==void 0?I:"application",A.onKeyDown=function(T){v.accessibilityManager.keyboardEvent(T)},A.onFocus=function(){v.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return L.createElement(vC,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},L.createElement("div",Bl({className:Le("recharts-wrapper",j),style:Z({position:"relative",cursor:"default",width:E,height:O},P)},z,{ref:function(D){v.container=D}}),L.createElement(C0,Bl({},A,{width:E,height:O,title:C,desc:$,style:mbe}),this.renderClipPath(),tP(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(w.Component);ke(g,"displayName",r),ke(g,"defaultProps",Z({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ke(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,v=x.data,S=x.children,_=x.width,j=x.height,E=x.layout,O=x.stackOffset,P=x.margin,M=b.dataStartIndex,C=b.dataEndIndex;if(b.updateId===void 0){var $=BC(x);return Z(Z(Z({},$),{},{updateId:0},m(Z(Z({props:x},$),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:v,prevWidth:_,prevHeight:j,prevLayout:E,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(y!==b.prevDataKey||v!==b.prevData||_!==b.prevWidth||j!==b.prevHeight||E!==b.prevLayout||O!==b.prevStackOffset||!Zl(P,b.prevMargin)){var N=BC(x),A={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},R=Z(Z({},FC(b,v,E)),{},{updateId:b.updateId+1}),I=Z(Z(Z({},N),A),R);return Z(Z(Z({},I),m(Z({props:x},I),b)),{},{prevDataKey:y,prevData:v,prevWidth:_,prevHeight:j,prevLayout:E,prevStackOffset:O,prevMargin:P,prevChildren:S})}if(!A0(S,b.prevChildren)){var z,T,D,H,G=pn(S,Wc),k=G&&(z=(T=G.props)===null||T===void 0?void 0:T.startIndex)!==null&&z!==void 0?z:M,F=G&&(D=(H=G.props)===null||H===void 0?void 0:H.endIndex)!==null&&D!==void 0?D:C,K=k!==M||F!==C,J=!Me(v),se=J&&!K?b.updateId:b.updateId+1;return Z(Z({updateId:se},m(Z(Z({props:x},b),{},{updateId:se,dataStartIndex:k,dataEndIndex:F}),b)),{},{prevChildren:S,dataStartIndex:k,dataEndIndex:F})}return null}),ke(g,"renderActiveDot",function(x,b,y){var v;return w.isValidElement(x)?v=w.cloneElement(x,b):Re(x)?v=x(b):v=L.createElement(fh,b),L.createElement(Ke,{className:"recharts-active-dot",key:y},v)});var p=w.forwardRef(function(b,y){return L.createElement(g,Bl({},b,{ref:y}))});return p.displayName=g.displayName,p},Ebe=uy({chartName:"LineChart",GraphicalChild:hh,axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:HS}),t_=uy({chartName:"BarChart",GraphicalChild:fi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:HS}),t3=uy({chartName:"PieChart",GraphicalChild:Yi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:ty},{axisType:"radiusAxis",AxisComp:Zg}],formatAxisMap:Jue,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Obe=uy({chartName:"AreaChart",GraphicalChild:Fo,axisComponents:[{axisType:"xAxis",AxisComp:Fi},{axisType:"yAxis",AxisComp:Bi}],formatAxisMap:HS});const Pbe=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class rj extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Abe extends rj{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zC extends rj{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class VC extends rj{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var r_;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(r_||(r_={}));class Nbe{constructor(t,{headers:r={},customFetch:n,region:i=r_.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=Pbe(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Se(this,arguments,void 0,function*(r,n={}){var i;let a,o;try{const{headers:s,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):p=u;let x=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:p,signal:x}).catch(_=>{throw new Abe(_)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new zC(b);if(!b.ok)throw new VC(b);let v=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return v==="application/json"?S=yield b.json():v==="application/octet-stream"||v==="application/pdf"?S=yield b.blob():v==="text/event-stream"?S=b:v==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(s){return{data:null,error:s,response:s instanceof VC||s instanceof zC?s.context:void 0}}finally{a&&clearTimeout(a)}})}}var zr={};const Ou=RU(vH);var lp={},cp={},up={},dp={},fp={},hp={},WC;function r3(){if(WC)return hp;WC=1,Object.defineProperty(hp,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return hp.default=e,hp}var qC;function n3(){if(qC)return fp;qC=1,Object.defineProperty(fp,"__esModule",{value:!0});const t=Ou.__importDefault(r3());class r{constructor(i){var a,o;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(a=i.shouldThrowOnError)!==null&&a!==void 0?a:!1,this.signal=i.signal,this.isMaybeSingle=(o=i.isMaybeSingle)!==null&&o!==void 0?o:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,a){return this.headers=new Headers(this.headers),this.headers.set(i,a),this}then(i,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let s=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,f,h;let m=null,g=null,p=null,x=c.status,b=c.statusText;if(c.ok){if(this.method!=="HEAD"){const _=await c.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=_:g=JSON.parse(_))}const v=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),S=(f=c.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");v&&S&&S.length>1&&(p=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(m={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,p=null,x=406,b="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const v=await c.text();try{m=JSON.parse(v),Array.isArray(m)&&c.status===404&&(g=[],m=null,x=200,b="OK")}catch{c.status===404&&v===""?(x=204,b="No Content"):m={message:v}}if(m&&this.isMaybeSingle&&(!((h=m==null?void 0:m.details)===null||h===void 0)&&h.includes("0 rows"))&&(m=null,x=200,b="OK"),m&&this.shouldThrowOnError)throw new t.default(m)}return{error:m,data:g,count:p,status:x,statusText:b}});return this.shouldThrowOnError||(s=s.catch(c=>{var u,d,f,h,m,g;let p="";const x=c==null?void 0:c.cause;if(x){const b=(u=x==null?void 0:x.message)!==null&&u!==void 0?u:"",y=(d=x==null?void 0:x.code)!==null&&d!==void 0?d:"";p=`${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"FetchError"}: ${c==null?void 0:c.message}`,p+=`

Caused by: ${(h=x==null?void 0:x.name)!==null&&h!==void 0?h:"Error"}: ${b}`,y&&(p+=` (${y})`),x!=null&&x.stack&&(p+=`
${x.stack}`)}else p=(m=c==null?void 0:c.stack)!==null&&m!==void 0?m:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:p,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(i,a)}returns(){return this}overrideTypes(){return this}}return fp.default=r,fp}var HC;function i3(){if(HC)return dp;HC=1,Object.defineProperty(dp,"__esModule",{value:!0});const t=Ou.__importDefault(n3());class r extends t.default{select(i){let a=!1;const o=(i??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return dp.default=r,dp}var KC;function nj(){if(KC)return up;KC=1,Object.defineProperty(up,"__esModule",{value:!0});const t=Ou.__importDefault(i3()),r=new RegExp("[,()]");class n extends t.default{eq(a,o){return this.url.searchParams.append(a,`eq.${o}`),this}neq(a,o){return this.url.searchParams.append(a,`neq.${o}`),this}gt(a,o){return this.url.searchParams.append(a,`gt.${o}`),this}gte(a,o){return this.url.searchParams.append(a,`gte.${o}`),this}lt(a,o){return this.url.searchParams.append(a,`lt.${o}`),this}lte(a,o){return this.url.searchParams.append(a,`lte.${o}`),this}like(a,o){return this.url.searchParams.append(a,`like.${o}`),this}likeAllOf(a,o){return this.url.searchParams.append(a,`like(all).{${o.join(",")}}`),this}likeAnyOf(a,o){return this.url.searchParams.append(a,`like(any).{${o.join(",")}}`),this}ilike(a,o){return this.url.searchParams.append(a,`ilike.${o}`),this}ilikeAllOf(a,o){return this.url.searchParams.append(a,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(a,o){return this.url.searchParams.append(a,`ilike(any).{${o.join(",")}}`),this}regexMatch(a,o){return this.url.searchParams.append(a,`match.${o}`),this}regexIMatch(a,o){return this.url.searchParams.append(a,`imatch.${o}`),this}is(a,o){return this.url.searchParams.append(a,`is.${o}`),this}isDistinct(a,o){return this.url.searchParams.append(a,`isdistinct.${o}`),this}in(a,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(a,`in.(${s})`),this}contains(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cs.{${o.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(o)}`),this}containedBy(a,o){return typeof o=="string"?this.url.searchParams.append(a,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(a,`cd.{${o.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(o)}`),this}rangeGt(a,o){return this.url.searchParams.append(a,`sr.${o}`),this}rangeGte(a,o){return this.url.searchParams.append(a,`nxl.${o}`),this}rangeLt(a,o){return this.url.searchParams.append(a,`sl.${o}`),this}rangeLte(a,o){return this.url.searchParams.append(a,`nxr.${o}`),this}rangeAdjacent(a,o){return this.url.searchParams.append(a,`adj.${o}`),this}overlaps(a,o){return typeof o=="string"?this.url.searchParams.append(a,`ov.${o}`):this.url.searchParams.append(a,`ov.{${o.join(",")}}`),this}textSearch(a,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(a,`${u}fts${d}.${o}`),this}match(a){return Object.entries(a).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(a,o,s){return this.url.searchParams.append(a,`not.${o}.${s}`),this}or(a,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${a})`),this}filter(a,o,s){return this.url.searchParams.append(a,`${o}.${s}`),this}}return up.default=n,up}var GC;function a3(){if(GC)return cp;GC=1,Object.defineProperty(cp,"__esModule",{value:!0});const t=Ou.__importDefault(nj());class r{constructor(i,{headers:a={},schema:o,fetch:s}){this.url=i,this.headers=new Headers(a),this.schema=o,this.fetch=s}select(i,a){const{head:o=!1,count:s}=a??{},c=o?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:o=!0}={}){var s;const c="POST";if(a&&this.headers.append("Prefer",`count=${a}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:a}={}){var o;const s="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:i}={}){var a;const o="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return cp.default=r,cp}var YC;function Cbe(){if(YC)return lp;YC=1,Object.defineProperty(lp,"__esModule",{value:!0});const e=Ou,t=e.__importDefault(a3()),r=e.__importDefault(nj());class n{constructor(a,{headers:o={},schema:s,fetch:c}={}){this.url=a,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(a){if(!a||typeof a!="string"||a.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${a}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new n(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${a}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{h.searchParams.append(p,x)})):(f="POST",m=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return lp.default=n,lp}Object.defineProperty(zr,"__esModule",{value:!0});var o3=zr.PostgrestError=v3=zr.PostgrestBuilder=p3=zr.PostgrestTransformBuilder=f3=zr.PostgrestFilterBuilder=u3=zr.PostgrestQueryBuilder=l3=zr.PostgrestClient=void 0;const Pu=Ou,s3=Pu.__importDefault(Cbe());var l3=zr.PostgrestClient=s3.default;const c3=Pu.__importDefault(a3());var u3=zr.PostgrestQueryBuilder=c3.default;const d3=Pu.__importDefault(nj());var f3=zr.PostgrestFilterBuilder=d3.default;const h3=Pu.__importDefault(i3());var p3=zr.PostgrestTransformBuilder=h3.default;const m3=Pu.__importDefault(n3());var v3=zr.PostgrestBuilder=m3.default;const g3=Pu.__importDefault(r3());o3=zr.PostgrestError=g3.default;var y3=zr.default={PostgrestClient:s3.default,PostgrestQueryBuilder:c3.default,PostgrestFilterBuilder:d3.default,PostgrestTransformBuilder:h3.default,PostgrestBuilder:m3.default,PostgrestError:g3.default};const Tbe=KT({__proto__:null,get PostgrestBuilder(){return v3},get PostgrestClient(){return l3},get PostgrestError(){return o3},get PostgrestFilterBuilder(){return f3},get PostgrestQueryBuilder(){return u3},get PostgrestTransformBuilder(){return p3},default:y3},[zr]),{PostgrestClient:kbe,PostgrestQueryBuilder:fEe,PostgrestFilterBuilder:hEe,PostgrestTransformBuilder:pEe,PostgrestBuilder:mEe,PostgrestError:vEe}=y3||Tbe;class $be{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Rbe="2.86.0",Ibe=`realtime-js/${Rbe}`,x3="1.0.0",Mbe="2.0.0",XC=x3,n_=1e4,Dbe=1e3,Lbe=100;var rs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(rs||(rs={}));var tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(tr||(tr={}));var ri;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ri||(ri={}));var i_;(function(e){e.websocket="websocket"})(i_||(i_={}));var ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ns||(ns={}));class Fbe{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var r,n;const i=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var i,a;const o=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,s.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(s,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,a,o,s,c]=n;return r({join_ref:i,ref:a,topic:o,event:s,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,i)}}_decodeUserBroadcast(t,r,n){const i=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),s=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+i));c=c+i;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=s===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class b3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ut;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ut||(ut={}));const QC=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Bbe(o,e,t,i),a),{}):{}},Bbe=(e,t,r,n)=>{const i=t.find(s=>s.name===e),a=i==null?void 0:i.type,o=r[e];return a&&!n.includes(a)?w3(a,o):a_(o)},w3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Wbe(t,r)}switch(e){case ut.bool:return Ube(t);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return zbe(t);case ut.json:case ut.jsonb:return Vbe(t);case ut.timestamp:return qbe(t);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return a_(t);default:return a_(t)}},a_=e=>e,Ube=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zbe=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vbe=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Wbe=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(s=>w3(t,s))}return e},qbe=e=>typeof e=="string"?e.replace(" ","T"):e,_3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vx{constructor(t,r,n={},i=n_){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var JC;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(JC||(JC={}));class Ed{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ed.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Ed.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ed.syncDiff(this.state,i,a,o),s())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const a=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(s[u]=g),p.length>0&&(c[u]=p)}else s[u]=d}),this.syncDiff(a,{joins:s,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,i(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ZC;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ZC||(ZC={}));var Od;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Od||(Od={}));var na;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(na||(na={}));class ij{constructor(t,r={config:{}},n){var i,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vx(this,ri.join,this.params,this.timeout),this.rejoinTimer=new b3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ri.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Ed(this),this.broadcastEndpointURL=_3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==tr.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Od.PRESENCE]&&this.bindings[Od.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(na.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(na.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(na.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<x;y++){const v=p[y],{filter:{event:S,schema:_,table:j,filter:E}}=v,O=m&&m[y];if(O&&O.event===S&&O.schema===_&&O.table===j&&O.filter===E)b.push(Object.assign(Object.assign({},v),{id:O.id}));else{this.unsubscribe(),this.state=tr.errored,t==null||t(na.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(na.SUBSCRIBED);return}}).receive("error",m=>{this.state=tr.errored,t==null||t(na.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(na.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===tr.joined&&t===Od.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var i;const a=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:a,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ri.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Vx(this,ri.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Vx(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lbe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,a;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=ri;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,p,x,b,y,v;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,_=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const S=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return S==="*"||S===((v=r==null?void 0:r.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:b,type:y,errors:v}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===tr.closed}_isJoined(){return this.state===tr.joined}_isJoining(){return this.state===tr.joining}_isLeaving(){return this.state===tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&ij.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ri.close,{},t)}_onError(t){this._on(ri.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=QC(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=QC(t.columns,t.old_record)),r}}const Wx=()=>{},pp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hbe=[1e3,2e3,5e3,1e4],Kbe=1e4,Gbe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ybe{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=n_,this.transport=null,this.heartbeatIntervalMs=pp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wx,this.ref=0,this.reconnectTimer=null,this.vsn=XC,this.logger=Wx,this.conn=null,this.sendBuffer=[],this.serializer=new Fbe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${i_.websocket}`,this.httpEndpoint=_3(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$be.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case rs.connecting:return ns.Connecting;case rs.open:return ns.Open;case rs.closing:return ns.Closing;default:return ns.Closed}}isConnected(){return this.connectionState()===ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new ij(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:i,ref:a}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Dbe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pp.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:a,ref:o}=r,s=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${i} ${s}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===rs.open||this.conn.readyState===rs.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ri.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Gbe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Ibe};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ri.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new b3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,a,o,s,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:n_,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:pp.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Wx,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:XC,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>Hbe[g-1]||Kbe,this.vsn){case x3:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case Mbe:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class dy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Xbe extends dy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class o_ extends dy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const aj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Qbe=()=>Response,s_=e=>{if(Array.isArray(e))return e.map(r=>s_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=s_(n)}),t},Jbe=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Zbe=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e),qx=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},e0e=(e,t,r)=>Se(void 0,void 0,void 0,function*(){const n=yield Qbe();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const a=e.status||500,o=(i==null?void 0:i.statusCode)||a+"";t(new Xbe(qx(i),a,o))}).catch(i=>{t(new o_(qx(i),i))}):t(new o_(qx(e),e))}),t0e=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Jbe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ph(e,t,r,n,i,a){return Se(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,t0e(t,n,i,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>e0e(c,s,n))})})}function $f(e,t,r,n){return Se(this,void 0,void 0,function*(){return ph(e,"GET",t,r,n)})}function Qn(e,t,r,n,i){return Se(this,void 0,void 0,function*(){return ph(e,"POST",t,n,i,r)})}function l_(e,t,r,n,i){return Se(this,void 0,void 0,function*(){return ph(e,"PUT",t,n,i,r)})}function r0e(e,t,r,n){return Se(this,void 0,void 0,function*(){return ph(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oj(e,t,r,n,i){return Se(this,void 0,void 0,function*(){return ph(e,"DELETE",t,n,i,r)})}class n0e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return Se(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}})}}var S3;class i0e{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[S3]="BlobDownloadBuilder",this.promise=null}asStream(){return new n0e(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Se(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(At(t))return{data:null,error:t};throw t}})}}S3=Symbol.toStringTag;const a0e={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class o0e{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=aj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return Se(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},eT),i);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",this.encodeMetadata(c))):(a=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),i!=null&&i.headers&&(s=Object.assign(Object.assign({},s),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?l_:Qn)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(At(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Se(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:eT.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield l_(this.fetch,s.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(At(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const a=yield Qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),s=o.searchParams.get("token");if(!s)throw new dy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}update(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Se(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),a=yield Qn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Se(this,void 0,void 0,function*(){try{const i=yield Qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}download(t,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"",s=this._getFinalPath(t),c=()=>$f(this.fetch,`${this.url}/${i}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new i0e(c,this.shouldThrowOnError)}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $f(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:s_(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield r0e(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n)&&n instanceof o_){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}list(t,r,n){return Se(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},a0e),r),{prefix:t||""});return{data:yield Qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}listV2(t,r){return Se(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const j3="2.86.0",E3={"X-Client-Info":`storage-js/${j3}`};class s0e{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const a=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E3),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield $f(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield $f(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}createBucket(t){return Se(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(At(i))return{data:null,error:i};throw i}})}updateBucket(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield l_(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(At(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var Rf=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function l0e(e,t,r){const n=new URL(t,e);if(r)for(const[i,a]of Object.entries(r))a!==void 0&&n.searchParams.set(i,a);return n.toString()}async function c0e(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function u0e(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:a,headers:o}){const s=l0e(e.baseUrl,n,i),c=await c0e(e.auth),u=await t(s,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Rf((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function mp(e){return e.join("")}var d0e=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:mp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mp(e.namespace)}`}),!0}catch(t){if(t instanceof Rf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Rf&&r.status===409)return;throw r}}};function hl(e){return e.join("")}var f0e=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hl(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Rf&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Rf&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},h0e=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=u0e({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new d0e(this.client,t),this.tableOps=new f0e(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};class p0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},E3),r),this.fetch=aj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield Qn(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}listBuckets(t){return Se(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield $f(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield oj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(At(r))return{data:null,error:r};throw r}})}from(t){if(!Zbe(t))throw new dy("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new h0e({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:()=>Se(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const sj={"X-Client-Info":`storage-js/${j3}`,"Content-Type":"application/json"};class O3 extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function gn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Hx extends O3{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class m0e extends O3{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var tT;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(tT||(tT={}));const lj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),v0e=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rT=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),g0e=(e,t,r)=>Se(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const i=e.status||500,a=e;if(typeof a.json=="function")a.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Hx(rT(o),i,s))}).catch(()=>{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Hx(s,i,o))});else{const o=i+"",s=a.statusText||`HTTP ${i} error`;t(new Hx(s,i,o))}}else t(new m0e(rT(e),e))}),y0e=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(v0e(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function x0e(e,t,r,n,i,a){return Se(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,y0e(t,n,i,a)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>g0e(c,s,n))})})}function yn(e,t,r,n,i){return Se(this,void 0,void 0,function*(){return x0e(e,"POST",t,n,i,r)})}class b0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=lj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield yn(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}getIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}listIndexes(t){return Se(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return Se(this,void 0,void 0,function*(){try{return{data:(yield yn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gn(n))return{data:null,error:n};throw n}})}}class w0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=lj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield yn(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}getVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}listVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield yn(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}queryVectors(t){return Se(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}deleteVectors(t){return Se(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield yn(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}}class _0e{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},sj),r),this.fetch=lj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield yn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}getBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}listBuckets(){return Se(this,arguments,void 0,function*(t={}){try{return{data:yield yn(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Se(this,void 0,void 0,function*(){try{return{data:(yield yn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gn(r))return{data:null,error:r};throw r}})}}class S0e extends _0e{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new j0e(this.url,this.headers,t,this.fetch)}createBucket(t){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Se(this,void 0,void 0,function*(){return r.createBucket.call(this,t)})}getBucket(t){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Se(this,void 0,void 0,function*(){return r.getBucket.call(this,t)})}listBuckets(){const t=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Se(this,arguments,void 0,function*(r={}){return t.listBuckets.call(this,r)})}deleteBucket(t){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Se(this,void 0,void 0,function*(){return r.deleteBucket.call(this,t)})}}class j0e extends b0e{constructor(t,r,n,i){super(t,r,i),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Se(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Se(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Se(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Se(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new E0e(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class E0e extends w0e{constructor(t,r,n,i,a){super(t,r,a),this.vectorBucketName=n,this.indexName=i}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Se(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Se(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Se(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Se(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Se(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class O0e extends s0e{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new o0e(this.url,this.headers,t,this.fetch)}get vectors(){return new S0e(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new p0e(this.url+"/iceberg",this.headers,this.fetch)}}const P0e="2.86.0";let id="";typeof Deno<"u"?id="deno":typeof document<"u"?id="web":typeof navigator<"u"&&navigator.product==="ReactNative"?id="react-native":id="node";const A0e={"X-Client-Info":`supabase-js-${id}/${P0e}`},N0e={headers:A0e},C0e={schema:"public"},T0e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},k0e={},$0e=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),R0e=()=>Headers,I0e=(e,t,r)=>{const n=$0e(r),i=R0e();return async(a,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new i(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))}};function M0e(e){return e.endsWith("/")?e:e+"/"}function D0e(e,t){var r,n;const{db:i,auth:a,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function L0e(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(M0e(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const P3="2.86.0",bl=30*1e3,c_=3,Kx=c_*bl,F0e="http://localhost:9999",B0e="supabase.auth.token",U0e={"X-Client-Info":`gotrue-js/${P3}`},u_="X-Supabase-Api-Version",A3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},z0e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,V0e=10*60*1e3;class If extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class W0e extends If{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function q0e(e){return Pe(e)&&e.name==="AuthApiError"}class is extends If{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Bo extends If{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class un extends Bo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function H0e(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class pl extends Bo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vp extends Bo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class gp extends Bo{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function K0e(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class nT extends Bo{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class d_ extends Bo{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gx(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class iT extends Bo{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class f_ extends Bo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aT=` 	
\r=`.split(""),G0e=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aT.length;t+=1)e[aT[t].charCodeAt(0)]=-2;for(let t=0;t<_v.length;t+=1)e[_v[t].charCodeAt(0)]=t;return e})();function oT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_v[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_v[n]),t.queuedBits-=6}}function N3(e,t,r){const n=G0e[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function sT(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Q0e(o,n,r)};for(let o=0;o<e.length;o+=1)N3(e.charCodeAt(o),i,a);return t.join("")}function Y0e(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function X0e(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Y0e(n,t)}}function Q0e(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function nc(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)N3(e.charCodeAt(i),r,n);return new Uint8Array(t)}function J0e(e){const t=[];return X0e(e,r=>t.push(r)),new Uint8Array(t)}function ps(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>oT(i,r,n)),oT(null,r,n),t.join("")}function Z0e(e){return Math.round(Date.now()/1e3)+e}function ewe(){return Symbol("auth-callback")}const vr=()=>typeof window<"u"&&typeof document<"u",Ko={tested:!1,writable:!1},C3=()=>{if(!vr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ko.tested)return Ko.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ko.tested=!0,Ko.writable=!0}catch{Ko.tested=!0,Ko.writable=!1}return Ko.writable};function twe(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const T3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rwe=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",wl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Go=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ma=async(e,t)=>{await e.removeItem(t)};class fy{constructor(){this.promise=new fy.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fy.promiseConstructor=Promise;function Yx(e){const t=e.split(".");if(t.length!==3)throw new f_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!z0e.test(t[n]))throw new f_("JWT not in base64url format");return{header:JSON.parse(sT(t[0])),payload:JSON.parse(sT(t[1])),signature:nc(t[2]),raw:{header:t[0],payload:t[1]}}}async function nwe(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function iwe(e,t){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){i(o);return}}})()})}function awe(e){return("0"+e.toString(16)).substr(-2)}function owe(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,awe).join("")}async function swe(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function lwe(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await swe(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ml(e,t,r=!1){const n=owe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await wl(e,`${t}-code-verifier`,i);const a=await lwe(n);return[a,n===a?"plain":"s256"]}const cwe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function uwe(e){const t=e.headers.get(u_);if(!t||!t.match(cwe))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function dwe(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function fwe(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hwe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vl(e){if(!hwe.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xx(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function pwe(e,t){return new Proxy(e,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,i)}})}function lT(e){return JSON.parse(JSON.stringify(e))}const es=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mwe=[502,503,504];async function cT(e){var t;if(!rwe(e))throw new d_(es(e),0);if(mwe.includes(e.status))throw new d_(es(e),e.status);let r;try{r=await e.json()}catch(a){throw new is(es(a),a)}let n;const i=uwe(e);if(i&&i.getTime()>=A3["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new iT(es(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new un}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new iT(es(r),e.status,r.weak_password.reasons);throw new W0e(es(r),e.status||500,n)}const vwe=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function $e(e,t,r,n){var i;const a=Object.assign({},n==null?void 0:n.headers);a[u_]||(a[u_]=A3["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await gwe(e,t,r+s,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gwe(e,t,r,n,i,a){const o=vwe(t,n,i,a);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new d_(es(c),0)}if(s.ok||await cT(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await cT(c)}}function Gn(e){var t;let r=null;bwe(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Z0e(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function uT(e){const t=Gn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ha(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ywe(e){return{data:e,error:null}}function xwe(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=e,o=Ro(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function dT(e){return e}function bwe(e){return e.access_token&&e.refresh_token&&e.expires_in}const Qx=["global","local","others"];class wwe{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=T3(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Qx[0]){if(Qx.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qx.join(", ")}`);try{return await $e(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $e(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ha})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ro(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await $e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:xwe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ha})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:dT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vl(t);try{return await $e(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ha})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){vl(t);try{return await $e(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ha})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){vl(t);try{return await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ha})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vl(t.userId);try{const{data:r,error:n}=await $e(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){vl(t.userId),vl(t.id);try{return{data:await $e(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,i,a,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:dT});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Pe(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function fT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const gl={debug:!!(globalThis&&C3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class k3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class _we extends k3{}async function Swe(e,t,r){gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),gl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw gl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new _we(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(gl.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jwe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function $3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ewe(e){return parseInt(e,16)}function Owe(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Pwe(e){var t;const{chainId:r,domain:n,expirationTime:i,issuedAt:a=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=$3(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),s&&(b+=`
Not Before: ${s.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);y+=`
- ${v}`}b+=y}return`${x}
${b}`}class Kt extends Error{constructor({message:t,code:r,cause:n,name:i}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=i??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Sv extends Kt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Awe({error:e,options:t}){var r,n,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Kt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Kt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Kt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Kt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Kt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Kt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(R3(o)){if(a.rp.id!==o)return new Kt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Kt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Nwe({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Kt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Kt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(R3(n)){if(r.rpId!==n)return new Kt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Kt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Kt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Kt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Cwe{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Twe=new Cwe;function kwe(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,i=Ro(e,["challenge","user","excludeCredentials"]),a=nc(t).buffer,o=Object.assign(Object.assign({},r),{id:nc(r.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:a,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:nc(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function $we(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ro(e,["challenge","allowCredentials"]),i=nc(t).buffer,a=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},s),{id:nc(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return a}function Rwe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ps(new Uint8Array(e.response.attestationObject)),clientDataJSON:ps(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Iwe(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ps(new Uint8Array(i.authenticatorData)),clientDataJSON:ps(new Uint8Array(i.clientDataJSON)),signature:ps(new Uint8Array(i.signature)),userHandle:i.userHandle?ps(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function R3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function hT(){var e,t;return!!(vr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Mwe(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:Awe({error:t,options:e})}}}async function Dwe(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:Nwe({error:t,options:e})}}}const Lwe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Fwe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jv(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const a in i){const o=i[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const s=n[a];t(s)?n[a]=jv(s,o):n[a]=jv(o)}else n[a]=o}return n}function Bwe(e,t){return jv(Lwe,e,t||{})}function Uwe(e,t){return jv(Fwe,e,t||{})}class zwe{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:i},a){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=i??Twe.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Bwe(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:f}=await Mwe({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=Uwe(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:f}=await Dwe(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new If("rpId is required for WebAuthn authentication")};try{if(!hT())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:a});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!r)return{data:null,error:new If("rpId is required for WebAuthn registration")};try{if(!hT())return{data:null,error:new is("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Pe(o)?{data:null,error:o}:{data:null,error:new is("Unexpected error in register",o)}}}}jwe();const Vwe={url:F0e,storageKey:B0e,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:U0e,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function pT(e,t,r){return await r()}const yl={};class Mf{get jwks(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=yl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yl[this.storageKey]=Object.assign(Object.assign({},yl[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Vwe),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Mf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Mf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new wwe({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=T3(a.fetch),this.lock=a.lock||pT,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,a.lock?this.lock=a.lock:vr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Swe:this.lock=pT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new zwe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:C3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fT(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=fT(this.memoryStorage)),vr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${P3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(vr()&&(r=twe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),vr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),K0e(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:s}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new is("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Gn}),{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,i;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ml(this.storage,this.storageKey)),a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Gn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await $e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gn})}else throw new vp("You must provide either an email or phone number and a password");const{data:o,error:s}=a;if(s||!o)return this._returnResult({data:{user:null,session:null},error:s});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:uT})}else if("phone"in t){const{phone:a,password:o,options:s}=t;r=await $e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:uT})}else throw new vp("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const a=new pl;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,i,a,o,s,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:y}=t;let v;if(vr())if(typeof x=="object")v=x;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")v=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),_=await v.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=$3(_[0]);let E=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const P=await v.request({method:"eth_chainId"});E=Ewe(P)}const O={domain:S.host,address:j,statement:b,uri:S.href,version:"1",chainId:E,nonce:(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(a=y==null?void 0:y.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=Pwe(O),g=await v.request({method:"personal_sign",params:[Owe(m),j]})}try{const{data:p,error:x}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Gn});if(x)throw x;if(!p||!p.session||!p.user){const b=new pl;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Pe(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,i,a,o,s,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:y,options:v}=t;let S;if(vr())if(typeof b=="object")S=b;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))S=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const j=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),y?{statement:y}:null));let E;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")E=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)E=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),p=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${_.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const j=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=j}}try{const{data:x,error:b}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ps(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Gn});if(b)throw b;if(!x||!x.session||!x.user){const y=new pl;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Pe(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Go(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await $e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Gn});if(await Ma(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const s=new pl;return this._returnResult({data:{user:null,session:null,redirectType:null},error:s})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=t,s=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Gn}),{data:c,error:u}=s;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new pl;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,i,a,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ml(this.storage,this.storageKey));const{error:f}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await $e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new vp("You must provide either an email or phone number.")}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async verifyOtp(t){var r,n;try{let i,a;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await $e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Gn});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var r,n,i,a,o;try{let s=null,c=null;this.flowType==="pkce"&&([s,c]=await ml(this.storage,this.storageKey));const u=await $e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:c}),headers:this.headers,xform:ywe});return!((a=u.data)===null||a===void 0)&&a.url&&vr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(s){if(Pe(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new un;const{error:i}=await $e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:a}=t,{error:o}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:i,options:a}=t,{data:o,error:s}=await $e(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s})}throw new vp("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Kx:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Go(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Xx()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=pwe(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ha}):await this._useSession(async r=>{var n,i,a;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new un}:await $e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ha})})}catch(r){if(Pe(r))return H0e(r)&&(await this._removeSession(),await Ma(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new un;const o=i.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await ml(this.storage,this.storageKey));const{data:u,error:d}=await $e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:Ha});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new un;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=Yx(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!s)return{data:{user:null,session:null},error:null};a=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new un;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!vr())throw new gp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new gp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new nT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new nT("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!a||!s||!o||!u)throw new gp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=bl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(a);if(x)throw x;const b={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Go(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({error:a});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(q0e(s)&&(s.status===404||s.status===401||s.status===403)))return this._returnResult({error:s})}return t!=="others"&&(await this._removeSession(),await Ma(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=ewe(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ml(this.storage,this.storageKey,!0));try{return await $e(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(Pe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,s,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $e(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return vr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:a}}=r;if(i)throw i;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await $e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Gn}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new pl}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(i){if(Pe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await $e(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await iwe(async i=>(i>0&&await nwe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await $e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gn})),(i,a)=>{const o=200*Math.pow(2,i);return a&&Gx(a)&&Date.now()+o-n<bl})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),vr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Go(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Go(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await wl(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Xx()}else if(i&&!i.user&&!i.user){const o=await Go(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Ma(this.storage,this.storageKey+"-user"),await wl(this.storage,this.storageKey,i)):i.user=Xx()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Kx;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Kx}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Gx(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(i.access_token);!s&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new un;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new fy;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new un;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const s={data:a.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(a){if(this._debug(i,"error",a),Pe(a)){const o={data:null,error:a};return Gx(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let s=0;s<a.length;s+=1)console.error(a[s]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wl(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=lT(i);await wl(this.storage,this.storageKey,a)}else{const i=lT(r);await wl(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ma(this.storage,this.storageKey),await Ma(this.storage,this.storageKey+"-code-verifier"),await Ma(this.storage,this.storageKey+"-user"),this.userStorage&&await Ma(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),bl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/bl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${bl}ms, refresh threshold is ${c_} ticks`),i<=c_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof k3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ml(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(s.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?this._returnResult({data:null,error:a}):await $e(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await $e(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Rwe(t.webauthn.credential_response):Iwe(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),this._returnResult({data:s,error:c}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await $e(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:kwe(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:$we(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Yx(n.access_token);let o=null;a.aal&&(o=a.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=a.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await $e(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new un})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new un});const o=await $e(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&vr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new un})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await $e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new un})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+V0e>i)return n;const{data:a,error:o}=await $e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:i,payload:a,signature:o,raw:{header:s,payload:c}}=Yx(n);r!=null&&r.allowExpired||dwe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:i,signature:o},error:null}}const d=fwe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,J0e(`${s}.${c}`)))throw new f_("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Mf.nextInstanceID={};const Wwe=Mf;class qwe extends Wwe{constructor(t){super(t)}}class Hwe{constructor(t,r,n){var i,a,o;this.supabaseUrl=t,this.supabaseKey=r;const s=L0e(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:C0e,realtime:k0e,auth:Object.assign(Object.assign({},T0e),{storageKey:c}),global:N0e},d=D0e(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=I0e(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new kbe(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new O0e(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Nbe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,storageKey:o,flowType:s,lock:c,debug:u,throwOnError:d},f,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qwe({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),f),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:a,flowType:s,lock:c,debug:u,throwOnError:d,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ybe(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Kwe=(e,t,r)=>new Hwe(e,t,r);function Gwe(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Gwe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ywe="https://svpprgzklqwsnevejihu.supabase.co",Xwe="sb_publishable_kfq79EwWoGaQd13OxcHO4Q_pLQutDkB",ee=Kwe(Ywe,Xwe),mT=Object.freeze(Object.defineProperty({__proto__:null,supabase:ee},Symbol.toStringTag,{value:"Module"}));function yp({title:e,value:t,icon:r,trend:n,trendValue:i,loading:a}){return a?l.jsx(ve,{children:l.jsxs(ge,{className:"p-6",children:[l.jsx(Bt,{className:"h-4 w-24 mb-3"}),l.jsx(Bt,{className:"h-8 w-32 mb-2"}),l.jsx(Bt,{className:"h-3 w-20"})]})}):l.jsx(ve,{className:"hover-elevate transition-all",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground truncate",children:e}),l.jsx("p",{className:"text-2xl font-bold mt-1 truncate","data-testid":`text-stat-${e.toLowerCase().replace(/\s+/g,"-")}`,children:t}),n&&i&&l.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[n==="up"?l.jsx(jo,{className:"h-3 w-3 text-green-500 flex-shrink-0"}):l.jsx(IV,{className:"h-3 w-3 text-red-500 flex-shrink-0"}),l.jsx("span",{className:`text-xs font-medium ${n==="up"?"text-green-500":"text-red-500"}`,children:i}),l.jsx("span",{className:"text-xs text-muted-foreground",children:"vs mes anterior"})]})]}),l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}function Qwe({payment:e,clientName:t}){const r={pagado:"bg-green-500/10 text-green-600 dark:text-green-400",pendiente:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",vencido:"bg-red-500/10 text-red-600 dark:text-red-400"};return l.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-border last:border-0",children:[l.jsx(Xs,{className:"h-10 w-10 flex-shrink-0",children:l.jsx(Qs,{className:"bg-primary/10 text-primary text-sm font-medium",children:Xf(t)})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:t}),l.jsx("p",{className:"text-xs text-muted-foreground truncate",children:Xe(e.dueDate)})]}),l.jsxs("div",{className:"text-right flex-shrink-0",children:[l.jsx("p",{className:"text-sm font-semibold",children:be(Number(e.amount))}),l.jsx(xr,{variant:"secondary",className:`text-xs ${r[e.status]}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]})]})}function Jwe({payment:e,clientName:t}){const r=e.dueDate?Gd(e.dueDate):NaN,n=Number.isFinite(r)?r<0:!1,i=Number.isFinite(r)?r<=3&&r>=0:!1;return l.jsxs("div",{className:"flex items-center gap-4 py-3 border-b border-border last:border-0",children:[l.jsx("div",{className:`h-10 w-10 rounded-lg flex items-center justify-center flex-shrink-0 ${n?"bg-red-500/10":i?"bg-yellow-500/10":"bg-muted"}`,children:n?l.jsx(tg,{className:"h-5 w-5 text-red-500"}):l.jsx(Ri,{className:`h-5 w-5 ${i?"text-yellow-500":"text-muted-foreground"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium truncate",children:t}),l.jsx("p",{className:`text-xs ${n?"text-red-500 font-medium":"text-muted-foreground"}`,children:n?`Vencido hace ${Math.abs(r)} dias`:r===0?"Vence hoy":`Vence en ${r} dias`})]}),l.jsx("div",{className:"text-right flex-shrink-0",children:l.jsx("p",{className:"text-sm font-semibold",children:be(Number(e.amount))})})]})}const xp=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function Zwe(){const{toast:e}=Sr(),{data:t,isLoading:r}=_t({queryKey:["dashboard","stats"],queryFn:async()=>{try{const[d,f,h,m]=await Promise.all([ee.from("pagos").select("monto"),ee.from("clientes").select("*"),ee.from("suscripciones").select("*"),ee.from("contratos").select("*")]),g=Array.isArray(d.data)?d.data:[],p=Array.isArray(f.data)?f.data:[],x=Array.isArray(h.data)?h.data:[],b=Array.isArray(m.data)?m.data:[],y=g.reduce((N,A)=>N+Number(A.monto??0),0),v=b.reduce((N,A)=>N+Number(A.pago_inicial??0),0),S=y+v,_=p.length,j=x.filter(N=>N.is_active===void 0?!0:!!N.is_active),E=j.length,O=j.reduce((N,A)=>{const R=parseFloat(A.mensualidad||0);return N+(isNaN(R)?0:R)},0),M=Ur(new Date);M&&M.setHours(0,0,0,0);const C=x.filter(N=>{if(!N.proxima_fecha_de_pago)return!1;const A=Ur(N.proxima_fecha_de_pago);return!A||!M?!1:(A.setHours(0,0,0,0),A<=M)}).length;return{totalRevenue:S,totalClients:_,pendingPayments:C,activeSubscriptions:E,monthlyRecurringRevenue:O,overduePayments:C}}catch(d){return console.error("Error loading dashboard stats:",d),e({title:"Error cargando estadsticas",variant:"destructive"}),{totalRevenue:0,totalClients:0,pendingPayments:0,activeSubscriptions:0,monthlyRecurringRevenue:0,overduePayments:0}}}});_t({queryKey:["dashboard","clients"],queryFn:async()=>{const{data:d,error:f}=await ee.from("clientes").select("id,nombre,telefono,rtn,oficio,created_at");if(f)throw f;return Array.isArray(d)?d:[]}});const{data:n,isLoading:i}=_t({queryKey:["dashboard","payments","recent"],queryFn:async()=>{const{data:d,error:f}=await ee.from("pagos").select("id,fecha_de_creacion,tipo,referencia_id,cliente,proyecto,monto,notas").order("fecha_de_creacion",{ascending:!1}).limit(5);if(f)throw f;const h=Array.isArray(d)?d:[],m=Array.from(new Set(h.map(x=>x.cliente).filter(Boolean))),{data:g}=await ee.from("clientes").select("id,nombre").in("id",m),p={};return(Array.isArray(g)?g:[]).forEach(x=>{x!=null&&x.id&&(p[x.id]=x.nombre)}),h.map(x=>({payment:{id:x.id,amount:x.monto,dueDate:x.fecha_de_creacion,status:"pagado"},clientName:p[x.cliente]??x.cliente??"Cliente",raw:x}))}}),{data:a}=_t({queryKey:["dashboard","payments","upcoming"],queryFn:async()=>{const f=Ur(new Date),h=f?new Date(f):new Date;h&&h.setDate(h.getDate()+30);const{data:m,error:g}=await ee.from("suscripciones").select("id,cliente,proyecto,proxima_fecha_de_pago,mensualidad").order("proxima_fecha_de_pago",{ascending:!0}).limit(10);if(g)throw g;const p=Array.isArray(m)?m:[],{data:x,error:b}=await ee.from("contratos").select("id,cliente,proyecto,proximo_pago,monto_total,pago_inicial,cantidad_de_pagos").order("proximo_pago",{ascending:!0}).limit(10);if(b)throw b;const y=Array.isArray(x)?x:[],v=Array.from(new Set([...p.map(C=>C.cliente),...y.map(C=>C.cliente)].filter(Boolean))),{data:S}=await ee.from("clientes").select("id,nombre").in("id",v),_={};(Array.isArray(S)?S:[]).forEach(C=>{C!=null&&C.id&&(_[C.id]=C.nombre)});const j=y.map(C=>C.id).filter(Boolean);let E={};if(j.length>0){const{data:C,error:$}=await ee.from("pagos").select("referencia_id,monto,tipo").in("referencia_id",j).eq("tipo","contrato");$?console.error("Error cargando pagos para contratos en dashboard:",$):(Array.isArray(C)?C:[]).forEach(A=>{if(!A||!A.referencia_id)return;const R=String(A.referencia_id);E[R]=(E[R]??0)+Number(A.monto??0)})}const O=p.map(C=>({payment:{id:C.id,amount:C.mensualidad,dueDate:C.proxima_fecha_de_pago,status:"pendiente"},clientName:_[C.cliente]??C.cliente??"Cliente"})),P=y.filter(C=>C.proximo_pago).map(C=>{const $=Number(C.monto_total??0),N=Number(C.pago_inicial??0),A=Math.max(1,Number(C.cantidad_de_pagos??1)),R=($-N)/A,I=Number.isFinite(R)?R:Math.max(0,$-N);return{payment:{id:C.id,amount:I,dueDate:C.proximo_pago,status:"pendiente"},clientName:_[C.cliente]??C.cliente??"Cliente"}});return[...O,...P].sort((C,$)=>{const N=C.payment.dueDate?new Date(C.payment.dueDate).getTime():0,A=$.payment.dueDate?new Date($.payment.dueDate).getTime():0;return N-A}).slice(0,10)}}),{data:o}=_t({queryKey:["dashboard","revenue"],queryFn:async()=>{const d=new Date,f=Ur(d),h=f?new Date(f.getFullYear(),f.getMonth()-5,1):new Date(d.getFullYear(),d.getMonth()-5,1),m=new Date(h.getTime()+6*60*60*1e3),[g,p,x]=await Promise.all([ee.from("pagos").select("id,fecha_de_creacion,monto,tipo").gte("fecha_de_creacion",m.toISOString()).order("fecha_de_creacion",{ascending:!0}),ee.from("contratos").select("*").gte("fecha_de_creacion",m.toISOString()),ee.from("suscripciones").select("*").gte("fecha_de_creacion",m.toISOString())]);if(g.error)throw g.error;const b=Array.isArray(g.data)?g.data:[],y=Array.isArray(p.data)?p.data:[];Array.isArray(x.data)&&x.data;const v={},S=f||d;for(let _=0;_<6;_++){const j=new Date(S.getFullYear(),S.getMonth()-(5-_),1),E=`${j.getFullYear()}-${(j.getMonth()+1).toString().padStart(2,"0")}`;v[E]={month:j.toLocaleString(void 0,{month:"short"}),oneTime:0,subscriptions:0,revenue:0}}return b.forEach(_=>{const j=Ur(_.fecha_de_creacion);if(!j)return;const E=`${j.getFullYear()}-${(j.getMonth()+1).toString().padStart(2,"0")}`;if(!v[E])return;const O=Number(_.monto??0);v[E].revenue+=O,String(_.tipo)==="suscripcion"?v[E].subscriptions+=O:v[E].oneTime+=O}),y.forEach(_=>{if(!_.pago_inicial)return;const j=Ur(_.fecha_de_creacion);if(!j)return;const E=`${j.getFullYear()}-${(j.getMonth()+1).toString().padStart(2,"0")}`;if(!v[E])return;const O=Number(_.pago_inicial??0);v[E].revenue+=O,v[E].oneTime+=O}),Object.values(v)}}),{data:s}=_t({queryKey:["dashboard","pagos","all"],queryFn:async()=>{const{data:d,error:f}=await ee.from("pagos").select("tipo,monto");if(f)throw f;return Array.isArray(d)?d:[]}}),c=(Array.isArray(s)?s:[]).reduce((d,f)=>{const h=(f==null?void 0:f.tipo)??"unico";return d[h]=(d[h]||0)+1,d},{}),u=Object.entries(c).map(([d,f])=>({name:m2(d),value:f}));return l.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Dashboard"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Resumen general de tu negocio"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(yp,{title:"Ingresos Totales",value:be((t==null?void 0:t.totalRevenue)||0),icon:Oc,trend:"up",trendValue:"+12.5%",loading:r}),l.jsx(yp,{title:"Clientes Activos",value:String((t==null?void 0:t.totalClients)||0),icon:Kd,trend:"up",trendValue:"+3",loading:r}),l.jsx(yp,{title:"Pagos Pendientes",value:String((t==null?void 0:t.pendingPayments)||0),icon:tg,loading:r}),l.jsx(yp,{title:"Suscripciones",value:String((t==null?void 0:t.activeSubscriptions)||0),icon:eg,trend:"up",trendValue:"+2",loading:r})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(ve,{className:"lg:col-span-2",children:[l.jsxs(ht,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(pt,{className:"text-lg font-semibold",children:"Ingresos Mensuales"}),l.jsx(xr,{variant:"secondary",className:"text-xs",children:"Ultimos 6 meses"})]}),l.jsx(ge,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(t_,{data:o||[],children:[l.jsx(rc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Fi,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(Bi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:d=>`L ${d/1e3}k`}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:d=>[be(d),""]}),l.jsx(fi,{dataKey:"oneTime",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],name:"Pagos Unicos"}),l.jsx(fi,{dataKey:"subscriptions",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],name:"Suscripciones"})]})})})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{className:"text-lg font-semibold",children:"Tipo de Pagos"})}),l.jsxs(ge,{children:[l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(t3,{children:[l.jsx(Yi,{data:u,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:u.map((d,f)=>l.jsx(oh,{fill:xp[f%xp.length]},`cell-${f}`))}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:u.map((d,f)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:xp[f%xp.length]}}),l.jsx("span",{className:"text-xs text-muted-foreground",children:d.name})]},d.name))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ve,{children:[l.jsxs(ht,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(pt,{className:"text-lg font-semibold",children:"Transacciones Recientes"}),l.jsxs(Kl,{href:"/pagos",className:"text-sm text-primary hover:underline flex items-center gap-1","data-testid":"link-view-all-payments",children:["Ver todas",l.jsx(a2,{className:"h-3 w-3"})]})]}),l.jsx(ge,{children:i?l.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(d=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Bt,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Bt,{className:"h-4 w-32 mb-1"}),l.jsx(Bt,{className:"h-3 w-24"})]}),l.jsx(Bt,{className:"h-4 w-20"})]},d))}):n&&n.length>0?l.jsx("div",{children:n.slice(0,5).map(({payment:d,clientName:f})=>l.jsx(Qwe,{payment:d,clientName:f},d.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Oc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay transacciones recientes"})]})})]}),l.jsxs(ve,{children:[l.jsxs(ht,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(pt,{className:"text-lg font-semibold",children:"Proximos Vencimientos"}),l.jsxs(xr,{variant:"secondary",className:"text-xs",children:[(a==null?void 0:a.length)||0," pendientes"]})]}),l.jsx(ge,{children:a&&a.length>0?l.jsx("div",{children:a.slice(0,5).map(({payment:d,clientName:f})=>l.jsx(Jwe,{payment:d,clientName:f},d.id))}):l.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[l.jsx(Ri,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),l.jsx("p",{children:"No hay pagos proximos a vencer"})]})})]})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{className:"text-lg font-semibold",children:"Ingresos Recurrentes (MRR)"})}),l.jsxs(ge,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold text-primary",children:be((t==null?void 0:t.monthlyRecurringRevenue)||0)}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"MRR Actual"})]}),l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold",children:(t==null?void 0:t.activeSubscriptions)||0}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Suscripciones Activas"})]}),l.jsxs("div",{className:"text-center p-4 rounded-lg bg-muted/50",children:[l.jsx("p",{className:"text-3xl font-bold",children:be(((t==null?void 0:t.monthlyRecurringRevenue)||0)*12)}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"ARR Proyectado"})]})]}),l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(Ebe,{data:o||[],children:[l.jsx(rc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Fi,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(Bi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:d=>`L ${d/1e3}k`}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:d=>[be(d),"Suscripciones"]}),l.jsx(hh,{type:"monotone",dataKey:"subscriptions",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:{fill:"hsl(var(--chart-2))",r:4}})]})})})]})]})]})}const e_e="modulepreload",t_e=function(e){return"/"+e},vT={},gT=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=t_e(c),c in vT)return;vT[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":e_e,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return t().catch(a)})},Ut=H1,r_e=K1,I3=w.forwardRef(({className:e,...t},r)=>l.jsx(th,{ref:r,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));I3.displayName=th.displayName;const Tt=w.forwardRef(({className:e,children:t,...r},n)=>l.jsx(r_e,{children:l.jsxs(l.Fragment,{children:[l.jsx(I3,{}),l.jsxs(rh,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(GI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(rg,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}));Tt.displayName=rh.displayName;const kt=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});kt.displayName="DialogHeader";const $t=({className:e,...t})=>l.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$t.displayName="DialogFooter";const Rt=w.forwardRef(({className:e,...t},r)=>l.jsx(gg,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));Rt.displayName=gg.displayName;const ic=w.forwardRef(({className:e,...t},r)=>l.jsx(yg,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));ic.displayName=yg.displayName;var mh=e=>e.type==="checkbox",ms=e=>e instanceof Date,Br=e=>e==null;const M3=e=>typeof e=="object";var qt=e=>!Br(e)&&!Array.isArray(e)&&M3(e)&&!ms(e),n_e=e=>qt(e)&&e.target?mh(e.target)?e.target.checked:e.target.value:e,i_e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,a_e=(e,t)=>e.has(i_e(t)),o_e=e=>{const t=e.constructor&&e.constructor.prototype;return qt(t)&&t.hasOwnProperty("isPrototypeOf")},cj=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Or(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(cj&&(e instanceof Blob||n))&&(r||qt(e)))if(t=r?[]:{},!r&&!o_e(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Or(e[i]));else return e;return t}var hy=e=>Array.isArray(e)?e.filter(Boolean):[],Qt=e=>e===void 0,Ee=(e,t,r)=>{if(!t||!qt(e))return r;const n=hy(t.split(/[,[\].]+?/)).reduce((i,a)=>Br(i)?i:i[a],e);return Qt(n)||n===e?Qt(e[t])?r:e[t]:n},Si=e=>typeof e=="boolean",uj=e=>/^\w*$/.test(e),D3=e=>hy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(e,t,r)=>{let n=-1;const i=uj(t)?[t]:D3(t),a=i.length,o=a-1;for(;++n<a;){const s=i[n];let c=r;if(n!==o){const u=e[s];c=qt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;e[s]=c,e=e[s]}};const yT={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L3=L.createContext(null),s_e=()=>L.useContext(L3),l_e=e=>{const{children:t,...r}=e;return L.createElement(L3.Provider,{value:r},t)};var c_e=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==oi.all&&(t._proxyFormState[o]=!n||oi.all),e[o]}});return i},Ti=e=>typeof e=="string",u_e=(e,t,r,n,i)=>Ti(e)?(n&&t.watch.add(e),Ee(r,e,i)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Ee(r,a))):(n&&(t.watchAll=!0),r),d_e=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Pd=e=>Array.isArray(e)?e:[e],xT=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},h_=e=>Br(e)||!M3(e);function Ka(e,t){if(h_(e)||h_(t))return e===t;if(ms(e)&&ms(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const a=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(ms(a)&&ms(o)||qt(a)&&qt(o)||Array.isArray(a)&&Array.isArray(o)?!Ka(a,o):a!==o)return!1}}return!0}var Lr=e=>qt(e)&&!Object.keys(e).length,dj=e=>e.type==="file",si=e=>typeof e=="function",Ev=e=>{if(!cj)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},F3=e=>e.type==="select-multiple",fj=e=>e.type==="radio",f_e=e=>fj(e)||mh(e),Jx=e=>Ev(e)&&e.isConnected;function h_e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Qt(e)?n++:e[t[n++]];return e}function p_e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Qt(e[t]))return!1;return!0}function rr(e,t){const r=Array.isArray(t)?t:uj(t)?[t]:D3(t),n=r.length===1?e:h_e(e,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(qt(n)&&Lr(n)||Array.isArray(n)&&p_e(n))&&rr(e,r.slice(0,-1)),e}var B3=e=>{for(const t in e)if(si(e[t]))return!0;return!1};function Ov(e,t={}){const r=Array.isArray(e);if(qt(e)||r)for(const n in e)Array.isArray(e[n])||qt(e[n])&&!B3(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Ov(e[n],t[n])):Br(e[n])||(t[n]=!0);return t}function U3(e,t,r){const n=Array.isArray(e);if(qt(e)||n)for(const i in e)Array.isArray(e[i])||qt(e[i])&&!B3(e[i])?Qt(t)||h_(r[i])?r[i]=Array.isArray(e[i])?Ov(e[i],[]):{...Ov(e[i])}:U3(e[i],Br(t)?{}:t[i],r[i]):r[i]=!Ka(e[i],t[i]);return r}var Yu=(e,t)=>U3(e,t,Ov(t));const bT={value:!1,isValid:!1},wT={value:!0,isValid:!0};var z3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Qt(e[0].attributes.value)?Qt(e[0].value)||e[0].value===""?wT:{value:e[0].value,isValid:!0}:wT:bT}return bT},V3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Qt(e)?e:t?e===""?NaN:e&&+e:r&&Ti(e)?new Date(e):n?n(e):e;const _T={isValid:!1,value:null};var W3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,_T):_T;function ST(e){const t=e.ref;return dj(t)?t.files:fj(t)?W3(e.refs).value:F3(t)?[...t.selectedOptions].map(({value:r})=>r):mh(t)?z3(e.refs).value:V3(Qt(t.value)?e.ref.value:t.value,e)}var m_e=(e,t,r,n)=>{const i={};for(const a of e){const o=Ee(t,a);o&&xt(i,a,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Pv=e=>e instanceof RegExp,Xu=e=>Qt(e)?e:Pv(e)?e.source:qt(e)?Pv(e.value)?e.value.source:e.value:e,jT=e=>({isOnSubmit:!e||e===oi.onSubmit,isOnBlur:e===oi.onBlur,isOnChange:e===oi.onChange,isOnAll:e===oi.all,isOnTouch:e===oi.onTouched});const ET="AsyncFunction";var v_e=e=>!!e&&!!e.validate&&!!(si(e.validate)&&e.validate.constructor.name===ET||qt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===ET)),g_e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),OT=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ad=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const a=Ee(e,i);if(a){const{_f:o,...s}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ad(s,t))break}else if(qt(s)&&Ad(s,t))break}}};function PT(e,t,r){const n=Ee(e,r);if(n||uj(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=Ee(t,a),s=Ee(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(s&&s.type)return{name:a,error:s};i.pop()}return{name:r}}var y_e=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return Lr(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||oi.all))},x_e=(e,t,r)=>!e||!t||e===t||Pd(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),b_e=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,w_e=(e,t)=>!hy(Ee(e,t)).length&&rr(e,t),__e=(e,t,r)=>{const n=Pd(Ee(e,r));return xt(n,"root",t[r]),xt(e,r,n),e},Up=e=>Ti(e);function AT(e,t,r="validate"){if(Up(e)||Array.isArray(e)&&e.every(Up)||Si(e)&&!e)return{type:r,message:Up(e)?e:"",ref:t}}var xl=e=>qt(e)&&!Pv(e)?e:{value:e,message:""},NT=async(e,t,r,n,i,a)=>{const{ref:o,refs:s,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:b}=e._f,y=Ee(r,p);if(!b||t.has(p))return{};const v=s?s[0]:o,S=$=>{i&&v.reportValidity&&(v.setCustomValidity(Si($)?"":$||""),v.reportValidity())},_={},j=fj(o),E=mh(o),O=j||E,P=(x||dj(o))&&Qt(o.value)&&Qt(y)||Ev(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,M=d_e.bind(null,p,n,_),C=($,N,A,R=Zi.maxLength,I=Zi.minLength)=>{const z=$?N:A;_[p]={type:$?R:I,message:z,ref:o,...M($?R:I,z)}};if(a?!Array.isArray(y)||!y.length:c&&(!O&&(P||Br(y))||Si(y)&&!y||E&&!z3(s).isValid||j&&!W3(s).isValid)){const{value:$,message:N}=Up(c)?{value:!!c,message:c}:xl(c);if($&&(_[p]={type:Zi.required,message:N,ref:v,...M(Zi.required,N)},!n))return S(N),_}if(!P&&(!Br(f)||!Br(h))){let $,N;const A=xl(h),R=xl(f);if(!Br(y)&&!isNaN(y)){const I=o.valueAsNumber||y&&+y;Br(A.value)||($=I>A.value),Br(R.value)||(N=I<R.value)}else{const I=o.valueAsDate||new Date(y),z=H=>new Date(new Date().toDateString()+" "+H),T=o.type=="time",D=o.type=="week";Ti(A.value)&&y&&($=T?z(y)>z(A.value):D?y>A.value:I>new Date(A.value)),Ti(R.value)&&y&&(N=T?z(y)<z(R.value):D?y<R.value:I<new Date(R.value))}if(($||N)&&(C(!!$,A.message,R.message,Zi.max,Zi.min),!n))return S(_[p].message),_}if((u||d)&&!P&&(Ti(y)||a&&Array.isArray(y))){const $=xl(u),N=xl(d),A=!Br($.value)&&y.length>+$.value,R=!Br(N.value)&&y.length<+N.value;if((A||R)&&(C(A,$.message,N.message),!n))return S(_[p].message),_}if(m&&!P&&Ti(y)){const{value:$,message:N}=xl(m);if(Pv($)&&!y.match($)&&(_[p]={type:Zi.pattern,message:N,ref:o,...M(Zi.pattern,N)},!n))return S(N),_}if(g){if(si(g)){const $=await g(y,r),N=AT($,v);if(N&&(_[p]={...N,...M(Zi.validate,N.message)},!n))return S(N.message),_}else if(qt(g)){let $={};for(const N in g){if(!Lr($)&&!n)break;const A=AT(await g[N](y,r),v,N);A&&($={...A,...M(N,A.message)},S(A.message),n&&(_[p]=$))}if(!Lr($)&&(_[p]={ref:v,...$},!n))return _}}return S(!0),_};const S_e={mode:oi.onSubmit,reValidateMode:oi.onChange,shouldFocusError:!0};function j_e(e={}){let t={...S_e,...e},r={submitCount:0,isDirty:!1,isLoading:si(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=qt(t.defaultValues)||qt(t.values)?Or(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:Or(i),o={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:xT(),state:xT()},m=jT(t.mode),g=jT(t.reValidateMode),p=t.criteriaMode===oi.all,x=B=>q=>{clearTimeout(u),u=setTimeout(B,q)},b=async B=>{if(!t.disabled&&(d.isValid||f.isValid||B)){const q=t.resolver?Lr((await P()).errors):await C(n,!0);q!==r.isValid&&h.state.next({isValid:q})}},y=(B,q)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((B||Array.from(s.mount)).forEach(Q=>{Q&&(q?xt(r.validatingFields,Q,q):rr(r.validatingFields,Q))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Lr(r.validatingFields)}))},v=(B,q=[],Q,ne,oe=!0,ie=!0)=>{if(ne&&Q&&!t.disabled){if(o.action=!0,ie&&Array.isArray(Ee(n,B))){const ye=Q(Ee(n,B),ne.argA,ne.argB);oe&&xt(n,B,ye)}if(ie&&Array.isArray(Ee(r.errors,B))){const ye=Q(Ee(r.errors,B),ne.argA,ne.argB);oe&&xt(r.errors,B,ye),w_e(r.errors,B)}if((d.touchedFields||f.touchedFields)&&ie&&Array.isArray(Ee(r.touchedFields,B))){const ye=Q(Ee(r.touchedFields,B),ne.argA,ne.argB);oe&&xt(r.touchedFields,B,ye)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Yu(i,a)),h.state.next({name:B,isDirty:N(B,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else xt(a,B,q)},S=(B,q)=>{xt(r.errors,B,q),h.state.next({errors:r.errors})},_=B=>{r.errors=B,h.state.next({errors:r.errors,isValid:!1})},j=(B,q,Q,ne)=>{const oe=Ee(n,B);if(oe){const ie=Ee(a,B,Qt(Q)?Ee(i,B):Q);Qt(ie)||ne&&ne.defaultChecked||q?xt(a,B,q?ie:ST(oe._f)):I(B,ie),o.mount&&b()}},E=(B,q,Q,ne,oe)=>{let ie=!1,ye=!1;const Be={name:B};if(!t.disabled){if(!Q||ne){(d.isDirty||f.isDirty)&&(ye=r.isDirty,r.isDirty=Be.isDirty=N(),ie=ye!==Be.isDirty);const rt=Ka(Ee(i,B),q);ye=!!Ee(r.dirtyFields,B),rt?rr(r.dirtyFields,B):xt(r.dirtyFields,B,!0),Be.dirtyFields=r.dirtyFields,ie=ie||(d.dirtyFields||f.dirtyFields)&&ye!==!rt}if(Q){const rt=Ee(r.touchedFields,B);rt||(xt(r.touchedFields,B,Q),Be.touchedFields=r.touchedFields,ie=ie||(d.touchedFields||f.touchedFields)&&rt!==Q)}ie&&oe&&h.state.next(Be)}return ie?Be:{}},O=(B,q,Q,ne)=>{const oe=Ee(r.errors,B),ie=(d.isValid||f.isValid)&&Si(q)&&r.isValid!==q;if(t.delayError&&Q?(c=x(()=>S(B,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?xt(r.errors,B,Q):rr(r.errors,B)),(Q?!Ka(oe,Q):oe)||!Lr(ne)||ie){const ye={...ne,...ie&&Si(q)?{isValid:q}:{},errors:r.errors,name:B};r={...r,...ye},h.state.next(ye)}},P=async B=>{y(B,!0);const q=await t.resolver(a,t.context,m_e(B||s.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y(B),q},M=async B=>{const{errors:q}=await P(B);if(B)for(const Q of B){const ne=Ee(q,Q);ne?xt(r.errors,Q,ne):rr(r.errors,Q)}else r.errors=q;return q},C=async(B,q,Q={valid:!0})=>{for(const ne in B){const oe=B[ne];if(oe){const{_f:ie,...ye}=oe;if(ie){const Be=s.array.has(ie.name),rt=oe._f&&v_e(oe._f);rt&&d.validatingFields&&y([ne],!0);const Et=await NT(oe,s.disabled,a,p,t.shouldUseNativeValidation&&!q,Be);if(rt&&d.validatingFields&&y([ne]),Et[ie.name]&&(Q.valid=!1,q))break;!q&&(Ee(Et,ie.name)?Be?__e(r.errors,Et,ie.name):xt(r.errors,ie.name,Et[ie.name]):rr(r.errors,ie.name))}!Lr(ye)&&await C(ye,q,Q)}}return Q.valid},$=()=>{for(const B of s.unMount){const q=Ee(n,B);q&&(q._f.refs?q._f.refs.every(Q=>!Jx(Q)):!Jx(q._f.ref))&&Y(B)}s.unMount=new Set},N=(B,q)=>!t.disabled&&(B&&q&&xt(a,B,q),!Ka(k(),i)),A=(B,q,Q)=>u_e(B,s,{...o.mount?a:Qt(q)?i:Ti(B)?{[B]:q}:q},Q,q),R=B=>hy(Ee(o.mount?a:i,B,t.shouldUnregister?Ee(i,B,[]):[])),I=(B,q,Q={})=>{const ne=Ee(n,B);let oe=q;if(ne){const ie=ne._f;ie&&(!ie.disabled&&xt(a,B,V3(q,ie)),oe=Ev(ie.ref)&&Br(q)?"":q,F3(ie.ref)?[...ie.ref.options].forEach(ye=>ye.selected=oe.includes(ye.value)):ie.refs?mh(ie.ref)?ie.refs.length>1?ie.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(oe)?!!oe.find(Be=>Be===ye.value):oe===ye.value)):ie.refs[0]&&(ie.refs[0].checked=!!oe):ie.refs.forEach(ye=>ye.checked=ye.value===oe):dj(ie.ref)?ie.ref.value="":(ie.ref.value=oe,ie.ref.type||h.state.next({name:B,values:Or(a)})))}(Q.shouldDirty||Q.shouldTouch)&&E(B,oe,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&G(B)},z=(B,q,Q)=>{for(const ne in q){const oe=q[ne],ie=`${B}.${ne}`,ye=Ee(n,ie);(s.array.has(B)||qt(oe)||ye&&!ye._f)&&!ms(oe)?z(ie,oe,Q):I(ie,oe,Q)}},T=(B,q,Q={})=>{const ne=Ee(n,B),oe=s.array.has(B),ie=Or(q);xt(a,B,ie),oe?(h.array.next({name:B,values:Or(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:B,dirtyFields:Yu(i,a),isDirty:N(B,ie)})):ne&&!ne._f&&!Br(ie)?z(B,ie,Q):I(B,ie,Q),OT(B,s)&&h.state.next({...r}),h.state.next({name:o.mount?B:void 0,values:Or(a)})},D=async B=>{o.mount=!0;const q=B.target;let Q=q.name,ne=!0;const oe=Ee(n,Q),ie=ye=>{ne=Number.isNaN(ye)||ms(ye)&&isNaN(ye.getTime())||Ka(ye,Ee(a,Q,ye))};if(oe){let ye,Be;const rt=q.type?ST(oe._f):n_e(B),Et=B.type===yT.BLUR||B.type===yT.FOCUS_OUT,ka=!g_e(oe._f)&&!t.resolver&&!Ee(r.errors,Q)&&!oe._f.deps||b_e(Et,Ee(r.touchedFields,Q),r.isSubmitted,g,m),qn=OT(Q,s,Et);xt(a,Q,rt),Et?(oe._f.onBlur&&oe._f.onBlur(B),c&&c(0)):oe._f.onChange&&oe._f.onChange(B);const U=E(Q,rt,Et),Oe=!Lr(U)||qn;if(!Et&&h.state.next({name:Q,type:B.type,values:Or(a)}),ka)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?Et&&b():Et||b()),Oe&&h.state.next({name:Q,...qn?{}:U});if(!Et&&qn&&h.state.next({...r}),t.resolver){const{errors:Ne}=await P([Q]);if(ie(rt),ne){const zt=PT(r.errors,n,Q),Xi=PT(Ne,n,zt.name||Q);ye=Xi.error,Q=Xi.name,Be=Lr(Ne)}}else y([Q],!0),ye=(await NT(oe,s.disabled,a,p,t.shouldUseNativeValidation))[Q],y([Q]),ie(rt),ne&&(ye?Be=!1:(d.isValid||f.isValid)&&(Be=await C(n,!0)));ne&&(oe._f.deps&&G(oe._f.deps),O(Q,Be,ye,U))}},H=(B,q)=>{if(Ee(r.errors,q)&&B.focus)return B.focus(),1},G=async(B,q={})=>{let Q,ne;const oe=Pd(B);if(t.resolver){const ie=await M(Qt(B)?B:oe);Q=Lr(ie),ne=B?!oe.some(ye=>Ee(ie,ye)):Q}else B?(ne=(await Promise.all(oe.map(async ie=>{const ye=Ee(n,ie);return await C(ye&&ye._f?{[ie]:ye}:ye)}))).every(Boolean),!(!ne&&!r.isValid)&&b()):ne=Q=await C(n);return h.state.next({...!Ti(B)||(d.isValid||f.isValid)&&Q!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:Q}:{},errors:r.errors}),q.shouldFocus&&!ne&&Ad(n,H,B?oe:s.mount),ne},k=B=>{const q={...o.mount?a:i};return Qt(B)?q:Ti(B)?Ee(q,B):B.map(Q=>Ee(q,Q))},F=(B,q)=>({invalid:!!Ee((q||r).errors,B),isDirty:!!Ee((q||r).dirtyFields,B),error:Ee((q||r).errors,B),isValidating:!!Ee(r.validatingFields,B),isTouched:!!Ee((q||r).touchedFields,B)}),K=B=>{B&&Pd(B).forEach(q=>rr(r.errors,q)),h.state.next({errors:B?r.errors:{}})},J=(B,q,Q)=>{const ne=(Ee(n,B,{_f:{}})._f||{}).ref,oe=Ee(r.errors,B)||{},{ref:ie,message:ye,type:Be,...rt}=oe;xt(r.errors,B,{...rt,...q,ref:ne}),h.state.next({name:B,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&ne&&ne.focus&&ne.focus()},se=(B,q)=>si(B)?h.state.subscribe({next:Q=>B(A(void 0,q),Q)}):A(B,q,!0),te=B=>h.state.subscribe({next:q=>{x_e(B.name,q.name,B.exact)&&y_e(q,B.formState||d,le,B.reRenderRoot)&&B.callback({values:{...a},...r,...q})}}).unsubscribe,ae=B=>(o.mount=!0,f={...f,...B.formState},te({...B,formState:f})),Y=(B,q={})=>{for(const Q of B?Pd(B):s.mount)s.mount.delete(Q),s.array.delete(Q),q.keepValue||(rr(n,Q),rr(a,Q)),!q.keepError&&rr(r.errors,Q),!q.keepDirty&&rr(r.dirtyFields,Q),!q.keepTouched&&rr(r.touchedFields,Q),!q.keepIsValidating&&rr(r.validatingFields,Q),!t.shouldUnregister&&!q.keepDefaultValue&&rr(i,Q);h.state.next({values:Or(a)}),h.state.next({...r,...q.keepDirty?{isDirty:N()}:{}}),!q.keepIsValid&&b()},de=({disabled:B,name:q})=>{(Si(B)&&o.mount||B||s.disabled.has(q))&&(B?s.disabled.add(q):s.disabled.delete(q))},ue=(B,q={})=>{let Q=Ee(n,B);const ne=Si(q.disabled)||Si(t.disabled);return xt(n,B,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:B}},name:B,mount:!0,...q}}),s.mount.add(B),Q?de({disabled:Si(q.disabled)?q.disabled:t.disabled,name:B}):j(B,!0,q.value),{...ne?{disabled:q.disabled||t.disabled}:{},...t.progressive?{required:!!q.required,min:Xu(q.min),max:Xu(q.max),minLength:Xu(q.minLength),maxLength:Xu(q.maxLength),pattern:Xu(q.pattern)}:{},name:B,onChange:D,onBlur:D,ref:oe=>{if(oe){ue(B,q),Q=Ee(n,B);const ie=Qt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,ye=f_e(ie),Be=Q._f.refs||[];if(ye?Be.find(rt=>rt===ie):ie===Q._f.ref)return;xt(n,B,{_f:{...Q._f,...ye?{refs:[...Be.filter(Jx),ie,...Array.isArray(Ee(i,B))?[{}]:[]],ref:{type:ie.type,name:B}}:{ref:ie}}}),j(B,!1,void 0,ie)}else Q=Ee(n,B,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||q.shouldUnregister)&&!(a_e(s.array,B)&&o.action)&&s.unMount.add(B)}}},X=()=>t.shouldFocusError&&Ad(n,H,s.mount),De=B=>{Si(B)&&(h.state.next({disabled:B}),Ad(n,(q,Q)=>{const ne=Ee(n,Q);ne&&(q.disabled=ne._f.disabled||B,Array.isArray(ne._f.refs)&&ne._f.refs.forEach(oe=>{oe.disabled=ne._f.disabled||B}))},0,!1))},Ce=(B,q)=>async Q=>{let ne;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let oe=Or(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ie,values:ye}=await P();r.errors=ie,oe=ye}else await C(n);if(s.disabled.size)for(const ie of s.disabled)xt(oe,ie,void 0);if(rr(r.errors,"root"),Lr(r.errors)){h.state.next({errors:{}});try{await B(oe,Q)}catch(ie){ne=ie}}else q&&await q({...r.errors},Q),X(),setTimeout(X);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Lr(r.errors)&&!ne,submitCount:r.submitCount+1,errors:r.errors}),ne)throw ne},et=(B,q={})=>{Ee(n,B)&&(Qt(q.defaultValue)?T(B,Or(Ee(i,B))):(T(B,q.defaultValue),xt(i,B,Or(q.defaultValue))),q.keepTouched||rr(r.touchedFields,B),q.keepDirty||(rr(r.dirtyFields,B),r.isDirty=q.defaultValue?N(B,Or(Ee(i,B))):N()),q.keepError||(rr(r.errors,B),d.isValid&&b()),h.state.next({...r}))},Ye=(B,q={})=>{const Q=B?Or(B):i,ne=Or(Q),oe=Lr(B),ie=oe?i:ne;if(q.keepDefaultValues||(i=Q),!q.keepValues){if(q.keepDirtyValues){const ye=new Set([...s.mount,...Object.keys(Yu(i,a))]);for(const Be of Array.from(ye))Ee(r.dirtyFields,Be)?xt(ie,Be,Ee(a,Be)):T(Be,Ee(ie,Be))}else{if(cj&&Qt(B))for(const ye of s.mount){const Be=Ee(n,ye);if(Be&&Be._f){const rt=Array.isArray(Be._f.refs)?Be._f.refs[0]:Be._f.ref;if(Ev(rt)){const Et=rt.closest("form");if(Et){Et.reset();break}}}}for(const ye of s.mount)T(ye,Ee(ie,ye))}a=Or(ie),h.array.next({values:{...ie}}),h.state.next({values:{...ie}})}s={mount:q.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!q.keepIsValid||!!q.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:oe?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!Ka(B,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:oe?{}:q.keepDirtyValues?q.keepDefaultValues&&a?Yu(i,a):r.dirtyFields:q.keepDefaultValues&&B?Yu(i,B):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},W=(B,q)=>Ye(si(B)?B(a):B,q),me=(B,q={})=>{const Q=Ee(n,B),ne=Q&&Q._f;if(ne){const oe=ne.refs?ne.refs[0]:ne.ref;oe.focus&&(oe.focus(),q.shouldSelect&&si(oe.select)&&oe.select())}},le=B=>{r={...r,...B}},Ve={control:{register:ue,unregister:Y,getFieldState:F,handleSubmit:Ce,setError:J,_subscribe:te,_runSchema:P,_getWatch:A,_getDirty:N,_setValid:b,_setFieldArray:v,_setDisabledField:de,_setErrors:_,_getFieldArray:R,_reset:Ye,_resetDefaultValues:()=>si(t.defaultValues)&&t.defaultValues().then(B=>{W(B,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:De,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(B){o=B},get _defaultValues(){return i},get _names(){return s},set _names(B){s=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:ae,trigger:G,register:ue,handleSubmit:Ce,watch:se,setValue:T,getValues:k,reset:W,resetField:et,clearErrors:K,unregister:Y,setError:J,setFocus:me,getFieldState:F};return{...Ve,formControl:Ve}}function hj(e={}){const t=L.useRef(void 0),r=L.useRef(void 0),[n,i]=L.useState({isDirty:!1,isValidating:!1,isLoading:si(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:si(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:j_e(e),formState:n},e.formControl&&e.defaultValues&&!si(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,L.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),L.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),L.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),L.useEffect(()=>{e.values&&!Ka(e.values,r.current)?(a._reset(e.values,a._options.resetOptions),r.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),L.useEffect(()=>{e.errors&&!Lr(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),L.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),L.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=c_e(n,a),t.current}var E_e="Label",q3=w.forwardRef((e,t)=>l.jsx(je.label,{...e,ref:t,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));q3.displayName=E_e;var H3=q3;const O_e=cu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),oa=w.forwardRef(({className:e,...t},r)=>l.jsx(H3,{ref:r,className:he(O_e(),e),...t}));oa.displayName=H3.displayName;const pj=l_e,P_e=w.createContext({}),py=()=>{const e=w.useContext(P_e),t=w.useContext(K3),{getFieldState:r,formState:n}=s_e(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},K3=w.createContext({}),Gt=w.forwardRef(({className:e,...t},r)=>{const n=w.useId();return l.jsx(K3.Provider,{value:{id:n},children:l.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});Gt.displayName="FormItem";const Yt=w.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=py();return l.jsx(oa,{ref:r,className:he(n&&"text-destructive",e),htmlFor:i,...t})});Yt.displayName="FormLabel";const Xt=w.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=py();return l.jsx(Xv,{ref:t,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...e})});Xt.displayName="FormControl";const A_e=w.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=py();return l.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",e),...t})});A_e.displayName="FormDescription";const N_e=w.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:a}=py(),o=i?String((i==null?void 0:i.message)??""):t;return o?l.jsx("p",{ref:n,id:a,className:he("text-sm font-medium text-destructive",e),...r,children:o}):null});N_e.displayName="FormMessage";function C_e(){const{toast:e}=Sr(),t=_t({queryKey:["clientes"],queryFn:async()=>{const a=await ee.from("clientes").select("*");console.debug("useClientes supabase response:",a);const{data:o,error:s}=a;if(s)throw console.error("useClientes supabase error:",s),s;return o||[]}}),r=Yl({mutationFn:async a=>{const{data:o,error:s}=await ee.from("clientes").insert([{nombre:a.nombre,telefono:a.telefono??null,rtn:a.rtn??null,oficio:a.oficio??null}]).select().single();if(s)throw s;return o},onSuccess:()=>{St.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente creado"})},onError:()=>e({title:"Error creando cliente",variant:"destructive"})}),n=Yl({mutationFn:async a=>{const{data:o,error:s}=await ee.from("clientes").update({nombre:a.nombre,telefono:a.telefono??null,rtn:a.rtn??null,oficio:a.oficio??null}).eq("id",a.id).select().single();if(s)throw s;return o},onSuccess:()=>{St.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente actualizado"})},onError:()=>e({title:"Error actualizando cliente",variant:"destructive"})}),i=Yl({mutationFn:async a=>{const{error:o}=await ee.from("clientes").delete().eq("id",a);if(o)throw o;return!0},onSuccess:()=>{St.invalidateQueries({queryKey:["clientes"]}),e({title:"Cliente eliminado"})},onError:()=>e({title:"Error eliminando cliente",variant:"destructive"})});return{clientes:t.data??[],isLoading:t.isLoading,isError:t.isError,error:t.error,createCliente:a=>r.mutate(a),updateCliente:a=>n.mutate(a),deleteCliente:a=>i.mutate(a),createClienteAsync:a=>r.mutateAsync(a),updateClienteAsync:a=>n.mutateAsync(a),deleteClienteAsync:a=>i.mutateAsync(a)}}function T_e(){const[e,t]=w.useState(!1),[r,n]=w.useState(null),[i,a]=w.useState(""),{toast:o}=Sr(),[,s]=Aa(),{clientes:c,isLoading:u,createCliente:d,updateCliente:f,deleteCliente:h,createClienteAsync:m,updateClienteAsync:g,deleteClienteAsync:p}=C_e(),[x,b]=w.useState(null),[y,v]=w.useState(null),S=hj({defaultValues:{nombre:"",telefono:"",rtn:"",oficio:""}}),_=T=>{var D,H,G,k;return{nombre:((D=T==null?void 0:T.nombre)==null?void 0:D.toString().trim())??"",telefono:((H=T==null?void 0:T.telefono)==null?void 0:H.toString().trim())??"",rtn:((G=T==null?void 0:T.rtn)==null?void 0:G.toString().trim())??"",oficio:((k=T==null?void 0:T.oficio)==null?void 0:k.toString().trim())??""}},j=async T=>{try{r?await g({...T,id:r.id}):await m(T),t(!1),n(null),S.reset()}catch(D){console.error("Error saving cliente:",D)}},E=T=>{n(T),S.reset(_(T)),t(!0)},[O,P]=w.useState(!1),[M,C]=w.useState(""),[$,N]=w.useState(null),[A,R]=w.useState(null),[I,z]=w.useState(!1);return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Clientes"})}),l.jsx(re,{onClick:()=>{n(null),S.reset(_(null)),t(!0)},children:"Agregar Cliente"})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por nombre, telfono o RTN...",value:i,onChange:T=>a(T.target.value),className:"pl-10"})]}),l.jsx("div",{children:u?l.jsx("p",{children:"Cargando..."}):c&&c.length>0||x&&x.length>0?l.jsx("div",{className:"space-y-3",children:(x??c).filter(T=>{if(!i)return!0;const D=i.toLowerCase(),H=(T.nombre||"").toLowerCase(),G=(T.telefono||"").toLowerCase(),k=(T.rtn||"").toLowerCase();return H.includes(D)||G.includes(D)||k.includes(D)}).map(T=>l.jsx(ve,{className:"hover-elevate shadow-sm cursor-pointer transition-all",onClick:()=>s(`/clientes/${T.id}`),children:l.jsx(ge,{className:"p-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Xs,{className:"h-12 w-12 flex-shrink-0",children:l.jsx(Qs,{className:"bg-primary/10 text-primary text-sm font-medium",children:Xf(T.nombre||"?")})}),l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-4 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-semibold text-base truncate",children:T.nombre}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:T.oficio??"-"})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Telfono"}),l.jsx("a",{className:"text-foreground hover:underline",href:`tel:${T.telefono??""}`,onClick:D=>D.stopPropagation(),children:T.telefono??"-"})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"RTN"}),l.jsx("div",{className:"truncate",children:T.rtn??"-"})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("div",{className:"text-xs text-muted-foreground hidden sm:block",children:T.created_at?Xe(T.created_at):null}),l.jsx(re,{size:"sm",variant:"ghost",onClick:D=>{D.stopPropagation(),N(T),C(""),P(!0)},children:"Editar"}),l.jsx(re,{size:"sm",variant:"destructive",onClick:D=>{D.stopPropagation(),R(T.id),C(""),P(!0)},children:"Eliminar"})]})]})]})})},T.id))}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{children:"No hay clientes."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{onClick:()=>{const T=$R.map(D=>{var H,G;return{id:D.id,nombre:D.name||D.nombre||"",telefono:D.phone||D.telefono||null,rtn:D.rtn??null,oficio:D.oficio??null,created_at:((G=(H=D.createdAt||D.created_at)==null?void 0:H.toString)==null?void 0:G.call(H))??null}});b(T),o({title:"Cargando ejemplo local"})},children:"Cargar ejemplo"}),l.jsx(re,{variant:"ghost",onClick:async()=>{try{const T=await(await gT(async()=>{const{supabase:D}=await Promise.resolve().then(()=>mT);return{supabase:D}},void 0)).supabase.from("clientes").select("*");v(T)}catch(T){v(T)}},children:"Comprobar Supabase"}),l.jsx(re,{variant:"outline",onClick:()=>{St.invalidateQueries({queryKey:["clientes"]}),o({title:"Refrescando clientes"})},children:"Refrescar"})]}),y&&l.jsx("pre",{className:"mt-2 text-xs max-h-40 overflow-auto bg-surface p-2 rounded",children:JSON.stringify(y,null,2)})]})}),l.jsx(Ut,{open:e,onOpenChange:T=>{t(T),T?r&&S.reset(_(r)):(n(null),S.reset(_(null)))},children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:r?"Editar Cliente":"Nuevo Cliente"})}),l.jsx(pj,{...S,children:l.jsxs("form",{onSubmit:S.handleSubmit(j),className:"space-y-4",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Nombre"}),l.jsx(Xt,{children:l.jsx(Ue,{...S.register("nombre",{required:!0})})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Telfono"}),l.jsx(Xt,{children:l.jsx(Ue,{...S.register("telefono")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"RTN"}),l.jsx(Xt,{children:l.jsx(Ue,{...S.register("rtn")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Oficio"}),l.jsx(Xt,{children:l.jsx(Ue,{...S.register("oficio")})})]}),l.jsxs($t,{children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>{t(!1),n(null)},children:"Cancelar"}),l.jsx(re,{type:"submit",children:r?"Guardar":"Crear"})]})]})})]})}),l.jsx(Ut,{open:O,onOpenChange:T=>P(T),children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{className:"text-blue-600 dark:text-blue-400",children:"Confirmar accin"})}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa la clave de acceso para continuar"}),l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:M,onChange:T=>C(T.target.value),className:"block w-full rounded-md border p-2 text-blue-600 dark:text-blue-400"})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{P(!1),N(null),R(null),C("")},children:"Cancelar"}),l.jsx(re,{onClick:async()=>{try{z(!0);const{data:T,error:D}=await(await gT(async()=>{const{supabase:G}=await Promise.resolve().then(()=>mT);return{supabase:G}},void 0)).supabase.from("configuracion").select("clave").limit(1).single();if(D)throw D;const H=(T==null?void 0:T.clave)??null;if(!H){o({title:"No hay clave configurada"});return}if(M!==H){o({title:"Clave incorrecta"});return}$&&E($),A&&(p?await p(A):h(A)),P(!1),N(null),R(null),C("")}catch(T){console.error("Error verificando clave:",T),o({title:"Error verificando clave",description:(T==null?void 0:T.message)??String(T)})}finally{z(!1)}},children:"Confirmar"})]})})]})})]})}var k_e=w.createContext(void 0);function my(e){const t=w.useContext(k_e);return e||t||"ltr"}var Zx="rovingFocusGroup.onEntryFocus",$_e={bubbles:!1,cancelable:!0},vy="RovingFocusGroup",[p_,G3,R_e]=Qv(vy),[I_e,gy]=an(vy,[R_e]),[M_e,D_e]=I_e(vy),Y3=w.forwardRef((e,t)=>l.jsx(p_.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(p_.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(L_e,{...e,ref:t})})}));Y3.displayName=vy;var L_e=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=w.useRef(null),m=Je(t,h),g=my(a),[p=null,x]=Vi({prop:o,defaultProp:s,onChange:c}),[b,y]=w.useState(!1),v=_r(u),S=G3(r),_=w.useRef(!1),[j,E]=w.useState(0);return w.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(Zx,v),()=>O.removeEventListener(Zx,v)},[v]),l.jsx(M_e,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:p,onItemFocus:w.useCallback(O=>x(O),[x]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>E(O=>O+1),[]),onFocusableItemRemove:w.useCallback(()=>E(O=>O-1),[]),children:l.jsx(je.div,{tabIndex:b||j===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:pe(e.onMouseDown,()=>{_.current=!0}),onFocus:pe(e.onFocus,O=>{const P=!_.current;if(O.target===O.currentTarget&&P&&!b){const M=new CustomEvent(Zx,$_e);if(O.currentTarget.dispatchEvent(M),!M.defaultPrevented){const C=S().filter(I=>I.focusable),$=C.find(I=>I.active),N=C.find(I=>I.id===p),R=[$,N,...C].filter(Boolean).map(I=>I.ref.current);J3(R,d)}}_.current=!1}),onBlur:pe(e.onBlur,()=>y(!1))})})}),X3="RovingFocusGroupItem",Q3=w.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,...o}=e,s=pr(),c=a||s,u=D_e(X3,r),d=u.currentTabStopId===c,f=G3(r),{onFocusableItemAdd:h,onFocusableItemRemove:m}=u;return w.useEffect(()=>{if(n)return h(),()=>m()},[n,h,m]),l.jsx(p_.ItemSlot,{scope:r,id:c,focusable:n,active:i,children:l.jsx(je.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:pe(e.onMouseDown,g=>{n?u.onItemFocus(c):g.preventDefault()}),onFocus:pe(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:pe(e.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const p=U_e(g,u.orientation,u.dir);if(p!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let b=f().filter(y=>y.focusable).map(y=>y.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const y=b.indexOf(g.currentTarget);b=u.loop?z_e(b,y+1):b.slice(y+1)}setTimeout(()=>J3(b))}})})})});Q3.displayName=X3;var F_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B_e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function U_e(e,t,r){const n=B_e(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return F_e[n]}function J3(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function z_e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Z3=Y3,eB=Q3,m_=["Enter"," "],V_e=["ArrowDown","PageUp","Home"],tB=["ArrowUp","PageDown","End"],W_e=[...V_e,...tB],q_e={ltr:[...m_,"ArrowRight"],rtl:[...m_,"ArrowLeft"]},H_e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vh="Menu",[Df,K_e,G_e]=Qv(vh),[nl,rB]=an(vh,[G_e,$o,gy]),yy=$o(),nB=gy(),[Y_e,il]=nl(vh),[X_e,gh]=nl(vh),iB=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=e,s=yy(t),[c,u]=w.useState(null),d=w.useRef(!1),f=_r(a),h=my(i);return w.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),l.jsx(og,{...s,children:l.jsx(Y_e,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(X_e,{scope:t,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};iB.displayName=vh;var Q_e="MenuAnchor",mj=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=yy(r);return l.jsx(Jf,{...i,...n,ref:t})});mj.displayName=Q_e;var vj="MenuPortal",[J_e,aB]=nl(vj,{forceMount:void 0}),oB=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,a=il(vj,t);return l.jsx(J_e,{scope:t,forceMount:r,children:l.jsx(on,{present:r||a.open,children:l.jsx(lu,{asChild:!0,container:i,children:n})})})};oB.displayName=vj;var Fn="MenuContent",[Z_e,gj]=nl(Fn),sB=w.forwardRef((e,t)=>{const r=aB(Fn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=il(Fn,e.__scopeMenu),o=gh(Fn,e.__scopeMenu);return l.jsx(Df.Provider,{scope:e.__scopeMenu,children:l.jsx(on,{present:n||a.open,children:l.jsx(Df.Slot,{scope:e.__scopeMenu,children:o.modal?l.jsx(e1e,{...i,ref:t}):l.jsx(t1e,{...i,ref:t})})})})}),e1e=w.forwardRef((e,t)=>{const r=il(Fn,e.__scopeMenu),n=w.useRef(null),i=Je(t,n);return w.useEffect(()=>{const a=n.current;if(a)return vg(a)},[]),l.jsx(yj,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),t1e=w.forwardRef((e,t)=>{const r=il(Fn,e.__scopeMenu);return l.jsx(yj,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),r1e=So("MenuContent.ScrollLock"),yj=w.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=il(Fn,r),b=gh(Fn,r),y=yy(r),v=nB(r),S=K_e(r),[_,j]=w.useState(null),E=w.useRef(null),O=Je(t,E,x.onContentChange),P=w.useRef(0),M=w.useRef(""),C=w.useRef(0),$=w.useRef(null),N=w.useRef("right"),A=w.useRef(0),R=g?eh:w.Fragment,I=g?{as:r1e,allowPinchZoom:!0}:void 0,z=D=>{var te,ae;const H=M.current+D,G=S().filter(Y=>!Y.disabled),k=document.activeElement,F=(te=G.find(Y=>Y.ref.current===k))==null?void 0:te.textValue,K=G.map(Y=>Y.textValue),J=p1e(K,H,F),se=(ae=G.find(Y=>Y.textValue===J))==null?void 0:ae.ref.current;(function Y(de){M.current=de,window.clearTimeout(P.current),de!==""&&(P.current=window.setTimeout(()=>Y(""),1e3))})(H),se&&setTimeout(()=>se.focus())};w.useEffect(()=>()=>window.clearTimeout(P.current),[]),hg();const T=w.useCallback(D=>{var G,k;return N.current===((G=$.current)==null?void 0:G.side)&&v1e(D,(k=$.current)==null?void 0:k.area)},[]);return l.jsx(Z_e,{scope:r,searchRef:M,onItemEnter:w.useCallback(D=>{T(D)&&D.preventDefault()},[T]),onItemLeave:w.useCallback(D=>{var H;T(D)||((H=E.current)==null||H.focus(),j(null))},[T]),onTriggerLeave:w.useCallback(D=>{T(D)&&D.preventDefault()},[T]),pointerGraceTimerRef:C,onPointerGraceIntentChange:w.useCallback(D=>{$.current=D},[]),children:l.jsx(R,{...I,children:l.jsx(Zf,{asChild:!0,trapped:i,onMountAutoFocus:pe(a,D=>{var H;D.preventDefault(),(H=E.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(Ys,{asChild:!0,disableOutsidePointerEvents:s,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:l.jsx(Z3,{asChild:!0,...v,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:j,onEntryFocus:pe(c,D=>{b.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(sg,{role:"menu","aria-orientation":"vertical","data-state":SB(x.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:O,style:{outline:"none",...p.style},onKeyDown:pe(p.onKeyDown,D=>{const G=D.target.closest("[data-radix-menu-content]")===D.currentTarget,k=D.ctrlKey||D.altKey||D.metaKey,F=D.key.length===1;G&&(D.key==="Tab"&&D.preventDefault(),!k&&F&&z(D.key));const K=E.current;if(D.target!==K||!W_e.includes(D.key))return;D.preventDefault();const se=S().filter(te=>!te.disabled).map(te=>te.ref.current);tB.includes(D.key)&&se.reverse(),f1e(se)}),onBlur:pe(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(P.current),M.current="")}),onPointerMove:pe(e.onPointerMove,Lf(D=>{const H=D.target,G=A.current!==D.clientX;if(D.currentTarget.contains(H)&&G){const k=D.clientX>A.current?"right":"left";N.current=k,A.current=D.clientX}}))})})})})})})});sB.displayName=Fn;var n1e="MenuGroup",xj=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(je.div,{role:"group",...n,ref:t})});xj.displayName=n1e;var i1e="MenuLabel",lB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(je.div,{...n,ref:t})});lB.displayName=i1e;var Av="MenuItem",CT="menu.itemSelect",xy=w.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,a=w.useRef(null),o=gh(Av,e.__scopeMenu),s=gj(Av,e.__scopeMenu),c=Je(t,a),u=w.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(CT,{bubbles:!0,cancelable:!0});f.addEventListener(CT,m=>n==null?void 0:n(m),{once:!0}),j1(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return l.jsx(cB,{...i,ref:c,disabled:r,onClick:pe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:pe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:pe(e.onKeyDown,f=>{const h=s.searchRef.current!=="";r||h&&f.key===" "||m_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xy.displayName=Av;var cB=w.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=e,o=gj(Av,r),s=nB(r),c=w.useRef(null),u=Je(t,c),[d,f]=w.useState(!1),[h,m]=w.useState("");return w.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),l.jsx(Df.ItemSlot,{scope:r,disabled:n,textValue:i??h,children:l.jsx(eB,{asChild:!0,...s,focusable:!n,children:l.jsx(je.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:pe(e.onPointerMove,Lf(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(e.onPointerLeave,Lf(g=>o.onItemLeave(g))),onFocus:pe(e.onFocus,()=>f(!0)),onBlur:pe(e.onBlur,()=>f(!1))})})})}),a1e="MenuCheckboxItem",uB=w.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return l.jsx(mB,{scope:e.__scopeMenu,checked:r,children:l.jsx(xy,{role:"menuitemcheckbox","aria-checked":Nv(r)?"mixed":r,...i,ref:t,"data-state":wj(r),onSelect:pe(i.onSelect,()=>n==null?void 0:n(Nv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});uB.displayName=a1e;var dB="MenuRadioGroup",[o1e,s1e]=nl(dB,{value:void 0,onValueChange:()=>{}}),fB=w.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,a=_r(n);return l.jsx(o1e,{scope:e.__scopeMenu,value:r,onValueChange:a,children:l.jsx(xj,{...i,ref:t})})});fB.displayName=dB;var hB="MenuRadioItem",pB=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=s1e(hB,e.__scopeMenu),a=r===i.value;return l.jsx(mB,{scope:e.__scopeMenu,checked:a,children:l.jsx(xy,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":wj(a),onSelect:pe(n.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,r)},{checkForDefaultPrevented:!1})})})});pB.displayName=hB;var bj="MenuItemIndicator",[mB,l1e]=nl(bj,{checked:!1}),vB=w.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,a=l1e(bj,r);return l.jsx(on,{present:n||Nv(a.checked)||a.checked===!0,children:l.jsx(je.span,{...i,ref:t,"data-state":wj(a.checked)})})});vB.displayName=bj;var c1e="MenuSeparator",gB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(je.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gB.displayName=c1e;var u1e="MenuArrow",yB=w.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=yy(r);return l.jsx(lg,{...i,...n,ref:t})});yB.displayName=u1e;var d1e="MenuSub",[gEe,xB]=nl(d1e),ad="MenuSubTrigger",bB=w.forwardRef((e,t)=>{const r=il(ad,e.__scopeMenu),n=gh(ad,e.__scopeMenu),i=xB(ad,e.__scopeMenu),a=gj(ad,e.__scopeMenu),o=w.useRef(null),{pointerGraceTimerRef:s,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=w.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=s.current;return()=>{window.clearTimeout(f),c(null)}},[s,c]),l.jsx(mj,{asChild:!0,...u,children:l.jsx(cB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":SB(r.open),...e,ref:wa(t,i.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pe(e.onPointerMove,Lf(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:pe(e.onPointerLeave,Lf(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",b=x?-5:5,y=h[x?"left":"right"],v=h[x?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:v,y:h.top},{x:v,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(s.current),s.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:pe(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||q_e[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});bB.displayName=ad;var wB="MenuSubContent",_B=w.forwardRef((e,t)=>{const r=aB(Fn,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,a=il(Fn,e.__scopeMenu),o=gh(Fn,e.__scopeMenu),s=xB(wB,e.__scopeMenu),c=w.useRef(null),u=Je(t,c);return l.jsx(Df.Provider,{scope:e.__scopeMenu,children:l.jsx(on,{present:n||a.open,children:l.jsx(Df.Slot,{scope:e.__scopeMenu,children:l.jsx(yj,{id:s.contentId,"aria-labelledby":s.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:pe(e.onFocusOutside,d=>{d.target!==s.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:pe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:pe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=H_e[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=s.trigger)==null||m.focus(),d.preventDefault())})})})})})});_B.displayName=wB;function SB(e){return e?"open":"closed"}function Nv(e){return e==="indeterminate"}function wj(e){return Nv(e)?"indeterminate":e?"checked":"unchecked"}function f1e(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function h1e(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function p1e(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=h1e(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function m1e(e,t){const{x:r,y:n}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const s=t[a].x,c=t[a].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-s)*(n-c)/(d-c)+s&&(i=!i)}return i}function v1e(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return m1e(r,t)}function Lf(e){return t=>t.pointerType==="mouse"?e(t):void 0}var g1e=iB,y1e=mj,x1e=oB,b1e=sB,w1e=xj,_1e=lB,S1e=xy,j1e=uB,E1e=fB,O1e=pB,P1e=vB,A1e=gB,N1e=yB,C1e=bB,T1e=_B,_j="DropdownMenu",[k1e,yEe]=an(_j,[rB]),Yr=rB(),[$1e,jB]=k1e(_j),EB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=Yr(t),u=w.useRef(null),[d=!1,f]=Vi({prop:i,defaultProp:a,onChange:o});return l.jsx($1e,{scope:t,triggerId:pr(),triggerRef:u,contentId:pr(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(h=>!h),[f]),modal:s,children:l.jsx(g1e,{...c,open:d,onOpenChange:f,dir:n,modal:s,children:r})})};EB.displayName=_j;var OB="DropdownMenuTrigger",PB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,a=jB(OB,r),o=Yr(r);return l.jsx(y1e,{asChild:!0,...o,children:l.jsx(je.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:wa(t,a.triggerRef),onPointerDown:pe(e.onPointerDown,s=>{!n&&s.button===0&&s.ctrlKey===!1&&(a.onOpenToggle(),a.open||s.preventDefault())}),onKeyDown:pe(e.onKeyDown,s=>{n||(["Enter"," "].includes(s.key)&&a.onOpenToggle(),s.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(s.key)&&s.preventDefault())})})})});PB.displayName=OB;var R1e="DropdownMenuPortal",AB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Yr(t);return l.jsx(x1e,{...n,...r})};AB.displayName=R1e;var NB="DropdownMenuContent",CB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=jB(NB,r),a=Yr(r),o=w.useRef(!1);return l.jsx(b1e,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:t,onCloseAutoFocus:pe(e.onCloseAutoFocus,s=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,s.preventDefault()}),onInteractOutside:pe(e.onInteractOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});CB.displayName=NB;var I1e="DropdownMenuGroup",M1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(w1e,{...i,...n,ref:t})});M1e.displayName=I1e;var D1e="DropdownMenuLabel",TB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(_1e,{...i,...n,ref:t})});TB.displayName=D1e;var L1e="DropdownMenuItem",kB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(S1e,{...i,...n,ref:t})});kB.displayName=L1e;var F1e="DropdownMenuCheckboxItem",$B=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(j1e,{...i,...n,ref:t})});$B.displayName=F1e;var B1e="DropdownMenuRadioGroup",U1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(E1e,{...i,...n,ref:t})});U1e.displayName=B1e;var z1e="DropdownMenuRadioItem",RB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(O1e,{...i,...n,ref:t})});RB.displayName=z1e;var V1e="DropdownMenuItemIndicator",IB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(P1e,{...i,...n,ref:t})});IB.displayName=V1e;var W1e="DropdownMenuSeparator",MB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(A1e,{...i,...n,ref:t})});MB.displayName=W1e;var q1e="DropdownMenuArrow",H1e=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(N1e,{...i,...n,ref:t})});H1e.displayName=q1e;var K1e="DropdownMenuSubTrigger",DB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(C1e,{...i,...n,ref:t})});DB.displayName=K1e;var G1e="DropdownMenuSubContent",LB=w.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=Yr(r);return l.jsx(T1e,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});LB.displayName=G1e;var Y1e=EB,X1e=PB,Q1e=AB,FB=CB,BB=TB,UB=kB,zB=$B,VB=RB,WB=IB,qB=MB,HB=DB,KB=LB;const GB=Y1e,YB=X1e,J1e=w.forwardRef(({className:e,inset:t,children:r,...n},i)=>l.jsxs(HB,{ref:i,className:he("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,l.jsx(vV,{className:"ml-auto"})]}));J1e.displayName=HB.displayName;const Z1e=w.forwardRef(({className:e,...t},r)=>l.jsx(KB,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Z1e.displayName=KB.displayName;const Sj=w.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(Q1e,{children:l.jsx(FB,{ref:n,sideOffset:t,className:he("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));Sj.displayName=FB.displayName;const jj=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(UB,{ref:n,className:he("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));jj.displayName=UB.displayName;const eSe=w.forwardRef(({className:e,children:t,checked:r,...n},i)=>l.jsxs(zB,{ref:i,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(WB,{children:l.jsx(Yf,{className:"h-4 w-4"})})}),t]}));eSe.displayName=zB.displayName;const tSe=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(VB,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(WB,{children:l.jsx(h0,{className:"h-2 w-2 fill-current"})})}),t]}));tSe.displayName=VB.displayName;const rSe=w.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(BB,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));rSe.displayName=BB.displayName;const nSe=w.forwardRef(({className:e,...t},r)=>l.jsx(qB,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));nSe.displayName=qB.displayName;var Ej="Tabs",[iSe,xEe]=an(Ej,[gy]),XB=gy(),[aSe,Oj]=iSe(Ej),QB=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:s,activationMode:c="automatic",...u}=e,d=my(s),[f,h]=Vi({prop:n,onChange:i,defaultProp:a});return l.jsx(aSe,{scope:r,baseId:pr(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:l.jsx(je.div,{dir:d,"data-orientation":o,...u,ref:t})})});QB.displayName=Ej;var JB="TabsList",ZB=w.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,a=Oj(JB,r),o=XB(r);return l.jsx(Z3,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:l.jsx(je.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});ZB.displayName=JB;var e4="TabsTrigger",t4=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=e,o=Oj(e4,r),s=XB(r),c=i4(o.baseId,n),u=a4(o.baseId,n),d=n===o.value;return l.jsx(eB,{asChild:!0,...s,focusable:!i,active:d,children:l.jsx(je.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:pe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:pe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});t4.displayName=e4;var r4="TabsContent",n4=w.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=e,s=Oj(r4,r),c=i4(s.baseId,n),u=a4(s.baseId,n),d=n===s.value,f=w.useRef(d);return w.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(on,{present:i||d,children:({present:h})=>l.jsx(je.div,{"data-state":d?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});n4.displayName=r4;function i4(e,t){return`${e}-trigger-${t}`}function a4(e,t){return`${e}-content-${t}`}var oSe=QB,o4=ZB,s4=t4,l4=n4;const sSe=oSe,c4=w.forwardRef(({className:e,...t},r)=>l.jsx(o4,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));c4.displayName=o4.displayName;const od=w.forwardRef(({className:e,...t},r)=>l.jsx(s4,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));od.displayName=s4.displayName;const u4=w.forwardRef(({className:e,...t},r)=>l.jsx(l4,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));u4.displayName=l4.displayName;function TT(e,[t,r]){return Math.min(r,Math.max(t,e))}function d4(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var lSe=[" ","Enter","ArrowUp","ArrowDown"],cSe=[" ","Enter"],yh="Select",[by,wy,uSe]=Qv(yh),[Au,bEe]=an(yh,[uSe,$o]),_y=$o(),[dSe,Uo]=Au(yh),[fSe,hSe]=Au(yh),f4=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=_y(t),[x,b]=w.useState(null),[y,v]=w.useState(null),[S,_]=w.useState(!1),j=my(u),[E=!1,O]=Vi({prop:n,defaultProp:i,onChange:a}),[P,M]=Vi({prop:o,defaultProp:s,onChange:c}),C=w.useRef(null),$=x?g||!!x.closest("form"):!0,[N,A]=w.useState(new Set),R=Array.from(N).map(I=>I.props.value).join(";");return l.jsx(og,{...p,children:l.jsxs(dSe,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:S,onValueNodeHasChildrenChange:_,contentId:pr(),value:P,onValueChange:M,open:E,onOpenChange:O,dir:j,triggerPointerDownPosRef:C,disabled:h,children:[l.jsx(by.Provider,{scope:t,children:l.jsx(fSe,{scope:e.__scopeSelect,onNativeOptionAdd:w.useCallback(I=>{A(z=>new Set(z).add(I))},[]),onNativeOptionRemove:w.useCallback(I=>{A(z=>{const T=new Set(z);return T.delete(I),T})},[]),children:r})}),$?l.jsxs(D4,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:P,onChange:I=>M(I.target.value),disabled:h,form:g,children:[P===void 0?l.jsx("option",{value:""}):null,Array.from(N)]},R):null]})})};f4.displayName=yh;var h4="SelectTrigger",p4=w.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,a=_y(r),o=Uo(h4,r),s=o.disabled||n,c=Je(t,o.onTriggerChange),u=wy(r),d=w.useRef("touch"),[f,h,m]=L4(p=>{const x=u().filter(v=>!v.disabled),b=x.find(v=>v.value===o.value),y=F4(x,p,b);y!==void 0&&o.onValueChange(y.value)}),g=p=>{s||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return l.jsx(Jf,{asChild:!0,...a,children:l.jsx(je.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":M4(o.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:pe(i.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:pe(i.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&lSe.includes(p.key)&&(g(),p.preventDefault())})})})});p4.displayName=h4;var m4="SelectValue",v4=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...s}=e,c=Uo(m4,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Je(t,c.onValueNodeChange);return lr(()=>{u(d)},[u,d]),l.jsx(je.span,{...s,ref:f,style:{pointerEvents:"none"},children:M4(c.value)?l.jsx(l.Fragment,{children:o}):a})});v4.displayName=m4;var pSe="SelectIcon",g4=w.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return l.jsx(je.span,{"aria-hidden":!0,...i,ref:t,children:n||""})});g4.displayName=pSe;var mSe="SelectPortal",y4=e=>l.jsx(lu,{asChild:!0,...e});y4.displayName=mSe;var Ws="SelectContent",x4=w.forwardRef((e,t)=>{const r=Uo(Ws,e.__scopeSelect),[n,i]=w.useState();if(lr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Gs.createPortal(l.jsx(b4,{scope:e.__scopeSelect,children:l.jsx(by.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),a):null}return l.jsx(w4,{...e,ref:t})});x4.displayName=Ws;var Yn=10,[b4,zo]=Au(Ws),vSe="SelectContentImpl",gSe=So("SelectContent.RemoveScroll"),w4=w.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,y=Uo(Ws,r),[v,S]=w.useState(null),[_,j]=w.useState(null),E=Je(t,te=>S(te)),[O,P]=w.useState(null),[M,C]=w.useState(null),$=wy(r),[N,A]=w.useState(!1),R=w.useRef(!1);w.useEffect(()=>{if(v)return vg(v)},[v]),hg();const I=w.useCallback(te=>{const[ae,...Y]=$().map(X=>X.ref.current),[de]=Y.slice(-1),ue=document.activeElement;for(const X of te)if(X===ue||(X==null||X.scrollIntoView({block:"nearest"}),X===ae&&_&&(_.scrollTop=0),X===de&&_&&(_.scrollTop=_.scrollHeight),X==null||X.focus(),document.activeElement!==ue))return},[$,_]),z=w.useCallback(()=>I([O,v]),[I,O,v]);w.useEffect(()=>{N&&z()},[N,z]);const{onOpenChange:T,triggerPointerDownPosRef:D}=y;w.useEffect(()=>{if(v){let te={x:0,y:0};const ae=de=>{var ue,X;te={x:Math.abs(Math.round(de.pageX)-(((ue=D.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(de.pageY)-(((X=D.current)==null?void 0:X.y)??0))}},Y=de=>{te.x<=10&&te.y<=10?de.preventDefault():v.contains(de.target)||T(!1),document.removeEventListener("pointermove",ae),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ae),document.addEventListener("pointerup",Y,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ae),document.removeEventListener("pointerup",Y,{capture:!0})}}},[v,T,D]),w.useEffect(()=>{const te=()=>T(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[T]);const[H,G]=L4(te=>{const ae=$().filter(ue=>!ue.disabled),Y=ae.find(ue=>ue.ref.current===document.activeElement),de=F4(ae,te,Y);de&&setTimeout(()=>de.ref.current.focus())}),k=w.useCallback((te,ae,Y)=>{const de=!R.current&&!Y;(y.value!==void 0&&y.value===ae||de)&&(P(te),de&&(R.current=!0))},[y.value]),F=w.useCallback(()=>v==null?void 0:v.focus(),[v]),K=w.useCallback((te,ae,Y)=>{const de=!R.current&&!Y;(y.value!==void 0&&y.value===ae||de)&&C(te)},[y.value]),J=n==="popper"?v_:_4,se=J===v_?{side:s,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return l.jsx(b4,{scope:r,content:v,viewport:_,onViewportChange:j,itemRefCallback:k,selectedItem:O,onItemLeave:F,itemTextRefCallback:K,focusSelectedItem:z,selectedItemText:M,position:n,isPositioned:N,searchRef:H,children:l.jsx(eh,{as:gSe,allowPinchZoom:!0,children:l.jsx(Zf,{asChild:!0,trapped:y.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:pe(i,te=>{var ae;(ae=y.trigger)==null||ae.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(Ys,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:l.jsx(J,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:te=>te.preventDefault(),...b,...se,onPlaced:()=>A(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pe(b.onKeyDown,te=>{const ae=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ae&&te.key.length===1&&G(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let de=$().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(te.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ue=te.target,X=de.indexOf(ue);de=de.slice(X+1)}setTimeout(()=>I(de)),te.preventDefault()}})})})})})})});w4.displayName=vSe;var ySe="SelectItemAlignedPosition",_4=w.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,a=Uo(Ws,r),o=zo(Ws,r),[s,c]=w.useState(null),[u,d]=w.useState(null),f=Je(t,E=>d(E)),h=wy(r),m=w.useRef(!1),g=w.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,v=w.useCallback(()=>{if(a.trigger&&a.valueNode&&s&&u&&p&&x&&b){const E=a.trigger.getBoundingClientRect(),O=u.getBoundingClientRect(),P=a.valueNode.getBoundingClientRect(),M=b.getBoundingClientRect();if(a.dir!=="rtl"){const ue=M.left-O.left,X=P.left-ue,De=E.left-X,Ce=E.width+De,et=Math.max(Ce,O.width),Ye=window.innerWidth-Yn,W=TT(X,[Yn,Math.max(Yn,Ye-et)]);s.style.minWidth=Ce+"px",s.style.left=W+"px"}else{const ue=O.right-M.right,X=window.innerWidth-P.right-ue,De=window.innerWidth-E.right-X,Ce=E.width+De,et=Math.max(Ce,O.width),Ye=window.innerWidth-Yn,W=TT(X,[Yn,Math.max(Yn,Ye-et)]);s.style.minWidth=Ce+"px",s.style.right=W+"px"}const C=h(),$=window.innerHeight-Yn*2,N=p.scrollHeight,A=window.getComputedStyle(u),R=parseInt(A.borderTopWidth,10),I=parseInt(A.paddingTop,10),z=parseInt(A.borderBottomWidth,10),T=parseInt(A.paddingBottom,10),D=R+I+N+T+z,H=Math.min(x.offsetHeight*5,D),G=window.getComputedStyle(p),k=parseInt(G.paddingTop,10),F=parseInt(G.paddingBottom,10),K=E.top+E.height/2-Yn,J=$-K,se=x.offsetHeight/2,te=x.offsetTop+se,ae=R+I+te,Y=D-ae;if(ae<=K){const ue=C.length>0&&x===C[C.length-1].ref.current;s.style.bottom="0px";const X=u.clientHeight-p.offsetTop-p.offsetHeight,De=Math.max(J,se+(ue?F:0)+X+z),Ce=ae+De;s.style.height=Ce+"px"}else{const ue=C.length>0&&x===C[0].ref.current;s.style.top="0px";const De=Math.max(K,R+p.offsetTop+(ue?k:0)+se)+Y;s.style.height=De+"px",p.scrollTop=ae-K+p.offsetTop}s.style.margin=`${Yn}px 0`,s.style.minHeight=H+"px",s.style.maxHeight=$+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,s,u,p,x,b,a.dir,n]);lr(()=>v(),[v]);const[S,_]=w.useState();lr(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const j=w.useCallback(E=>{E&&g.current===!0&&(v(),y==null||y(),g.current=!1)},[v,y]);return l.jsx(bSe,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:m,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:l.jsx(je.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_4.displayName=ySe;var xSe="SelectPopperPosition",v_=w.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Yn,...a}=e,o=_y(r);return l.jsx(sg,{...o,...a,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=xSe;var[bSe,Pj]=Au(Ws,{}),g_="SelectViewport",S4=w.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,a=zo(g_,r),o=Pj(g_,r),s=Je(t,a.onViewportChange),c=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(by.Slot,{scope:r,children:l.jsx(je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:s,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Yn*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<g){const y=b+m,v=Math.min(g,y),S=y-v;f.style.height=v+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});S4.displayName=g_;var j4="SelectGroup",[wSe,_Se]=Au(j4),SSe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=pr();return l.jsx(wSe,{scope:r,id:i,children:l.jsx(je.div,{role:"group","aria-labelledby":i,...n,ref:t})})});SSe.displayName=j4;var E4="SelectLabel",O4=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=_Se(E4,r);return l.jsx(je.div,{id:i.id,...n,ref:t})});O4.displayName=E4;var Cv="SelectItem",[jSe,P4]=Au(Cv),A4=w.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=Uo(Cv,r),c=zo(Cv,r),u=s.value===n,[d,f]=w.useState(a??""),[h,m]=w.useState(!1),g=Je(t,y=>{var v;return(v=c.itemRefCallback)==null?void 0:v.call(c,y,n,i)}),p=pr(),x=w.useRef("touch"),b=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(jSe,{scope:r,value:n,disabled:i,textId:p,isSelected:u,onItemTextChange:w.useCallback(y=>{f(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:l.jsx(by.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:l.jsx(je.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:pe(o.onFocus,()=>m(!0)),onBlur:pe(o.onBlur,()=>m(!1)),onClick:pe(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:pe(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:pe(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:pe(o.onPointerMove,y=>{var v;x.current=y.pointerType,i?(v=c.onItemLeave)==null||v.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=c.onItemLeave)==null||v.call(c))}),onKeyDown:pe(o.onKeyDown,y=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&y.key===" "||(cSe.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});A4.displayName=Cv;var sd="SelectItemText",N4=w.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...a}=e,o=Uo(sd,r),s=zo(sd,r),c=P4(sd,r),u=hSe(sd,r),[d,f]=w.useState(null),h=Je(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=s.itemTextRefCallback)==null?void 0:y.call(s,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=w.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return lr(()=>(p(g),()=>x(g)),[p,x,g]),l.jsxs(l.Fragment,{children:[l.jsx(je.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Gs.createPortal(a.children,o.valueNode):null]})});N4.displayName=sd;var C4="SelectItemIndicator",T4=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return P4(C4,r).isSelected?l.jsx(je.span,{"aria-hidden":!0,...n,ref:t}):null});T4.displayName=C4;var y_="SelectScrollUpButton",k4=w.forwardRef((e,t)=>{const r=zo(y_,e.__scopeSelect),n=Pj(y_,e.__scopeSelect),[i,a]=w.useState(!1),o=Je(t,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?l.jsx(R4,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop-c.offsetHeight)}}):null});k4.displayName=y_;var x_="SelectScrollDownButton",$4=w.forwardRef((e,t)=>{const r=zo(x_,e.__scopeSelect),n=Pj(x_,e.__scopeSelect),[i,a]=w.useState(!1),o=Je(t,n.onScrollButtonChange);return lr(()=>{if(r.viewport&&r.isPositioned){let s=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return s(),c.addEventListener("scroll",s),()=>c.removeEventListener("scroll",s)}},[r.viewport,r.isPositioned]),i?l.jsx(R4,{...e,ref:o,onAutoScroll:()=>{const{viewport:s,selectedItem:c}=r;s&&c&&(s.scrollTop=s.scrollTop+c.offsetHeight)}}):null});$4.displayName=x_;var R4=w.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,a=zo("SelectScrollButton",r),o=w.useRef(null),s=wy(r),c=w.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),lr(()=>{var d;const u=s().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[s]),l.jsx(je.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pe(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),ESe="SelectSeparator",I4=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(je.div,{"aria-hidden":!0,...n,ref:t})});I4.displayName=ESe;var b_="SelectArrow",OSe=w.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=_y(r),a=Uo(b_,r),o=zo(b_,r);return a.open&&o.position==="popper"?l.jsx(lg,{...i,...n,ref:t}):null});OSe.displayName=b_;function M4(e){return e===""||e===void 0}var D4=w.forwardRef((e,t)=>{const{value:r,...n}=e,i=w.useRef(null),a=Je(t,i),o=d4(r);return w.useEffect(()=>{const s=i.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(s,r),s.dispatchEvent(f)}},[o,r]),l.jsx(Gf,{asChild:!0,children:l.jsx("select",{...n,ref:a,defaultValue:r})})});D4.displayName="BubbleSelect";function L4(e){const t=_r(e),r=w.useRef(""),n=w.useRef(0),i=w.useCallback(o=>{const s=r.current+o;t(s),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(s)},[t]),a=w.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function F4(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=PSe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function PSe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ASe=f4,B4=p4,NSe=v4,CSe=g4,TSe=y4,U4=x4,kSe=S4,z4=O4,V4=A4,$Se=N4,RSe=T4,W4=k4,q4=$4,H4=I4;const Ui=ASe,zi=NSe,hi=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(B4,{ref:n,className:he("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(CSe,{asChild:!0,children:l.jsx(s2,{className:"h-4 w-4 opacity-50"})})]}));hi.displayName=B4.displayName;const K4=w.forwardRef(({className:e,...t},r)=>l.jsx(W4,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(gV,{className:"h-4 w-4"})}));K4.displayName=W4.displayName;const G4=w.forwardRef(({className:e,...t},r)=>l.jsx(q4,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(s2,{className:"h-4 w-4"})}));G4.displayName=q4.displayName;const pi=w.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>l.jsx(TSe,{children:l.jsxs(U4,{ref:i,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(K4,{}),l.jsx(kSe,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(G4,{})]})}));pi.displayName=U4.displayName;const ISe=w.forwardRef(({className:e,...t},r)=>l.jsx(z4,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ISe.displayName=z4.displayName;const Ct=w.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(V4,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(RSe,{children:l.jsx(Yf,{className:"h-4 w-4"})})}),l.jsx($Se,{children:t})]}));Ct.displayName=V4.displayName;const MSe=w.forwardRef(({className:e,...t},r)=>l.jsx(H4,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));MSe.displayName=H4.displayName;function Y4({open:e,html:t,onOpenChange:r,autoPrint:n}){const i=w.useRef(null);return w.useEffect(()=>{if(!e||!t)return;const a=i.current;if(!a)return;const o=()=>{try{const s=a.contentWindow;if(!s)return;s.focus(),n&&setTimeout(()=>{try{s.print()}catch{}},300)}catch{}};return a.addEventListener("load",o),()=>a.removeEventListener("load",o)},[e,t,n]),!e||!t?null:l.jsx("iframe",{ref:i,srcDoc:t,title:"Factura",className:"w-full h-[70vh] border"})}function X4({open:e,onOpenChange:t,onCreated:r,clienteId:n,initialTipo:i,initialReferencia:a}){const{toast:o}=Sr(),[s,c]=w.useState(1),[u,d]=w.useState(""),[f,h]=w.useState([]),[m,g]=w.useState(""),[p,x]=w.useState(null),[b,y]=w.useState([]),[v,S]=w.useState(""),[_,j]=w.useState(null),[E,O]=w.useState(null),[P,M]=w.useState({}),[C,$]=w.useState({}),[N,A]=w.useState(""),[R,I]=w.useState(null),[z,T]=w.useState(!1),[D,H]=w.useState(!1);w.useRef(null);const[G,k]=w.useState(null);w.useEffect(()=>{if(!z||!D||!R)return;const W=setTimeout(()=>{try{const me=document.querySelector('iframe[title="Factura"]'),le=me==null?void 0:me.contentWindow;le&&(le.focus(),le.print())}catch(me){console.error("Error auto-imprimiendo factura (fallback):",me)}},800);return()=>clearTimeout(W)},[z,D,R]),w.useEffect(()=>{e&&(i&&a?K():F())},[e,i,a]);function F(){c(1),d(""),h([]),y([]),x(null),j(null),A(""),g(""),S(""),k(null)}async function K(){if(await te(),d(i||""),i==="suscripcion"&&a){x(a);const W=Y(a);if(A(String(W)),a.proxima_fecha_de_pago){const me=ue(a.proxima_fecha_de_pago,a.dia_de_pago_mensual),le=de(a.proxima_fecha_de_pago,me);k(le)}c(3)}else if(i==="contrato"&&a){j(a);const W=await X(a);O(W),A(String(W)),c(3)}}async function J(){try{let W=ee.from("suscripciones").select("id,cliente,proyecto,mensualidad,proxima_fecha_de_pago,dia_de_pago_mensual");n&&(W=W.eq("cliente",n));const{data:me,error:le}=await W.order("fecha_de_creacion",{ascending:!1});if(le)throw le;h(Array.isArray(me)?me:[])}catch(W){console.error("Error cargando suscripciones:",W)}}async function se(){try{let W=ee.from("contratos").select("id,cliente,proyecto,monto_total,pago_inicial");n&&(W=W.eq("cliente",n));const{data:me,error:le}=await W.order("fecha_de_creacion",{ascending:!1});if(le)throw le;y(Array.isArray(me)?me:[])}catch(W){console.error("Error cargando contratos:",W)}}async function te(){try{const[W,me]=await Promise.all([ee.from("proyectos").select("id,nombre"),ee.from("clientes").select("id,nombre")]),le=Array.isArray(W.data)?W.data:[],Ie=Array.isArray(me.data)?me.data:[],Ve={},B={};le.forEach(q=>{q!=null&&q.id&&(Ve[q.id]=q.nombre??q.id)}),Ie.forEach(q=>{q!=null&&q.id&&(B[q.id]=q.nombre??q.id)}),M(Ve),$(B)}catch(W){console.error("Error cargando meta en CobroForm:",W)}}async function ae(){if(!u){o({title:"Selecciona el tipo de pago"});return}await te(),u==="suscripcion"?await J():await se(),c(2)}function Y(W){if(!W)return 0;const me=Number(W.mensualidad??0);if(!W.proxima_fecha_de_pago)return me;try{const Ie=new Date;Ie.setHours(0,0,0,0);const Ve=new Date(W.proxima_fecha_de_pago);if(Ve.setHours(0,0,0,0),Ve>Ie)return 0}catch{}const le=ue(W.proxima_fecha_de_pago,W.dia_de_pago_mensual);return me*Math.max(1,le)}function de(W,me){const le=typeof W=="string"?new Date(W):new Date(W),Ie=le.getFullYear(),Ve=le.getMonth(),B=le.getDate(),q=Ve+me,Q=Ie+Math.floor(q/12),ne=(q%12+12)%12,oe=new Date(Q,ne+1,0).getDate(),ie=Math.min(B,oe);return new Date(Q,ne,ie).toISOString()}function ue(W,me){try{const le=new Date;le.setHours(0,0,0,0);let Ie=new Date(W);Ie.setHours(0,0,0,0);let Ve=0;for(;Ie<=le;){Ve+=1;const B=de(Ie,1);Ie=new Date(B)}return Ve}catch{return 1}}async function X(W){if(!W)return 0;try{const{data:me,error:le}=await ee.from("pagos").select("monto").eq("tipo","contrato").eq("referencia_id",W.id);if(le)throw le;const Ie=Array.isArray(me)?me.reduce((B,q)=>B+Number(q.monto??0),0):0;return Number(W.monto_total??0)-Number(W.pago_inicial??0)-Ie}catch(me){return console.error("Error calculando restante:",me),Number(W.monto_total??0)-Number(W.pago_inicial??0)}}async function De(){try{const{data:W}=await ee.from("configuracion").select("*").limit(1);return Array.isArray(W)&&W.length>0?W[0]:null}catch(W){return console.error("Error cargando configuracin para factura:",W),null}}function Ce(W,me,le={}){const Ie={nombre:(W==null?void 0:W.proyecto)??(W==null?void 0:W.nombre)??"",propietario:(W==null?void 0:W.propietario)??(W==null?void 0:W.nombre)??"",direccion:(W==null?void 0:W.direccion)??"",telefono:(W==null?void 0:W.telefono)??"",rtn:(W==null?void 0:W.rtn)??""},Ve=C[me.cliente]??me.cliente??"Cliente",B=P[me.proyecto]??me.proyecto??"Proyecto";me.fecha_de_creacion?new Date(me.fecha_de_creacion).toLocaleString():new Date().toLocaleString();const q=Number(me.monto??0),Q=me.id??me.referencia_id??Math.floor(Math.random()*1e6),ne=(le==null?void 0:le.proxima_fecha_de_pago)??(le==null?void 0:le.proximaFecha)??"-",oe={identidad:(le==null?void 0:le.clientRtn)??me.cliente??"",nombre:(le==null?void 0:le.clientNombre)??Ve,producto:B,valorPagar:be(Number((le==null?void 0:le.minimo)??q)),valorPagado:be(q),proximaFecha:ne?Xe(ne):"-",prevRestante:typeof(le==null?void 0:le.prevRestante)=="number"?le.prevRestante:null,saldoActual:typeof(le==null?void 0:le.saldoActual)=="number"?le.saldoActual:null},ie=((le==null?void 0:le.tipo)??me.tipo)==="contrato"?"Recibo de Pago de Contrato":"Recibo de Pago de Suscripcin";return`<!doctype html>
      <html>
      <head>
        <meta charset="utf-8" />
        <title>Recibo - ${Q}</title>
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <style>
          body { font-family: Arial, sans-serif; margin: 0; padding: 0; width: 100%; height: 100vh; background-color: #f7f7f7; }
          .container { width: 90%; margin: 0 auto; padding: 40px; background-color: rgba(255,255,255,0.9); box-shadow: 0 4px 8px rgba(0,0,0,0.1); border-radius: 9px; background-size: contain; background-repeat: no-repeat; background-position: center; }
          h1, h2 { text-align: center; color: #2196F3; font-weight: bold; }
          .header { text-align:center; padding-bottom: 20px; border-bottom: 2px solid #e0e0e0; position: relative; }
          .header img { height: 120px; display: block; position: absolute; top: 20px; right: 30px; }
          .business-info, .client-info { margin-bottom: 20px; border-bottom: 2px solid #e0e0e0; padding-bottom: 10px; }
          .business-info p, .client-info p { margin: 4px 0; color: #333; }
          .client-info h3 { text-align: left; color: #2196F3; font-weight: bold; }
          .footer { text-align: center; margin-top: 0; font-size: 12px; color: #555; }
          .value { font-weight: bold; color: black; }
          .separator { border-top: 2px dashed #2196F3; margin-top: 20px; margin-bottom: 20px; }
          .print-button { display: block; margin: 20px auto; padding: 10px 20px; font-size: 16px; background-color: #2196F3; color: white; border: none; border-radius: 4px; cursor: pointer; }
          @media print { .no-print { display: none; } body { background-color: #fff; -webkit-print-color-adjust: exact; print-color-adjust: exact; } .container { width: 100%; background-size: contain; box-shadow: none; border-radius: 0; padding: 10px; } }
        </style>
        <script>function imprimirRecibo(){window.print();}<\/script>
      </head>
      <body>
        <div class="container">
          <div class="header">
            <h1>${Ie.nombre}</h1>
            <img src="/vsr.png" alt="Logo" />
          </div>
          <h2>${ie}</h2>

          <div class="business-info">
            <p><strong>Propietario:</strong> ${Ie.propietario}</p>
            <p><strong>Direccin:</strong> ${Ie.direccion}</p>
            <p><strong>Telfono:</strong> ${Ie.telefono}</p>
            <p><strong>RTN:</strong> ${Ie.rtn}</p>
          </div>

          <div class="separator"></div>

            <div class="client-info">
            <h3>Datos del Cliente</h3>
            <p><strong>Identidad:</strong> <span class="value"> ${oe.identidad}</span></p>
            <p><strong>Nombre:</strong>  <span class="value">${oe.nombre}</span></p>
            <p><strong>Producto:</strong>  <span class="value">${oe.producto}</span></p>
            ${((le==null?void 0:le.tipo)??me.tipo)==="contrato"?`
              <p><strong>Saldo:</strong> <span class="value"> ${be(Number(oe.prevRestante??0))}</span></p>
              <p><strong>Valor Pagado:</strong> <span class="value">${oe.valorPagado}</span></p>
              <p><strong>Saldo actual:</strong> <span class="value">${be(Number(oe.saldoActual??0))}</span></p>
            `:`
              <p><strong>Valor a Pagar:</strong> <span class="value">${oe.valorPagar}</span></p>
              <p><strong>Valor Pagado:</strong> <span class="value">${oe.valorPagado}</span></p>
              <p><strong>Prxima Fecha de Pago:</strong> ${oe.proximaFecha}</p>
            `}
          </div>

          <div class="separator"></div>

          <div class="footer">
            <p>Gracias por su preferencia!</p>
          </div>

          <button class="print-button no-print" onclick="imprimirRecibo()">Imprimir Recibo</button>
        </div>
      </body>
      </html>`}async function et(W,me={}){try{const le=await De();let Ie={...me??{}};!Ie.tipo&&(W!=null&&W.tipo)&&(Ie.tipo=W.tipo);try{if((W==null?void 0:W.tipo)==="suscripcion"&&(W!=null&&W.referencia_id)){const{data:B,error:q}=await ee.from("suscripciones").select("proxima_fecha_de_pago").eq("id",W.referencia_id).limit(1).single();!q&&B&&(Ie.proxima_fecha_de_pago=B.proxima_fecha_de_pago)}if(W!=null&&W.cliente)try{const{data:B,error:q}=await ee.from("clientes").select("id,nombre,rtn").eq("id",W.cliente).limit(1).single();!q&&B&&(Ie.clientRtn=B.rtn??null,Ie.clientNombre=B.nombre??null)}catch{}}catch{}const Ve=Ce(le,W,Ie);I(Ve),T(!0),H(Ie.tipo==="contrato")}catch(le){console.error("Error generando/iniciando factura:",le)}}async function Ye(){try{let W=null,me={};if(u==="suscripcion"){if(!p){o({title:"Selecciona una suscripcin"});return}const le=Y(p),Ie=Number(N);if(isNaN(Ie)||Ie<=0){o({title:"Ingresa un monto vlido"});return}if(Ie<le){o({title:`El monto debe ser >= ${be(le)}`});return}const Ve={fecha_de_creacion:g0(),tipo:"suscripcion",referencia_id:p.id,cliente:n||p.cliente,proyecto:p.proyecto,monto:Ie},{data:B,error:q}=await ee.from("pagos").insert([Ve]).select().single();if(q)throw q;o({title:"Pago registrado"});try{const Q=p.mensualidad||0;await ee.from("estado_cuenta").insert([{cliente_id:Ve.cliente,proyecto_id:Ve.proyecto,tipo:"suscripcion",monto:Ie,saldo_actual:Q-Ie,nota:"PAGO DE SUSCRIPCIN",fecha:Ve.fecha_de_creacion}])}catch(Q){console.error("Error registrando en estado_cuenta:",Q)}try{const Q=new Date,ne=Q.getDate(),oe=Q.getMonth(),ie=Q.getFullYear(),ye=p.dia_de_pago_mensual??ne;let Be=oe+1,rt=ie;Be>11&&(Be=0,rt+=1);const Et=new Date(rt,Be+1,0).getDate(),ka=Math.min(ye,Et),U=new Date(rt,Be,ka).toISOString(),{error:Oe}=await ee.from("suscripciones").update({proxima_fecha_de_pago:U}).eq("id",p.id);Oe?console.error("Error actualizando proxima_fecha_de_pago:",Oe):x({...p,proxima_fecha_de_pago:U})}catch(Q){console.error("Error al actualizar suscripcin tras pago:",Q)}try{W=B??Ve,await et(W,{minimo:le})}catch(Q){console.error("Error generando factura:",Q)}}else if(u==="contrato"){if(!_){o({title:"Selecciona un contrato"});return}const le=Number(N);if(isNaN(le)||le<=0){o({title:"Ingresa un monto vlido"});return}const Ie=await X(_);if(le>Ie+1e-4){o({title:"El monto no puede ser mayor al valor restante",description:be(Ie)});return}const Ve={fecha_de_creacion:g0(),tipo:"contrato",referencia_id:_.id,cliente:n||_.cliente,proyecto:_.proyecto,monto:le},{data:B,error:q}=await ee.from("pagos").insert([Ve]).select().single();if(q)throw q;o({title:"Pago registrado"});try{const ne=Ie-le;await ee.from("estado_cuenta").insert([{cliente_id:Ve.cliente,proyecto_id:Ve.proyecto,tipo:"contrato",monto:le,saldo_actual:ne,nota:"ABONO A CONTRATO",fecha:Ve.fecha_de_creacion}])}catch(ne){console.error("Error registrando en estado_cuenta:",ne)}if(Math.abs(le-Ie)<=.005)try{const{error:ne}=await ee.from("contratos").update({estado:"cancelado"}).eq("id",_.id);ne&&console.error("Error actualizando estado de contrato:",ne)}catch(ne){console.error("Error marcando contrato como cancelado:",ne)}W=B??Ve;try{if(G){const ne=N1(G),{error:oe}=await ee.from("contratos").update({proximo_pago:ne}).eq("id",_.id);oe?console.error("Error actualizando proximo_pago en contrato:",oe):j({..._,proximo_pago:ne})}}catch(ne){console.error("Error al actualizar proximo_pago:",ne)}try{const{data:ne,error:oe}=await ee.from("contratos").select("id,monto_total,pago_inicial").eq("id",_.id).limit(1).single();if(!oe&&ne){const{data:ie,error:ye}=await ee.from("pagos").select("monto").eq("tipo","contrato").eq("referencia_id",ne.id);let Be=0;!ye&&Array.isArray(ie)&&(Be=ie.reduce((U,Oe)=>U+Number(Oe.monto??0),0));const rt=Number(ne.monto_total??0)-Number(ne.pago_inicial??0)-Be,Et=Number(W.monto??0),ka=rt+Et,qn=Math.max(0,ka-Et);me.prevRestante=ka,me.saldoActual=qn,me.restanteAfter=rt}}catch{}try{await et(W,{...me,minimo:le,tipo:"contrato"})}catch(ne){console.error("Error generando factura:",ne)}}t(!1),r==null||r(),St.invalidateQueries({queryKey:["pagos"]}),St.invalidateQueries({queryKey:["suscripciones"]}),St.invalidateQueries({queryKey:["contratos"]})}catch(W){console.error("Error guardando pago:",W),o({title:"Error guardando pago",description:(W==null?void 0:W.message)??String(W)})}}return l.jsxs(l.Fragment,{children:[l.jsx(Ut,{open:e,onOpenChange:t,children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Registrar Cobro"})}),l.jsxs("div",{className:"space-y-4",children:[s===1&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de pago"}),l.jsxs(Ui,{value:u,onValueChange:W=>d(W),children:[l.jsx(hi,{children:l.jsx(zi,{placeholder:"Selecciona tipo"})}),l.jsxs(pi,{children:[l.jsx(Ct,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Ct,{value:"contrato",children:"Contrato"})]})]}),l.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),l.jsx(re,{onClick:ae,children:"Siguiente"})]})]}),s===2&&u==="suscripcion"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buscar Suscripcin (cliente o proyecto)"}),l.jsx(Ue,{placeholder:"Filtrar...",value:m,onChange:W=>g(W.target.value)}),l.jsx("div",{className:"max-h-48 overflow-auto mt-2 space-y-2",children:f.filter(W=>{const me=C[W.cliente]??String(W.cliente),le=P[W.proyecto]??String(W.proyecto);return(me+" "+le).toLowerCase().includes(m.toLowerCase())}).map(W=>l.jsxs("div",{className:`p-2 border rounded ${(p==null?void 0:p.id)===W.id?"border-primary":""}`,onClick:()=>x(W),children:[l.jsxs("div",{className:"text-sm font-medium",children:[C[W.cliente]??W.cliente," "," ",P[W.proyecto]??W.proyecto]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Mensualidad:"," ",be(Number(W.mensualidad??0)),"  Prxima:"," ",W.proxima_fecha_de_pago?Xe(W.proxima_fecha_de_pago):"-"]})]},W.id))}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(1),children:"Atrs"}),l.jsx(re,{onClick:()=>c(3),disabled:!p,children:"Siguiente"})]})]}),s===2&&u==="contrato"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Buscar Contrato (cliente o proyecto)"}),l.jsx(Ue,{placeholder:"Filtrar...",value:v,onChange:W=>S(W.target.value)}),l.jsx("div",{className:"max-h-48 overflow-auto mt-2 space-y-2",children:b.filter(W=>{const me=C[W.cliente]??String(W.cliente),le=P[W.proyecto]??String(W.proyecto);return(me+" "+le).toLowerCase().includes(v.toLowerCase())}).map(W=>l.jsxs("div",{className:`p-2 border rounded ${(_==null?void 0:_.id)===W.id?"border-primary":""}`,onClick:async()=>{j(W);try{const me=W!=null&&W.proximo_pago?new Date(W.proximo_pago).toISOString().slice(0,16):"";k(me||null)}catch{k(null)}try{const me=await X(W);O(me)}catch(me){console.error("Error calculando restante al seleccionar contrato:",me),O(null)}},children:[l.jsxs("div",{className:"text-sm font-medium",children:[C[W.cliente]??W.cliente," "," ",P[W.proyecto]??W.proyecto]}),l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Total: ",be(Number(W.monto_total??0)),"  Inicial: ",be(Number(W.pago_inicial??0))]})]},W.id))}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(1),children:"Atrs"}),l.jsx(re,{onClick:()=>c(3),disabled:!_,children:"Siguiente"})]})]}),s===3&&u==="suscripcion"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Valor a cobrar (mnimo):"," ",be(Y(p))]}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-2",children:"Monto a cobrar"}),l.jsx(Ue,{type:"number",step:"0.01",value:N,onChange:W=>A(W.target.value)}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(2),children:"Atrs"}),l.jsx(re,{onClick:Ye,children:"Guardar"})]})]}),s===3&&u==="contrato"&&l.jsxs("div",{children:[l.jsxs("div",{className:"text-sm text-muted-foreground",children:["Valor restante:"," ",_?be(E??0):"-"]}),l.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:"(Se actualizar al seleccionar contrato)"}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-2",children:"Monto a cobrar"}),l.jsx(Ue,{type:"number",step:"0.01",value:N,onChange:W=>A(W.target.value)}),l.jsx("label",{className:"block text-sm font-medium mb-1 mt-3",children:"Prximo pago (opcional)"}),l.jsx("input",{type:"datetime-local",value:G??"",onChange:W=>k(W.target.value||null),className:"mt-1 block w-full rounded-md border p-2"}),l.jsxs("div",{className:"mt-4 flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>c(2),children:"Atrs"}),l.jsx(re,{onClick:Ye,children:"Guardar"})]})]})]}),l.jsx($t,{})]})}),z&&R?l.jsx(Ut,{open:z,onOpenChange:W=>{T(W),W||(I(null),H(!1))},children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Factura"})}),l.jsx("div",{className:"mt-2",children:l.jsx(Y4,{open:z,html:R,onOpenChange:W=>{T(W),W||(I(null),H(!1))},autoPrint:D})}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>{T(!1),I(null),H(!1)},children:"Cerrar"}),l.jsx(re,{onClick:()=>{const W=document.querySelector('iframe[title="Factura"]'),me=W==null?void 0:W.contentWindow;if(me)try{me.focus(),me.print()}catch(le){console.error("Error imprimiendo factura:",le)}},children:"Imprimir"})]})})]})}):null]})}function DSe({status:e}){const t={pagado:{icon:ha,className:"bg-green-500/10 text-green-600 dark:text-green-400",label:"Pagado"},pendiente:{icon:Ri,className:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",label:"Pendiente"},vencido:{icon:tg,className:"bg-red-500/10 text-red-600 dark:text-red-400",label:"Vencido"}},{icon:r,className:n,label:i}=t[e]||t.pendiente;return l.jsxs(xr,{variant:"secondary",className:n,children:[l.jsx(r,{className:"h-3 w-3 mr-1"}),i]})}function LSe({payment:e,onMarkPaid:t}){const r=e.dueDate?Gd(e.dueDate):NaN,n=r<0&&e.status!=="pagado",i=r<=3&&r>=0&&e.status==="pendiente";return l.jsx(ve,{onClick:()=>{},className:`hover-elevate transition-all cursor-pointer ${n?"border-red-500/50":i?"border-yellow-500/50":""}`,"data-testid":`card-payment-${e.id}`,children:l.jsxs(ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xs,{className:"h-10 w-10 flex-shrink-0",children:l.jsx(Qs,{className:"bg-primary/10 text-primary text-sm font-medium",children:Xf(e.clientName)})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate",children:e.clientName}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:e.projectName}),e.tipo&&l.jsx("div",{className:"mt-1",children:l.jsx(xr,{variant:"secondary",className:"text-xs",children:String(e.tipo)})})]})]}),l.jsxs(GB,{children:[l.jsx(YB,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"icon",onClick:a=>a.stopPropagation(),children:l.jsx(l2,{className:"h-4 w-4"})})}),l.jsx(Sj,{align:"end",children:e.status!=="pagado"&&l.jsxs(jj,{onClick:()=>t(e.id),"data-testid":"menu-mark-paid",children:[l.jsx(Yf,{className:"h-4 w-4 mr-2"}),"Marcar como pagado"]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Monto:"}),l.jsx("span",{className:"text-lg font-bold",children:be(Number(e.amount))})]}),e.paymentNumber&&e.paymentNumber>1&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Cuota:"}),l.jsxs("span",{className:"text-sm",children:["#",e.paymentNumber]})]}),e.paidDate&&l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Fecha de pago:"}),l.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:Xe(e.paidDate)})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex items-center justify-between gap-4",children:[l.jsx(DSe,{status:e.status}),e.status==="pendiente"&&l.jsx("span",{className:`text-xs ${n?"text-red-500":i?"text-yellow-500":"text-muted-foreground"}`,children:Number.isFinite(r)?n?`Vencido hace ${Math.abs(r)} dias`:r===0?"Vence hoy":`Vence en ${r} dias`:"Fecha no disponible"})]})]})})}function FSe(){const[e,t]=w.useState(""),[r,n]=w.useState("all"),[i,a]=w.useState("all"),{toast:o}=Sr(),{data:s,isLoading:c}=_t({queryKey:["pagos"],queryFn:async()=>{const{data:O,error:P}=await ee.from("pagos").select("id,fecha_de_creacion,tipo,referencia_id,cliente,proyecto,monto,notas").order("fecha_de_creacion",{ascending:!1});if(P)throw P;return Array.isArray(O)?O:[]}}),[u,d]=w.useState(!1),[f,h]=w.useState(null),[m,g]=w.useState(!1),p=w.useRef(null),[x,b]=w.useState({}),[y,v]=w.useState({});w.useEffect(()=>{(async()=>{try{const[O,P]=await Promise.all([ee.from("proyectos").select("id,nombre"),ee.from("clientes").select("id,nombre")]),M=Array.isArray(O.data)?O.data:[],C=Array.isArray(P.data)?P.data:[],$={},N={};M.forEach(A=>{A!=null&&A.id&&($[A.id]=A.nombre??A.id)}),C.forEach(A=>{A!=null&&A.id&&(N[A.id]=A.nombre??A.id)}),b($),v(N)}catch(O){console.error("Error cargando meta en Pagos:",O)}})()},[]);const S=Yl({mutationFn:async O=>Promise.resolve(null),onSuccess:()=>{St.invalidateQueries({queryKey:["pagos"]}),St.invalidateQueries({queryKey:["/api/stats"]}),o({title:"Pago registrado exitosamente"})},onError:()=>{o({title:"Error al registrar pago",variant:"destructive"})}}),_=Array.isArray(s)?s.map(O=>({id:O.id,amount:String(Number(O.monto??0)),clientId:O.cliente??null,referenceId:O.referencia_id??null,clientName:y[O.cliente]??O.cliente??"Cliente",projectName:x[O.proyecto]??O.proyecto??"Proyecto",tipo:O.tipo??null,dueDate:O.fecha_de_creacion??null,paidDate:O.fecha_de_creacion??null,notes:O.notas??null,status:"pagado",paymentNumber:null})):[],j=_.filter(O=>{const P=O.clientName.toLowerCase().includes(e.toLowerCase())||O.projectName.toLowerCase().includes(e.toLowerCase());let M=!0;r!=="all"&&(M=O.status===r);let C=!0;return i==="pending"?C=O.status==="pendiente":i==="overdue"?C=O.status==="vencido"||O.status==="pendiente"&&(O.dueDate?Gd(O.dueDate)<0:!1):i==="paid"&&(C=O.status==="pagado"),P&&M&&C}),E={total:_.length,pending:_.filter(O=>O.status==="pendiente").length,overdue:_.filter(O=>O.status==="vencido"||O.status==="pendiente"&&(O.dueDate?Gd(O.dueDate)<0:!1)).length,paid:_.filter(O=>O.status==="pagado").length};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Pagos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Seguimiento de todos los pagos"}),l.jsx("div",{className:"mt-3",children:l.jsx(re,{onClick:()=>d(!0),children:"Cobro"})})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Oc,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.total}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Total"})]})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-yellow-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Ri,{className:"h-5 w-5 text-yellow-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.pending}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pendientes"})]})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-red-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(tg,{className:"h-5 w-5 text-red-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.overdue}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Vencidos"})]})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4 flex items-center gap-4",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(ha,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:E.paid}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Pagados"})]})]})})]}),l.jsxs(sSe,{value:i,onValueChange:a,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[l.jsxs(c4,{children:[l.jsx(od,{value:"all","data-testid":"tab-all",children:"Todos"}),l.jsx(od,{value:"pending","data-testid":"tab-pending",children:"Pendientes"}),l.jsx(od,{value:"overdue","data-testid":"tab-overdue",children:"Vencidos"}),l.jsx(od,{value:"paid","data-testid":"tab-paid",children:"Pagados"})]}),l.jsx("div",{className:"flex-1 flex gap-4",children:l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por cliente o proyecto...",value:e,onChange:O=>t(O.target.value),className:"pl-10","data-testid":"input-search-payments"})]})})]}),l.jsx(u4,{value:i,className:"mt-6",children:c?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(O=>l.jsx(ve,{children:l.jsxs(ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(Bt,{className:"h-10 w-10 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Bt,{className:"h-4 w-32 mb-1"}),l.jsx(Bt,{className:"h-3 w-24"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Bt,{className:"h-4 w-full"}),l.jsx(Bt,{className:"h-4 w-3/4"})]})]})},O))}):j&&j.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(O=>l.jsx("div",{children:l.jsx(LSe,{payment:O,onMarkPaid:P=>S.mutate(P)})},O.id))}):l.jsx(ve,{children:l.jsxs(ge,{className:"p-12 text-center",children:[l.jsx(Oc,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay pagos"}),l.jsx("p",{className:"text-muted-foreground",children:e?"No se encontraron pagos con esos criterios":"Los pagos apareceran aqui cuando agregues clientes"})]})})})]}),l.jsx(X4,{open:u,onOpenChange:d,onCreated:()=>{St.invalidateQueries({queryKey:["/api/payments"]}),St.invalidateQueries({queryKey:["/api/payments/recent"]}),St.invalidateQueries({queryKey:["/api/payments/upcoming"]}),St.invalidateQueries({queryKey:["/api/stats"]})}}),f&&m?l.jsx(Ut,{open:m,onOpenChange:g,children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Factura"})}),l.jsx("div",{className:"mt-2",children:l.jsx("iframe",{ref:p,srcDoc:f,title:"Factura",className:"w-full h-[70vh] border"})}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>g(!1),children:"Cerrar"}),l.jsx(re,{onClick:()=>{var P;const O=(P=p.current)==null?void 0:P.contentWindow;if(O)try{O.focus(),O.print()}catch(M){console.error("Error imprimiendo factura:",M),o({title:"Error imprimiendo factura"})}},children:"Imprimir"})]})})]})}):null]})}const so=w.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",e),...t})}));so.displayName="Table";const lo=w.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:he("[&_tr]:border-b",e),...t}));lo.displayName="TableHeader";const co=w.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",e),...t}));co.displayName="TableBody";const BSe=w.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));BSe.displayName="TableFooter";const Nr=w.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Nr.displayName="TableRow";const He=w.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:he("h-10 px-2 sm:px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));He.displayName="TableHead";const qe=w.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:he("p-2 sm:p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));qe.displayName="TableCell";const USe=w.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",e),...t}));USe.displayName="TableCaption";function zSe(e,t){if(!e)return 0;const r=typeof e=="string"?new Date(e):new Date(e),n=new Date,i=r.getDate(),a=r.getMonth(),o=r.getFullYear(),s=n.getDate(),c=n.getMonth();let d=(n.getFullYear()-o)*12+(c-a);return s<i&&(d-=1),Math.max(0,d)}function VSe({subscription:e,onToggleStatus:t}){const r=e.nextPaymentDate?Gd(e.nextPaymentDate):0,n=r<=0&&e.isActive,i=r<=5&&r>0&&e.isActive;return l.jsx(ve,{className:`hover-elevate transition-all ${e.isActive?"":"opacity-60"}`,"data-testid":`card-subscription-${e.id}`,children:l.jsxs(ge,{className:"p-4 md:p-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4 mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[l.jsx(Xs,{className:"h-12 w-12 flex-shrink-0",children:l.jsx(Qs,{className:"bg-primary/10 text-primary font-semibold",children:Xf(e.clientName)})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate text-sm md:text-base",children:e.clientName}),l.jsx("p",{className:"text-xs md:text-sm text-muted-foreground truncate",children:e.projectName})]})]}),t?l.jsx("div",{className:"ml-auto md:ml-0",children:l.jsxs(GB,{children:[l.jsx(YB,{asChild:!0,children:l.jsx(re,{variant:"ghost",size:"icon",children:l.jsx(l2,{className:"h-4 w-4"})})}),l.jsx(Sj,{align:"end",children:l.jsx(jj,{onClick:()=>t(e.id,!e.isActive),"data-testid":"menu-toggle-status",children:e.isActive?l.jsxs(l.Fragment,{children:[l.jsx(c2,{className:"h-4 w-4 mr-2"}),"Pausar suscripcion"]}):l.jsxs(l.Fragment,{children:[l.jsx(NV,{className:"h-4 w-4 mr-2"}),"Reactivar suscripcion"]})})})]})}):null]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-6",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Monto mensual"}),l.jsx("span",{className:"text-lg md:text-xl font-bold text-primary",children:be(Number(e.monthlyAmount))})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Inicio"}),l.jsx("span",{className:"text-sm",children:Xe(e.startDate)})]}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Prximo pago"}),l.jsx("span",{className:`font-medium ${n?"text-red-500":i?"text-yellow-500":""} text-sm md:text-base`,children:e.nextPaymentDate?Xe(e.nextPaymentDate):"-"}),l.jsxs("span",{className:"text-xs text-muted-foreground mt-1",children:["ltimo pago: ",e.lastPaymentDate?Xe(e.lastPaymentDate):"Pendiente"]})]})]}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-border flex flex-col md:flex-row items-start md:items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xr,{variant:"secondary",className:e.isActive?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground",children:e.isActive?l.jsxs(l.Fragment,{children:[l.jsx(ha,{className:"h-3 w-3 mr-1"}),"Activa"]}):l.jsxs(l.Fragment,{children:[l.jsx(bV,{className:"h-3 w-3 mr-1"}),"Pausada"]})}),n&&e.isActive&&l.jsx("span",{className:"text-xs text-red-500 font-medium",children:"Pago vencido"}),i&&l.jsxs("span",{className:"text-xs text-yellow-500",children:["Vence en ",r," dias"]})]}),l.jsx("div",{className:"ml-auto w-full md:w-auto flex gap-2",children:t&&l.jsx(re,{size:"sm",variant:"outline",className:"w-full md:w-auto",onClick:()=>t(e.id,!e.isActive),children:e.isActive?"Pausar":"Reactivar"})})]})]})})}function WSe(){const[e,t]=w.useState(""),[r,n]=w.useState("all"),[i,a]=w.useState("all"),{toast:o}=Sr(),[s,c]=w.useState({}),[u,d]=w.useState({});async function f(){try{const[F,K]=await Promise.all([ee.from("proyectos").select("id,nombre"),ee.from("clientes").select("id,nombre")]),J=Array.isArray(F.data)?F.data:[],se=Array.isArray(K.data)?K.data:[],te={},ae={};J.forEach(Y=>{Y!=null&&Y.id&&(te[Y.id]=Y.nombre??Y.id)}),se.forEach(Y=>{Y!=null&&Y.id&&(ae[Y.id]=Y.nombre??Y.id)}),c(te),d(ae)}catch(F){console.error("Error cargando meta:",F)}}const{data:h,isLoading:m}=_t({queryKey:["suscripciones"],queryFn:async()=>{const{data:F,error:K}=await ee.from("suscripciones").select("*").order("fecha_de_creacion",{ascending:!1});if(K)throw K;return Array.isArray(F)?F:[]}});w.useEffect(()=>{f()},[]);const g=(Array.isArray(h)?h:[]).map(F=>({id:F.id,clientName:u[F.cliente]??F.cliente??"Cliente",projectName:s[F.proyecto]??F.proyecto??"Proyecto",monthlyAmount:Number(F.mensualidad??0),startDate:F.fecha_de_creacion??F.created_at??null,lastPaymentDate:F.ultimo_pago??null,nextPaymentDate:F.proxima_fecha_de_pago??null,isActive:F.is_active===void 0?!0:!!F.is_active})),p=g.filter(F=>{const K=(F.clientName??"").toLowerCase().includes(e.toLowerCase())||(F.projectName??"").toLowerCase().includes(e.toLowerCase());let J=!0;r==="active"?J=F.isActive===!0:r==="paused"&&(J=F.isActive===!1);let se=!0;if(i!=="all"){const te=new Date;te.setHours(0,0,0,0);const ae=F.nextPaymentDate?new Date(F.nextPaymentDate):null;ae?(ae.setHours(0,0,0,0),te>ae?se=i==="atraso":se=i==="aldia"):se=i==="all"}return K&&J&&se}),x=g.filter(F=>F.isActive)||[],b=x.reduce((F,K)=>F+Number(K.monthlyAmount??0),0),y=b*12,[v,S]=w.useState(null),[_,j]=w.useState(!1),[E,O]=w.useState(!1),[P,M]=w.useState(""),[C,$]=w.useState(""),[N,A]=w.useState(!1),[R,I]=w.useState(""),z=F=>{if(S(F),M(String(F.monthlyAmount??"")),F.nextPaymentDate){const K=Ur(F.nextPaymentDate);if(K){const J=K.getFullYear(),se=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0");$(`${J}-${se}-${te}`)}else $("")}else $("");O(!1),j(!0)},T=()=>{j(!1),S(null)},D=async()=>{if(v)try{const F=!v.isActive,{error:K}=await ee.from("suscripciones").update({is_active:F}).eq("id",v.id);if(K)throw K;S({...v,isActive:F}),St.invalidateQueries({queryKey:["suscripciones"]}),o({title:F?"Suscripcin reactivada":"Suscripcin pausada"})}catch(F){console.error("Error actualizando suscripcin:",F),o({title:"Error al actualizar suscripcin",description:(F==null?void 0:F.message)??String(F)})}},H=async()=>{if(!v)return;let F="";if(v.nextPaymentDate){const J=Ur(v.nextPaymentDate);if(J){const se=J.getFullYear(),te=String(J.getMonth()+1).padStart(2,"0"),ae=String(J.getDate()).padStart(2,"0");F=`${se}-${te}-${ae}`}}if(C!==F){A(!0);return}await G()},G=async()=>{if(v)try{const F=P?Number(P):0,K=C?N1(C):null,J={mensualidad:F};K&&(J.proxima_fecha_de_pago=K);const{error:se}=await ee.from("suscripciones").update(J).eq("id",v.id);if(se)throw se;const te={...v,monthlyAmount:F,nextPaymentDate:K};if(S(te),M(String(F)),K){const ae=Ur(K);if(ae){const Y=ae.getFullYear(),de=String(ae.getMonth()+1).padStart(2,"0"),ue=String(ae.getDate()).padStart(2,"0");$(`${Y}-${de}-${ue}`)}}St.invalidateQueries({queryKey:["suscripciones"]}),o({title:"Suscripcin actualizada"}),O(!1),A(!1),I("")}catch(F){console.error("Error guardando cambios:",F),o({title:"Error al guardar cambios",description:(F==null?void 0:F.message)??String(F)})}},k=async()=>{try{const{data:F,error:K}=await ee.from("configuracion").select("clave").limit(1).single();if(K){console.error("Error obteniendo configuracin:",K),o({title:"Error al verificar contrasea",description:`No se pudo obtener la configuracin: ${K.message}`,variant:"destructive"});return}console.log("Configuracin obtenida:",F),console.log("Clave en configuracin:",F==null?void 0:F.clave),console.log("Contrasea ingresada:",R);const J=F==null?void 0:F.clave;if(!J){o({title:"Contrasea no configurada",description:"Por favor configura una contrasea en Configuracin primero",variant:"destructive"});return}if(R!==J){console.log("Contraseas no coinciden"),o({title:"Contrasea incorrecta",description:"La contrasea ingresada no es vlida",variant:"destructive"});return}console.log("Contrasea correcta, guardando..."),await G()}catch(F){console.error("Error en validacin de contrasea:",F),o({title:"Error",description:(F==null?void 0:F.message)||"Error al validar contrasea",variant:"destructive"})}};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Suscripciones"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona tus ingresos recurrentes"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[l.jsx(ve,{className:"md:col-span-2 bg-gradient-to-br from-primary/10 to-primary/5",children:l.jsxs(ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:l.jsx(jo,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingreso Mensual Recurrente (MRR)"}),l.jsx("p",{className:"text-3xl font-bold",children:be(b)})]})]}),l.jsx("div",{className:"flex items-center gap-6 text-sm",children:l.jsxs("div",{children:[l.jsx("span",{className:"text-muted-foreground",children:"ARR proyectado:"}),l.jsx("span",{className:"font-semibold ml-2",children:be(y)})]})})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-6 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Kd,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold",children:x.length}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Suscripciones activas"})]})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-6 flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(p0,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold",children:x.length>0?be(b/x.length):be(0)}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio por cliente"})]})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por cliente o proyecto...",value:e,onChange:F=>t(F.target.value),className:"pl-10","data-testid":"input-search-subscriptions"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:r==="all"?"secondary":"ghost",onClick:()=>n("all"),"data-testid":"filter-all",children:"Todas"}),l.jsx(re,{variant:r==="active"?"secondary":"ghost",onClick:()=>n("active"),"data-testid":"filter-active",children:"Activas"}),l.jsx(re,{variant:r==="paused"?"secondary":"ghost",onClick:()=>n("paused"),"data-testid":"filter-paused",children:"Pausadas"}),l.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[l.jsx(re,{variant:i==="all"?"secondary":"ghost",onClick:()=>a("all"),"data-testid":"filter-status-all",children:"Estado: Todas"}),l.jsx(re,{variant:i==="aldia"?"secondary":"ghost",onClick:()=>a("aldia"),"data-testid":"filter-status-aldia",children:"Al Da"}),l.jsx(re,{variant:i==="atraso"?"secondary":"ghost",onClick:()=>a("atraso"),"data-testid":"filter-status-atraso",children:"Atraso"})]})]})]}),m?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(F=>l.jsx(ve,{children:l.jsxs(ge,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx(Bt,{className:"h-12 w-12 rounded-full"}),l.jsxs("div",{className:"flex-1",children:[l.jsx(Bt,{className:"h-4 w-32 mb-2"}),l.jsx(Bt,{className:"h-3 w-24"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(Bt,{className:"h-4 w-full"}),l.jsx(Bt,{className:"h-4 w-3/4"}),l.jsx(Bt,{className:"h-4 w-1/2"})]})]})},F))}):p&&p.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mt-4",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Cliente"}),l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Mensualidad"}),l.jsx(He,{children:"Inicio"}),l.jsx(He,{children:"Meses transcurridos"}),l.jsx(He,{children:"Prximo pago"}),l.jsx(He,{children:"Estado"}),l.jsx(He,{children:"Activo"}),l.jsx(He,{children:"Accin"})]})}),l.jsx(co,{children:p.map(F=>l.jsxs(Nr,{onClick:()=>z(F),className:"cursor-pointer",role:"button",children:[l.jsx(qe,{className:"truncate max-w-xs",children:F.clientName}),l.jsx(qe,{className:"truncate max-w-xs",children:F.projectName}),l.jsx(qe,{children:be(Number(F.monthlyAmount??0))}),l.jsx(qe,{children:F.startDate?Xe(F.startDate):"-"}),l.jsx(qe,{children:F.startDate?`${zSe(F.startDate)} meses`:"-"}),l.jsx(qe,{children:F.nextPaymentDate?Xe(F.nextPaymentDate):"-"}),l.jsx(qe,{children:F.nextPaymentDate?(()=>{const K=new Date,J=new Date(F.nextPaymentDate);return K.setHours(0,0,0,0),J.setHours(0,0,0,0),K>J?l.jsx("span",{className:"text-red-600 font-semibold",children:"ATRASO"}):l.jsx("span",{className:"text-green-600 font-semibold",children:"AL DA"})})():l.jsx("span",{className:"text-muted-foreground",children:"-"})}),l.jsx(qe,{children:l.jsx(xr,{variant:"secondary",className:F.isActive?"bg-green-500/10 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground",children:F.isActive?"Activa":"Pausada"})}),l.jsx(qe,{children:F.nextPaymentDate?(()=>{const K=new Date,J=new Date(F.nextPaymentDate);return K.setHours(0,0,0,0),J.setHours(0,0,0,0),K>J?l.jsx(re,{size:"sm",variant:"destructive",children:"Cobrar"}):null})():null})]},F.id))})]})}),l.jsx(Ut,{open:_,onOpenChange:F=>{F?j(F):T()},children:l.jsxs(Tt,{className:"max-w-[95vw] md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(kt,{className:"space-y-2",children:l.jsx(Rt,{className:"text-lg md:text-xl",children:"Detalle de Suscripcin"})}),l.jsx("div",{className:"mt-2 md:mt-4",children:v?E?l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Mensualidad"}),l.jsx(Ue,{type:"number",step:"0.01",value:P,onChange:F=>M(F.target.value),className:"w-full"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Prxima fecha de pago"}),l.jsx(Ue,{type:"date",value:C,onChange:F=>$(F.target.value),className:"w-full"})]})]}),l.jsxs("div",{className:"flex flex-col-reverse sm:flex-row gap-2 justify-end pt-2",children:[l.jsx(re,{variant:"outline",onClick:()=>O(!1),className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:H,className:"w-full sm:w-auto",children:"Guardar"})]})]}):l.jsx("div",{className:"space-y-4",children:l.jsx(VSe,{subscription:v})}):l.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No hay detalle seleccionado"})}),l.jsx($t,{className:"mt-4",children:l.jsxs("div",{className:"w-full flex flex-col sm:flex-row justify-end gap-2",children:[l.jsx(re,{variant:v&&v.isActive?"destructive":"secondary",onClick:D,disabled:!v,className:"w-full sm:w-auto order-2 sm:order-1",children:v&&v.isActive?"Pausar suscripcin":"Reactivar suscripcin"}),!E&&l.jsx(re,{variant:"ghost",onClick:()=>O(!0),disabled:!v,className:"w-full sm:w-auto order-1 sm:order-2",children:"Editar"}),l.jsx(re,{variant:"ghost",onClick:T,className:"w-full sm:w-auto order-3",children:"Cerrar"})]})})]})}),l.jsx(Ut,{open:N,onOpenChange:F=>{A(F),F||I("")},children:l.jsxs(Tt,{className:"max-w-[95vw] md:max-w-md",children:[l.jsx(kt,{children:l.jsx(Rt,{className:"text-base md:text-lg",children:"Confirmar cambio de fecha de pago"})}),l.jsxs("div",{className:"mt-4 space-y-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Para modificar la prxima fecha de pago, ingresa la contrasea de administrador."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Contrasea"}),l.jsx(Ue,{type:"password",placeholder:"Ingresa la contrasea",value:R,onChange:F=>I(F.target.value),onKeyDown:F=>{F.key==="Enter"&&k()},className:"w-full"})]})]}),l.jsxs($t,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{A(!1),I("")},className:"w-full sm:w-auto order-2 sm:order-1",children:"Cancelar"}),l.jsx(re,{onClick:k,className:"w-full sm:w-auto order-1 sm:order-2",children:"Confirmar"})]})]})})]}):l.jsx(ve,{children:l.jsxs(ge,{className:"p-12 text-center",children:[l.jsx(eg,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay suscripciones"}),l.jsx("p",{className:"text-muted-foreground",children:e?"No se encontraron suscripciones con esos criterios":"Las suscripciones apareceran aqui cuando agregues clientes con modelo de suscripcion"})]})})]})}var kT=1,qSe=.9,HSe=.8,KSe=.17,eb=.1,tb=.999,GSe=.9999,YSe=.99,XSe=/[\\\/_+.#"@\[\(\{&]/,QSe=/[\\\/_+.#"@\[\(\{&]/g,JSe=/[\s-]/,Q4=/[\s-]/g;function w_(e,t,r,n,i,a,o){if(a===t.length)return i===e.length?kT:YSe;var s=`${i},${a}`;if(o[s]!==void 0)return o[s];for(var c=n.charAt(a),u=r.indexOf(c,i),d=0,f,h,m,g;u>=0;)f=w_(e,t,r,n,u+1,a+1,o),f>d&&(u===i?f*=kT:XSe.test(e.charAt(u-1))?(f*=HSe,m=e.slice(i,u-1).match(QSe),m&&i>0&&(f*=Math.pow(tb,m.length))):JSe.test(e.charAt(u-1))?(f*=qSe,g=e.slice(i,u-1).match(Q4),g&&i>0&&(f*=Math.pow(tb,g.length))):(f*=KSe,i>0&&(f*=Math.pow(tb,u-i))),e.charAt(u)!==t.charAt(a)&&(f*=GSe)),(f<eb&&r.charAt(u-1)===n.charAt(a+1)||n.charAt(a+1)===n.charAt(a)&&r.charAt(u-1)!==n.charAt(a))&&(h=w_(e,t,r,n,u+1,a+2,o),h*eb>f&&(f=h*eb)),f>d&&(d=f),u=r.indexOf(c,u+1);return o[s]=d,d}function $T(e){return e.toLowerCase().replace(Q4," ")}function ZSe(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,w_(e,t,$T(e),$T(t),0,0,{})}var Qu='[cmdk-group=""]',rb='[cmdk-group-items=""]',eje='[cmdk-group-heading=""]',J4='[cmdk-item=""]',RT=`${J4}:not([aria-disabled="true"])`,__="cmdk-item-select",_l="data-value",tje=(e,t,r)=>ZSe(e,t,r),Z4=w.createContext(void 0),xh=()=>w.useContext(Z4),eU=w.createContext(void 0),Aj=()=>w.useContext(eU),tU=w.createContext(void 0),rU=w.forwardRef((e,t)=>{let r=Sl(()=>{var k,F;return{search:"",value:(F=(k=e.value)!=null?k:e.defaultValue)!=null?F:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Sl(()=>new Set),i=Sl(()=>new Map),a=Sl(()=>new Map),o=Sl(()=>new Set),s=nU(e),{label:c,children:u,value:d,onValueChange:f,filter:h,shouldFilter:m,loop:g,disablePointerSelection:p=!1,vimBindings:x=!0,...b}=e,y=pr(),v=pr(),S=pr(),_=w.useRef(null),j=fje();qs(()=>{if(d!==void 0){let k=d.trim();r.current.value=k,E.emit()}},[d]),qs(()=>{j(6,N)},[]);let E=w.useMemo(()=>({subscribe:k=>(o.current.add(k),()=>o.current.delete(k)),snapshot:()=>r.current,setState:(k,F,K)=>{var J,se,te,ae;if(!Object.is(r.current[k],F)){if(r.current[k]=F,k==="search")$(),M(),j(1,C);else if(k==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Y=document.getElementById(S);Y?Y.focus():(J=document.getElementById(y))==null||J.focus()}if(j(7,()=>{var Y;r.current.selectedItemId=(Y=A())==null?void 0:Y.id,E.emit()}),K||j(5,N),((se=s.current)==null?void 0:se.value)!==void 0){let Y=F??"";(ae=(te=s.current).onValueChange)==null||ae.call(te,Y);return}}E.emit()}},emit:()=>{o.current.forEach(k=>k())}}),[]),O=w.useMemo(()=>({value:(k,F,K)=>{var J;F!==((J=a.current.get(k))==null?void 0:J.value)&&(a.current.set(k,{value:F,keywords:K}),r.current.filtered.items.set(k,P(F,K)),j(2,()=>{M(),E.emit()}))},item:(k,F)=>(n.current.add(k),F&&(i.current.has(F)?i.current.get(F).add(k):i.current.set(F,new Set([k]))),j(3,()=>{$(),M(),r.current.value||C(),E.emit()}),()=>{a.current.delete(k),n.current.delete(k),r.current.filtered.items.delete(k);let K=A();j(4,()=>{$(),(K==null?void 0:K.getAttribute("id"))===k&&C(),E.emit()})}),group:k=>(i.current.has(k)||i.current.set(k,new Set),()=>{a.current.delete(k),i.current.delete(k)}),filter:()=>s.current.shouldFilter,label:c||e["aria-label"],getDisablePointerSelection:()=>s.current.disablePointerSelection,listId:y,inputId:S,labelId:v,listInnerRef:_}),[]);function P(k,F){var K,J;let se=(J=(K=s.current)==null?void 0:K.filter)!=null?J:tje;return k?se(k,r.current.search,F):0}function M(){if(!r.current.search||s.current.shouldFilter===!1)return;let k=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(J=>{let se=i.current.get(J),te=0;se.forEach(ae=>{let Y=k.get(ae);te=Math.max(Y,te)}),F.push([J,te])});let K=_.current;R().sort((J,se)=>{var te,ae;let Y=J.getAttribute("id"),de=se.getAttribute("id");return((te=k.get(de))!=null?te:0)-((ae=k.get(Y))!=null?ae:0)}).forEach(J=>{let se=J.closest(rb);se?se.appendChild(J.parentElement===se?J:J.closest(`${rb} > *`)):K.appendChild(J.parentElement===K?J:J.closest(`${rb} > *`))}),F.sort((J,se)=>se[1]-J[1]).forEach(J=>{var se;let te=(se=_.current)==null?void 0:se.querySelector(`${Qu}[${_l}="${encodeURIComponent(J[0])}"]`);te==null||te.parentElement.appendChild(te)})}function C(){let k=R().find(K=>K.getAttribute("aria-disabled")!=="true"),F=k==null?void 0:k.getAttribute(_l);E.setState("value",F||void 0)}function $(){var k,F,K,J;if(!r.current.search||s.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let se=0;for(let te of n.current){let ae=(F=(k=a.current.get(te))==null?void 0:k.value)!=null?F:"",Y=(J=(K=a.current.get(te))==null?void 0:K.keywords)!=null?J:[],de=P(ae,Y);r.current.filtered.items.set(te,de),de>0&&se++}for(let[te,ae]of i.current)for(let Y of ae)if(r.current.filtered.items.get(Y)>0){r.current.filtered.groups.add(te);break}r.current.filtered.count=se}function N(){var k,F,K;let J=A();J&&(((k=J.parentElement)==null?void 0:k.firstChild)===J&&((K=(F=J.closest(Qu))==null?void 0:F.querySelector(eje))==null||K.scrollIntoView({block:"nearest"})),J.scrollIntoView({block:"nearest"}))}function A(){var k;return(k=_.current)==null?void 0:k.querySelector(`${J4}[aria-selected="true"]`)}function R(){var k;return Array.from(((k=_.current)==null?void 0:k.querySelectorAll(RT))||[])}function I(k){let F=R()[k];F&&E.setState("value",F.getAttribute(_l))}function z(k){var F;let K=A(),J=R(),se=J.findIndex(ae=>ae===K),te=J[se+k];(F=s.current)!=null&&F.loop&&(te=se+k<0?J[J.length-1]:se+k===J.length?J[0]:J[se+k]),te&&E.setState("value",te.getAttribute(_l))}function T(k){let F=A(),K=F==null?void 0:F.closest(Qu),J;for(;K&&!J;)K=k>0?uje(K,Qu):dje(K,Qu),J=K==null?void 0:K.querySelector(RT);J?E.setState("value",J.getAttribute(_l)):z(k)}let D=()=>I(R().length-1),H=k=>{k.preventDefault(),k.metaKey?D():k.altKey?T(1):z(1)},G=k=>{k.preventDefault(),k.metaKey?I(0):k.altKey?T(-1):z(-1)};return w.createElement(je.div,{ref:t,tabIndex:-1,...b,"cmdk-root":"",onKeyDown:k=>{var F;(F=b.onKeyDown)==null||F.call(b,k);let K=k.nativeEvent.isComposing||k.keyCode===229;if(!(k.defaultPrevented||K))switch(k.key){case"n":case"j":{x&&k.ctrlKey&&H(k);break}case"ArrowDown":{H(k);break}case"p":case"k":{x&&k.ctrlKey&&G(k);break}case"ArrowUp":{G(k);break}case"Home":{k.preventDefault(),I(0);break}case"End":{k.preventDefault(),D();break}case"Enter":{k.preventDefault();let J=A();if(J){let se=new Event(__);J.dispatchEvent(se)}}}}},w.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:pje},c),Sy(e,k=>w.createElement(eU.Provider,{value:E},w.createElement(Z4.Provider,{value:O},k))))}),rje=w.forwardRef((e,t)=>{var r,n;let i=pr(),a=w.useRef(null),o=w.useContext(tU),s=xh(),c=nU(e),u=(n=(r=c.current)==null?void 0:r.forceMount)!=null?n:o==null?void 0:o.forceMount;qs(()=>{if(!u)return s.item(i,o==null?void 0:o.id)},[u]);let d=iU(i,a,[e.value,e.children,a],e.keywords),f=Aj(),h=Ao(j=>j.value&&j.value===d.current),m=Ao(j=>u||s.filter()===!1?!0:j.search?j.filtered.items.get(i)>0:!0);w.useEffect(()=>{let j=a.current;if(!(!j||e.disabled))return j.addEventListener(__,g),()=>j.removeEventListener(__,g)},[m,e.onSelect,e.disabled]);function g(){var j,E;p(),(E=(j=c.current).onSelect)==null||E.call(j,d.current)}function p(){f.setState("value",d.current,!0)}if(!m)return null;let{disabled:x,value:b,onSelect:y,forceMount:v,keywords:S,..._}=e;return w.createElement(je.div,{ref:wa(a,t),..._,id:i,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!h,"data-disabled":!!x,"data-selected":!!h,onPointerMove:x||s.getDisablePointerSelection()?void 0:p,onClick:x?void 0:g},e.children)}),nje=w.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:i,...a}=e,o=pr(),s=w.useRef(null),c=w.useRef(null),u=pr(),d=xh(),f=Ao(m=>i||d.filter()===!1?!0:m.search?m.filtered.groups.has(o):!0);qs(()=>d.group(o),[]),iU(o,s,[e.value,e.heading,c]);let h=w.useMemo(()=>({id:o,forceMount:i}),[i]);return w.createElement(je.div,{ref:wa(s,t),...a,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&w.createElement("div",{ref:c,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Sy(e,m=>w.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},w.createElement(tU.Provider,{value:h},m))))}),ije=w.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,i=w.useRef(null),a=Ao(o=>!o.search);return!r&&!a?null:w.createElement(je.div,{ref:wa(i,t),...n,"cmdk-separator":"",role:"separator"})}),aje=w.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,i=e.value!=null,a=Aj(),o=Ao(u=>u.search),s=Ao(u=>u.selectedItemId),c=xh();return w.useEffect(()=>{e.value!=null&&a.setState("search",e.value)},[e.value]),w.createElement(je.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":c.listId,"aria-labelledby":c.labelId,"aria-activedescendant":s,id:c.inputId,type:"text",value:i?e.value:o,onChange:u=>{i||a.setState("search",u.target.value),r==null||r(u.target.value)}})}),oje=w.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...i}=e,a=w.useRef(null),o=w.useRef(null),s=Ao(u=>u.selectedItemId),c=xh();return w.useEffect(()=>{if(o.current&&a.current){let u=o.current,d=a.current,f,h=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let m=u.offsetHeight;d.style.setProperty("--cmdk-list-height",m.toFixed(1)+"px")})});return h.observe(u),()=>{cancelAnimationFrame(f),h.unobserve(u)}}},[]),w.createElement(je.div,{ref:wa(a,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":s,"aria-label":n,id:c.listId},Sy(e,u=>w.createElement("div",{ref:wa(o,c.listInnerRef),"cmdk-list-sizer":""},u)))}),sje=w.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:i,contentClassName:a,container:o,...s}=e;return w.createElement(H1,{open:r,onOpenChange:n},w.createElement(K1,{container:o},w.createElement(th,{"cmdk-overlay":"",className:i}),w.createElement(rh,{"aria-label":e.label,"cmdk-dialog":"",className:a},w.createElement(rU,{ref:t,...s}))))}),lje=w.forwardRef((e,t)=>Ao(r=>r.filtered.count===0)?w.createElement(je.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),cje=w.forwardRef((e,t)=>{let{progress:r,children:n,label:i="Loading...",...a}=e;return w.createElement(je.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},Sy(e,o=>w.createElement("div",{"aria-hidden":!0},o)))}),ln=Object.assign(rU,{List:oje,Item:rje,Input:aje,Group:nje,Separator:ije,Dialog:sje,Empty:lje,Loading:cje});function uje(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function dje(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function nU(e){let t=w.useRef(e);return qs(()=>{t.current=e}),t}var qs=typeof window>"u"?w.useEffect:w.useLayoutEffect;function Sl(e){let t=w.useRef();return t.current===void 0&&(t.current=e()),t}function Ao(e){let t=Aj(),r=()=>e(t.snapshot());return w.useSyncExternalStore(t.subscribe,r,r)}function iU(e,t,r,n=[]){let i=w.useRef(),a=xh();return qs(()=>{var o;let s=(()=>{var u;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():i.current}})(),c=n.map(u=>u.trim());a.value(e,s,c),(o=t.current)==null||o.setAttribute(_l,s),i.current=s}),i}var fje=()=>{let[e,t]=w.useState(),r=Sl(()=>new Map);return qs(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,i)=>{r.current.set(n,i),t({})}};function hje(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Sy({asChild:e,children:t},r){return e&&w.isValidElement(t)?w.cloneElement(hje(t),{ref:t.ref},r(t.props.children)):r(t)}var pje={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const aU=w.forwardRef(({className:e,...t},r)=>l.jsx(ln,{ref:r,className:he("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));aU.displayName=ln.displayName;const oU=w.forwardRef(({className:e,...t},r)=>l.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[l.jsx(ko,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),l.jsx(ln.Input,{ref:r,className:he("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));oU.displayName=ln.Input.displayName;const sU=w.forwardRef(({className:e,...t},r)=>l.jsx(ln.List,{ref:r,className:he("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));sU.displayName=ln.List.displayName;const lU=w.forwardRef((e,t)=>l.jsx(ln.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));lU.displayName=ln.Empty.displayName;const cU=w.forwardRef(({className:e,...t},r)=>l.jsx(ln.Group,{ref:r,className:he("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));cU.displayName=ln.Group.displayName;const mje=w.forwardRef(({className:e,...t},r)=>l.jsx(ln.Separator,{ref:r,className:he("-mx-1 h-px bg-border",e),...t}));mje.displayName=ln.Separator.displayName;const uU=w.forwardRef(({className:e,...t},r)=>l.jsx(ln.Item,{ref:r,className:he("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));uU.displayName=ln.Item.displayName;var Nj="Popover",[dU,wEe]=an(Nj,[$o]),bh=$o(),[vje,Vo]=dU(Nj),fU=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,s=bh(t),c=w.useRef(null),[u,d]=w.useState(!1),[f=!1,h]=Vi({prop:n,defaultProp:i,onChange:a});return l.jsx(og,{...s,children:l.jsx(vje,{scope:t,contentId:pr(),triggerRef:c,open:f,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(m=>!m),[h]),hasCustomAnchor:u,onCustomAnchorAdd:w.useCallback(()=>d(!0),[]),onCustomAnchorRemove:w.useCallback(()=>d(!1),[]),modal:o,children:r})})};fU.displayName=Nj;var hU="PopoverAnchor",gje=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(hU,r),a=bh(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:s}=i;return w.useEffect(()=>(o(),()=>s()),[o,s]),l.jsx(Jf,{...a,...n,ref:t})});gje.displayName=hU;var pU="PopoverTrigger",mU=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(pU,r),a=bh(r),o=Je(t,i.triggerRef),s=l.jsx(je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":bU(i.open),...n,ref:o,onClick:pe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?s:l.jsx(Jf,{asChild:!0,...a,children:s})});mU.displayName=pU;var Cj="PopoverPortal",[yje,xje]=dU(Cj,{forceMount:void 0}),vU=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,a=Vo(Cj,t);return l.jsx(yje,{scope:t,forceMount:r,children:l.jsx(on,{present:r||a.open,children:l.jsx(lu,{asChild:!0,container:i,children:n})})})};vU.displayName=Cj;var ru="PopoverContent",gU=w.forwardRef((e,t)=>{const r=xje(ru,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,a=Vo(ru,e.__scopePopover);return l.jsx(on,{present:n||a.open,children:a.modal?l.jsx(wje,{...i,ref:t}):l.jsx(_je,{...i,ref:t})})});gU.displayName=ru;var bje=So("PopoverContent.RemoveScroll"),wje=w.forwardRef((e,t)=>{const r=Vo(ru,e.__scopePopover),n=w.useRef(null),i=Je(t,n),a=w.useRef(!1);return w.useEffect(()=>{const o=n.current;if(o)return vg(o)},[]),l.jsx(eh,{as:bje,allowPinchZoom:!0,children:l.jsx(yU,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),a.current||(s=r.triggerRef.current)==null||s.focus()}),onPointerDownOutside:pe(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0,u=s.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:pe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),_je=w.forwardRef((e,t)=>{const r=Vo(ru,e.__scopePopover),n=w.useRef(!1),i=w.useRef(!1);return l.jsx(yU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,s;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(s=r.triggerRef.current)==null||s.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),yU=w.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,h=Vo(ru,r),m=bh(r);return hg(),l.jsx(Zf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:l.jsx(Ys,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(sg,{"data-state":bU(h.open),role:"dialog",id:h.contentId,...m,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),xU="PopoverClose",Sje=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Vo(xU,r);return l.jsx(je.button,{type:"button",...n,ref:t,onClick:pe(e.onClick,()=>i.onOpenChange(!1))})});Sje.displayName=xU;var jje="PopoverArrow",Eje=w.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=bh(r);return l.jsx(lg,{...i,...n,ref:t})});Eje.displayName=jje;function bU(e){return e?"open":"closed"}var Oje=fU,Pje=mU,Aje=vU,wU=gU;const Nje=Oje,Cje=Pje,_U=w.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>l.jsx(Aje,{children:l.jsx(wU,{ref:i,align:t,sideOffset:r,className:he("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));_U.displayName=wU.displayName;function Tje(){var $;const[e,t]=w.useState(""),[r,n]=w.useState(""),[i,a]=w.useState(!1),[o,s]=w.useState("all"),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[g,p]=w.useState([]),[x,b]=w.useState(!1),{data:y=[]}=_t({queryKey:["clientes"],queryFn:async()=>{const{data:N,error:A}=await ee.from("clientes").select("id,nombre,rtn");if(A)throw A;return Array.isArray(N)?N:[]}}),{data:v=[]}=_t({queryKey:["proyectos"],queryFn:async()=>{const{data:N,error:A}=await ee.from("proyectos").select("id,nombre");if(A)throw A;return Array.isArray(N)?N:[]}}),{data:S=[]}=_t({queryKey:["suscripciones",e],enabled:o==="suscripcion"&&!!e,queryFn:async()=>{const{data:N,error:A}=await ee.from("suscripciones").select("id,cliente,proyecto").eq("cliente",e);if(A)throw A;return Array.isArray(N)?N:[]}}),{data:_=[]}=_t({queryKey:["contratos",e],enabled:o==="contrato"&&!!e,queryFn:async()=>{const{data:N,error:A}=await ee.from("contratos").select("id,cliente,proyecto").eq("cliente",e);if(A)throw A;return Array.isArray(N)?N:[]}});w.useEffect(()=>{u("")},[e,o]);const j=N=>{const A=v.find(R=>R.id===N);return A?A.nombre:N},[E,O]=w.useState(!1),[P,M]=w.useState(null),C=o==="suscripcion"?(S||[]).map(N=>({id:N.proyecto,label:j(N.proyecto)})):o==="contrato"?(_||[]).map(N=>({id:N.proyecto,label:j(N.proyecto)})):[];return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsx("div",{children:l.jsx("h1",{className:"text-2xl font-semibold",children:"Estado de Cuentas"})})}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Filtros"})}),l.jsx(ge,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"RTN / Cliente"}),l.jsxs(Nje,{open:i,onOpenChange:a,children:[l.jsx(Cje,{asChild:!0,children:l.jsxs(re,{variant:"outline",role:"combobox","aria-expanded":i,className:"w-full justify-between font-normal",children:[e?(()=>{const N=y.find(A=>A.id===e);return N!=null&&N.rtn?`${N.rtn}  ${N.nombre}`:N==null?void 0:N.nombre})():"Buscar por RTN o nombre...",l.jsx(yV,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),l.jsx(_U,{className:"w-[400px] p-0",align:"start",children:l.jsxs(aU,{shouldFilter:!1,children:[l.jsx(oU,{placeholder:"Escribir RTN o nombre del cliente...",value:r,onValueChange:n}),l.jsxs(sU,{children:[l.jsx(lU,{children:"No se encontraron clientes."}),l.jsx(cU,{children:y.filter(N=>{if(!r)return!0;const A=r.toLowerCase(),R=(N.rtn||"").toLowerCase(),I=(N.nombre||"").toLowerCase();return R.includes(A)||I.includes(A)}).map(N=>l.jsxs(uU,{value:N.rtn?`${N.rtn}  ${N.nombre}`:N.nombre,onSelect:()=>{t(N.id),n(""),a(!1)},children:[l.jsx(Yf,{className:he("mr-2 h-4 w-4",e===N.id?"opacity-100":"opacity-0")}),N.rtn?`${N.rtn}  ${N.nombre}`:N.nombre]},N.id))})]})]})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Tipo de contrato"}),l.jsxs(Ui,{value:o,onValueChange:N=>s(N),children:[l.jsx(hi,{children:l.jsx(zi,{children:o==="all"?"Todos":o||"Todos"})}),l.jsxs(pi,{children:[l.jsx(Ct,{value:"all",children:"Todos"}),l.jsx(Ct,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Ct,{value:"contrato",children:"Contrato"})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Proyecto"}),l.jsxs(Ui,{value:c,onValueChange:N=>u(N),disabled:!e||o==="all",children:[l.jsx(hi,{children:l.jsx(zi,{children:!e||o==="all"?"Seleccione cliente y tipo":(($=C.find(N=>N.id===c))==null?void 0:$.label)??"Seleccione proyecto"})}),l.jsx(pi,{children:C.length===0?l.jsx(Ct,{value:"none",disabled:!0,children:"No hay proyectos"}):C.map(N=>l.jsx(Ct,{value:N.id,children:N.label},N.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fecha desde"}),l.jsx(Ue,{type:"date",value:d,onChange:N=>f(N.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium text-muted-foreground",children:"Fecha hasta"}),l.jsx(Ue,{type:"date",value:h,onChange:N=>m(N.target.value)})]}),l.jsxs("div",{className:"flex items-end gap-2",children:[l.jsx(re,{onClick:async()=>{b(!0);try{let N=ee.from("estado_cuenta").select("id,fecha,tipo,cliente_id,proyecto_id,monto,saldo_actual,nota");if(e&&(N=N.eq("cliente_id",e)),o&&o!=="all"&&(N=N.eq("tipo",o)),c&&c!=="none"&&(N=N.eq("proyecto_id",c)),d){const I=mW(d);N=N.gte("fecha",I)}if(h){const I=vW(h);N=N.lte("fecha",I)}const{data:A,error:R}=await N.order("fecha",{ascending:!1});if(R)throw R;p(Array.isArray(A)?A:[])}catch(N){console.error("Error buscando movimientos:",N)}finally{b(!1)}},disabled:!e||!o||o==="all"||!c||!d||!h,children:"Buscar"}),l.jsx(re,{variant:"ghost",onClick:()=>{t(""),n(""),s("all"),u(""),f(""),m(""),p([]),St.invalidateQueries({queryKey:["clientes"]}),St.invalidateQueries({queryKey:["proyectos"]}),St.invalidateQueries({queryKey:["suscripciones"]}),St.invalidateQueries({queryKey:["contratos"]}),St.invalidateQueries({queryKey:["pagos"]})},children:"Limpiar"})]})]})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsxs("div",{className:"flex items-center justify-between w-full",children:[l.jsx(pt,{children:"Resultados"}),l.jsx("div",{children:l.jsx(re,{size:"sm",onClick:()=>{const N=y.find(T=>T.id===e)||{},A=v.find(T=>T.id===c)||{},R=o==="contrato"?"Contrato":o==="suscripcion"?"Suscripcin":"Todos",I=(g||[]).map(T=>{var D;return`
                        <tr>
                          <td style="padding:8px;border:1px solid #ddd">${N.nombre??T.cliente_id??"-"}</td>
                          <td style="padding:8px;border:1px solid #ddd">${N.rtn??"-"}</td>
                          <td style="padding:8px;border:1px solid #ddd;text-transform:capitalize">${T.tipo}</td>
                          <td style="padding:8px;border:1px solid #ddd">${((D=v.find(H=>H.id===T.proyecto_id))==null?void 0:D.nombre)??T.proyecto_id}</td>
                          <td style="padding:8px;border:1px solid #ddd">${Xe(T.fecha)}</td>
                          <td style="padding:8px;border:1px solid #ddd">${be(Number(T.monto??0))}</td>
                          <td style="padding:8px;border:1px solid #ddd">${be(Number(T.saldo_actual??0))}</td>
                          <td style="padding:8px;border:1px solid #ddd">${T.nota??"-"}</td>
                        </tr>`}).join(`
`),z=`
                    <html>
                      <head>
                        <meta charset="utf-8" />
                        <meta name="viewport" content="width=device-width,initial-scale=1" />
                        <title>Estado de Cuenta</title>
                        <style>
                          body { font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; padding: 24px; color:#111827 }
                          .header { display:flex; align-items:center; gap:16px; margin-bottom: 20px; }
                          .logo { height:56px }
                          .info-section { margin-top: 16px; padding: 16px; background: #f9fafb; border-radius: 8px; }
                          .info-row { display: flex; gap: 32px; margin-bottom: 8px; }
                          .info-label { font-weight: 600; min-width: 100px; }
                          table { border-collapse: collapse; width:100%; margin-top:16px }
                          th, td { padding:8px; border:1px solid #ddd; text-align:left }
                          th { background:#f3f4f6; }
                        </style>
                      </head>
                      <body>
                        <div class="header">
                          <img src="/vsr.png" class="logo" alt="logo" />
                          <div>
                            <h2 style="margin: 0 0 8px 0;">Estado de Cuenta</h2>
                            <div style="color: #6b7280; font-size: 14px;">Reporte de Movimientos Financieros</div>
                          </div>
                        </div>
                        
                        <div class="info-section">
                          <div class="info-row">
                            <div><span class="info-label">Cliente:</span> ${N.nombre??"-"}</div>
                            <div><span class="info-label">RTN:</span> ${N.rtn??"-"}</div>
                          </div>
                          <div class="info-row">
                            <div><span class="info-label">Proyecto:</span> ${A.nombre??"-"}</div>
                            <div><span class="info-label">Tipo:</span> ${R}</div>
                          </div>
                          <div class="info-row">
                            <div><span class="info-label">Fecha desde:</span> ${d?Xe(d):"-"}</div>
                            <div><span class="info-label">Fecha hasta:</span> ${h?Xe(h):"-"}</div>
                          </div>
                        </div>
                        
                        <table>
                          <thead>
                            <tr>
                              <th>Cliente</th>
                              <th>RTN</th>
                              <th>Tipo</th>
                              <th>Proyecto</th>
                              <th>Fecha</th>
                              <th>Monto</th>
                              <th>Saldo Actual</th>
                              <th>Nota</th>
                            </tr>
                          </thead>
                          <tbody>
                            ${I}
                          </tbody>
                        </table>
                      </body>
                    </html>`;M(z),O(!0)},disabled:!e||(g||[]).length===0,children:"Imprimir estado de cuenta"})})]})}),l.jsx(ge,{children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Cliente"}),l.jsx(He,{children:"RTN"}),l.jsx(He,{children:"Tipo"}),l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Fecha"}),l.jsx(He,{children:"Monto"}),l.jsx(He,{children:"Saldo Actual"}),l.jsx(He,{children:"Nota"})]})}),l.jsx(co,{children:g.length===0?l.jsx(Nr,{children:l.jsx(qe,{colSpan:8,className:"text-center text-sm text-muted-foreground",children:"No hay datos que mostrar."})}):g.map(N=>{var A,R,I;return l.jsxs(Nr,{children:[l.jsx(qe,{children:((A=y.find(z=>z.id===N.cliente_id))==null?void 0:A.nombre)??N.cliente_id}),l.jsx(qe,{children:((R=y.find(z=>z.id===N.cliente_id))==null?void 0:R.rtn)??"-"}),l.jsx(qe,{className:"capitalize",children:N.tipo}),l.jsx(qe,{children:((I=v.find(z=>z.id===N.proyecto_id))==null?void 0:I.nombre)??N.proyecto_id}),l.jsx(qe,{children:Xe(N.fecha)}),l.jsx(qe,{children:be(Number(N.monto??0))}),l.jsx(qe,{children:be(Number(N.saldo_actual??0))}),l.jsx(qe,{className:"text-sm text-muted-foreground",children:N.nota??"-"})]},N.id)})})]})})]}),E&&P?l.jsx(Ut,{open:E,onOpenChange:N=>{O(N),N||M(null)},children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Estado de Cuenta"})}),l.jsx("div",{className:"mt-2",children:l.jsx(Y4,{open:E,html:P,onOpenChange:N=>{O(N),N||M(null)},autoPrint:!1})}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2 justify-end w-full",children:[l.jsx(re,{variant:"outline",onClick:()=>{O(!1),M(null)},children:"Cerrar"}),l.jsx(re,{onClick:()=>{const N=document.querySelector('iframe[title="Factura"]'),A=N==null?void 0:N.contentWindow;if(A)try{A.focus(),A.print()}catch(R){console.error("Error imprimiendo estado de cuenta:",R)}},children:"Imprimir"})]})})]})}):null]})}const bp=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function wp({title:e,value:t,icon:r,trend:n,trendValue:i,subtitle:a,loading:o}){return o?l.jsx(ve,{children:l.jsxs(ge,{className:"p-6",children:[l.jsx(Bt,{className:"h-4 w-24 mb-3"}),l.jsx(Bt,{className:"h-8 w-32 mb-2"}),l.jsx(Bt,{className:"h-3 w-20"})]})}):l.jsx(ve,{className:"hover-elevate",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:e}),l.jsx("p",{className:"text-2xl font-bold mt-1",children:t}),(n||a)&&l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[n&&i&&l.jsxs(l.Fragment,{children:[n==="up"?l.jsx(a2,{className:"h-4 w-4 text-green-500"}):l.jsx(pV,{className:"h-4 w-4 text-red-500"}),l.jsx("span",{className:`text-sm font-medium ${n==="up"?"text-green-500":"text-red-500"}`,children:i})]}),a&&l.jsx("span",{className:"text-xs text-muted-foreground",children:a})]})]}),l.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center flex-shrink-0",children:l.jsx(r,{className:"h-6 w-6 text-primary"})})]})})})}function kje(){const[e,t]=w.useState("6m"),r=Sr(),{data:n,isLoading:i}=_t({queryKey:["statistics","stats"],queryFn:async()=>{try{const[y,v,S,_]=await Promise.all([ee.from("pagos").select("monto"),ee.from("clientes").select("*"),ee.from("suscripciones").select("*"),ee.from("contratos").select("*")]),j=Array.isArray(y.data)?y.data:[],E=Array.isArray(v.data)?v.data:[],O=Array.isArray(S.data)?S.data:[],P=Array.isArray(_.data)?_.data:[],M=j.reduce((D,H)=>D+Number(H.monto??0),0),C=P.reduce((D,H)=>D+Number(H.pago_inicial??0),0),$=M+C,N=E.length,A=O.filter(D=>D.is_active===void 0?!0:!!D.is_active),R=A.length,I=A.reduce((D,H)=>{const G=parseFloat(H.mensualidad||0);return D+(isNaN(G)?0:G)},0),z=new Date;z.setHours(0,0,0,0);const T=O.filter(D=>{if(!D.proxima_fecha_de_pago)return!1;const H=new Date(D.proxima_fecha_de_pago);return H.setHours(0,0,0,0),H<=z}).length;return{totalRevenue:$,totalClients:N,pendingPayments:T,activeSubscriptions:R,monthlyRecurringRevenue:I,overduePayments:T}}catch(y){return console.error("Error loading statistics:",y),r({title:"Error cargando estadsticas",variant:"destructive"}),{totalRevenue:0,totalClients:0,pendingPayments:0,activeSubscriptions:0,monthlyRecurringRevenue:0,overduePayments:0}}}}),{data:a,isLoading:o}=_t({queryKey:["statistics","revenue"],queryFn:async()=>{const y=new Date,v=new Date(y.getFullYear(),y.getMonth()-5,1),[S,_,j]=await Promise.all([ee.from("pagos").select("id,fecha_de_creacion,monto,tipo").gte("fecha_de_creacion",v.toISOString()).order("fecha_de_creacion",{ascending:!0}),ee.from("contratos").select("*").gte("fecha_de_creacion",v.toISOString()),ee.from("suscripciones").select("*").gte("fecha_de_creacion",v.toISOString())]);if(S.error)throw S.error;const E=Array.isArray(S.data)?S.data:[],O=Array.isArray(_.data)?_.data:[];Array.isArray(j.data)&&j.data;const P={},M=new Date;for(let C=0;C<6;C++){const $=new Date(M.getFullYear(),M.getMonth()-(5-C),1),N=`${$.getFullYear()}-${($.getMonth()+1).toString().padStart(2,"0")}`;P[N]={month:$.toLocaleString(void 0,{month:"short"}),subscriptions:0,oneTime:0,revenue:0}}return E.forEach(C=>{const $=new Date(C.fecha_de_creacion),N=`${$.getFullYear()}-${($.getMonth()+1).toString().padStart(2,"0")}`;if(!P[N])return;const A=Number(C.monto??0);P[N].revenue+=A,String(C.tipo)==="suscripcion"?P[N].subscriptions+=A:P[N].oneTime+=A}),O.forEach(C=>{if(!C.pago_inicial)return;const $=new Date(C.fecha_de_creacion),N=`${$.getFullYear()}-${($.getMonth()+1).toString().padStart(2,"0")}`;if(!P[N])return;const A=Number(C.pago_inicial??0);P[N].revenue+=A,P[N].oneTime+=A}),Object.values(P)}}),{data:s}=_t({queryKey:["statistics","clients"],queryFn:async()=>{const{data:y,error:v}=await ee.from("clientes").select("id,nombre,rtn,telefono,total_amount,number_of_payments");if(v)throw v;return Array.isArray(y)?y:[]}}),{data:c}=_t({queryKey:["statistics","clients","subscriptions"],queryFn:async()=>{const{data:y,error:v}=await ee.from("suscripciones").select("cliente").eq("is_active",!0);if(v)throw v;const S=Array.isArray(y)?y.map(_=>_.cliente):[];return[...new Set(S)]}}),{data:u}=_t({queryKey:["statistics","pagos","all"],queryFn:async()=>{const{data:y,error:v}=await ee.from("pagos").select("tipo,monto");if(v)throw v;return Array.isArray(y)?y:[]}});(Array.isArray(u)?u:[]).reduce((y,v)=>{const S=(v==null?void 0:v.tipo)??"unico";return y[S]=(y[S]||0)+1,y},{});const{data:d}=_t({queryKey:["statistics","clients","by-type"],queryFn:async()=>{const[y,v]=await Promise.all([ee.from("contratos").select("cliente").eq("estado","activo"),ee.from("suscripciones").select("cliente").eq("is_active",!0)]),S=new Set((y.data||[]).map(P=>P.cliente)),_=new Set((v.data||[]).map(P=>P.cliente)),j=[...S].filter(P=>!_.has(P)).length,E=[..._].filter(P=>!S.has(P)).length,O=[...S].filter(P=>_.has(P)).length;return{contratos:j,suscripciones:E,ambos:O}}}),f=d?[{name:"Solo Contratos",value:d.contratos},{name:"Solo Suscripciones",value:d.suscripciones},{name:"Ambos",value:d.ambos}].filter(y=>y.value>0):[],h=(Array.isArray(u)?u:[]).reduce((y,v)=>{const S=(v==null?void 0:v.tipo)??"unico";return y[S]=(y[S]||0)+Number((v==null?void 0:v.monto)??0),y},{}),m=Object.entries(h).map(([y,v])=>({name:m2(y),value:v})),g=(n==null?void 0:n.totalRevenue)||0,p=s&&s.length>0?g/s.length:0,x=(s==null?void 0:s.filter(y=>y.amountPending>0))||[],b=x.reduce((y,v)=>y+v.amountPending,0);return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold tracking-tight","data-testid":"text-page-title",children:"Estadisticas"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Analisis detallado de tu negocio"})]}),l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs(Ui,{value:e,onValueChange:t,children:[l.jsxs(hi,{className:"w-[150px]","data-testid":"select-time-range",children:[l.jsx(o2,{className:"h-4 w-4 mr-2"}),l.jsx(zi,{})]}),l.jsxs(pi,{children:[l.jsx(Ct,{value:"1m",children:"Ultimo mes"}),l.jsx(Ct,{value:"3m",children:"Ultimos 3 meses"}),l.jsx(Ct,{value:"6m",children:"Ultimos 6 meses"}),l.jsx(Ct,{value:"1y",children:"Ultimo anio"})]})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(wp,{title:"Ingresos Totales",value:be(g),icon:p0,trend:"up",trendValue:"+18.2%",loading:i}),l.jsx(wp,{title:"Clientes Totales",value:String((n==null?void 0:n.totalClients)||0),icon:Kd,trend:"up",trendValue:"+5",loading:i}),l.jsx(wp,{title:"MRR",value:be((n==null?void 0:n.monthlyRecurringRevenue)||0),icon:eg,subtitle:`${(n==null?void 0:n.activeSubscriptions)||0} suscripciones`,loading:i}),l.jsx(wp,{title:"Deudas Pendientes",value:be(b),icon:Oc,subtitle:`${x.length} clientes`,loading:i})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs(ve,{className:"lg:col-span-2",children:[l.jsxs(ht,{className:"flex flex-row items-center justify-between gap-4",children:[l.jsx(pt,{className:"text-lg font-semibold",children:"Evolucion de Ingresos"}),l.jsx(xr,{variant:"secondary",className:"text-xs",children:"Mensual"})]}),l.jsx(ge,{children:o?l.jsx(Bt,{className:"h-[300px] w-full"}):l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(Obe,{data:a||[],children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),l.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),l.jsx(rc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Fi,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(Bi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:y=>`L ${y/1e3}k`}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:y=>[be(y),"Total"]}),l.jsx(Fo,{type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-1))",strokeWidth:2,fill:"url(#colorRevenue)"})]})})})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{className:"text-lg font-semibold",children:"Clientes por Tipo"})}),l.jsxs(ge,{children:[l.jsx("div",{className:"h-[200px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(t3,{children:[l.jsx(Yi,{data:f,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:5,dataKey:"value",children:f.map((y,v)=>l.jsx(oh,{fill:bp[v%bp.length]},`cell-${v}`))}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}})]})})}),l.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:f.map((y,v)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:bp[v%bp.length]}}),l.jsxs("span",{className:"text-xs text-muted-foreground",children:[y.name," (",y.value,")"]})]},y.name))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{className:"text-lg font-semibold",children:"Ingresos por Tipo de Pago"})}),l.jsx(ge,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(t_,{data:m,layout:"vertical",children:[l.jsx(rc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Fi,{type:"number",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:y=>`L ${y/1e3}k`}),l.jsx(Bi,{type:"category",dataKey:"name",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},width:100}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:y=>[be(y),""]}),l.jsx(fi,{dataKey:"value",fill:"hsl(var(--chart-1))",radius:[0,4,4,0]})]})})})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{className:"text-lg font-semibold",children:"Comparativa Mensual"})}),l.jsx(ge,{children:l.jsx("div",{className:"h-[300px]",children:l.jsx(cs,{width:"100%",height:"100%",children:l.jsxs(t_,{data:a||[],children:[l.jsx(rc,{strokeDasharray:"3 3",className:"stroke-muted"}),l.jsx(Fi,{dataKey:"month",className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"}}),l.jsx(Bi,{className:"text-xs",tick:{fill:"hsl(var(--muted-foreground))"},tickFormatter:y=>`L ${y/1e3}k`}),l.jsx(Cr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:y=>[be(y),""]}),l.jsx(Es,{}),l.jsx(fi,{dataKey:"oneTime",name:"Pagos Unicos",fill:"hsl(var(--chart-1))",radius:[4,4,0,0]}),l.jsx(fi,{dataKey:"subscriptions",name:"Suscripciones",fill:"hsl(var(--chart-2))",radius:[4,4,0,0]})]})})})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsx(ve,{className:"hover-elevate",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(p0,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Promedio por Cliente"}),l.jsx("p",{className:"text-2xl font-bold",children:be(p)})]})]})})}),l.jsx(ve,{className:"hover-elevate",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(jo,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"ARR Proyectado"}),l.jsx("p",{className:"text-2xl font-bold",children:be(((n==null?void 0:n.monthlyRecurringRevenue)||0)*12)})]})]})})}),l.jsx(ve,{className:"hover-elevate",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/10 flex items-center justify-center flex-shrink-0",children:l.jsx(Kd,{className:"h-6 w-6 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Tasa de Suscripcion"}),l.jsx("p",{className:"text-2xl font-bold",children:s&&s.length>0&&c?`${Math.round(c.length/s.length*100)}%`:"0%"}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[(c==null?void 0:c.length)||0," de ",(s==null?void 0:s.length)||0," clientes"]})]})]})})})]})]})}function $je(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(null),[o,s]=w.useState(""),[c,u]=w.useState(!1),[d,f]=w.useState(null),{toast:h}=Sr(),[,m]=Aa(),g=hj({defaultValues:{nombre:"",tipo:"",correo_administracion:"",contrasena:""}}),p=A=>{var R,I,z,T;return{nombre:((R=A==null?void 0:A.nombre)==null?void 0:R.toString().trim())??"",tipo:((I=A==null?void 0:A.tipo)==null?void 0:I.toString().trim())??"",correo_administracion:((z=A==null?void 0:A.correo_administracion)==null?void 0:z.toString().trim())??"",contrasena:((T=A==null?void 0:A.contrasena)==null?void 0:T.toString().trim())??""}};async function x(){n(!0),a(null);const{data:A,error:R}=await ee.from("proyectos").select("*").order("creacion",{ascending:!1});R?(a(R.message??"Error al cargar proyectos"),t([])):Array.isArray(A)?t(A):t([]),n(!1)}w.useEffect(()=>(x(),()=>{}),[]);const b=async A=>{try{if(d){const{error:R}=await ee.from("proyectos").update({nombre:A.nombre,tipo:A.tipo,correo_administracion:A.correo_administracion,contrasena:A.contrasena}).eq("id",d.id).select();if(R)throw R;h({title:"Proyecto actualizado"})}else{const{error:R}=await ee.from("proyectos").insert([{nombre:A.nombre,tipo:A.tipo,correo_administracion:A.correo_administracion,contrasena:A.contrasena}]);if(R)throw R;h({title:"Proyecto creado"})}u(!1),f(null),g.reset(),await x()}catch(R){console.error("Error guardando proyecto:",R),h({title:"Error al guardar proyecto",description:(R==null?void 0:R.message)??String(R)})}},y=A=>{f(A),g.reset(p(A)),u(!0)},[v,S]=w.useState(!1),[_,j]=w.useState(""),[E,O]=w.useState(null),[P,M]=w.useState(null),[C,$]=w.useState(!1),N=async A=>{try{const{error:R}=await ee.from("proyectos").delete().eq("id",A);if(R)throw R;h({title:"Proyecto eliminado"}),await x()}catch(R){console.error("Error eliminando proyecto:",R),h({title:"Error al eliminar proyecto",description:(R==null?void 0:R.message)??String(R)})}};return l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Proyectos"}),l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Lista de proyectos. Los datos provienen de la tabla"," ",l.jsx("code",{children:"proyectos"})," en Supabase."]})]}),l.jsx("div",{children:l.jsx(re,{onClick:()=>{f(null),g.reset(p(null)),u(!0)},children:"Crear Proyecto"})})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por nombre o tipo...",value:o,onChange:A=>s(A.target.value),className:"pl-10"})]}),l.jsxs("div",{children:[r&&l.jsx("p",{children:"Cargando proyectos..."}),i&&l.jsx("p",{className:"text-destructive",children:i}),!r&&e.length===0&&!i&&l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:"No hay proyectos todava."})}),l.jsx("div",{className:"space-y-3",children:e.filter(A=>{if(!o)return!0;const R=o.toLowerCase(),I=(A.nombre||"").toLowerCase(),z=(A.tipo||"").toLowerCase();return I.includes(R)||z.includes(R)}).map(A=>l.jsx(ve,{className:"hover-elevate shadow-sm cursor-pointer transition-all",onClick:()=>m(`/clientes/proyecto/${A.id}`),children:l.jsx(ge,{className:"p-4",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0 sm:col-span-2",children:[l.jsx("h3",{className:"text-lg font-semibold truncate",children:A.nombre??"Sin nombre"}),l.jsx(xr,{variant:"secondary",className:"mt-1",children:A.tipo??""})]}),l.jsxs("div",{className:"text-sm min-w-0",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Admin"}),l.jsx("div",{className:"truncate",children:A.correo_administracion??""})]}),l.jsxs("div",{className:"text-sm min-w-0",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Contrasea"}),l.jsx("div",{className:"truncate font-mono",children:A.contrasena?"********":""})]}),l.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[l.jsx("div",{className:"text-xs text-muted-foreground hidden sm:block",children:A.creacion?new Date(A.creacion).toLocaleDateString():""}),l.jsx(re,{size:"sm",variant:"ghost",onClick:R=>{R.stopPropagation(),O(A),j(""),S(!0)},children:"Editar"}),l.jsx(re,{size:"sm",variant:"destructive",onClick:R=>{R.stopPropagation(),M(A.id),j(""),S(!0)},children:"Eliminar"})]})]})})})},A.id))})]}),l.jsx(Ut,{open:c,onOpenChange:A=>{u(A),A?d&&g.reset(p(d)):(f(null),g.reset(p(null)))},children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:d?"Editar Proyecto":"Nuevo Proyecto"})}),l.jsx(pj,{...g,children:l.jsxs("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Nombre"}),l.jsx(Xt,{children:l.jsx(Ue,{...g.register("nombre",{required:!0})})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Tipo"}),l.jsx(Xt,{children:l.jsx(Ue,{...g.register("tipo")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Correo administracin"}),l.jsx(Xt,{children:l.jsx(Ue,{...g.register("correo_administracion")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Contrasea"}),l.jsx(Xt,{children:l.jsx(Ue,{...g.register("contrasena")})})]}),l.jsxs($t,{children:[l.jsx(re,{type:"button",variant:"outline",onClick:()=>{u(!1),f(null)},children:"Cancelar"}),l.jsx(re,{type:"submit",children:d?"Guardar":"Crear"})]})]})})]})}),l.jsx(Ut,{open:v,onOpenChange:A=>S(A),children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{className:"text-blue-600 dark:text-blue-400",children:"Confirmar accin"})}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ingresa la clave de acceso para continuar"}),l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:_,onChange:A=>j(A.target.value),className:"block w-full rounded-md border p-2 text-blue-600 dark:text-blue-400"})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{S(!1),O(null),M(null),j("")},children:"Cancelar"}),l.jsx(re,{onClick:async()=>{try{$(!0);const{data:A,error:R}=await ee.from("configuracion").select("clave").limit(1).single();if(R)throw R;const I=(A==null?void 0:A.clave)??null;if(!I){h({title:"No hay clave configurada"});return}if(_!==I){h({title:"Clave incorrecta"});return}E&&y(E),P&&await N(P),S(!1),O(null),M(null),j("")}catch(A){console.error("Error verificando clave:",A),h({title:"Error verificando clave",description:(A==null?void 0:A.message)??String(A)})}finally{$(!1)}},children:"Confirmar"})]})})]})})]})}function Rje({open:e,onOpenChange:t,onCreated:r,initialData:n=null}){const{toast:i}=Sr(),[a,o]=w.useState(1),[s,c]=w.useState([]),[u,d]=w.useState([]),[f,h]=w.useState(""),[m,g]=w.useState(""),p=hj({defaultValues:{tipo_de_venta:"suscripcion",cantidad_de_pagos:1}});w.useEffect(()=>{e&&(x(),p.reset(n??{}),o(1))},[e]);async function x(){try{const[{data:v},{data:S}]=await Promise.all([ee.from("proyectos").select("id,nombre").order("creacion",{ascending:!1}),ee.from("clientes").select("id,nombre").order("nombre",{ascending:!0})]);c(Array.isArray(v)?v:[]),d(Array.isArray(S)?S:[])}catch(v){console.error("Error cargando proyectos/clientes:",v)}}const b=async v=>{try{if(!v.proyecto){i({title:"Selecciona un proyecto"});return}if(!v.cliente){i({title:"Selecciona un cliente"});return}const S=v.pago_inicial?Number(v.pago_inicial):0,_=v.cantidad_de_pagos?Number(v.cantidad_de_pagos):1,j=v.total_a_pagar?Number(v.total_a_pagar):0,E=v.mensualidad?Number(v.mensualidad):_>0?Number((j/_).toFixed(2)):0,O=v.tipo_de_venta??"suscripcion";if(O==="venta_total"&&(!j||j<=0)){i({title:"Total a pagar debe ser mayor que 0"});return}if(O==="suscripcion"&&(!E||E<=0)){i({title:"Mensualidad debe ser mayor que 0"});return}const P={fecha:g0(),cliente:String(v.cliente),proyecto:String(v.proyecto),tipo_de_venta:O,pago_inicial:S,cantidad_de_pagos:_,total_a_pagar:j,mensualidad:E,dia_de_pago_mensual:v.dia_de_pago_mensual?Number(v.dia_de_pago_mensual):null},{error:M}=await ee.from("venta").insert([P]);if(M)throw M;i({title:"Venta registrada"});try{O==="venta_total"?(await ee.from("estado_cuenta").insert([{cliente_id:P.cliente,proyecto_id:P.proyecto,tipo:"contrato",monto:j,saldo_actual:j,nota:"CONTRATO ADQUIRIDO",fecha:P.fecha}]),S>0&&await ee.from("estado_cuenta").insert([{cliente_id:P.cliente,proyecto_id:P.proyecto,tipo:"contrato",monto:S,saldo_actual:j-S,nota:"PAGO INICIAL",fecha:P.fecha}])):O==="suscripcion"&&S>0&&await ee.from("estado_cuenta").insert([{cliente_id:P.cliente,proyecto_id:P.proyecto,tipo:"suscripcion",monto:S,saldo_actual:S,nota:"PAGO INICIAL",fecha:P.fecha}])}catch(C){console.error("Error registrando en estado_cuenta:",C)}if(O==="suscripcion")try{const C=P.dia_de_pago_mensual??null,$=y(C),N={fecha_de_creacion:P.fecha,proyecto:P.proyecto,cliente:P.cliente,mensualidad:P.mensualidad,dia_de_pago_mensual:P.dia_de_pago_mensual,proxima_fecha_de_pago:$},{error:A}=await ee.from("suscripciones").insert([N]);A?(console.error("Error creando suscripcin:",A),i({title:"Venta registrada",description:"Pero no se pudo crear la suscripcin"})):i({title:"Suscripcin creada"})}catch(C){console.error("Error al insertar suscripcin:",C)}if(O==="venta_total")try{const C={fecha_de_creacion:P.fecha,cliente:P.cliente,proyecto:P.proyecto,monto_total:P.total_a_pagar??0,cantidad_de_pagos:P.cantidad_de_pagos??1,pago_inicial:P.pago_inicial??0,estado:"activo"},{error:$}=await ee.from("contratos").insert([C]);$?(console.error("Error creando contrato:",$),i({title:"Venta registrada",description:"Pero no se pudo crear el contrato"})):i({title:"Contrato creado"})}catch(C){console.error("Error al insertar contrato:",C)}t(!1),p.reset(),r==null||r()}catch(S){console.error("Error creando venta:",S),i({title:"Error al crear venta",description:(S==null?void 0:S.message)??String(S)})}};function y(v){if(!v||v<1||v>31)return null;const S=new Date;let _=S.getFullYear(),j=S.getMonth();S.getDate()>v&&(j+=1,j>11&&(j=0,_+=1));const E=new Date(_,j+1,0).getDate(),O=Math.min(v,E);return new Date(_,j,O).toISOString()}return l.jsx(Ut,{open:e,onOpenChange:t,children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:n?"Editar Venta":"Crear Venta"})}),l.jsx(pj,{...p,children:l.jsxs("form",{onSubmit:p.handleSubmit(b),className:"space-y-4",children:[l.jsxs("div",{className:"text-sm font-medium",children:["Paso ",a," de 4"]}),a===1&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Tipo de venta"}),l.jsx(Xt,{children:l.jsxs(Ui,{value:String(p.watch("tipo_de_venta")??""),onValueChange:v=>p.setValue("tipo_de_venta",v),children:[l.jsx(hi,{children:l.jsx(zi,{placeholder:"Selecciona tipo"})}),l.jsxs(pi,{children:[l.jsx(Ct,{value:"suscripcion",children:"Suscripcin"}),l.jsx(Ct,{value:"venta_total",children:"Venta total"})]})]})})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>t(!1),children:"Cancelar"}),l.jsx(re,{onClick:()=>o(2),children:"Siguiente"})]})]}),a===2&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Buscar Proyecto"}),l.jsx(Xt,{children:l.jsx(Ue,{value:f,onChange:v=>h(v.target.value),placeholder:"Filtrar proyectos..."})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Proyecto"}),l.jsx(Xt,{children:l.jsxs(Ui,{value:String(p.watch("proyecto")??""),onValueChange:v=>p.setValue("proyecto",v),children:[l.jsx(hi,{children:l.jsx(zi,{placeholder:" Selecciona "})}),l.jsx(pi,{children:s.filter(v=>(v.nombre??"").toLowerCase().includes(f.toLowerCase())).map(v=>l.jsx(Ct,{value:v.id,children:v.nombre??v.id},v.id))})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(1),children:"Atrs"}),l.jsx(re,{onClick:()=>o(3),children:"Siguiente"})]})]}),a===3&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Buscar Cliente"}),l.jsx(Xt,{children:l.jsx(Ue,{value:m,onChange:v=>g(v.target.value),placeholder:"Filtrar clientes..."})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Cliente"}),l.jsx(Xt,{children:l.jsxs(Ui,{value:String(p.watch("cliente")??""),onValueChange:v=>p.setValue("cliente",v),children:[l.jsx(hi,{children:l.jsx(zi,{placeholder:" Selecciona "})}),l.jsx(pi,{children:u.filter(v=>(v.nombre??"").toLowerCase().includes(m.toLowerCase())).map(v=>l.jsx(Ct,{value:v.id,children:v.nombre??v.id},v.id))})]})})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(2),children:"Atrs"}),l.jsx(re,{onClick:()=>o(4),children:"Siguiente"})]})]}),a===4&&l.jsxs("div",{className:"space-y-3",children:[p.watch("tipo_de_venta")==="suscripcion"?l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago inicial"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",step:"0.01",...p.register("pago_inicial")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Mensualidad"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",step:"0.01",...p.register("mensualidad")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Da de pago mensual (1-31)"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",min:1,max:31,...p.register("dia_de_pago_mensual"),placeholder:"Da del mes"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago total"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",step:"0.01",...p.register("total_a_pagar")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Cantidad de pagos"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",...p.register("cantidad_de_pagos")})})]}),l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Pago inicial"}),l.jsx(Xt,{children:l.jsx(Ue,{type:"number",step:"0.01",...p.register("pago_inicial")})})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx(re,{variant:"outline",onClick:()=>o(3),children:"Atrs"}),l.jsx(re,{type:"submit",children:"Crear venta"})]})]})]})}),l.jsx($t,{})]})})}function Ije(){const[e,t]=w.useState([]),[r,n]=w.useState(!0),[i,a]=w.useState(null),[o,s]=w.useState(!1),[c,u]=w.useState(null),[d,f]=w.useState(""),[h,m]=w.useState({}),[g,p]=w.useState({});async function x(){n(!0),a(null);const{data:S,error:_}=await ee.from("venta").select("*").order("fecha",{ascending:!1});_?(a(_.message??"Error al cargar ventas"),t([])):Array.isArray(S)?t(S):t([]),n(!1)}async function b(){try{const[S,_]=await Promise.all([ee.from("proyectos").select("id,nombre"),ee.from("clientes").select("id,nombre")]),j=Array.isArray(S.data)?S.data:[],E=Array.isArray(_.data)?_.data:[],O={},P={};j.forEach(M=>{M!=null&&M.id&&(O[M.id]=M.nombre??M.id)}),E.forEach(M=>{M!=null&&M.id&&(P[M.id]=M.nombre??M.id)}),m(O),p(P)}catch(S){console.error("Error cargando meta proyectos/clientes:",S)}}w.useEffect(()=>{x(),b()},[]);const y=()=>{u(null),s(!0)};Sr();const v=S=>S==null?"":S.toLocaleString();return l.jsx(l.Fragment,{children:l.jsxs("div",{className:"p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Ventas de Proyectos"}),l.jsxs("p",{className:"text-muted-foreground mt-1",children:["Listado de ventas conectadas a la tabla ",l.jsx("code",{children:"venta"})," en Supabase."]})]}),l.jsx("div",{children:l.jsx(re,{onClick:y,children:"Crear Venta"})})]}),l.jsxs("div",{className:"relative max-w-md",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por proyecto o cliente...",value:d,onChange:S=>f(S.target.value),className:"pl-10"})]}),l.jsxs("div",{children:[r&&l.jsx("p",{children:"Cargando ventas..."}),i&&l.jsx("p",{className:"text-destructive",children:i}),!r&&e.length===0&&!i&&l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:"No hay ventas registradas."})}),!r&&e.length>0&&l.jsx("div",{className:"space-y-3",children:e.filter(S=>{if(!d)return!0;const _=d.toLowerCase(),j=(h[S.proyecto??""]||S.proyecto||"").toLowerCase(),E=(g[S.cliente??""]||S.cliente||"").toLowerCase();return j.includes(_)||E.includes(_)}).map(S=>l.jsx(ve,{className:"hover-elevate shadow-sm transition-all",children:l.jsx(ge,{className:"p-4",children:l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex-1 min-w-0 grid grid-cols-1 sm:grid-cols-5 gap-4 items-center",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("h3",{className:"font-semibold truncate",children:l.jsx(Kl,{href:`/clientes/proyecto/${S.proyecto}`,className:"hover:underline",children:h[S.proyecto??""]??S.proyecto??"Proyecto sin nombre"})}),l.jsx("div",{className:"text-sm text-muted-foreground truncate",children:l.jsx(Kl,{href:`/clientes/${S.cliente}`,className:"hover:underline",children:g[S.cliente??""]??S.cliente??""})})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Tipo"}),l.jsx(xr,{variant:"secondary",children:S.tipo_de_venta??""})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Pago inicial"}),l.jsx("div",{className:"font-medium",children:v(S.pago_inicial)})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Total / Mensualidad"}),l.jsxs("div",{className:"font-medium",children:[v(S.total_a_pagar)," / ",v(S.mensualidad)]})]}),l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"text-xs uppercase font-medium text-muted-foreground mb-1",children:"Cant. pagos"}),l.jsx("div",{children:S.cantidad_de_pagos??""})]})]})})})},S.id))})]}),l.jsx(Rje,{open:o,onOpenChange:S=>{s(S),S||u(null)},onCreated:async()=>{await x(),await b()},initialData:c})]})})}var Tj="Progress",kj=100,[Mje,_Ee]=an(Tj),[Dje,Lje]=Mje(Tj),SU=w.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=Fje,...o}=e;(i||i===0)&&!IT(i)&&console.error(Bje(`${i}`,"Progress"));const s=IT(i)?i:kj;n!==null&&!MT(n,s)&&console.error(Uje(`${n}`,"Progress"));const c=MT(n,s)?n:null,u=Tv(c)?a(c,s):void 0;return l.jsx(Dje,{scope:r,value:c,max:s,children:l.jsx(je.div,{"aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":Tv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":OU(c,s),"data-value":c??void 0,"data-max":s,...o,ref:t})})});SU.displayName=Tj;var jU="ProgressIndicator",EU=w.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Lje(jU,r);return l.jsx(je.div,{"data-state":OU(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});EU.displayName=jU;function Fje(e,t){return`${Math.round(e/t*100)}%`}function OU(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Tv(e){return typeof e=="number"}function IT(e){return Tv(e)&&!isNaN(e)&&e>0}function MT(e,t){return Tv(e)&&!isNaN(e)&&e<=t&&e>=0}function Bje(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kj}\`.`}function Uje(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kj} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var PU=SU,zje=EU;const jy=w.forwardRef(({className:e,value:t,...r},n)=>l.jsx(PU,{ref:n,className:he("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:l.jsx(zje,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));jy.displayName=PU.displayName;function Vje(){const[e,t]=yR("/clientes/:id"),[,r]=Aa(),n=t==null?void 0:t.id,[i,a]=w.useState(null),[o,s]=w.useState([]),[c,u]=w.useState([]),[d,f]=w.useState([]),[h,m]=w.useState([]);w.useState(!1);const[g,p]=w.useState(!0),{toast:x}=Sr(),[b,y]=w.useState(null),[v,S]=w.useState(!1),[_,j]=w.useState(null),[E,O]=w.useState(!1),[P,M]=w.useState(!1),[C,$]=w.useState([]),[N,A]=w.useState(!1),[R,I]=w.useState(null),[z,T]=w.useState(!1),[D,H]=w.useState([]),[G,k]=w.useState(!1),[F,K]=w.useState(!1),[J,se]=w.useState(""),[te,ae]=w.useState(""),[Y,de]=w.useState(!1),[ue,X]=w.useState(!1),[De,Ce]=w.useState(!1),[et,Ye]=w.useState(null),[W,me]=w.useState(null);w.useEffect(()=>{async function U(){if(n){p(!0);try{const[Oe,Ne,zt,Xi,Ij]=await Promise.all([ee.from("clientes").select("*").eq("id",n).limit(1).single(),ee.from("pagos").select("id,fecha_de_creacion,tipo,proyecto,monto,notas,referencia_id,created_at").eq("cliente",n).order("fecha_de_creacion",{ascending:!1}),ee.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n),ee.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n),ee.from("avances").select("id,nombre_proyecto,porcentaje_avance,estado,total_caracteristicas,caracteristicas_completadas").eq("cliente_id",n).order("fecha_creacion",{ascending:!1})]);Oe.error||a(Oe.data),s(Array.isArray(Ne.data)?Ne.data:[]),u(Array.isArray(zt.data)?zt.data:[]),f(Array.isArray(Xi.data)?Xi.data:[]),m(Array.isArray(Ij.data)?Ij.data:[])}catch(Oe){console.error("Error cargando detalle de cliente:",Oe)}finally{p(!1)}}}U()},[n]);async function le(U){y(U);const Oe=U!=null&&U.proximo_pago?new Date(U.proximo_pago).toISOString().slice(0,16):"";j(Oe||null),O(!1),S(!0),await Ie(U==null?void 0:U.id)}async function Ie(U){if(U)try{A(!0);const{data:Oe,error:Ne}=await ee.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",U).eq("tipo","contrato").order("fecha_de_creacion",{ascending:!1});if(Ne)throw Ne;$(Array.isArray(Oe)?Oe:[])}catch(Oe){console.error("Error cargando pagos del contrato:",Oe),x({title:"Error cargando pagos",description:String(Oe)}),$([])}finally{A(!1)}}async function Ve(){if(b)try{const U=_?new Date(_).toISOString():null,{error:Oe}=await ee.from("contratos").update({proximo_pago:U}).eq("id",b.id);if(Oe)throw Oe;x({title:"Prximo pago actualizado"});const{data:Ne}=await ee.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n);u(Array.isArray(Ne)?Ne:[]),M(!1),O(!1),y({...b,proximo_pago:U})}catch(U){console.error("Error actualizando prximo pago:",U),x({title:"Error actualizando prximo pago",description:(U==null?void 0:U.message)??String(U)})}}async function B(U){I(U),se(String((U==null?void 0:U.mensualidad)??""));const Oe=U!=null&&U.proxima_fecha_de_pago?new Date(U.proxima_fecha_de_pago).toISOString().slice(0,10):"";ae(Oe),K(!1),T(!0),await q(U==null?void 0:U.id)}async function q(U){if(U)try{k(!0);const{data:Oe,error:Ne}=await ee.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",U).eq("tipo","suscripcion").order("fecha_de_creacion",{ascending:!1});if(Ne)throw Ne;H(Array.isArray(Oe)?Oe:[])}catch(Oe){console.error("Error cargando pagos de suscripcin:",Oe),x({title:"Error cargando pagos",description:String(Oe)}),H([])}finally{k(!1)}}async function Q(){if(R)try{const{error:U}=await ee.from("suscripciones").update({mensualidad:Number(J),proxima_fecha_de_pago:te||null}).eq("id",R.id);if(U)throw U;x({title:"Suscripcin actualizada"});const{data:Oe}=await ee.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n);f(Array.isArray(Oe)?Oe:[]),de(!1),K(!1),I({...R,mensualidad:Number(J),proxima_fecha_de_pago:te||null})}catch(U){console.error("Error actualizando suscripcin:",U),x({title:"Error actualizando suscripcin",description:(U==null?void 0:U.message)??String(U)})}}async function ne(){if(R)try{const U=!R.is_active,{error:Oe}=await ee.from("suscripciones").update({is_active:U}).eq("id",R.id);if(Oe)throw Oe;x({title:U?"Suscripcin reactivada":"Suscripcin pausada"});const{data:Ne}=await ee.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n);f(Array.isArray(Ne)?Ne:[]),I({...R,is_active:U})}catch(U){console.error("Error cambiando estado de suscripcin:",U),x({title:"Error",description:(U==null?void 0:U.message)??String(U)})}}const oe=o||[],ie=c.map(U=>{const Oe=(oe||[]).filter(zt=>zt.tipo==="contrato"&&String(zt.referencia_id)===String(U.id)).reduce((zt,Xi)=>zt+Number(Xi.monto??0),0),Ne=Number(U.monto_total??0)-Number(U.pago_inicial??0)-Oe;return{...U,pagos_registrados:Oe,restante:Ne}}),ye=ie.reduce((U,Oe)=>U+Math.max(0,Number(Oe.restante??0)),0),Be=new Date,rt=(d||[]).filter(U=>{const Oe=U.proxima_fecha_de_pago?new Date(U.proxima_fecha_de_pago):null;return U.is_active&&Oe&&Oe<Be}).map(U=>({...U,monto_due:Number(U.mensualidad??0),fecha:U.proxima_fecha_de_pago})),Et=rt.reduce((U,Oe)=>U+Number(Oe.monto_due??0),0),ka=ye+Et,qn=[];return ie.forEach(U=>{if(U.proximo_pago&&new Date(U.proximo_pago)<Be&&U.estado==="activo"){const Ne=Number(U.cantidad_de_pagos??1)>0?(Number(U.monto_total??0)-Number(U.pago_inicial??0))/Number(U.cantidad_de_pagos??1):0;qn.push({tipo:"contrato",proyecto:U.proyecto,fecha:U.proximo_pago,monto:Ne,contratoId:U.id})}}),rt.forEach(U=>{qn.push({tipo:"suscripcion",proyecto:U.proyecto,fecha:U.fecha,monto:U.monto_due,suscripcionId:U.id})}),n?l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Detalle de Cliente"}),i&&l.jsx(re,{onClick:()=>Ce(!0),children:"Cobrar"})]}),l.jsxs("div",{className:"mt-6",children:[g&&l.jsx("p",{children:"Cargando..."}),!g&&!i&&l.jsx("p",{children:"No se encontr el cliente."}),i&&l.jsxs(l.Fragment,{children:[l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Nombre:"})," ",i.nombre]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Telfono:"})," ",i.telefono??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"RTN:"})," ",i.rtn??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Oficio:"})," ",i.oficio??""]})]})})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Saldo total"})}),l.jsxs(ge,{children:[l.jsx("div",{className:"text-2xl font-bold",children:be(ka)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Suma de contratos pendientes y suscripciones vencidas"})]})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Saldo contratos"})}),l.jsxs(ge,{children:[l.jsx("div",{className:"text-xl font-semibold",children:be(ye)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Total restante en contratos"})]})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Suscripciones vencidas"})}),l.jsxs(ge,{children:[l.jsx("div",{className:"text-xl font-semibold",children:be(Et)}),l.jsx("div",{className:"text-sm text-muted-foreground mt-2",children:"Total mensualidades vencidas"})]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Prximos pagos"})}),l.jsx(ge,{children:(()=>{const U=[];ie.forEach(Ne=>{if(Ne.proximo_pago&&new Date(Ne.proximo_pago)>=new Date(new Date().setHours(0,0,0,0))&&Ne.estado==="activo"){const Xi=Number(Ne.cantidad_de_pagos??1)>0?(Number(Ne.monto_total??0)-Number(Ne.pago_inicial??0))/Number(Ne.cantidad_de_pagos??1):0;U.push({tipo:"contrato",proyecto:Ne.proyecto,fecha:Ne.proximo_pago,monto:Xi,contratoId:Ne.id})}}),(d||[]).forEach(Ne=>{Ne.proxima_fecha_de_pago&&new Date(Ne.proxima_fecha_de_pago)>=new Date(new Date().setHours(0,0,0,0))&&Ne.is_active&&U.push({tipo:"suscripcion",proyecto:Ne.proyecto,fecha:Ne.proxima_fecha_de_pago,monto:Number(Ne.mensualidad??0),suscripcionId:Ne.id})}),U.sort((Ne,zt)=>new Date(Ne.fecha).getTime()-new Date(zt.fecha).getTime());const Oe=U.slice(0,5);return Oe.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay prximos pagos"}):l.jsx("div",{className:"space-y-2",children:Oe.map((Ne,zt)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm",children:[l.jsx("div",{className:"font-medium",children:Ne.tipo==="contrato"?"Contrato":"Suscripcin"}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Ne.proyecto??"-"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-medium",children:be(Number(Ne.monto??0))}),l.jsx("div",{className:"text-xs text-muted-foreground",children:Xe(Ne.fecha)})]})]},zt))})})()})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Contratos activos"})}),l.jsx(ge,{children:ie.filter(U=>U.estado==="activo").length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay contratos activos"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Monto total"}),l.jsx(He,{children:"Saldo"}),l.jsx(He,{children:"Prximo pago"})]})}),l.jsx(co,{children:ie.filter(U=>U.estado==="activo").map(U=>l.jsxs(Nr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>le(U),children:[l.jsx(qe,{className:"font-medium",children:U.proyecto??"-"}),l.jsx(qe,{children:be(Number(U.monto_total??0))}),l.jsx(qe,{className:"text-primary font-medium",children:be(Number(U.restante??0))}),l.jsx(qe,{className:"text-sm",children:U.proximo_pago?Xe(U.proximo_pago):"-"})]},U.id))})]})})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Suscripciones activas"})}),l.jsx(ge,{children:d.filter(U=>U.is_active).length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay suscripciones activas"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Mensualidad"}),l.jsx(He,{children:"Prximo pago"}),l.jsx(He,{children:"Estado"})]})}),l.jsx(co,{children:d.filter(U=>U.is_active).map(U=>l.jsxs(Nr,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>B(U),children:[l.jsx(qe,{className:"font-medium",children:U.proyecto??"-"}),l.jsx(qe,{children:be(Number(U.mensualidad??0))}),l.jsx(qe,{className:"text-sm",children:U.proxima_fecha_de_pago?Xe(U.proxima_fecha_de_pago):"-"}),l.jsx(qe,{children:(()=>{const Oe=new Date,Ne=U.proxima_fecha_de_pago?new Date(U.proxima_fecha_de_pago):null;Oe.setHours(0,0,0,0),Ne&&Ne.setHours(0,0,0,0);const zt=Ne&&Oe>Ne;return l.jsx(xr,{variant:zt?"destructive":"secondary",children:zt?"Vencida":"Al da"})})()})]},U.id))})]})})})]})]}),h.length>0&&l.jsx("div",{className:"mt-6",children:l.jsxs(ve,{children:[l.jsxs(ht,{className:"flex flex-row items-center justify-between",children:[l.jsxs(pt,{className:"flex items-center gap-2",children:[l.jsx(jo,{className:"h-5 w-5"}),"Avances de Proyectos"]}),l.jsx(re,{variant:"ghost",size:"sm",onClick:()=>r("/avances"),children:"Ver todos"})]}),l.jsx(ge,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:h.map(U=>l.jsx(ve,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>r(`/avances/${U.id}`),children:l.jsx(ge,{className:"p-4",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:U.nombre_proyecto}),l.jsxs(xr,{variant:U.estado==="completado"?"default":"secondary",className:U.estado==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":U.estado==="en_progreso"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"",children:[U.estado==="completado"?l.jsx(ha,{className:"h-3 w-3 mr-1"}):l.jsx(Ri,{className:"h-3 w-3 mr-1"}),U.estado==="completado"?"Completado":U.estado==="en_progreso"?"En Progreso":U.estado]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),l.jsxs("span",{className:"font-bold text-primary",children:[Number(U.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(jy,{value:Number(U.porcentaje_avance),className:"h-2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.caracteristicas_completadas," de"," ",U.total_caracteristicas," caractersticas completadas"]})]})]})})},U.id))})})]})}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Pagos realizados"})}),l.jsx(ge,{children:oe.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Fecha"}),l.jsx(He,{children:"Tipo"}),l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Monto"}),l.jsx(He,{children:"Notas"})]})}),l.jsx(co,{children:oe.map(U=>l.jsxs(Nr,{children:[l.jsx(qe,{children:Xe(U.fecha_de_creacion??U.created_at)}),l.jsx(qe,{className:"text-sm text-muted-foreground",children:U.tipo}),l.jsx(qe,{className:"text-sm",children:U.proyecto??"-"}),l.jsx(qe,{className:"font-medium",children:be(Number(U.monto??0))}),l.jsx(qe,{className:"text-sm text-muted-foreground",children:U.notas??"-"})]},U.id))})]})})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsx(pt,{children:"Pagos vencidos"})}),l.jsx(ge,{children:qn.length===0?l.jsx("div",{className:"text-sm text-muted-foreground",children:"No hay vencimientos"}):l.jsx("div",{className:"overflow-auto max-h-96",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Fecha"}),l.jsx(He,{children:"Tipo"}),l.jsx(He,{children:"Proyecto"}),l.jsx(He,{children:"Monto"})]})}),l.jsx(co,{children:qn.map((U,Oe)=>l.jsxs(Nr,{children:[l.jsx(qe,{children:Xe(U.fecha)}),l.jsx(qe,{className:"text-sm text-muted-foreground",children:U.tipo}),l.jsx(qe,{className:"text-sm",children:U.proyecto??"-"}),l.jsx(qe,{className:"font-medium",children:be(Number(U.monto??0))})]},Oe))})]})})})]})]})]})]}),l.jsx(Ut,{open:v,onOpenChange:U=>{U?S(!0):(S(!1),y(null),O(!1))},children:l.jsxs(Tt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Detalle del contrato"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Proyecto"}),l.jsx("p",{className:"font-medium text-lg",children:(b==null?void 0:b.proyecto)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto total"}),l.jsx("p",{className:"font-semibold text-lg",children:be((b==null?void 0:b.monto_total)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto pagado"}),l.jsx("p",{className:"font-semibold text-lg text-green-600",children:be((b==null?void 0:b.pagos_registrados)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo actual"}),l.jsx("p",{className:"font-semibold text-lg text-primary",children:be((b==null?void 0:b.restante)??0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pago inicial"}),l.jsx("p",{className:"font-medium",children:be((b==null?void 0:b.pago_inicial)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cantidad de pagos"}),l.jsx("p",{className:"font-medium",children:(b==null?void 0:b.cantidad_de_pagos)??"-"})]})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Prximo pago"}),!E&&l.jsx(re,{variant:"outline",size:"sm",onClick:()=>O(!0),children:"Editar"})]}),E?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"datetime-local",value:_??"",onChange:U=>j(U.target.value||null),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:()=>{const U=b!=null&&b.proximo_pago?new Date(b.proximo_pago).toISOString().slice(0,16):"";j(U||null),O(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:()=>M(!0),children:"Guardar cambios"})]})]}):l.jsx("p",{className:"font-medium text-lg",children:b!=null&&b.proximo_pago?Xe(b.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pagos realizados"}),l.jsx("div",{className:"max-h-48 overflow-auto border rounded-md",children:N?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):C.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:C.map(U=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:U.fecha_de_creacion?Xe(U.fecha_de_creacion):Xe(U.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:be(Number(U.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:U.notas??"-"})]},U.id))})]})})]})]}),l.jsx($t,{children:l.jsx(re,{variant:"outline",onClick:()=>{S(!1),y(null),O(!1)},children:"Cerrar"})})]})}),l.jsx(Ut,{open:P,onOpenChange:U=>M(U),children:l.jsxs(Tt,{children:[l.jsxs(kt,{children:[l.jsx(Rt,{children:"Confirmar actualizacin"}),l.jsx(ic,{children:"Ests seguro de que deseas actualizar la fecha del prximo pago?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha actual:"}),l.jsx("p",{className:"font-medium",children:b!=null&&b.proximo_pago?Xe(b.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha:"}),l.jsx("p",{className:"font-medium",children:_?new Date(_).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No establecido"})]})]}),l.jsxs($t,{children:[l.jsx(re,{variant:"outline",onClick:()=>M(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>await Ve(),children:"Confirmar actualizacin"})]})]})}),l.jsx(Ut,{open:z,onOpenChange:U=>{U?T(!0):(T(!1),I(null),K(!1))},children:l.jsxs(Tt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Detalle de Suscripcin"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Proyecto"}),l.jsx("p",{className:"font-medium text-lg",children:(R==null?void 0:R.proyecto)??"-"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Estado"}),l.jsx(xr,{variant:R!=null&&R.is_active?"default":"secondary",children:R!=null&&R.is_active?"Activa":"Pausada"})]}),F?l.jsxs("div",{className:"space-y-4 border rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mensualidad"}),l.jsx("input",{type:"number",step:"0.01",value:J,onChange:U=>se(U.target.value),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Prxima fecha de pago"}),l.jsx("input",{type:"date",value:te,onChange:U=>ae(U.target.value),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{se(String((R==null?void 0:R.mensualidad)??""));const U=R!=null&&R.proxima_fecha_de_pago?new Date(R.proxima_fecha_de_pago).toISOString().slice(0,10):"";ae(U),K(!1)},children:"Cancelar"}),l.jsx(re,{onClick:()=>de(!0),children:"Guardar cambios"})]})]}):l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 border rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensualidad"}),l.jsx("p",{className:"font-semibold text-lg",children:be(Number((R==null?void 0:R.mensualidad)??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"font-semibold text-lg",children:R!=null&&R.proxima_fecha_de_pago?Xe(R.proxima_fecha_de_pago):"No establecido"})]}),l.jsx("div",{className:"col-span-2",children:l.jsx(re,{variant:"outline",size:"sm",onClick:()=>K(!0),children:"Editar"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Pagos realizados"}),l.jsx("div",{className:"max-h-48 overflow-auto border rounded-md",children:G?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):D.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:D.map(U=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:U.fecha_de_creacion?Xe(U.fecha_de_creacion):Xe(U.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:be(Number(U.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:U.notas??"-"})]},U.id))})]})})]})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2 justify-between w-full",children:[l.jsx(re,{variant:R!=null&&R.is_active?"destructive":"default",onClick:ne,children:R!=null&&R.is_active?"Pausar suscripcin":"Reactivar suscripcin"}),l.jsx(re,{variant:"outline",onClick:()=>{T(!1),I(null),K(!1)},children:"Cerrar"})]})})]})}),l.jsx(Ut,{open:Y,onOpenChange:U=>de(U),children:l.jsxs(Tt,{children:[l.jsxs(kt,{children:[l.jsx(Rt,{children:"Confirmar actualizacin"}),l.jsx(ic,{children:"Ests seguro de que deseas actualizar esta suscripcin?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Mensualidad actual:"}),l.jsx("p",{className:"font-medium",children:be(Number((R==null?void 0:R.mensualidad)??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva mensualidad:"}),l.jsx("p",{className:"font-medium",children:be(Number(J??0))})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha de pago:"}),l.jsx("p",{className:"font-medium",children:te?new Date(te).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):"No establecido"})]})]}),l.jsxs($t,{children:[l.jsx(re,{variant:"outline",onClick:()=>de(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>await Q(),children:"Confirmar actualizacin"})]})]})}),l.jsx(Ut,{open:De,onOpenChange:U=>{Ce(U),U||(Ye(null),me(null))},children:l.jsxs(Tt,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(kt,{children:[l.jsx(Rt,{children:"Seleccionar contrato o suscripcin para cobrar"}),l.jsx(ic,{children:"Selecciona un contrato o suscripcin para proceder con el cobro"})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Contratos activos"}),ie.filter(U=>U.estado==="activo").length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-lg",children:"No hay contratos activos"}):l.jsx("div",{className:"space-y-2",children:ie.filter(U=>U.estado==="activo").map(U=>l.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{Ye("contrato"),me(U),Ce(!1),X(!0)},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:U.proyecto??"-"}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Monto total: ",be(Number(U.monto_total??0))]}),l.jsxs("p",{className:"text-sm text-primary font-medium mt-1",children:["Saldo pendiente: ",be(Number(U.restante??0))]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"text-sm font-medium",children:U.proximo_pago?Xe(U.proximo_pago):"-"})]})]})},U.id))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3",children:"Suscripciones activas"}),d.filter(U=>U.is_active).length===0?l.jsx("div",{className:"text-sm text-muted-foreground p-4 border rounded-lg",children:"No hay suscripciones activas"}):l.jsx("div",{className:"space-y-2",children:d.filter(U=>U.is_active).map(U=>{const Oe=new Date,Ne=U.proxima_fecha_de_pago?new Date(U.proxima_fecha_de_pago):null;Oe.setHours(0,0,0,0),Ne&&Ne.setHours(0,0,0,0);const zt=Ne&&Oe>Ne;return l.jsx("div",{className:"border rounded-lg p-4 hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>{Ye("suscripcion"),me(U),Ce(!1),X(!0)},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium",children:U.proyecto??"-"}),l.jsx(xr,{variant:zt?"destructive":"secondary",children:zt?"Vencida":"Al da"})]}),l.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Mensualidad: ",be(Number(U.mensualidad??0))]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Prximo pago"}),l.jsx("p",{className:"text-sm font-medium",children:U.proxima_fecha_de_pago?Xe(U.proxima_fecha_de_pago):"-"})]})]})},U.id)})})]})]}),l.jsx($t,{children:l.jsx(re,{variant:"outline",onClick:()=>Ce(!1),children:"Cancelar"})})]})}),l.jsx(X4,{open:ue,onOpenChange:U=>{X(U),U||(Ye(null),me(null))},clienteId:n,initialTipo:et||void 0,initialReferencia:W,onCreated:()=>{n&&(ee.from("pagos").select("id,fecha_de_creacion,tipo,proyecto,monto,notas,referencia_id,created_at").eq("cliente",n).order("fecha_de_creacion",{ascending:!1}).then(({data:U})=>{s(Array.isArray(U)?U:[])}),ee.from("contratos").select("id,monto_total,pago_inicial,cantidad_de_pagos,proximo_pago,proyecto,estado,cliente").eq("cliente",n).then(({data:U})=>{u(Array.isArray(U)?U:[])}),ee.from("suscripciones").select("id,mensualidad,proxima_fecha_de_pago,proyecto,is_active,cliente").eq("cliente",n).then(({data:U})=>{f(Array.isArray(U)?U:[])}))}})]}):l.jsx("div",{className:"p-6",children:"ID de cliente no proporcionado."})}function Wje(){const[e,t]=yR("/clientes/proyecto/:id"),r=t==null?void 0:t.id,[n,i]=w.useState(null),[a,o]=w.useState([]),[s,c]=w.useState(!0),[,u]=Aa();return w.useEffect(()=>{async function d(){if(r){c(!0);try{const{data:f,error:h}=await ee.from("proyectos").select("*").eq("id",r).limit(1).single();h||i(f);const[m,g]=await Promise.all([ee.from("contratos").select("cliente,id").eq("proyecto",r),ee.from("suscripciones").select("cliente,id").eq("proyecto",r)]),p=Array.isArray(m.data)?m.data:[],x=Array.isArray(g.data)?g.data:[],b={};p.forEach(S=>{if(!(S!=null&&S.cliente))return;const _=String(S.cliente);b[_]=b[_]??{id:_,tipos:new Set},b[_].tipos.add("contrato")}),x.forEach(S=>{if(!(S!=null&&S.cliente))return;const _=String(S.cliente);b[_]=b[_]??{id:_,tipos:new Set},b[_].tipos.add("suscripcion")});const y=Object.keys(b);if(y.length>0){const{data:S}=await ee.from("clientes").select("id,nombre,telefono,rtn").in("id",y);(Array.isArray(S)?S:[]).forEach(j=>{b[j.id]&&(b[j.id].nombre=j.nombre)})}const v=Object.values(b).map(S=>({id:S.id,nombre:S.nombre??S.id,tipos:Array.from(S.tipos)}));o(v)}catch(f){console.error("Error cargando proyecto detalle:",f)}c(!1)}}d()},[r]),r?l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Detalle de Proyecto"}),l.jsxs("div",{className:"mt-6",children:[s&&l.jsx("p",{children:"Cargando..."}),!s&&!n&&l.jsx("p",{children:"No se encontr el proyecto."}),n&&l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Nombre:"})," ",n.nombre]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Tipo:"})," ",n.tipo??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Correo admin:"})," ",n.correo_administracion??""]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Creacin:"})," ",n.creacion?new Date(n.creacion).toLocaleString():""]})]})})}),a&&a.length>0&&l.jsx("div",{className:"mt-6",children:l.jsx(ve,{children:l.jsxs(ge,{children:[l.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Clientes que adquirieron este proyecto"}),l.jsx("div",{className:"overflow-auto",children:l.jsxs(so,{children:[l.jsx(lo,{children:l.jsxs(Nr,{children:[l.jsx(He,{children:"Nombre"}),l.jsx(He,{children:"Acquisicin"}),l.jsx(He,{children:"Accin"})]})}),l.jsx(co,{children:a.map(d=>l.jsxs(Nr,{className:"cursor-pointer",onClick:()=>u(`/clientes/${d.id}`),children:[l.jsx(qe,{children:d.nombre}),l.jsx(qe,{className:"text-sm text-muted-foreground",children:(d.tipos||[]).join(", ")}),l.jsx(qe,{className:"text-sm text-primary",children:"Ver detalle"})]},d.id))})]})})]})})})]})]}):l.jsx("div",{className:"p-6",children:"ID de proyecto no proporcionado."})}function qje(){function e({contract:k,onClick:F}){return k.fecha_de_creacion&&Math.floor((Date.now()-new Date(k.fecha_de_creacion).getTime())/(1e3*60*60*24)),l.jsx(ve,{onClick:F,className:`hover-elevate cursor-pointer ${!k.estado||k.estado!=="activo"?"opacity-70":""}`,children:l.jsxs(ge,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-4 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xs,{className:"h-10 w-10",children:l.jsx(Qs,{className:"bg-primary/10 text-primary text-sm font-medium",children:Xf(String(k.clienteName??k.cliente))})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-semibold truncate",children:k.clienteName}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:k.projectName})]})]}),l.jsx(xr,{className:k.estado==="activo"?"bg-green-500/10 text-green-600":"bg-muted text-muted-foreground",children:k.estado})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Monto total"}),l.jsx("span",{className:"font-semibold",children:be(k.monto_total)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Pagos registrados"}),l.jsx("span",{children:be(k.pagos_registrados)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Valor restante"}),l.jsx("span",{className:"font-semibold text-primary",children:be(k.valor_restante)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Creado"}),l.jsx("span",{className:"text-sm",children:k.fecha_de_creacion?Xe(k.fecha_de_creacion):"-"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-muted-foreground",children:"Prximo pago"}),l.jsx("span",{className:"text-sm",children:k.proximo_pago?Xe(k.proximo_pago):"-"})]})]})]})})}const[t,r]=w.useState(null),[n,i]=w.useState(!1),[a,o]=w.useState(null),[s,c]=w.useState(!1),[u,d]=w.useState(!1),{toast:f}=Sr(),[h,m]=w.useState([]),[g,p]=w.useState(!1),[x,b]=w.useState(!1),[y,v]=w.useState(""),[S,_]=w.useState(!1);function j(k){r(k);let F="";if(k!=null&&k.proximo_pago){const K=Ur(k.proximo_pago);if(K){const J=K.getFullYear(),se=String(K.getMonth()+1).padStart(2,"0"),te=String(K.getDate()).padStart(2,"0"),ae=String(K.getHours()).padStart(2,"0"),Y=String(K.getMinutes()).padStart(2,"0");F=`${J}-${se}-${te}T${ae}:${Y}`}}o(F||null),c(!1),i(!0),E(k==null?void 0:k.id)}async function E(k){if(k)try{p(!0);const{data:F,error:K}=await ee.from("pagos").select("id,fecha_de_creacion,monto,notas,created_at").eq("referencia_id",k).eq("tipo","contrato").order("fecha_de_creacion",{ascending:!1});if(K)throw K;m(Array.isArray(F)?F:[])}catch(F){console.error("Error cargando pagos del contrato:",F),f({title:"Error cargando pagos",description:String(F)}),m([])}finally{p(!1)}}async function O(){if(t)try{const k=a?N1(a):null,{error:F}=await ee.from("contratos").update({proximo_pago:k}).eq("id",t.id);if(F)throw F;f({title:"Prximo pago actualizado"}),St.invalidateQueries({queryKey:["contratos-activos"]}),d(!1),c(!1),r({...t,proximo_pago:k})}catch(k){console.error("Error actualizando prximo pago:",k),f({title:"Error actualizando prximo pago",description:(k==null?void 0:k.message)??String(k)})}}const[P,M]=w.useState({}),[C,$]=w.useState({}),[N,A]=w.useState(""),[R,I]=w.useState("all");w.useEffect(()=>{(async()=>{try{const[k,F]=await Promise.all([ee.from("proyectos").select("id,nombre"),ee.from("clientes").select("id,nombre")]),K=Array.isArray(k.data)?k.data:[],J=Array.isArray(F.data)?F.data:[],se={},te={};K.forEach(ae=>{ae!=null&&ae.id&&(se[ae.id]=ae.nombre??ae.id)}),J.forEach(ae=>{ae!=null&&ae.id&&(te[ae.id]=ae.nombre??ae.id)}),M(se),$(te)}catch(k){console.error("Error cargando meta:",k)}})()},[]);const{data:z,isLoading:T}=_t({queryKey:["contratos-activos"],queryFn:async()=>{const{data:k,error:F}=await ee.from("contratos").select("*").order("fecha_de_creacion",{ascending:!1});if(F)throw F;const K=Array.isArray(k)?k:[];if(K.length===0)return[];const J=K.map(ue=>ue.id).filter(Boolean),{data:se,error:te}=await ee.from("pagos").select("referencia_id,monto,cliente,proyecto").in("referencia_id",J).eq("tipo","contrato");if(te)return console.error("Error cargando pagos para contratos:",te),K;const ae=Array.isArray(se)?se:[],Y={};return ae.forEach(ue=>{if(!ue||!ue.referencia_id)return;const X=String(ue.referencia_id);Y[X]=(Y[X]??0)+Number(ue.monto??0)}),K.map(ue=>{const X=Y[String(ue.id)]??0,De=Number(ue.monto_total??0)-Number(ue.pago_inicial??0)-X;return{...ue,pagos_registrados:X,valor_restante:De}})}}),D=(Array.isArray(z)?z:[]).map(k=>({id:k.id,cliente:k.cliente,proyecto:k.proyecto,monto_total:Number(k.monto_total??0),cantidad_de_pagos:Number(k.cantidad_de_pagos??1),pago_inicial:Number(k.pago_inicial??0),estado:k.estado??"activo",fecha_de_creacion:k.fecha_de_creacion??k.created_at??null,pagos_registrados:Number(k.pagos_registrados??0),valor_restante:Number(k.valor_restante??Number(k.monto_total??0)-Number(k.pago_inicial??0)),proximo_pago:k.proximo_pago??null,clienteName:C[k.cliente]??k.cliente,projectName:P[k.proyecto]??k.proyecto})),H=D.filter(k=>{const F=(String(k.clienteName??"")+" "+String(k.projectName??"")).toLowerCase().includes(N.toLowerCase());let K=!0;return R==="activo"&&(K=k.estado==="activo"),R==="cancelado"&&(K=k.estado==="cancelado"),F&&K}),G={total:D.length,activos:D.filter(k=>k.estado==="activo").length,cancelados:D.filter(k=>k.estado==="cancelado").length,total_restante:D.reduce((k,F)=>k+Number(F.valor_restante??0),0)};return l.jsxs("div",{className:"p-6 lg:p-8",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Contratos Activos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Listado de suscripciones activas (contratos)"})]}),l.jsx("div",{className:"mt-6",children:T?l.jsx(ve,{children:l.jsx(ge,{children:" Cargando... "})}):D.length===0?l.jsx(ve,{children:l.jsx(ge,{children:"No hay contratos activos"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),l.jsx("p",{className:"text-2xl font-bold",children:G.total})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Activos"}),l.jsx("p",{className:"text-2xl font-bold",children:G.activos})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cancelados"}),l.jsx("p",{className:"text-2xl font-bold",children:G.cancelados})]})}),l.jsx(ve,{className:"hover-elevate",children:l.jsxs(ge,{className:"p-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total restante"}),l.jsx("p",{className:"text-2xl font-bold",children:be(G.total_restante)})]})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por cliente o proyecto...",className:"pl-10",value:N,onChange:k=>A(k.target.value)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:R==="all"?"secondary":"ghost",onClick:()=>I("all"),children:"Todas"}),l.jsx(re,{variant:R==="activo"?"secondary":"ghost",onClick:()=>I("activo"),children:"Activas"}),l.jsx(re,{variant:R==="cancelado"?"secondary":"ghost",onClick:()=>I("cancelado"),children:"Canceladas"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(k=>l.jsx(e,{contract:k,onClick:()=>j(k)},k.id))}),l.jsx(Ut,{open:n,onOpenChange:k=>{k?i(!0):(i(!1),r(null))},children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Detalle del contrato"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.clienteName)??"-"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Proyecto"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.projectName)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 p-4 bg-muted/50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto total"}),l.jsx("p",{className:"font-semibold text-lg",children:be((t==null?void 0:t.monto_total)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto pagado"}),l.jsx("p",{className:"font-semibold text-lg text-green-600",children:be((t==null?void 0:t.pagos_registrados)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Saldo actual"}),l.jsx("p",{className:"font-semibold text-lg text-primary",children:be((t==null?void 0:t.valor_restante)??0)})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pago inicial"}),l.jsx("p",{className:"font-medium",children:be((t==null?void 0:t.pago_inicial)??0)})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cantidad de pagos"}),l.jsx("p",{className:"font-medium",children:(t==null?void 0:t.cantidad_de_pagos)??"-"})]})]}),l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Prximo pago"}),!s&&l.jsx(re,{variant:"outline",size:"sm",onClick:()=>c(!0),children:"Editar"})]}),s?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"datetime-local",value:a??"",onChange:k=>o(k.target.value||null),className:"mt-1 block w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{size:"sm",variant:"outline",onClick:()=>{let k="";if(t!=null&&t.proximo_pago){const F=Ur(t.proximo_pago);if(F){const K=F.getFullYear(),J=String(F.getMonth()+1).padStart(2,"0"),se=String(F.getDate()).padStart(2,"0"),te=String(F.getHours()).padStart(2,"0"),ae=String(F.getMinutes()).padStart(2,"0");k=`${K}-${J}-${se}T${te}:${ae}`}}o(k||null),c(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:()=>d(!0),children:"Guardar cambios"})]})]}):l.jsx("p",{className:"font-medium text-lg",children:t!=null&&t.proximo_pago?Xe(t.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Pagos realizados"}),l.jsx("div",{className:"mt-2 max-h-48 overflow-auto border rounded-md",children:g?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"Cargando..."}):h.length===0?l.jsx("div",{className:"p-3 text-sm text-muted-foreground",children:"No hay pagos registrados"}):l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-left",children:[l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Fecha"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Monto"}),l.jsx("th",{className:"px-3 py-2 text-xs text-muted-foreground",children:"Notas"})]})}),l.jsx("tbody",{children:h.map(k=>l.jsxs("tr",{className:"border-t",children:[l.jsx("td",{className:"px-3 py-2 align-top",children:k.fecha_de_creacion?Xe(k.fecha_de_creacion):Xe(k.created_at)}),l.jsx("td",{className:"px-3 py-2 align-top",children:be(Number(k.monto??0))}),l.jsx("td",{className:"px-3 py-2 align-top text-muted-foreground",children:k.notas??"-"})]},k.id))})]})})]})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2 justify-between w-full",children:[l.jsx(re,{variant:"destructive",onClick:()=>b(!0),children:"Anular contrato"}),l.jsx(re,{variant:"outline",onClick:()=>{i(!1),r(null),c(!1)},children:"Cerrar"})]})})]})}),l.jsx(Ut,{open:u,onOpenChange:k=>d(k),children:l.jsxs(Tt,{children:[l.jsxs(kt,{children:[l.jsx(Rt,{children:"Confirmar actualizacin"}),l.jsx(ic,{children:"Ests seguro de que deseas actualizar la fecha del prximo pago?"})]}),l.jsxs("div",{className:"space-y-3 py-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha actual:"}),l.jsx("p",{className:"font-medium",children:t!=null&&t.proximo_pago?Xe(t.proximo_pago):"No establecido"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nueva fecha:"}),l.jsx("p",{className:"font-medium",children:a?new Date(a).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"No establecido"})]})]}),l.jsxs($t,{children:[l.jsx(re,{variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),l.jsx(re,{onClick:async()=>{await O()},children:"Confirmar actualizacin"})]})]})}),l.jsx(Ut,{open:x,onOpenChange:k=>b(k),children:l.jsxs(Tt,{children:[l.jsxs(kt,{children:[l.jsx(Rt,{children:"Confirmar anulacin"}),l.jsx(ic,{children:"Para anular este contrato ingresa la clave de acceso."})]}),l.jsxs("div",{className:"space-y-3 mt-2",children:[l.jsx("label",{className:"block text-sm font-medium",children:"Clave"}),l.jsx("input",{type:"password",value:y,onChange:k=>v(k.target.value),className:"block w-full rounded-md border p-2"})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{b(!1),v("")},children:"Cancelar"}),l.jsx(re,{variant:"destructive",onClick:async()=>{if(t)try{_(!0);const{data:k,error:F}=await ee.from("configuracion").select("clave").limit(1).single();if(F)throw F;const K=(k==null?void 0:k.clave)??null;if(!K){f({title:"No hay clave configurada"});return}if(y!==K){f({title:"Clave incorrecta"});return}const{error:J}=await ee.from("contratos").update({estado:"anulado"}).eq("id",t.id);if(J)throw J;f({title:"Contrato anulado"}),b(!1),i(!1),r(null),v(""),St.invalidateQueries({queryKey:["contratos-activos"]}),St.invalidateQueries({queryKey:["contratos"]})}catch(k){console.error("Error anulando contrato:",k),f({title:"Error anulando contrato",description:(k==null?void 0:k.message)??String(k)})}finally{_(!1)}},children:"Confirmar"})]})})]})})]})})]})}const $j=w.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));$j.displayName="Textarea";function Hje(){const{toast:e}=Sr(),{data:t,isLoading:r}=_t({queryKey:["configuracion"],queryFn:async()=>{const{data:y,error:v}=await ee.from("configuracion").select("*").limit(1);if(v)throw v;return Array.isArray(y)&&y.length>0?y[0]:null}}),[n,i]=w.useState(""),[a,o]=w.useState(""),[s,c]=w.useState(""),[u,d]=w.useState(""),[f,h]=w.useState(""),[m,g]=w.useState(""),[p,x]=w.useState(!1);w.useEffect(()=>{t&&(i(t.nombre??""),o(t.rtn??""),c(t.direccion??""),d(t.proyecto??""),h(t.telefono??""),g(t.clave??""))},[t]);async function b(){try{const y={nombre:n||null,rtn:a||null,direccion:s||null,proyecto:u||null,telefono:f||null,clave:m||null,updated_at:new Date().toISOString()};if(t&&t.id){const{error:v}=await ee.from("configuracion").update(y).eq("id",t.id);if(v)throw v;e({title:"Configuracin guardada"})}else{const{error:v}=await ee.from("configuracion").insert([y]);if(v)throw v;e({title:"Configuracin creada"})}St.invalidateQueries({queryKey:["configuracion"]})}catch(y){console.error("Error guardando configuracin:",y),e({title:"Error guardando configuracin",description:(y==null?void 0:y.message)??String(y)})}}return l.jsx("div",{className:"p-6 lg:p-8",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Xs,{className:"bg-gradient-to-br from-primary/10 to-secondary/10",children:l.jsx(Qs,{children:((t==null?void 0:t.nombre)||"-").charAt(0)})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-semibold",children:"Configuracin"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajustes generales y datos de la organizacin"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(re,{size:"sm",variant:"outline",onClick:()=>x(!0),children:[l.jsx(pO,{className:"w-4 h-4"}),"Editar"]}),l.jsxs(re,{size:"sm",variant:"destructive",onClick:()=>{try{localStorage.removeItem("admon-auth")}catch{}typeof window<"u"&&(window.location.href="/login")},children:[l.jsx(jV,{className:"w-4 h-4"}),"Cerrar sesin"]})]})]}),l.jsxs(ve,{className:"overflow-hidden",children:[l.jsxs(ht,{children:[l.jsx(pt,{children:"Datos"}),l.jsx(tM,{children:"Informacin que aparece en facturas y documentos."})]}),l.jsxs(ge,{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"md:col-span-2 space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between bg-muted/40 rounded-lg p-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Nombre"}),l.jsx("p",{className:"font-medium text-lg",children:(t==null?void 0:t.nombre)??"-"})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:["RTN ",l.jsx("div",{className:"font-medium",children:(t==null?void 0:t.rtn)??"-"})]})]}),l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(EV,{className:"w-4 h-4"})," Direccin"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.direccion)??"-"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(_V,{className:"w-4 h-4"})," Proyecto"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.proyecto)??"-"})]}),l.jsxs("div",{className:"bg-muted/40 rounded-lg p-4",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(AV,{className:"w-4 h-4"})," Telfono"]}),l.jsx("p",{className:"font-medium mt-1",children:(t==null?void 0:t.telefono)??"-"})]})]})]}),l.jsxs("aside",{className:"space-y-4",children:[l.jsxs("div",{className:"rounded-lg bg-gradient-to-br from-white/60 to-muted/10 p-4 shadow-sm",children:[l.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[l.jsx(Ri,{className:"w-4 h-4"})," ltima actualizacin"]}),l.jsx("p",{className:"font-medium mt-1",children:t&&t.updated_at?Xe(t.updated_at):"-"})]}),l.jsx("div",{className:"rounded-lg p-4 border border-border flex flex-col gap-2",children:l.jsxs(re,{size:"sm",onClick:()=>x(!0),children:[l.jsx(pO,{className:"w-4 h-4"}),"Editar datos"]})})]})]})]}),l.jsx(Ut,{open:p,onOpenChange:x,children:l.jsxs(Tt,{children:[l.jsx(kt,{children:l.jsx(Rt,{children:"Editar configuracin"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nombre"}),l.jsx(Ue,{value:n,onChange:y=>i(y.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"RTN"}),l.jsx(Ue,{value:a,onChange:y=>o(y.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Direccin"}),l.jsx($j,{value:s,onChange:y=>c(y.target.value)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Proyecto"}),l.jsx(Ue,{value:u,onChange:y=>d(y.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telfono"}),l.jsx(Ue,{value:f,onChange:y=>h(y.target.value)})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Clave"}),l.jsx(Ue,{type:"password",value:m,onChange:y=>g(y.target.value)})]})]}),l.jsx($t,{children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx(re,{variant:"outline",size:"sm",onClick:()=>{t?(i(t.nombre??""),o(t.rtn??""),c(t.direccion??""),d(t.proyecto??""),h(t.telefono??""),g(t.clave??"")):(i(""),o(""),c(""),d(""),h(""),g("")),x(!1)},children:"Cancelar"}),l.jsx(re,{size:"sm",onClick:async()=>{await b(),x(!1)},children:"Guardar"})]})})]})})]})})}function Kje(){const[e,t]=w.useState(""),[r,n]=w.useState("todos"),[i,a]=w.useState(!1),[o,s]=w.useState(""),[c,u]=w.useState(""),[d,f]=w.useState(""),[h,m]=w.useState(""),[g,p]=w.useState([{nombre:"",descripcion:""}]),{toast:x}=Sr(),b=Yv(),[,y]=Aa();w.useEffect(()=>{u("")},[o]);const{data:v,isLoading:S}=_t({queryKey:["avances"],queryFn:async()=>{const{data:I,error:z}=await ee.from("avances").select("*").order("fecha_creacion",{ascending:!1});if(z)throw z;if(!I||I.length===0)return[];const T=[...new Set(I.map(G=>G.cliente_id))];[...new Set(I.map(G=>G.contrato_id))];const{data:D}=await ee.from("clientes").select("id, nombre").in("id",T),H={};return(D||[]).forEach(G=>{H[G.id]=G.nombre}),I.map(G=>({...G,cliente_nombre:H[G.cliente_id]||"Sin cliente",contrato_nombre:G.nombre_proyecto||"Sin proyecto"}))}}),{data:_}=_t({queryKey:["clientes-avances"],queryFn:async()=>{const{data:I,error:z}=await ee.from("clientes").select("id, nombre").order("nombre");if(z)throw z;return I}}),{data:j}=_t({queryKey:["contratos-avances",o],queryFn:async()=>{if(!o)return[];const{data:I,error:z}=await ee.from("contratos").select("id, proyecto").eq("cliente",o).eq("estado","activo");if(z)throw z;if(!I||I.length===0)return[];const T=I.map(k=>k.proyecto),{data:D,error:H}=await ee.from("proyectos").select("id, nombre").in("id",T);if(H)throw H;const G={};return(D||[]).forEach(k=>{G[k.id]=k.nombre}),I.map(k=>({id:k.id,proyecto:k.proyecto,proyecto_nombre:G[k.proyecto]||"Sin nombre"}))},enabled:!!o}),E=Yl({mutationFn:async I=>{const{data:z,error:T}=await ee.from("avances").insert(I).select().single();if(T)throw T;return z},onSuccess:async I=>{const z=g.filter(T=>T.nombre.trim()!=="").map((T,D)=>({avance_id:I.id,nombre:T.nombre,descripcion:T.descripcion||null,orden:D+1}));if(z.length>0){const{error:T}=await ee.from("avances_caracteristicas").insert(z);T&&x({title:"Error al guardar caractersticas",description:T.message,variant:"destructive"})}b.invalidateQueries({queryKey:["avances"]}),x({title:"Proyecto creado",description:"El proyecto se ha creado exitosamente"}),O()},onError:I=>{x({title:"Error al crear proyecto",description:I.message,variant:"destructive"})}}),O=()=>{a(!1),s(""),u(""),f(""),m(""),p([{nombre:"",descripcion:""}])},P=()=>{p([...g,{nombre:"",descripcion:""}])},M=I=>{g.length>1&&p(g.filter((z,T)=>T!==I))},C=(I,z,T)=>{const D=[...g];D[I][z]=T,p(D)},$=()=>{if(!o||!c||!d.trim()){x({title:"Campos requeridos",description:"Por favor completa todos los campos obligatorios",variant:"destructive"});return}if(g.filter(I=>I.nombre.trim()!=="").length===0){x({title:"Caractersticas requeridas",description:"Debes agregar al menos una caracterstica",variant:"destructive"});return}E.mutate({cliente_id:o,contrato_id:c,nombre_proyecto:d,descripcion:h||null})},N=v==null?void 0:v.filter(I=>{const z=I.nombre_proyecto.toLowerCase().includes(e.toLowerCase())||I.cliente_nombre.toLowerCase().includes(e.toLowerCase())||I.contrato_nombre.toLowerCase().includes(e.toLowerCase()),T=r==="todos"||I.estado===r;return z&&T}),A={total:(v==null?void 0:v.length)||0,enProgreso:(v==null?void 0:v.filter(I=>I.estado==="en_progreso").length)||0,completados:(v==null?void 0:v.filter(I=>I.estado==="completado").length)||0,promedioAvance:v&&v.length>0?v.reduce((I,z)=>I+Number(z.porcentaje_avance),0)/v.length:0},R=I=>{const z={en_progreso:{variant:"default",icon:Ri,label:"En Progreso"},completado:{variant:"default",icon:ha,label:"Completado"},pausado:{variant:"secondary",icon:c2,label:"Pausado"},cancelado:{variant:"destructive",icon:rg,label:"Cancelado"}},T=z[I]||z.en_progreso,D=T.icon;return l.jsxs(xr,{variant:T.variant,className:I==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":I==="en_progreso"?"bg-blue-500/10 text-blue-600 dark:text-blue-400":"",children:[l.jsx(D,{className:"h-3 w-3 mr-1"}),T.label]})};return l.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:"Avances de Proyectos"}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Gestiona y da seguimiento a tus proyectos en desarrollo"})]}),l.jsxs(re,{onClick:()=>a(!0),size:"lg",children:[l.jsx(nx,{className:"h-4 w-4 mr-2"}),"Crear Proyecto"]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(ve,{className:"bg-gradient-to-br from-blue-500/10 to-blue-500/5",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:l.jsx(jo,{className:"h-6 w-6 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:A.total}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Proyectos"})]})]})})}),l.jsx(ve,{className:"bg-gradient-to-br from-orange-500/10 to-orange-500/5",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-orange-500/20 flex items-center justify-center",children:l.jsx(Ri,{className:"h-6 w-6 text-orange-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:A.enProgreso}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"En Progreso"})]})]})})}),l.jsx(ve,{className:"bg-gradient-to-br from-green-500/10 to-green-500/5",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-green-500/20 flex items-center justify-center",children:l.jsx(ha,{className:"h-6 w-6 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:A.completados}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Completados"})]})]})})}),l.jsx(ve,{className:"bg-gradient-to-br from-purple-500/10 to-purple-500/5",children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-purple-500/20 flex items-center justify-center",children:l.jsx(jo,{className:"h-6 w-6 text-purple-500"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-2xl font-bold",children:[A.promedioAvance.toFixed(0),"%"]}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Avance Promedio"})]})]})})})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(ko,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(Ue,{placeholder:"Buscar por proyecto, cliente...",value:e,onChange:I=>t(I.target.value),className:"pl-10"})]}),l.jsxs(Ui,{value:r,onValueChange:n,children:[l.jsx(hi,{className:"w-full sm:w-[200px]",children:l.jsx(zi,{placeholder:"Todos los estados"})}),l.jsxs(pi,{children:[l.jsx(Ct,{value:"todos",children:"Todos los estados"}),l.jsx(Ct,{value:"en_progreso",children:"En Progreso"}),l.jsx(Ct,{value:"completado",children:"Completados"}),l.jsx(Ct,{value:"pausado",children:"Pausados"}),l.jsx(Ct,{value:"cancelado",children:"Cancelados"})]})]})]}),S?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(I=>l.jsx(ve,{className:"animate-pulse",children:l.jsx(ge,{className:"p-6",children:l.jsx("div",{className:"h-24 bg-muted rounded"})})},I))}):N&&N.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(I=>l.jsxs(ve,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>y(`/avances/${I.id}`),children:[l.jsx(ht,{children:l.jsxs("div",{className:"flex items-start justify-between gap-2",children:[l.jsx(pt,{className:"text-lg line-clamp-2",children:I.nombre_proyecto}),R(I.estado)]})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Cliente"}),l.jsx("span",{className:"font-medium",children:I.cliente_nombre})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Contrato"}),l.jsx("span",{className:"font-medium truncate ml-2",children:I.contrato_nombre})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Progreso"}),l.jsxs("span",{className:"font-bold text-primary",children:[Number(I.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(jy,{value:Number(I.porcentaje_avance),className:"h-2"}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[I.caracteristicas_completadas," de"," ",I.total_caracteristicas," caractersticas completadas"]})]}),I.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:I.descripcion})]})]},I.id))}):l.jsx(ve,{children:l.jsxs(ge,{className:"p-12 text-center",children:[l.jsx(Ri,{className:"h-16 w-16 mx-auto text-muted-foreground/50 mb-4"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No hay proyectos"}),l.jsx("p",{className:"text-muted-foreground mb-4",children:e?"No se encontraron proyectos con esos criterios":"Comienza creando tu primer proyecto en desarrollo"}),!e&&l.jsxs(re,{onClick:()=>a(!0),children:[l.jsx(nx,{className:"h-4 w-4 mr-2"}),"Crear Proyecto"]})]})}),l.jsx(Ut,{open:i,onOpenChange:a,children:l.jsxs(Tt,{className:"max-w-[95vw] md:max-w-3xl max-h-[90vh] overflow-y-auto",children:[l.jsx(kt,{children:l.jsx(Rt,{className:"text-xl",children:"Crear Nuevo Proyecto"})}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oa,{htmlFor:"cliente",children:["Cliente ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Ui,{value:o,onValueChange:s,children:[l.jsx(hi,{id:"cliente",children:l.jsx(zi,{placeholder:"Selecciona un cliente"})}),l.jsx(pi,{children:_==null?void 0:_.map(I=>l.jsx(Ct,{value:I.id,children:I.nombre},I.id))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oa,{htmlFor:"contrato",children:["Proyecto / Contrato ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(Ui,{value:c,onValueChange:u,disabled:!o,children:[l.jsx(hi,{id:"contrato",children:l.jsx(zi,{placeholder:o?j&&j.length===0?"No hay contratos disponibles":"Selecciona un proyecto":"Primero selecciona un cliente"})}),l.jsx(pi,{children:j&&j.length>0?j.map(I=>l.jsx(Ct,{value:I.id,children:I.proyecto_nombre||"Sin nombre"},I.id)):l.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No hay contratos para este cliente"})})]}),o&&j&&j.length===0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:"Este cliente no tiene contratos activos. Crea uno primero en la seccin de Contratos."})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(oa,{htmlFor:"nombre",children:["Nombre del Proyecto ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Ue,{id:"nombre",value:d,onChange:I=>f(I.target.value),placeholder:"Ej: Sistema de Gestin Administrativa"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(oa,{htmlFor:"descripcion",children:"Descripcin"}),l.jsx($j,{id:"descripcion",value:h,onChange:I=>m(I.target.value),placeholder:"Descripcin opcional del proyecto...",rows:3})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(oa,{children:["Caractersticas ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:P,children:[l.jsx(nx,{className:"h-4 w-4 mr-2"}),"Agregar"]})]}),l.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2",children:g.map((I,z)=>l.jsx(ve,{className:"p-4",children:l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsxs("div",{className:"flex-1 space-y-2",children:[l.jsx(Ue,{placeholder:`Caracterstica ${z+1}`,value:I.nombre,onChange:T=>C(z,"nombre",T.target.value)}),l.jsx(Ue,{placeholder:"Descripcin opcional",value:I.descripcion,onChange:T=>C(z,"descripcion",T.target.value)})]}),g.length>1&&l.jsx(re,{type:"button",variant:"ghost",size:"icon",onClick:()=>M(z),children:l.jsx(RV,{className:"h-4 w-4 text-destructive"})})]})})},z))})]})]}),l.jsxs($t,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:O,className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:$,disabled:E.isPending,className:"w-full sm:w-auto",children:E.isPending?"Creando...":"Crear Proyecto"})]})]})})]})}var Rj="Checkbox",[Gje,SEe]=an(Rj),[Yje,Xje]=Gje(Rj),AU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:s,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=w.useState(null),g=Je(t,S=>m(S)),p=w.useRef(!1),x=h?d||!!h.closest("form"):!0,[b=!1,y]=Vi({prop:i,defaultProp:a,onChange:u}),v=w.useRef(b);return w.useEffect(()=>{const S=h==null?void 0:h.form;if(S){const _=()=>y(v.current);return S.addEventListener("reset",_),()=>S.removeEventListener("reset",_)}},[h,y]),l.jsxs(Yje,{scope:r,state:b,disabled:s,children:[l.jsx(je.button,{type:"button",role:"checkbox","aria-checked":bo(b)?"mixed":b,"aria-required":o,"data-state":TU(b),"data-disabled":s?"":void 0,disabled:s,value:c,...f,ref:g,onKeyDown:pe(e.onKeyDown,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:pe(e.onClick,S=>{y(_=>bo(_)?!0:!_),x&&(p.current=S.isPropagationStopped(),p.current||S.stopPropagation())})}),x&&l.jsx(Qje,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:s,form:d,style:{transform:"translateX(-100%)"},defaultChecked:bo(a)?!1:a})]})});AU.displayName=Rj;var NU="CheckboxIndicator",CU=w.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,a=Xje(NU,r);return l.jsx(on,{present:n||bo(a.state)||a.state===!0,children:l.jsx(je.span,{"data-state":TU(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});CU.displayName=NU;var Qje=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:i,...a}=e,o=w.useRef(null),s=d4(r),c=k2(t);w.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(s!==r&&m){const g=new Event("click",{bubbles:n});d.indeterminate=bo(r),m.call(d,bo(r)?!1:r),d.dispatchEvent(g)}},[s,r,n]);const u=w.useRef(bo(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bo(e){return e==="indeterminate"}function TU(e){return bo(e)?"indeterminate":e?"checked":"unchecked"}var kU=AU,Jje=CU;const $U=w.forwardRef(({className:e,...t},r)=>l.jsx(kU,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(Jje,{className:he("flex items-center justify-center text-current"),children:l.jsx(Yf,{className:"h-4 w-4"})})}));$U.displayName=kU.displayName;function Zje(){const t=gR().id,[,r]=Aa(),{toast:n}=Sr(),i=Yv(),[a,o]=w.useState(!1),[s,c]=w.useState([]),[u,d]=w.useState(""),{data:f,isLoading:h}=_t({queryKey:["avance-detalle",t],queryFn:async()=>{const{data:v,error:S}=await ee.from("avances").select("*").eq("id",t).single();if(S)throw S;const{data:_}=await ee.from("clientes").select("nombre").eq("id",v.cliente_id).single(),{data:j,error:E}=await ee.from("avances_caracteristicas").select("*").eq("avance_id",t).order("orden");if(E)throw E;return{...v,cliente_nombre:(_==null?void 0:_.nombre)||"Sin cliente",contrato_nombre:v.nombre_proyecto||"Sin proyecto",caracteristicas:j||[]}},enabled:!!t}),m=Yl({mutationFn:async v=>{const S=v.map(E=>ee.from("avances_caracteristicas").update({completada:!0,fecha_completado:new Date().toISOString()}).eq("id",E).eq("completada",!1)),_=await Promise.all(S),j=_.filter(E=>E.error);if(j.length>0)throw j[0].error;return _},onSuccess:()=>{i.invalidateQueries({queryKey:["avance-detalle",t]}),i.invalidateQueries({queryKey:["avances"]}),n({title:"Avance registrado",description:"Las caractersticas han sido marcadas como completadas"}),o(!1),c([]),d("")},onError:v=>{n({title:"Error al registrar avance",description:v.message,variant:"destructive"})}}),g=()=>{c([]),o(!0)},p=v=>{c(S=>S.includes(v)?S.filter(_=>_!==v):[...S,v])},x=async()=>{if(s.length===0){n({title:"Selecciona caractersticas",description:"Debes seleccionar al menos una caracterstica",variant:"destructive"});return}try{const{data:v,error:S}=await ee.from("configuracion").select("clave").limit(1).single();if(S){n({title:"Error al verificar contrasea",description:S.message,variant:"destructive"});return}const _=v==null?void 0:v.clave;if(!_){n({title:"Contrasea no configurada",description:"Por favor configura una contrasea en Configuracin",variant:"destructive"});return}if(u!==_){n({title:"Contrasea incorrecta",description:"La contrasea ingresada no es vlida",variant:"destructive"});return}await m.mutateAsync(s)}catch(v){n({title:"Error",description:(v==null?void 0:v.message)||"Error al validar contrasea",variant:"destructive"})}};if(h)return l.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:l.jsxs("div",{className:"animate-pulse space-y-6",children:[l.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"h-32 bg-muted rounded"}),l.jsx("div",{className:"h-32 bg-muted rounded"}),l.jsx("div",{className:"h-32 bg-muted rounded"})]}),l.jsx("div",{className:"h-96 bg-muted rounded"})]})});if(!f)return l.jsx("div",{className:"p-4 md:p-6 lg:p-8",children:l.jsx(ve,{children:l.jsxs(ge,{className:"p-12 text-center",children:[l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Proyecto no encontrado"}),l.jsxs(re,{onClick:()=>r("/avances"),className:"mt-4",children:[l.jsx(hO,{className:"h-4 w-4 mr-2"}),"Volver a Avances"]})]})})});const b=f.caracteristicas.filter(v=>!v.completada),y=f.caracteristicas.filter(v=>v.completada);return l.jsxs("div",{className:"p-4 md:p-6 lg:p-8 space-y-6",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>r("/avances"),className:"mb-2 -ml-2",children:[l.jsx(hO,{className:"h-4 w-4 mr-2"}),"Volver"]}),l.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:f.nombre_proyecto}),l.jsx("p",{className:"text-muted-foreground",children:f.descripcion})]}),b.length>0&&l.jsxs(re,{size:"lg",onClick:g,children:[l.jsx(CV,{className:"h-4 w-4 mr-2"}),"Registrar Avance"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-500/20 flex items-center justify-center",children:l.jsx(MV,{className:"h-5 w-5 text-blue-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),l.jsx("p",{className:"font-semibold",children:f.cliente_nombre})]})]})})}),l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-purple-500/20 flex items-center justify-center",children:l.jsx(m0,{className:"h-5 w-5 text-purple-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Contrato"}),l.jsx("p",{className:"font-semibold truncate",children:f.contrato_nombre})]})]})})}),l.jsx(ve,{children:l.jsx(ge,{className:"p-6",children:l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-500/20 flex items-center justify-center",children:l.jsx(o2,{className:"h-5 w-5 text-green-500"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha Creacin"}),l.jsx("p",{className:"font-semibold",children:Xe(f.fecha_creacion)})]})]})})})]}),l.jsxs(ve,{className:"bg-gradient-to-br from-primary/10 to-primary/5",children:[l.jsx(ht,{children:l.jsxs(pt,{className:"flex items-center gap-2",children:[l.jsx(jo,{className:"h-5 w-5"}),"Progreso del Proyecto"]})}),l.jsxs(ge,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-muted-foreground",children:"Porcentaje de Avance"}),l.jsxs("span",{className:"text-3xl font-bold text-primary",children:[Number(f.porcentaje_avance).toFixed(0),"%"]})]}),l.jsx(jy,{value:Number(f.porcentaje_avance),className:"h-4"}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsxs("span",{className:"text-muted-foreground",children:[f.caracteristicas_completadas," de"," ",f.total_caracteristicas," caractersticas completadas"]}),l.jsx(xr,{variant:f.estado==="completado"?"default":"secondary",className:f.estado==="completado"?"bg-green-500/10 text-green-600 dark:text-green-400":"",children:f.estado==="completado"?l.jsxs(l.Fragment,{children:[l.jsx(ha,{className:"h-3 w-3 mr-1"}),"Completado"]}):l.jsxs(l.Fragment,{children:[l.jsx(Ri,{className:"h-3 w-3 mr-1"}),"En Progreso"]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsxs(pt,{className:"flex items-center gap-2",children:[l.jsx(h0,{className:"h-5 w-5 text-orange-500"}),"Caractersticas Pendientes (",b.length,")"]})}),l.jsx(ge,{children:b.length>0?l.jsx("div",{className:"space-y-3",children:b.map(v=>l.jsx("div",{className:"p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(h0,{className:"h-5 w-5 text-orange-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:v.nombre}),v.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.descripcion})]})]})},v.id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Todas las caractersticas han sido completadas!"})})]}),l.jsxs(ve,{children:[l.jsx(ht,{children:l.jsxs(pt,{className:"flex items-center gap-2",children:[l.jsx(ha,{className:"h-5 w-5 text-green-500"}),"Caractersticas Completadas (",y.length,")"]})}),l.jsx(ge,{children:y.length>0?l.jsx("div",{className:"space-y-3",children:y.map(v=>l.jsx("div",{className:"p-4 border rounded-lg bg-green-500/5",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ha,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium line-through text-muted-foreground",children:v.nombre}),v.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.descripcion}),v.fecha_completado&&l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Completada: ",gW(v.fecha_completado)]})]})]})},v.id))}):l.jsx("p",{className:"text-center text-muted-foreground py-8",children:"An no hay caractersticas completadas"})})]})]}),l.jsx(Ut,{open:a,onOpenChange:o,children:l.jsxs(Tt,{className:"max-w-[95vw] md:max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsx(kt,{children:l.jsx(Rt,{className:"text-xl",children:"Registrar Avance"})}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona las caractersticas que has completado. Una vez marcadas, no podrn desmarcarse."}),l.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:b.map(v=>l.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[l.jsx($U,{id:v.id,checked:s.includes(v.id),onCheckedChange:()=>p(v.id),className:"mt-1"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx(oa,{htmlFor:v.id,className:"font-medium cursor-pointer",children:v.nombre}),v.descripcion&&l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:v.descripcion})]})]},v.id))}),l.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[l.jsxs(oa,{htmlFor:"password",children:["Contrasea de Administrador"," ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx(Ue,{id:"password",type:"password",value:u,onChange:v=>d(v.target.value),placeholder:"Ingresa tu contrasea",onKeyDown:v=>{v.key==="Enter"&&x()}})]})]}),l.jsxs($t,{className:"flex-col sm:flex-row gap-2",children:[l.jsx(re,{variant:"outline",onClick:()=>{o(!1),c([]),d("")},className:"w-full sm:w-auto",children:"Cancelar"}),l.jsx(re,{onClick:x,disabled:s.length===0||!u||m.isPending,className:"w-full sm:w-auto",children:m.isPending?"Guardando...":"Confirmar Avance"})]})]})})]})}function eEe(){return l.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:l.jsx(ve,{className:"w-full max-w-md mx-4",children:l.jsxs(ge,{className:"pt-6",children:[l.jsxs("div",{className:"flex mb-4 gap-2",children:[l.jsx(xV,{className:"h-8 w-8 text-red-500"}),l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),l.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function tEe({onSuccess:e}){const{toast:t}=Sr(),[r,n]=w.useState(""),[i,a]=w.useState(!1),[,o]=Aa();async function s(){try{a(!0);const{data:c,error:u}=await ee.from("configuracion").select("clave").limit(1).single();if(u)throw u;const d=(c==null?void 0:c.clave)??null;if(!d){t({title:"No hay clave configurada"});return}if(r===d){localStorage.setItem("admon-auth","true"),t({title:"Acceso concedido"}),e==null||e();try{o("/")}catch{window.location.href="/"}}else t({title:"Clave incorrecta"})}catch(c){console.error("Error comprobando clave:",c),t({title:"Error comprobando clave",description:c==null?void 0:c.message})}finally{a(!1)}}return l.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 p-4",children:l.jsx("div",{className:"w-full max-w-md",children:l.jsx(ve,{className:"bg-slate-800 text-white border-transparent",children:l.jsxs(ge,{children:[l.jsx("div",{className:"flex flex-col items-center",children:l.jsx("img",{src:"/vsr.png",alt:"Visonixro",className:"h-16 w-16 object-contain mb-3"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1 text-center",children:"Clave"}),l.jsx(Ue,{type:"password",value:r,onChange:c=>n(c.target.value),className:"text-black placeholder:text-gray-400 bg-white",style:{color:"#000"}})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(re,{onClick:s,disabled:i,className:"w-40",children:i?"Comprobando...":"Entrar"})})]})]})})})})}function rEe(){return l.jsxs(I6,{children:[l.jsx(Rr,{path:"/",component:Zwe}),l.jsx(Rr,{path:"/clientes/proyecto/ventas",component:Ije}),l.jsx(Rr,{path:"/clientes/proyecto/:id",component:Wje}),l.jsx(Rr,{path:"/clientes/proyecto",component:$je}),l.jsx(Rr,{path:"/clientes/:id",component:Vje}),l.jsx(Rr,{path:"/clientes",component:T_e}),l.jsx(Rr,{path:"/contratos-activos",component:qje}),l.jsx(Rr,{path:"/configuracion",component:Hje}),l.jsx(Rr,{path:"/pagos",component:FSe}),l.jsx(Rr,{path:"/pagos/estado-de-cuentas",component:Tje}),l.jsx(Rr,{path:"/suscripciones",component:WSe}),l.jsx(Rr,{path:"/estadisticas",component:kje}),l.jsx(Rr,{path:"/avances/:id",component:Zje}),l.jsx(Rr,{path:"/avances",component:Kje}),l.jsx(Rr,{component:eEe})]})}function nEe(){const[e,t]=w.useState(null);if(w.useEffect(()=>{try{const n=localStorage.getItem("admon-auth");t(n==="true")}catch{t(!1)}},[]),e===null)return null;if(!e)return l.jsx(tEe,{onSuccess:()=>t(!0)});const r={"--sidebar-width":"16rem","--sidebar-width-icon":"3.5rem"};return l.jsx(t8,{client:St,children:l.jsx(Qq,{defaultTheme:"light",storageKey:"visonixro-theme",children:l.jsxs(X2,{children:[l.jsx(bK,{style:r,children:l.jsxs("div",{className:"flex h-screen w-full",children:[l.jsx(TK,{}),l.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[l.jsxs("header",{className:"flex items-center justify-between gap-4 px-4 py-3 border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-50",children:[l.jsx(_K,{"data-testid":"button-sidebar-toggle"}),l.jsx(eH,{})]}),l.jsx("main",{className:"flex-1 overflow-auto",children:l.jsx(rEe,{})})]})]})}),l.jsx(wW,{})]})})})}sR(document.getElementById("root")).render(l.jsx(nEe,{}));typeof window<"u"&&"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(t=>{console.log("Service worker registered:",t.scope)}).catch(t=>{console.warn("Service worker registration failed:",t)})});
